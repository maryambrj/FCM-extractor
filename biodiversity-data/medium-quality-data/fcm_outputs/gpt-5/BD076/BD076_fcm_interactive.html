
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Conservation Engagement": {"concepts": "fishing communities, salish sea ecology, underwater cleanup, invasive seaweed, marine environment, understory seaweed, ocean warming, gulf coast, sea cucumber, sunflower sea stars, marine mammals, marine biodiversity, salmon stock, sunflower sea star, scripps institution of oceanography, river ecosystems, shoreline access, sea lions, killer whales, salmon, ratfish, seaweed research, killer whale conservation, sea star wasting, dam removal, cold water diving, marine preserve, marine pollution, seaweed ecosystems, salmon stock depletion, coastal biodiversity, rockfish, urchin barrens, climate change, salish sea diver, sea star wasting disease, seadoc society, rocky reef, wildlife veterinarian, shoreline ecosystems, sunflower sea star reintroduction, california sea cucumber, west seattle, warming water, sea lion, overfishing, sea cucumbers, sea star die-off, purple sea urchins", "concept_list": ["fishing communities", "salish sea ecology", "underwater cleanup", "invasive seaweed", "marine environment", "understory seaweed", "ocean warming", "gulf coast", "sea cucumber", "sunflower sea stars", "marine mammals", "marine biodiversity", "salmon stock", "sunflower sea star", "scripps institution of oceanography", "river ecosystems", "shoreline access", "sea lions", "killer whales", "salmon", "ratfish", "seaweed research", "killer whale conservation", "sea star wasting", "dam removal", "cold water diving", "marine preserve", "marine pollution", "seaweed ecosystems", "salmon stock depletion", "coastal biodiversity", "rockfish", "urchin barrens", "climate change", "salish sea diver", "sea star wasting disease", "seadoc society", "rocky reef", "wildlife veterinarian", "shoreline ecosystems", "sunflower sea star reintroduction", "california sea cucumber", "west seattle", "warming water", "sea lion", "overfishing", "sea cucumbers", "sea star die-off", "purple sea urchins"], "type": "cluster", "node_size": 162, "label": "Conservation Engagement"}, "Biodiversity Protection": {"concepts": "sargassum, personal passion, tourism, preservation, stakeholder engagement, aaus training, water taxi pier, social ecological system, padi, ecosystem, smithsonian, wolf eel, educational media, environmental policy, des moines, chimera, dive shop, university of washington, giant pacific octopus, nonprofit partnership, resource managers, kelp die-off, predator loss, ecosystem damage, ecological dynamics, nature assessment, nudibranch observation, kelp research, tourism industry, friday harbor labs, state agencies, national nature assessment, clown dorid, business impact, workshop setting, healthy ecosystems, diving access, community members, livelihood, predator prey dynamics, environmental management, environmental education, eelgrass, seal, collaborative discussion, environmental focus, chesapeake, puget sound, practitioners, seals, white house, bureaucracy, science grants, food web, ecosystem health, kelp restoration, health restoration, environmental variables, the nature conservancy, dive community, pollution impacts, environmental regulation, certified divers, communications, uc davis, nudibranchs, scuba instructor, population management, northeastern university, collaborations, himalayan blackberry, interdisciplinary masters, educational materials, pollution, padi certification, case studies, university of south alabama, policy, volunteer divers, kelp, conservation, trophic cascade, social science, management decisions, lab science, researchers, case study, orca, local environment, english ivy, nudibranch, interdisciplinary social science, policy landscape, livelihoods, healthy ecosystem, resident orca population, sr3, predator-prey dynamics, diving tourism, orcas", "concept_list": ["sargassum", "personal passion", "tourism", "preservation", "stakeholder engagement", "aaus training", "water taxi pier", "social ecological system", "padi", "ecosystem", "smithsonian", "wolf eel", "educational media", "environmental policy", "des moines", "chimera", "dive shop", "university of washington", "giant pacific octopus", "nonprofit partnership", "resource managers", "kelp die-off", "predator loss", "ecosystem damage", "ecological dynamics", "nature assessment", "nudibranch observation", "kelp research", "tourism industry", "friday harbor labs", "state agencies", "national nature assessment", "clown dorid", "business impact", "workshop setting", "healthy ecosystems", "diving access", "community members", "livelihood", "predator prey dynamics", "environmental management", "environmental education", "eelgrass", "seal", "collaborative discussion", "environmental focus", "chesapeake", "puget sound", "practitioners", "seals", "white house", "bureaucracy", "science grants", "food web", "ecosystem health", "kelp restoration", "health restoration", "environmental variables", "the nature conservancy", "dive community", "pollution impacts", "environmental regulation", "certified divers", "communications", "uc davis", "nudibranchs", "scuba instructor", "population management", "northeastern university", "collaborations", "himalayan blackberry", "interdisciplinary masters", "educational materials", "pollution", "padi certification", "case studies", "university of south alabama", "policy", "volunteer divers", "kelp", "conservation", "trophic cascade", "social science", "management decisions", "lab science", "researchers", "case study", "orca", "local environment", "english ivy", "nudibranch", "interdisciplinary social science", "policy landscape", "livelihoods", "healthy ecosystem", "resident orca population", "sr3", "predator-prey dynamics", "diving tourism", "orcas"], "type": "cluster", "node_size": 315, "label": "Biodiversity Protection"}, "Marine Ecology": {"concepts": "biodiversity services, endangered species, conservation policy, species variety, habitat, kelp forest restoration, native species, invasive species control, species biodiversity, biodiversity management, invasive species, foundational species, southern resident orcas, habitat forming species, biodiversity, non-native species, species spread, conservation coordinator, kelp forests, kelp forest, species of conservation concern, habitat creep, biodiversity loss, endangered species policy", "concept_list": ["biodiversity services", "endangered species", "conservation policy", "species variety", "habitat", "kelp forest restoration", "native species", "invasive species control", "species biodiversity", "biodiversity management", "invasive species", "foundational species", "southern resident orcas", "habitat forming species", "biodiversity", "non-native species", "species spread", "conservation coordinator", "kelp forests", "kelp forest", "species of conservation concern", "habitat creep", "biodiversity loss", "endangered species policy"], "type": "cluster", "node_size": 87, "label": "Marine Ecology"}};
        const conceptData = {"fishing communities": {"concepts": "fishing communities", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "fishing communities"}, "salish sea ecology": {"concepts": "salish sea ecology", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "salish sea ecology"}, "underwater cleanup": {"concepts": "underwater cleanup", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "underwater cleanup"}, "invasive seaweed": {"concepts": "invasive seaweed", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "invasive seaweed"}, "marine environment": {"concepts": "marine environment", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "marine environment"}, "understory seaweed": {"concepts": "understory seaweed", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "understory seaweed"}, "ocean warming": {"concepts": "ocean warming", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "ocean warming"}, "gulf coast": {"concepts": "gulf coast", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "gulf coast"}, "sea cucumber": {"concepts": "sea cucumber", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "sea cucumber"}, "sunflower sea stars": {"concepts": "sunflower sea stars", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "sunflower sea stars"}, "marine mammals": {"concepts": "marine mammals", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "marine mammals"}, "marine biodiversity": {"concepts": "marine biodiversity", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "marine biodiversity"}, "salmon stock": {"concepts": "salmon stock", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "salmon stock"}, "sunflower sea star": {"concepts": "sunflower sea star", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "sunflower sea star"}, "scripps institution of oceanography": {"concepts": "scripps institution of oceanography", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "scripps institution of oceanography"}, "river ecosystems": {"concepts": "river ecosystems", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "river ecosystems"}, "shoreline access": {"concepts": "shoreline access", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "shoreline access"}, "sea lions": {"concepts": "sea lions", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "sea lions"}, "killer whales": {"concepts": "killer whales", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "killer whales"}, "salmon": {"concepts": "salmon", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "salmon"}, "ratfish": {"concepts": "ratfish", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "ratfish"}, "seaweed research": {"concepts": "seaweed research", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "seaweed research"}, "killer whale conservation": {"concepts": "killer whale conservation", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "killer whale conservation"}, "sea star wasting": {"concepts": "sea star wasting", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "sea star wasting"}, "dam removal": {"concepts": "dam removal", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "dam removal"}, "cold water diving": {"concepts": "cold water diving", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "cold water diving"}, "marine preserve": {"concepts": "marine preserve", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "marine preserve"}, "marine pollution": {"concepts": "marine pollution", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "marine pollution"}, "seaweed ecosystems": {"concepts": "seaweed ecosystems", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "seaweed ecosystems"}, "salmon stock depletion": {"concepts": "salmon stock depletion", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "salmon stock depletion"}, "coastal biodiversity": {"concepts": "coastal biodiversity", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "coastal biodiversity"}, "rockfish": {"concepts": "rockfish", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "rockfish"}, "urchin barrens": {"concepts": "urchin barrens", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "urchin barrens"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "climate change"}, "salish sea diver": {"concepts": "salish sea diver", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "salish sea diver"}, "sea star wasting disease": {"concepts": "sea star wasting disease", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "sea star wasting disease"}, "seadoc society": {"concepts": "seadoc society", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "seadoc society"}, "rocky reef": {"concepts": "rocky reef", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "rocky reef"}, "wildlife veterinarian": {"concepts": "wildlife veterinarian", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "wildlife veterinarian"}, "shoreline ecosystems": {"concepts": "shoreline ecosystems", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "shoreline ecosystems"}, "sunflower sea star reintroduction": {"concepts": "sunflower sea star reintroduction", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "sunflower sea star reintroduction"}, "california sea cucumber": {"concepts": "california sea cucumber", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "california sea cucumber"}, "west seattle": {"concepts": "west seattle", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "west seattle"}, "warming water": {"concepts": "warming water", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "warming water"}, "sea lion": {"concepts": "sea lion", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "sea lion"}, "overfishing": {"concepts": "overfishing", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "overfishing"}, "sea cucumbers": {"concepts": "sea cucumbers", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "sea cucumbers"}, "sea star die-off": {"concepts": "sea star die-off", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "sea star die-off"}, "purple sea urchins": {"concepts": "purple sea urchins", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "purple sea urchins"}, "sargassum": {"concepts": "sargassum", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "sargassum"}, "personal passion": {"concepts": "personal passion", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "personal passion"}, "tourism": {"concepts": "tourism", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "tourism"}, "preservation": {"concepts": "preservation", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "preservation"}, "stakeholder engagement": {"concepts": "stakeholder engagement", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "stakeholder engagement"}, "aaus training": {"concepts": "aaus training", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "aaus training"}, "water taxi pier": {"concepts": "water taxi pier", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "water taxi pier"}, "social ecological system": {"concepts": "social ecological system", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "social ecological system"}, "padi": {"concepts": "padi", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "padi"}, "ecosystem": {"concepts": "ecosystem", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "ecosystem"}, "smithsonian": {"concepts": "smithsonian", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "smithsonian"}, "wolf eel": {"concepts": "wolf eel", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "wolf eel"}, "educational media": {"concepts": "educational media", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "educational media"}, "environmental policy": {"concepts": "environmental policy", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "environmental policy"}, "des moines": {"concepts": "des moines", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "des moines"}, "chimera": {"concepts": "chimera", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "chimera"}, "dive shop": {"concepts": "dive shop", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "dive shop"}, "university of washington": {"concepts": "university of washington", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "university of washington"}, "giant pacific octopus": {"concepts": "giant pacific octopus", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "giant pacific octopus"}, "nonprofit partnership": {"concepts": "nonprofit partnership", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "nonprofit partnership"}, "resource managers": {"concepts": "resource managers", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "resource managers"}, "kelp die-off": {"concepts": "kelp die-off", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "kelp die-off"}, "predator loss": {"concepts": "predator loss", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "predator loss"}, "ecosystem damage": {"concepts": "ecosystem damage", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "ecosystem damage"}, "ecological dynamics": {"concepts": "ecological dynamics", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "ecological dynamics"}, "nature assessment": {"concepts": "nature assessment", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "nature assessment"}, "nudibranch observation": {"concepts": "nudibranch observation", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "nudibranch observation"}, "kelp research": {"concepts": "kelp research", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "kelp research"}, "tourism industry": {"concepts": "tourism industry", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "tourism industry"}, "friday harbor labs": {"concepts": "friday harbor labs", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "friday harbor labs"}, "state agencies": {"concepts": "state agencies", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "state agencies"}, "national nature assessment": {"concepts": "national nature assessment", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "national nature assessment"}, "clown dorid": {"concepts": "clown dorid", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "clown dorid"}, "business impact": {"concepts": "business impact", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "business impact"}, "workshop setting": {"concepts": "workshop setting", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "workshop setting"}, "healthy ecosystems": {"concepts": "healthy ecosystems", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "healthy ecosystems"}, "diving access": {"concepts": "diving access", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "diving access"}, "community members": {"concepts": "community members", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "community members"}, "livelihood": {"concepts": "livelihood", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "livelihood"}, "predator prey dynamics": {"concepts": "predator prey dynamics", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "predator prey dynamics"}, "environmental management": {"concepts": "environmental management", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "environmental management"}, "environmental education": {"concepts": "environmental education", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "environmental education"}, "eelgrass": {"concepts": "eelgrass", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "eelgrass"}, "seal": {"concepts": "seal", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "seal"}, "collaborative discussion": {"concepts": "collaborative discussion", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "collaborative discussion"}, "environmental focus": {"concepts": "environmental focus", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "environmental focus"}, "chesapeake": {"concepts": "chesapeake", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "chesapeake"}, "puget sound": {"concepts": "puget sound", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "puget sound"}, "practitioners": {"concepts": "practitioners", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "practitioners"}, "seals": {"concepts": "seals", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "seals"}, "white house": {"concepts": "white house", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "white house"}, "bureaucracy": {"concepts": "bureaucracy", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "bureaucracy"}, "science grants": {"concepts": "science grants", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "science grants"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "food web"}, "ecosystem health": {"concepts": "ecosystem health", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "ecosystem health"}, "kelp restoration": {"concepts": "kelp restoration", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "kelp restoration"}, "health restoration": {"concepts": "health restoration", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "health restoration"}, "environmental variables": {"concepts": "environmental variables", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "environmental variables"}, "the nature conservancy": {"concepts": "the nature conservancy", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "the nature conservancy"}, "dive community": {"concepts": "dive community", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "dive community"}, "pollution impacts": {"concepts": "pollution impacts", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "pollution impacts"}, "environmental regulation": {"concepts": "environmental regulation", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "environmental regulation"}, "certified divers": {"concepts": "certified divers", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "certified divers"}, "communications": {"concepts": "communications", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "communications"}, "uc davis": {"concepts": "uc davis", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "uc davis"}, "nudibranchs": {"concepts": "nudibranchs", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "nudibranchs"}, "scuba instructor": {"concepts": "scuba instructor", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "scuba instructor"}, "population management": {"concepts": "population management", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "population management"}, "northeastern university": {"concepts": "northeastern university", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "northeastern university"}, "collaborations": {"concepts": "collaborations", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "collaborations"}, "himalayan blackberry": {"concepts": "himalayan blackberry", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "himalayan blackberry"}, "interdisciplinary masters": {"concepts": "interdisciplinary masters", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "interdisciplinary masters"}, "educational materials": {"concepts": "educational materials", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "educational materials"}, "pollution": {"concepts": "pollution", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "pollution"}, "padi certification": {"concepts": "padi certification", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "padi certification"}, "case studies": {"concepts": "case studies", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "case studies"}, "university of south alabama": {"concepts": "university of south alabama", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "university of south alabama"}, "policy": {"concepts": "policy", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "policy"}, "volunteer divers": {"concepts": "volunteer divers", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "volunteer divers"}, "kelp": {"concepts": "kelp", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "kelp"}, "conservation": {"concepts": "conservation", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "conservation"}, "trophic cascade": {"concepts": "trophic cascade", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "trophic cascade"}, "social science": {"concepts": "social science", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "social science"}, "management decisions": {"concepts": "management decisions", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "management decisions"}, "lab science": {"concepts": "lab science", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "lab science"}, "researchers": {"concepts": "researchers", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "researchers"}, "case study": {"concepts": "case study", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "case study"}, "orca": {"concepts": "orca", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "orca"}, "local environment": {"concepts": "local environment", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "local environment"}, "english ivy": {"concepts": "english ivy", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "english ivy"}, "nudibranch": {"concepts": "nudibranch", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "nudibranch"}, "interdisciplinary social science": {"concepts": "interdisciplinary social science", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "interdisciplinary social science"}, "policy landscape": {"concepts": "policy landscape", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "policy landscape"}, "livelihoods": {"concepts": "livelihoods", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "livelihoods"}, "healthy ecosystem": {"concepts": "healthy ecosystem", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "healthy ecosystem"}, "resident orca population": {"concepts": "resident orca population", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "resident orca population"}, "sr3": {"concepts": "sr3", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "sr3"}, "predator-prey dynamics": {"concepts": "predator-prey dynamics", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "predator-prey dynamics"}, "diving tourism": {"concepts": "diving tourism", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "diving tourism"}, "orcas": {"concepts": "orcas", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "orcas"}, "biodiversity services": {"concepts": "biodiversity services", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "biodiversity services"}, "endangered species": {"concepts": "endangered species", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "endangered species"}, "conservation policy": {"concepts": "conservation policy", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "conservation policy"}, "species variety": {"concepts": "species variety", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "species variety"}, "habitat": {"concepts": "habitat", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "habitat"}, "kelp forest restoration": {"concepts": "kelp forest restoration", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "kelp forest restoration"}, "native species": {"concepts": "native species", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "native species"}, "invasive species control": {"concepts": "invasive species control", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "invasive species control"}, "species biodiversity": {"concepts": "species biodiversity", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "species biodiversity"}, "biodiversity management": {"concepts": "biodiversity management", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "biodiversity management"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "invasive species"}, "foundational species": {"concepts": "foundational species", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "foundational species"}, "southern resident orcas": {"concepts": "southern resident orcas", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "southern resident orcas"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "habitat forming species"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "biodiversity"}, "non-native species": {"concepts": "non-native species", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "non-native species"}, "species spread": {"concepts": "species spread", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "species spread"}, "conservation coordinator": {"concepts": "conservation coordinator", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "conservation coordinator"}, "kelp forests": {"concepts": "kelp forests", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "kelp forests"}, "kelp forest": {"concepts": "kelp forest", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "kelp forest"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "species of conservation concern"}, "habitat creep": {"concepts": "habitat creep", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "habitat creep"}, "biodiversity loss": {"concepts": "biodiversity loss", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "biodiversity loss"}, "endangered species policy": {"concepts": "endangered species policy", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "endangered species policy"}};
        const interClusterEdges = [["Conservation Engagement", "Marine Ecology", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Conservation Engagement", "Biodiversity Protection", {"weight": 1.0, "confidence": 0.8859999999999999, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Protection", "Marine Ecology", {"weight": 0.8, "confidence": 0.7060000000000001, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Protection", "Conservation Engagement", {"weight": 0.6, "confidence": 0.53, "type": "inter_cluster", "style": "solid"}], ["Marine Ecology", "Conservation Engagement", {"weight": 1.0, "confidence": 0.892, "type": "inter_cluster", "style": "solid"}], ["Marine Ecology", "Biodiversity Protection", {"weight": 1.0, "confidence": 0.8825000000000001, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Conservation Engagement": [["fishing communities", {"concepts": "fishing communities", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "fishing communities"}], ["salish sea ecology", {"concepts": "salish sea ecology", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "salish sea ecology"}], ["underwater cleanup", {"concepts": "underwater cleanup", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "underwater cleanup"}], ["invasive seaweed", {"concepts": "invasive seaweed", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "invasive seaweed"}], ["marine environment", {"concepts": "marine environment", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "marine environment"}], ["understory seaweed", {"concepts": "understory seaweed", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "understory seaweed"}], ["ocean warming", {"concepts": "ocean warming", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "ocean warming"}], ["gulf coast", {"concepts": "gulf coast", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "gulf coast"}], ["sea cucumber", {"concepts": "sea cucumber", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "sea cucumber"}], ["sunflower sea stars", {"concepts": "sunflower sea stars", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "sunflower sea stars"}], ["marine mammals", {"concepts": "marine mammals", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "marine mammals"}], ["marine biodiversity", {"concepts": "marine biodiversity", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "marine biodiversity"}], ["salmon stock", {"concepts": "salmon stock", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "salmon stock"}], ["sunflower sea star", {"concepts": "sunflower sea star", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "sunflower sea star"}], ["scripps institution of oceanography", {"concepts": "scripps institution of oceanography", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "scripps institution of oceanography"}], ["river ecosystems", {"concepts": "river ecosystems", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "river ecosystems"}], ["shoreline access", {"concepts": "shoreline access", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "shoreline access"}], ["sea lions", {"concepts": "sea lions", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "sea lions"}], ["killer whales", {"concepts": "killer whales", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "killer whales"}], ["salmon", {"concepts": "salmon", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "salmon"}], ["ratfish", {"concepts": "ratfish", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "ratfish"}], ["seaweed research", {"concepts": "seaweed research", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "seaweed research"}], ["killer whale conservation", {"concepts": "killer whale conservation", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "killer whale conservation"}], ["sea star wasting", {"concepts": "sea star wasting", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "sea star wasting"}], ["dam removal", {"concepts": "dam removal", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "dam removal"}], ["cold water diving", {"concepts": "cold water diving", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "cold water diving"}], ["marine preserve", {"concepts": "marine preserve", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "marine preserve"}], ["marine pollution", {"concepts": "marine pollution", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "marine pollution"}], ["seaweed ecosystems", {"concepts": "seaweed ecosystems", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "seaweed ecosystems"}], ["salmon stock depletion", {"concepts": "salmon stock depletion", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "salmon stock depletion"}], ["coastal biodiversity", {"concepts": "coastal biodiversity", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "coastal biodiversity"}], ["rockfish", {"concepts": "rockfish", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "rockfish"}], ["urchin barrens", {"concepts": "urchin barrens", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "urchin barrens"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "climate change"}], ["salish sea diver", {"concepts": "salish sea diver", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "salish sea diver"}], ["sea star wasting disease", {"concepts": "sea star wasting disease", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "sea star wasting disease"}], ["seadoc society", {"concepts": "seadoc society", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "seadoc society"}], ["rocky reef", {"concepts": "rocky reef", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "rocky reef"}], ["wildlife veterinarian", {"concepts": "wildlife veterinarian", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "wildlife veterinarian"}], ["shoreline ecosystems", {"concepts": "shoreline ecosystems", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "shoreline ecosystems"}], ["sunflower sea star reintroduction", {"concepts": "sunflower sea star reintroduction", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "sunflower sea star reintroduction"}], ["california sea cucumber", {"concepts": "california sea cucumber", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "california sea cucumber"}], ["west seattle", {"concepts": "west seattle", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "west seattle"}], ["warming water", {"concepts": "warming water", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "warming water"}], ["sea lion", {"concepts": "sea lion", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "sea lion"}], ["overfishing", {"concepts": "overfishing", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "overfishing"}], ["sea cucumbers", {"concepts": "sea cucumbers", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "sea cucumbers"}], ["sea star die-off", {"concepts": "sea star die-off", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "sea star die-off"}], ["purple sea urchins", {"concepts": "purple sea urchins", "type": "concept", "cluster": "Conservation Engagement", "node_size": 10, "label": "purple sea urchins"}]], "Biodiversity Protection": [["sargassum", {"concepts": "sargassum", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "sargassum"}], ["personal passion", {"concepts": "personal passion", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "personal passion"}], ["tourism", {"concepts": "tourism", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "tourism"}], ["preservation", {"concepts": "preservation", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "preservation"}], ["stakeholder engagement", {"concepts": "stakeholder engagement", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "stakeholder engagement"}], ["aaus training", {"concepts": "aaus training", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "aaus training"}], ["water taxi pier", {"concepts": "water taxi pier", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "water taxi pier"}], ["social ecological system", {"concepts": "social ecological system", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "social ecological system"}], ["padi", {"concepts": "padi", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "padi"}], ["ecosystem", {"concepts": "ecosystem", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "ecosystem"}], ["smithsonian", {"concepts": "smithsonian", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "smithsonian"}], ["wolf eel", {"concepts": "wolf eel", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "wolf eel"}], ["educational media", {"concepts": "educational media", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "educational media"}], ["environmental policy", {"concepts": "environmental policy", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "environmental policy"}], ["des moines", {"concepts": "des moines", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "des moines"}], ["chimera", {"concepts": "chimera", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "chimera"}], ["dive shop", {"concepts": "dive shop", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "dive shop"}], ["university of washington", {"concepts": "university of washington", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "university of washington"}], ["giant pacific octopus", {"concepts": "giant pacific octopus", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "giant pacific octopus"}], ["nonprofit partnership", {"concepts": "nonprofit partnership", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "nonprofit partnership"}], ["resource managers", {"concepts": "resource managers", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "resource managers"}], ["kelp die-off", {"concepts": "kelp die-off", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "kelp die-off"}], ["predator loss", {"concepts": "predator loss", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "predator loss"}], ["ecosystem damage", {"concepts": "ecosystem damage", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "ecosystem damage"}], ["ecological dynamics", {"concepts": "ecological dynamics", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "ecological dynamics"}], ["nature assessment", {"concepts": "nature assessment", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "nature assessment"}], ["nudibranch observation", {"concepts": "nudibranch observation", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "nudibranch observation"}], ["kelp research", {"concepts": "kelp research", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "kelp research"}], ["tourism industry", {"concepts": "tourism industry", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "tourism industry"}], ["friday harbor labs", {"concepts": "friday harbor labs", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "friday harbor labs"}], ["state agencies", {"concepts": "state agencies", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "state agencies"}], ["national nature assessment", {"concepts": "national nature assessment", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "national nature assessment"}], ["clown dorid", {"concepts": "clown dorid", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "clown dorid"}], ["business impact", {"concepts": "business impact", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "business impact"}], ["workshop setting", {"concepts": "workshop setting", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "workshop setting"}], ["healthy ecosystems", {"concepts": "healthy ecosystems", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "healthy ecosystems"}], ["diving access", {"concepts": "diving access", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "diving access"}], ["community members", {"concepts": "community members", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "community members"}], ["livelihood", {"concepts": "livelihood", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "livelihood"}], ["predator prey dynamics", {"concepts": "predator prey dynamics", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "predator prey dynamics"}], ["environmental management", {"concepts": "environmental management", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "environmental management"}], ["environmental education", {"concepts": "environmental education", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "environmental education"}], ["eelgrass", {"concepts": "eelgrass", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "eelgrass"}], ["seal", {"concepts": "seal", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "seal"}], ["collaborative discussion", {"concepts": "collaborative discussion", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "collaborative discussion"}], ["environmental focus", {"concepts": "environmental focus", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "environmental focus"}], ["chesapeake", {"concepts": "chesapeake", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "chesapeake"}], ["puget sound", {"concepts": "puget sound", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "puget sound"}], ["practitioners", {"concepts": "practitioners", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "practitioners"}], ["seals", {"concepts": "seals", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "seals"}], ["white house", {"concepts": "white house", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "white house"}], ["bureaucracy", {"concepts": "bureaucracy", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "bureaucracy"}], ["science grants", {"concepts": "science grants", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "science grants"}], ["food web", {"concepts": "food web", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "food web"}], ["ecosystem health", {"concepts": "ecosystem health", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "ecosystem health"}], ["kelp restoration", {"concepts": "kelp restoration", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "kelp restoration"}], ["health restoration", {"concepts": "health restoration", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "health restoration"}], ["environmental variables", {"concepts": "environmental variables", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "environmental variables"}], ["the nature conservancy", {"concepts": "the nature conservancy", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "the nature conservancy"}], ["dive community", {"concepts": "dive community", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "dive community"}], ["pollution impacts", {"concepts": "pollution impacts", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "pollution impacts"}], ["environmental regulation", {"concepts": "environmental regulation", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "environmental regulation"}], ["certified divers", {"concepts": "certified divers", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "certified divers"}], ["communications", {"concepts": "communications", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "communications"}], ["uc davis", {"concepts": "uc davis", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "uc davis"}], ["nudibranchs", {"concepts": "nudibranchs", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "nudibranchs"}], ["scuba instructor", {"concepts": "scuba instructor", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "scuba instructor"}], ["population management", {"concepts": "population management", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "population management"}], ["northeastern university", {"concepts": "northeastern university", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "northeastern university"}], ["collaborations", {"concepts": "collaborations", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "collaborations"}], ["himalayan blackberry", {"concepts": "himalayan blackberry", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "himalayan blackberry"}], ["interdisciplinary masters", {"concepts": "interdisciplinary masters", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "interdisciplinary masters"}], ["educational materials", {"concepts": "educational materials", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "educational materials"}], ["pollution", {"concepts": "pollution", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "pollution"}], ["padi certification", {"concepts": "padi certification", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "padi certification"}], ["case studies", {"concepts": "case studies", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "case studies"}], ["university of south alabama", {"concepts": "university of south alabama", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "university of south alabama"}], ["policy", {"concepts": "policy", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "policy"}], ["volunteer divers", {"concepts": "volunteer divers", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "volunteer divers"}], ["kelp", {"concepts": "kelp", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "kelp"}], ["conservation", {"concepts": "conservation", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "conservation"}], ["trophic cascade", {"concepts": "trophic cascade", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "trophic cascade"}], ["social science", {"concepts": "social science", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "social science"}], ["management decisions", {"concepts": "management decisions", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "management decisions"}], ["lab science", {"concepts": "lab science", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "lab science"}], ["researchers", {"concepts": "researchers", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "researchers"}], ["case study", {"concepts": "case study", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "case study"}], ["orca", {"concepts": "orca", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "orca"}], ["local environment", {"concepts": "local environment", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "local environment"}], ["english ivy", {"concepts": "english ivy", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "english ivy"}], ["nudibranch", {"concepts": "nudibranch", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "nudibranch"}], ["interdisciplinary social science", {"concepts": "interdisciplinary social science", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "interdisciplinary social science"}], ["policy landscape", {"concepts": "policy landscape", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "policy landscape"}], ["livelihoods", {"concepts": "livelihoods", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "livelihoods"}], ["healthy ecosystem", {"concepts": "healthy ecosystem", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "healthy ecosystem"}], ["resident orca population", {"concepts": "resident orca population", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "resident orca population"}], ["sr3", {"concepts": "sr3", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "sr3"}], ["predator-prey dynamics", {"concepts": "predator-prey dynamics", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "predator-prey dynamics"}], ["diving tourism", {"concepts": "diving tourism", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "diving tourism"}], ["orcas", {"concepts": "orcas", "type": "concept", "cluster": "Biodiversity Protection", "node_size": 10, "label": "orcas"}]], "Marine Ecology": [["biodiversity services", {"concepts": "biodiversity services", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "biodiversity services"}], ["endangered species", {"concepts": "endangered species", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "endangered species"}], ["conservation policy", {"concepts": "conservation policy", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "conservation policy"}], ["species variety", {"concepts": "species variety", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "species variety"}], ["habitat", {"concepts": "habitat", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "habitat"}], ["kelp forest restoration", {"concepts": "kelp forest restoration", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "kelp forest restoration"}], ["native species", {"concepts": "native species", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "native species"}], ["invasive species control", {"concepts": "invasive species control", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "invasive species control"}], ["species biodiversity", {"concepts": "species biodiversity", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "species biodiversity"}], ["biodiversity management", {"concepts": "biodiversity management", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "biodiversity management"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "invasive species"}], ["foundational species", {"concepts": "foundational species", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "foundational species"}], ["southern resident orcas", {"concepts": "southern resident orcas", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "southern resident orcas"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "habitat forming species"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "biodiversity"}], ["non-native species", {"concepts": "non-native species", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "non-native species"}], ["species spread", {"concepts": "species spread", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "species spread"}], ["conservation coordinator", {"concepts": "conservation coordinator", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "conservation coordinator"}], ["kelp forests", {"concepts": "kelp forests", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "kelp forests"}], ["kelp forest", {"concepts": "kelp forest", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "kelp forest"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "species of conservation concern"}], ["habitat creep", {"concepts": "habitat creep", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "habitat creep"}], ["biodiversity loss", {"concepts": "biodiversity loss", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "biodiversity loss"}], ["endangered species policy", {"concepts": "endangered species policy", "type": "concept", "cluster": "Marine Ecology", "node_size": 10, "label": "endangered species policy"}]]};
        const clusterEdges = {"Conservation Engagement": [], "Biodiversity Protection": [], "Marine Ecology": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
