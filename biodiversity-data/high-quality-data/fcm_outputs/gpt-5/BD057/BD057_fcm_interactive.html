
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Oxygen Depletion": {"concepts": "benthos, biodiversity scale, environmental improvement, small tube building fauna, human impacts, index of biotic integrity, species abundance, ecological condition, key food web supporting species, tube building fauna, species tolerance, habitat destruction, tolerant species, harmful organisms, benthos diversity, species identification, functional biodiversity, environmental management, habitat forming species, functional diversity, species diversity, deep burrowing fauna, habitat enclosure, functional group diversity, ecosystem services, healthy ecosystems, ecosystem condition, biodiversity components, habitat biodiversity, nature conservation, species, large deep-burrowing fauna, species of conservation concern, bioassessment, diversity index, sensitive species, species categories, deep-burrowing fauna, biodiversity, species tolerance indices, healthy ecosystem, enclosure, species counts, food web supporting species, biodiversity data, functional groups, biodiversity assessment, habitat diversity, surface burrowing fauna, fishes, key food web species, functional group biodiversity, small surface burrowing fauna", "concept_list": ["benthos", "biodiversity scale", "environmental improvement", "small tube building fauna", "human impacts", "index of biotic integrity", "species abundance", "ecological condition", "key food web supporting species", "tube building fauna", "species tolerance", "habitat destruction", "tolerant species", "harmful organisms", "benthos diversity", "species identification", "functional biodiversity", "environmental management", "habitat forming species", "functional diversity", "species diversity", "deep burrowing fauna", "habitat enclosure", "functional group diversity", "ecosystem services", "healthy ecosystems", "ecosystem condition", "biodiversity components", "habitat biodiversity", "nature conservation", "species", "large deep-burrowing fauna", "species of conservation concern", "bioassessment", "diversity index", "sensitive species", "species categories", "deep-burrowing fauna", "biodiversity", "species tolerance indices", "healthy ecosystem", "enclosure", "species counts", "food web supporting species", "biodiversity data", "functional groups", "biodiversity assessment", "habitat diversity", "surface burrowing fauna", "fishes", "key food web species", "functional group biodiversity", "small surface burrowing fauna"], "type": "cluster", "node_size": 174, "label": "Oxygen Depletion"}, "Coastal & Marine Habitats": {"concepts": "anoxia, hypoxia, severe hypoxia, oxygen depletion, dissolved oxygen, wind energy", "concept_list": ["anoxia", "hypoxia", "severe hypoxia", "oxygen depletion", "dissolved oxygen", "wind energy"], "type": "cluster", "node_size": 33, "label": "Coastal & Marine Habitats"}, "Management Decision-Making": {"concepts": "seagrass loss, salt marshes, shallow water habitats, macroalgae, marshes, plant growth, nutrient runoff, invertebrates, benthic bioassessment, freshwater, marine biodiversity, salt marsh, marine setting, seafloor health, freshwater ecosystems, coastal marine ecological classification standard, plankton growth, estuarine ecology, nutrient levels, benthic diversity, seagrass, sewage, marine ecosystems, seafloor imaging, seafloor, sediment profile, deepwater habitats, nutrient input", "concept_list": ["seagrass loss", "salt marshes", "shallow water habitats", "macroalgae", "marshes", "plant growth", "nutrient runoff", "invertebrates", "benthic bioassessment", "freshwater", "marine biodiversity", "salt marsh", "marine setting", "seafloor health", "freshwater ecosystems", "coastal marine ecological classification standard", "plankton growth", "estuarine ecology", "nutrient levels", "benthic diversity", "seagrass", "sewage", "marine ecosystems", "seafloor imaging", "seafloor", "sediment profile", "deepwater habitats", "nutrient input"], "type": "cluster", "node_size": 99, "label": "Management Decision-Making"}, "Assessment Methods & Tools": {"concepts": "management decisions, management approaches, decision making, decision making tools, non-regulatory management, community decision making", "concept_list": ["management decisions", "management approaches", "decision making", "decision making tools", "non-regulatory management", "community decision making"], "type": "cluster", "node_size": 33, "label": "Assessment Methods & Tools"}, "Biodiversity & Ecosystem Health": {"concepts": "condition prediction, cemacs, nature, imaging methods, imaging, epifauna, epa, human effects, quantitative assessment, revolutionary war maps, taxonomy, contractors, visual survey, assessment framework, society, plankton, historical maps, established method, mental models, stratification, condition scoring, research purposes, office of research and development, ecological scoring, fishing, enjoyment of nature, regulatory purposes, beauty of nature, research focus, cartography, mental modeler, beaches, established methods, development, noaa, communities, cmecs, stressors, camera systems, system components, contract staff, decay, decay processes", "concept_list": ["condition prediction", "cemacs", "nature", "imaging methods", "imaging", "epifauna", "epa", "human effects", "quantitative assessment", "revolutionary war maps", "taxonomy", "contractors", "visual survey", "assessment framework", "society", "plankton", "historical maps", "established method", "mental models", "stratification", "condition scoring", "research purposes", "office of research and development", "ecological scoring", "fishing", "enjoyment of nature", "regulatory purposes", "beauty of nature", "research focus", "cartography", "mental modeler", "beaches", "established methods", "development", "noaa", "communities", "cmecs", "stressors", "camera systems", "system components", "contract staff", "decay", "decay processes"], "type": "cluster", "node_size": 144, "label": "Biodiversity & Ecosystem Health"}};
        const conceptData = {"benthos": {"concepts": "benthos", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "benthos"}, "biodiversity scale": {"concepts": "biodiversity scale", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "biodiversity scale"}, "environmental improvement": {"concepts": "environmental improvement", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "environmental improvement"}, "small tube building fauna": {"concepts": "small tube building fauna", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "small tube building fauna"}, "human impacts": {"concepts": "human impacts", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "human impacts"}, "index of biotic integrity": {"concepts": "index of biotic integrity", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "index of biotic integrity"}, "species abundance": {"concepts": "species abundance", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "species abundance"}, "ecological condition": {"concepts": "ecological condition", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "ecological condition"}, "key food web supporting species": {"concepts": "key food web supporting species", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "key food web supporting species"}, "tube building fauna": {"concepts": "tube building fauna", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "tube building fauna"}, "species tolerance": {"concepts": "species tolerance", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "species tolerance"}, "habitat destruction": {"concepts": "habitat destruction", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "habitat destruction"}, "tolerant species": {"concepts": "tolerant species", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "tolerant species"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "harmful organisms"}, "benthos diversity": {"concepts": "benthos diversity", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "benthos diversity"}, "species identification": {"concepts": "species identification", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "species identification"}, "functional biodiversity": {"concepts": "functional biodiversity", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "functional biodiversity"}, "environmental management": {"concepts": "environmental management", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "environmental management"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "habitat forming species"}, "functional diversity": {"concepts": "functional diversity", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "functional diversity"}, "species diversity": {"concepts": "species diversity", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "species diversity"}, "deep burrowing fauna": {"concepts": "deep burrowing fauna", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "deep burrowing fauna"}, "habitat enclosure": {"concepts": "habitat enclosure", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "habitat enclosure"}, "functional group diversity": {"concepts": "functional group diversity", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "functional group diversity"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "ecosystem services"}, "healthy ecosystems": {"concepts": "healthy ecosystems", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "healthy ecosystems"}, "ecosystem condition": {"concepts": "ecosystem condition", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "ecosystem condition"}, "biodiversity components": {"concepts": "biodiversity components", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "biodiversity components"}, "habitat biodiversity": {"concepts": "habitat biodiversity", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "habitat biodiversity"}, "nature conservation": {"concepts": "nature conservation", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "nature conservation"}, "species": {"concepts": "species", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "species"}, "large deep-burrowing fauna": {"concepts": "large deep-burrowing fauna", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "large deep-burrowing fauna"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "species of conservation concern"}, "bioassessment": {"concepts": "bioassessment", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "bioassessment"}, "diversity index": {"concepts": "diversity index", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "diversity index"}, "sensitive species": {"concepts": "sensitive species", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "sensitive species"}, "species categories": {"concepts": "species categories", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "species categories"}, "deep-burrowing fauna": {"concepts": "deep-burrowing fauna", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "deep-burrowing fauna"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "biodiversity"}, "species tolerance indices": {"concepts": "species tolerance indices", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "species tolerance indices"}, "healthy ecosystem": {"concepts": "healthy ecosystem", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "healthy ecosystem"}, "enclosure": {"concepts": "enclosure", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "enclosure"}, "species counts": {"concepts": "species counts", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "species counts"}, "food web supporting species": {"concepts": "food web supporting species", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "food web supporting species"}, "biodiversity data": {"concepts": "biodiversity data", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "biodiversity data"}, "functional groups": {"concepts": "functional groups", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "functional groups"}, "biodiversity assessment": {"concepts": "biodiversity assessment", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "biodiversity assessment"}, "habitat diversity": {"concepts": "habitat diversity", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "habitat diversity"}, "surface burrowing fauna": {"concepts": "surface burrowing fauna", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "surface burrowing fauna"}, "fishes": {"concepts": "fishes", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "fishes"}, "key food web species": {"concepts": "key food web species", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "key food web species"}, "functional group biodiversity": {"concepts": "functional group biodiversity", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "functional group biodiversity"}, "small surface burrowing fauna": {"concepts": "small surface burrowing fauna", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "small surface burrowing fauna"}, "anoxia": {"concepts": "anoxia", "type": "concept", "cluster": "Coastal & Marine Habitats", "node_size": 10, "label": "anoxia"}, "hypoxia": {"concepts": "hypoxia", "type": "concept", "cluster": "Coastal & Marine Habitats", "node_size": 10, "label": "hypoxia"}, "severe hypoxia": {"concepts": "severe hypoxia", "type": "concept", "cluster": "Coastal & Marine Habitats", "node_size": 10, "label": "severe hypoxia"}, "oxygen depletion": {"concepts": "oxygen depletion", "type": "concept", "cluster": "Coastal & Marine Habitats", "node_size": 10, "label": "oxygen depletion"}, "dissolved oxygen": {"concepts": "dissolved oxygen", "type": "concept", "cluster": "Coastal & Marine Habitats", "node_size": 10, "label": "dissolved oxygen"}, "wind energy": {"concepts": "wind energy", "type": "concept", "cluster": "Coastal & Marine Habitats", "node_size": 10, "label": "wind energy"}, "seagrass loss": {"concepts": "seagrass loss", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "seagrass loss"}, "salt marshes": {"concepts": "salt marshes", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "salt marshes"}, "shallow water habitats": {"concepts": "shallow water habitats", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "shallow water habitats"}, "macroalgae": {"concepts": "macroalgae", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "macroalgae"}, "marshes": {"concepts": "marshes", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "marshes"}, "plant growth": {"concepts": "plant growth", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "plant growth"}, "nutrient runoff": {"concepts": "nutrient runoff", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "nutrient runoff"}, "invertebrates": {"concepts": "invertebrates", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "invertebrates"}, "benthic bioassessment": {"concepts": "benthic bioassessment", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "benthic bioassessment"}, "freshwater": {"concepts": "freshwater", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "freshwater"}, "marine biodiversity": {"concepts": "marine biodiversity", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "marine biodiversity"}, "salt marsh": {"concepts": "salt marsh", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "salt marsh"}, "marine setting": {"concepts": "marine setting", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "marine setting"}, "seafloor health": {"concepts": "seafloor health", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "seafloor health"}, "freshwater ecosystems": {"concepts": "freshwater ecosystems", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "freshwater ecosystems"}, "coastal marine ecological classification standard": {"concepts": "coastal marine ecological classification standard", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "coastal marine ecological classification standard"}, "plankton growth": {"concepts": "plankton growth", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "plankton growth"}, "estuarine ecology": {"concepts": "estuarine ecology", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "estuarine ecology"}, "nutrient levels": {"concepts": "nutrient levels", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "nutrient levels"}, "benthic diversity": {"concepts": "benthic diversity", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "benthic diversity"}, "seagrass": {"concepts": "seagrass", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "seagrass"}, "sewage": {"concepts": "sewage", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "sewage"}, "marine ecosystems": {"concepts": "marine ecosystems", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "marine ecosystems"}, "seafloor imaging": {"concepts": "seafloor imaging", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "seafloor imaging"}, "seafloor": {"concepts": "seafloor", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "seafloor"}, "sediment profile": {"concepts": "sediment profile", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "sediment profile"}, "deepwater habitats": {"concepts": "deepwater habitats", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "deepwater habitats"}, "nutrient input": {"concepts": "nutrient input", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "nutrient input"}, "management decisions": {"concepts": "management decisions", "type": "concept", "cluster": "Assessment Methods & Tools", "node_size": 10, "label": "management decisions"}, "management approaches": {"concepts": "management approaches", "type": "concept", "cluster": "Assessment Methods & Tools", "node_size": 10, "label": "management approaches"}, "decision making": {"concepts": "decision making", "type": "concept", "cluster": "Assessment Methods & Tools", "node_size": 10, "label": "decision making"}, "decision making tools": {"concepts": "decision making tools", "type": "concept", "cluster": "Assessment Methods & Tools", "node_size": 10, "label": "decision making tools"}, "non-regulatory management": {"concepts": "non-regulatory management", "type": "concept", "cluster": "Assessment Methods & Tools", "node_size": 10, "label": "non-regulatory management"}, "community decision making": {"concepts": "community decision making", "type": "concept", "cluster": "Assessment Methods & Tools", "node_size": 10, "label": "community decision making"}, "condition prediction": {"concepts": "condition prediction", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "condition prediction"}, "cemacs": {"concepts": "cemacs", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "cemacs"}, "nature": {"concepts": "nature", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "nature"}, "imaging methods": {"concepts": "imaging methods", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "imaging methods"}, "imaging": {"concepts": "imaging", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "imaging"}, "epifauna": {"concepts": "epifauna", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "epifauna"}, "epa": {"concepts": "epa", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "epa"}, "human effects": {"concepts": "human effects", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "human effects"}, "quantitative assessment": {"concepts": "quantitative assessment", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "quantitative assessment"}, "revolutionary war maps": {"concepts": "revolutionary war maps", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "revolutionary war maps"}, "taxonomy": {"concepts": "taxonomy", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "taxonomy"}, "contractors": {"concepts": "contractors", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "contractors"}, "visual survey": {"concepts": "visual survey", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "visual survey"}, "assessment framework": {"concepts": "assessment framework", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "assessment framework"}, "society": {"concepts": "society", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "society"}, "plankton": {"concepts": "plankton", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "plankton"}, "historical maps": {"concepts": "historical maps", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "historical maps"}, "established method": {"concepts": "established method", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "established method"}, "mental models": {"concepts": "mental models", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "mental models"}, "stratification": {"concepts": "stratification", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "stratification"}, "condition scoring": {"concepts": "condition scoring", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "condition scoring"}, "research purposes": {"concepts": "research purposes", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "research purposes"}, "office of research and development": {"concepts": "office of research and development", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "office of research and development"}, "ecological scoring": {"concepts": "ecological scoring", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "ecological scoring"}, "fishing": {"concepts": "fishing", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "fishing"}, "enjoyment of nature": {"concepts": "enjoyment of nature", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "enjoyment of nature"}, "regulatory purposes": {"concepts": "regulatory purposes", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "regulatory purposes"}, "beauty of nature": {"concepts": "beauty of nature", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "beauty of nature"}, "research focus": {"concepts": "research focus", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "research focus"}, "cartography": {"concepts": "cartography", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "cartography"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "mental modeler"}, "beaches": {"concepts": "beaches", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "beaches"}, "established methods": {"concepts": "established methods", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "established methods"}, "development": {"concepts": "development", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "development"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "noaa"}, "communities": {"concepts": "communities", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "communities"}, "cmecs": {"concepts": "cmecs", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "cmecs"}, "stressors": {"concepts": "stressors", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "stressors"}, "camera systems": {"concepts": "camera systems", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "camera systems"}, "system components": {"concepts": "system components", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "system components"}, "contract staff": {"concepts": "contract staff", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "contract staff"}, "decay": {"concepts": "decay", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "decay"}, "decay processes": {"concepts": "decay processes", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "decay processes"}};
        const interClusterEdges = [["Oxygen Depletion", "Biodiversity & Ecosystem Health", {"weight": 1.0, "confidence": 0.8299999999999998, "type": "inter_cluster", "style": "solid"}], ["Oxygen Depletion", "Assessment Methods & Tools", {"weight": 1.0, "confidence": 0.77, "type": "inter_cluster", "style": "solid"}], ["Oxygen Depletion", "Coastal & Marine Habitats", {"weight": -0.8, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Coastal & Marine Habitats", "Oxygen Depletion", {"weight": -1.0, "confidence": 0.95, "type": "inter_cluster", "style": "solid"}], ["Coastal & Marine Habitats", "Management Decision-Making", {"weight": 1.0, "confidence": 0.8374999999999999, "type": "inter_cluster", "style": "solid"}], ["Coastal & Marine Habitats", "Assessment Methods & Tools", {"weight": 0.6, "confidence": 0.64, "type": "inter_cluster", "style": "solid"}], ["Coastal & Marine Habitats", "Biodiversity & Ecosystem Health", {"weight": 1.0, "confidence": 0.6875, "type": "inter_cluster", "style": "solid"}], ["Management Decision-Making", "Oxygen Depletion", {"weight": -1.0, "confidence": 0.93, "type": "inter_cluster", "style": "solid"}], ["Management Decision-Making", "Coastal & Marine Habitats", {"weight": 0.5, "confidence": 0.9375, "type": "inter_cluster", "style": "solid"}], ["Management Decision-Making", "Assessment Methods & Tools", {"weight": 0.2, "confidence": 0.7300000000000001, "type": "inter_cluster", "style": "solid"}], ["Management Decision-Making", "Biodiversity & Ecosystem Health", {"weight": 1.0, "confidence": 0.7625, "type": "inter_cluster", "style": "solid"}], ["Assessment Methods & Tools", "Management Decision-Making", {"weight": -1.0, "confidence": 0.8400000000000001, "type": "inter_cluster", "style": "solid"}], ["Assessment Methods & Tools", "Biodiversity & Ecosystem Health", {"weight": 1.0, "confidence": 0.76, "type": "inter_cluster", "style": "solid"}], ["Assessment Methods & Tools", "Oxygen Depletion", {"weight": 1.0, "confidence": 0.8625, "type": "inter_cluster", "style": "solid"}], ["Assessment Methods & Tools", "Coastal & Marine Habitats", {"weight": -1.0, "confidence": 0.7375, "type": "inter_cluster", "style": "solid"}], ["Biodiversity & Ecosystem Health", "Assessment Methods & Tools", {"weight": 1.0, "confidence": 0.77, "type": "inter_cluster", "style": "solid"}], ["Biodiversity & Ecosystem Health", "Oxygen Depletion", {"weight": 1.0, "confidence": 0.8125, "type": "inter_cluster", "style": "solid"}], ["Biodiversity & Ecosystem Health", "Coastal & Marine Habitats", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Biodiversity & Ecosystem Health", "Management Decision-Making", {"weight": 1.0, "confidence": 0.7375, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Oxygen Depletion": [["benthos", {"concepts": "benthos", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "benthos"}], ["biodiversity scale", {"concepts": "biodiversity scale", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "biodiversity scale"}], ["environmental improvement", {"concepts": "environmental improvement", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "environmental improvement"}], ["small tube building fauna", {"concepts": "small tube building fauna", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "small tube building fauna"}], ["human impacts", {"concepts": "human impacts", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "human impacts"}], ["index of biotic integrity", {"concepts": "index of biotic integrity", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "index of biotic integrity"}], ["species abundance", {"concepts": "species abundance", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "species abundance"}], ["ecological condition", {"concepts": "ecological condition", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "ecological condition"}], ["key food web supporting species", {"concepts": "key food web supporting species", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "key food web supporting species"}], ["tube building fauna", {"concepts": "tube building fauna", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "tube building fauna"}], ["species tolerance", {"concepts": "species tolerance", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "species tolerance"}], ["habitat destruction", {"concepts": "habitat destruction", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "habitat destruction"}], ["tolerant species", {"concepts": "tolerant species", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "tolerant species"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "harmful organisms"}], ["benthos diversity", {"concepts": "benthos diversity", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "benthos diversity"}], ["species identification", {"concepts": "species identification", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "species identification"}], ["functional biodiversity", {"concepts": "functional biodiversity", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "functional biodiversity"}], ["environmental management", {"concepts": "environmental management", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "environmental management"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "habitat forming species"}], ["functional diversity", {"concepts": "functional diversity", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "functional diversity"}], ["species diversity", {"concepts": "species diversity", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "species diversity"}], ["deep burrowing fauna", {"concepts": "deep burrowing fauna", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "deep burrowing fauna"}], ["habitat enclosure", {"concepts": "habitat enclosure", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "habitat enclosure"}], ["functional group diversity", {"concepts": "functional group diversity", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "functional group diversity"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "ecosystem services"}], ["healthy ecosystems", {"concepts": "healthy ecosystems", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "healthy ecosystems"}], ["ecosystem condition", {"concepts": "ecosystem condition", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "ecosystem condition"}], ["biodiversity components", {"concepts": "biodiversity components", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "biodiversity components"}], ["habitat biodiversity", {"concepts": "habitat biodiversity", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "habitat biodiversity"}], ["nature conservation", {"concepts": "nature conservation", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "nature conservation"}], ["species", {"concepts": "species", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "species"}], ["large deep-burrowing fauna", {"concepts": "large deep-burrowing fauna", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "large deep-burrowing fauna"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "species of conservation concern"}], ["bioassessment", {"concepts": "bioassessment", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "bioassessment"}], ["diversity index", {"concepts": "diversity index", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "diversity index"}], ["sensitive species", {"concepts": "sensitive species", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "sensitive species"}], ["species categories", {"concepts": "species categories", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "species categories"}], ["deep-burrowing fauna", {"concepts": "deep-burrowing fauna", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "deep-burrowing fauna"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "biodiversity"}], ["species tolerance indices", {"concepts": "species tolerance indices", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "species tolerance indices"}], ["healthy ecosystem", {"concepts": "healthy ecosystem", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "healthy ecosystem"}], ["enclosure", {"concepts": "enclosure", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "enclosure"}], ["species counts", {"concepts": "species counts", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "species counts"}], ["food web supporting species", {"concepts": "food web supporting species", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "food web supporting species"}], ["biodiversity data", {"concepts": "biodiversity data", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "biodiversity data"}], ["functional groups", {"concepts": "functional groups", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "functional groups"}], ["biodiversity assessment", {"concepts": "biodiversity assessment", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "biodiversity assessment"}], ["habitat diversity", {"concepts": "habitat diversity", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "habitat diversity"}], ["surface burrowing fauna", {"concepts": "surface burrowing fauna", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "surface burrowing fauna"}], ["fishes", {"concepts": "fishes", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "fishes"}], ["key food web species", {"concepts": "key food web species", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "key food web species"}], ["functional group biodiversity", {"concepts": "functional group biodiversity", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "functional group biodiversity"}], ["small surface burrowing fauna", {"concepts": "small surface burrowing fauna", "type": "concept", "cluster": "Oxygen Depletion", "node_size": 10, "label": "small surface burrowing fauna"}]], "Coastal & Marine Habitats": [["anoxia", {"concepts": "anoxia", "type": "concept", "cluster": "Coastal & Marine Habitats", "node_size": 10, "label": "anoxia"}], ["hypoxia", {"concepts": "hypoxia", "type": "concept", "cluster": "Coastal & Marine Habitats", "node_size": 10, "label": "hypoxia"}], ["severe hypoxia", {"concepts": "severe hypoxia", "type": "concept", "cluster": "Coastal & Marine Habitats", "node_size": 10, "label": "severe hypoxia"}], ["oxygen depletion", {"concepts": "oxygen depletion", "type": "concept", "cluster": "Coastal & Marine Habitats", "node_size": 10, "label": "oxygen depletion"}], ["dissolved oxygen", {"concepts": "dissolved oxygen", "type": "concept", "cluster": "Coastal & Marine Habitats", "node_size": 10, "label": "dissolved oxygen"}], ["wind energy", {"concepts": "wind energy", "type": "concept", "cluster": "Coastal & Marine Habitats", "node_size": 10, "label": "wind energy"}]], "Management Decision-Making": [["seagrass loss", {"concepts": "seagrass loss", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "seagrass loss"}], ["salt marshes", {"concepts": "salt marshes", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "salt marshes"}], ["shallow water habitats", {"concepts": "shallow water habitats", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "shallow water habitats"}], ["macroalgae", {"concepts": "macroalgae", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "macroalgae"}], ["marshes", {"concepts": "marshes", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "marshes"}], ["plant growth", {"concepts": "plant growth", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "plant growth"}], ["nutrient runoff", {"concepts": "nutrient runoff", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "nutrient runoff"}], ["invertebrates", {"concepts": "invertebrates", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "invertebrates"}], ["benthic bioassessment", {"concepts": "benthic bioassessment", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "benthic bioassessment"}], ["freshwater", {"concepts": "freshwater", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "freshwater"}], ["marine biodiversity", {"concepts": "marine biodiversity", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "marine biodiversity"}], ["salt marsh", {"concepts": "salt marsh", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "salt marsh"}], ["marine setting", {"concepts": "marine setting", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "marine setting"}], ["seafloor health", {"concepts": "seafloor health", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "seafloor health"}], ["freshwater ecosystems", {"concepts": "freshwater ecosystems", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "freshwater ecosystems"}], ["coastal marine ecological classification standard", {"concepts": "coastal marine ecological classification standard", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "coastal marine ecological classification standard"}], ["plankton growth", {"concepts": "plankton growth", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "plankton growth"}], ["estuarine ecology", {"concepts": "estuarine ecology", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "estuarine ecology"}], ["nutrient levels", {"concepts": "nutrient levels", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "nutrient levels"}], ["benthic diversity", {"concepts": "benthic diversity", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "benthic diversity"}], ["seagrass", {"concepts": "seagrass", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "seagrass"}], ["sewage", {"concepts": "sewage", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "sewage"}], ["marine ecosystems", {"concepts": "marine ecosystems", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "marine ecosystems"}], ["seafloor imaging", {"concepts": "seafloor imaging", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "seafloor imaging"}], ["seafloor", {"concepts": "seafloor", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "seafloor"}], ["sediment profile", {"concepts": "sediment profile", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "sediment profile"}], ["deepwater habitats", {"concepts": "deepwater habitats", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "deepwater habitats"}], ["nutrient input", {"concepts": "nutrient input", "type": "concept", "cluster": "Management Decision-Making", "node_size": 10, "label": "nutrient input"}]], "Assessment Methods & Tools": [["management decisions", {"concepts": "management decisions", "type": "concept", "cluster": "Assessment Methods & Tools", "node_size": 10, "label": "management decisions"}], ["management approaches", {"concepts": "management approaches", "type": "concept", "cluster": "Assessment Methods & Tools", "node_size": 10, "label": "management approaches"}], ["decision making", {"concepts": "decision making", "type": "concept", "cluster": "Assessment Methods & Tools", "node_size": 10, "label": "decision making"}], ["decision making tools", {"concepts": "decision making tools", "type": "concept", "cluster": "Assessment Methods & Tools", "node_size": 10, "label": "decision making tools"}], ["non-regulatory management", {"concepts": "non-regulatory management", "type": "concept", "cluster": "Assessment Methods & Tools", "node_size": 10, "label": "non-regulatory management"}], ["community decision making", {"concepts": "community decision making", "type": "concept", "cluster": "Assessment Methods & Tools", "node_size": 10, "label": "community decision making"}]], "Biodiversity & Ecosystem Health": [["condition prediction", {"concepts": "condition prediction", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "condition prediction"}], ["cemacs", {"concepts": "cemacs", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "cemacs"}], ["nature", {"concepts": "nature", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "nature"}], ["imaging methods", {"concepts": "imaging methods", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "imaging methods"}], ["imaging", {"concepts": "imaging", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "imaging"}], ["epifauna", {"concepts": "epifauna", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "epifauna"}], ["epa", {"concepts": "epa", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "epa"}], ["human effects", {"concepts": "human effects", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "human effects"}], ["quantitative assessment", {"concepts": "quantitative assessment", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "quantitative assessment"}], ["revolutionary war maps", {"concepts": "revolutionary war maps", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "revolutionary war maps"}], ["taxonomy", {"concepts": "taxonomy", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "taxonomy"}], ["contractors", {"concepts": "contractors", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "contractors"}], ["visual survey", {"concepts": "visual survey", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "visual survey"}], ["assessment framework", {"concepts": "assessment framework", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "assessment framework"}], ["society", {"concepts": "society", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "society"}], ["plankton", {"concepts": "plankton", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "plankton"}], ["historical maps", {"concepts": "historical maps", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "historical maps"}], ["established method", {"concepts": "established method", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "established method"}], ["mental models", {"concepts": "mental models", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "mental models"}], ["stratification", {"concepts": "stratification", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "stratification"}], ["condition scoring", {"concepts": "condition scoring", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "condition scoring"}], ["research purposes", {"concepts": "research purposes", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "research purposes"}], ["office of research and development", {"concepts": "office of research and development", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "office of research and development"}], ["ecological scoring", {"concepts": "ecological scoring", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "ecological scoring"}], ["fishing", {"concepts": "fishing", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "fishing"}], ["enjoyment of nature", {"concepts": "enjoyment of nature", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "enjoyment of nature"}], ["regulatory purposes", {"concepts": "regulatory purposes", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "regulatory purposes"}], ["beauty of nature", {"concepts": "beauty of nature", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "beauty of nature"}], ["research focus", {"concepts": "research focus", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "research focus"}], ["cartography", {"concepts": "cartography", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "cartography"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "mental modeler"}], ["beaches", {"concepts": "beaches", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "beaches"}], ["established methods", {"concepts": "established methods", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "established methods"}], ["development", {"concepts": "development", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "development"}], ["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "noaa"}], ["communities", {"concepts": "communities", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "communities"}], ["cmecs", {"concepts": "cmecs", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "cmecs"}], ["stressors", {"concepts": "stressors", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "stressors"}], ["camera systems", {"concepts": "camera systems", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "camera systems"}], ["system components", {"concepts": "system components", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "system components"}], ["contract staff", {"concepts": "contract staff", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "contract staff"}], ["decay", {"concepts": "decay", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "decay"}], ["decay processes", {"concepts": "decay processes", "type": "concept", "cluster": "Biodiversity & Ecosystem Health", "node_size": 10, "label": "decay processes"}]]};
        const clusterEdges = {"Oxygen Depletion": [], "Coastal & Marine Habitats": [], "Management Decision-Making": [], "Assessment Methods & Tools": [], "Biodiversity & Ecosystem Health": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
