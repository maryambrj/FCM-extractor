
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Spatial-Temporal Aspects": {"concepts": "spatial scales, spatial aspect, temporal aspect", "concept_list": ["spatial scales", "spatial aspect", "temporal aspect"], "type": "cluster", "node_size": 24, "label": "Spatial-Temporal Aspects"}, "Marine Ecosystems": {"concepts": "subtidal zones, benthic invertebrate species, macroalgae, phytoplankton communities, benthic invertebrates, surface nutrients, benthic inverts, organic matter, benthic organisms, intertidal zones, macroalgae ecology, upwelling season, shore hardening", "concept_list": ["subtidal zones", "benthic invertebrate species", "macroalgae", "phytoplankton communities", "benthic invertebrates", "surface nutrients", "benthic inverts", "organic matter", "benthic organisms", "intertidal zones", "macroalgae ecology", "upwelling season", "shore hardening"], "type": "cluster", "node_size": 54, "label": "Marine Ecosystems"}, "Marine Resource Management": {"concepts": "essential fish habitat, salish sea, marine resource management, recreational fisheries, abalone husbandry, salmon, aquaculture industry, forage fish, research oyster hatchery, mariculture, fish aggregating device, sport fisheries, marine mammal protection act, fish, marine mammal populations, salmon run, rockfish, shellfish, commercial fisheries, aquaculture gear, fishing gear, herring spawning location, marine mammal population, oyster health, fish habitat, seal haul out areas, oyster farms, marine mammal entanglement, marine mammals, kelp mariculture", "concept_list": ["essential fish habitat", "salish sea", "marine resource management", "recreational fisheries", "abalone husbandry", "salmon", "aquaculture industry", "forage fish", "research oyster hatchery", "mariculture", "fish aggregating device", "sport fisheries", "marine mammal protection act", "fish", "marine mammal populations", "salmon run", "rockfish", "shellfish", "commercial fisheries", "aquaculture gear", "fishing gear", "herring spawning location", "marine mammal population", "oyster health", "fish habitat", "seal haul out areas", "oyster farms", "marine mammal entanglement", "marine mammals", "kelp mariculture"], "type": "cluster", "node_size": 105, "label": "Marine Resource Management"}, "Biological Research": {"concepts": "quantitative network model, noaa, army corps, connectivity, biological activity, data gaps, halo effect, biological organisms, expert focus group, aggregations, bivalves, genetic diversity, temperature increases, case studies, esa, alicia bishop, migration corridors, broadcast spawners, adf&g, infrastructure, postdoc work, permitting portal, models, disease, tribes, msa, multiple stressors, mmpa, entanglement risk, knowledge gaps, science, substrate, efh, selective breeding, matrix, consultations, genetic contamination, focus groups, simon frasier, reproduction, communities, puget sound, spring bloom, life stages, r package, interactions, literature review, basic science, noaa afsc, entanglements, connectivity effect, harmful organisms, modeling tools, reproductive success", "concept_list": ["quantitative network model", "noaa", "army corps", "connectivity", "biological activity", "data gaps", "halo effect", "biological organisms", "expert focus group", "aggregations", "bivalves", "genetic diversity", "temperature increases", "case studies", "esa", "alicia bishop", "migration corridors", "broadcast spawners", "adf&g", "infrastructure", "postdoc work", "permitting portal", "models", "disease", "tribes", "msa", "multiple stressors", "mmpa", "entanglement risk", "knowledge gaps", "science", "substrate", "efh", "selective breeding", "matrix", "consultations", "genetic contamination", "focus groups", "simon frasier", "reproduction", "communities", "puget sound", "spring bloom", "life stages", "r package", "interactions", "literature review", "basic science", "noaa afsc", "entanglements", "connectivity effect", "harmful organisms", "modeling tools", "reproductive success"], "type": "cluster", "node_size": 177, "label": "Biological Research"}, "Impact Effects": {"concepts": "positive effect, negative impact, positive impact, spillover effect, spillover effects, negative effect", "concept_list": ["positive effect", "negative impact", "positive impact", "spillover effect", "spillover effects", "negative effect"], "type": "cluster", "node_size": 33, "label": "Impact Effects"}, "Government Regulations": {"concepts": "tribal governments, medium positive, pest organism, regional office, spatial dynamics, high current area, puget sound restoration fund, low positive, subsistence fisheries, temporal dynamics, federal governments, technology adaptation, regulatory side, high current area., industry regulators, toxicity metrics, community governments, magnuson stevens act, high positive, permitting regulatory", "concept_list": ["tribal governments", "medium positive", "pest organism", "regional office", "spatial dynamics", "high current area", "puget sound restoration fund", "low positive", "subsistence fisheries", "temporal dynamics", "federal governments", "technology adaptation", "regulatory side", "high current area.", "industry regulators", "toxicity metrics", "community governments", "magnuson stevens act", "high positive", "permitting regulatory"], "type": "cluster", "node_size": 75, "label": "Government Regulations"}, "Kelp Farming": {"concepts": "habitat-forming species, kelp farming, farm permitting, habitat effects, kelp forest., kelp mapping project, kelp harvesting, size of farms, kelp habitat, habitat, novel habitat, bull kelp, number of farms, kelp, kelp detritus, kelp farms", "concept_list": ["habitat-forming species", "kelp farming", "farm permitting", "habitat effects", "kelp forest.", "kelp mapping project", "kelp harvesting", "size of farms", "kelp habitat", "habitat", "novel habitat", "bull kelp", "number of farms", "kelp", "kelp detritus", "kelp farms"], "type": "cluster", "node_size": 63, "label": "Kelp Farming"}, "Biodiversity Dynamics": {"concepts": "ecosystem, species of conservation concern, biodiversity change, ecology, invasive species, foraging success, biological communities, fouling communities, biodiversity impact, foraging, biodiversity, key food web species, biological community composition, food web dynamics, feeding grounds, sink population, macro biodiversity", "concept_list": ["ecosystem", "species of conservation concern", "biodiversity change", "ecology", "invasive species", "foraging success", "biological communities", "fouling communities", "biodiversity impact", "foraging", "biodiversity", "key food web species", "biological community composition", "food web dynamics", "feeding grounds", "sink population", "macro biodiversity"], "type": "cluster", "node_size": 66, "label": "Biodiversity Dynamics"}, "Impact Assessment": {"concepts": "cumulative impact, cumulative effects, relative impact, medium impact, low effect, management approaches, management processes, high impact, net impact, low impact, medium effect", "concept_list": ["cumulative impact", "cumulative effects", "relative impact", "medium impact", "low effect", "management approaches", "management processes", "high impact", "net impact", "low impact", "medium effect"], "type": "cluster", "node_size": 48, "label": "Impact Assessment"}};
        const conceptData = {"spatial scales": {"concepts": "spatial scales", "type": "concept", "cluster": "Spatial-Temporal Aspects", "node_size": 10, "label": "spatial scales"}, "spatial aspect": {"concepts": "spatial aspect", "type": "concept", "cluster": "Spatial-Temporal Aspects", "node_size": 10, "label": "spatial aspect"}, "temporal aspect": {"concepts": "temporal aspect", "type": "concept", "cluster": "Spatial-Temporal Aspects", "node_size": 10, "label": "temporal aspect"}, "subtidal zones": {"concepts": "subtidal zones", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "subtidal zones"}, "benthic invertebrate species": {"concepts": "benthic invertebrate species", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "benthic invertebrate species"}, "macroalgae": {"concepts": "macroalgae", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "macroalgae"}, "phytoplankton communities": {"concepts": "phytoplankton communities", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "phytoplankton communities"}, "benthic invertebrates": {"concepts": "benthic invertebrates", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "benthic invertebrates"}, "surface nutrients": {"concepts": "surface nutrients", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "surface nutrients"}, "benthic inverts": {"concepts": "benthic inverts", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "benthic inverts"}, "organic matter": {"concepts": "organic matter", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "organic matter"}, "benthic organisms": {"concepts": "benthic organisms", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "benthic organisms"}, "intertidal zones": {"concepts": "intertidal zones", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "intertidal zones"}, "macroalgae ecology": {"concepts": "macroalgae ecology", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "macroalgae ecology"}, "upwelling season": {"concepts": "upwelling season", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "upwelling season"}, "shore hardening": {"concepts": "shore hardening", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "shore hardening"}, "essential fish habitat": {"concepts": "essential fish habitat", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "essential fish habitat"}, "salish sea": {"concepts": "salish sea", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "salish sea"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "marine resource management"}, "recreational fisheries": {"concepts": "recreational fisheries", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "recreational fisheries"}, "abalone husbandry": {"concepts": "abalone husbandry", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "abalone husbandry"}, "salmon": {"concepts": "salmon", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "salmon"}, "aquaculture industry": {"concepts": "aquaculture industry", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "aquaculture industry"}, "forage fish": {"concepts": "forage fish", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "forage fish"}, "research oyster hatchery": {"concepts": "research oyster hatchery", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "research oyster hatchery"}, "mariculture": {"concepts": "mariculture", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "mariculture"}, "fish aggregating device": {"concepts": "fish aggregating device", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "fish aggregating device"}, "sport fisheries": {"concepts": "sport fisheries", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "sport fisheries"}, "marine mammal protection act": {"concepts": "marine mammal protection act", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "marine mammal protection act"}, "fish": {"concepts": "fish", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "fish"}, "marine mammal populations": {"concepts": "marine mammal populations", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "marine mammal populations"}, "salmon run": {"concepts": "salmon run", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "salmon run"}, "rockfish": {"concepts": "rockfish", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "rockfish"}, "shellfish": {"concepts": "shellfish", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "shellfish"}, "commercial fisheries": {"concepts": "commercial fisheries", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "commercial fisheries"}, "aquaculture gear": {"concepts": "aquaculture gear", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "aquaculture gear"}, "fishing gear": {"concepts": "fishing gear", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "fishing gear"}, "herring spawning location": {"concepts": "herring spawning location", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "herring spawning location"}, "marine mammal population": {"concepts": "marine mammal population", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "marine mammal population"}, "oyster health": {"concepts": "oyster health", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "oyster health"}, "fish habitat": {"concepts": "fish habitat", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "fish habitat"}, "seal haul out areas": {"concepts": "seal haul out areas", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "seal haul out areas"}, "oyster farms": {"concepts": "oyster farms", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "oyster farms"}, "marine mammal entanglement": {"concepts": "marine mammal entanglement", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "marine mammal entanglement"}, "marine mammals": {"concepts": "marine mammals", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "marine mammals"}, "kelp mariculture": {"concepts": "kelp mariculture", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "kelp mariculture"}, "quantitative network model": {"concepts": "quantitative network model", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "quantitative network model"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "noaa"}, "army corps": {"concepts": "army corps", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "army corps"}, "connectivity": {"concepts": "connectivity", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "connectivity"}, "biological activity": {"concepts": "biological activity", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "biological activity"}, "data gaps": {"concepts": "data gaps", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "data gaps"}, "halo effect": {"concepts": "halo effect", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "halo effect"}, "biological organisms": {"concepts": "biological organisms", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "biological organisms"}, "expert focus group": {"concepts": "expert focus group", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "expert focus group"}, "aggregations": {"concepts": "aggregations", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "aggregations"}, "bivalves": {"concepts": "bivalves", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "bivalves"}, "genetic diversity": {"concepts": "genetic diversity", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "genetic diversity"}, "temperature increases": {"concepts": "temperature increases", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "temperature increases"}, "case studies": {"concepts": "case studies", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "case studies"}, "esa": {"concepts": "esa", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "esa"}, "alicia bishop": {"concepts": "alicia bishop", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "alicia bishop"}, "migration corridors": {"concepts": "migration corridors", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "migration corridors"}, "broadcast spawners": {"concepts": "broadcast spawners", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "broadcast spawners"}, "adf&g": {"concepts": "adf&g", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "adf&g"}, "infrastructure": {"concepts": "infrastructure", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "infrastructure"}, "postdoc work": {"concepts": "postdoc work", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "postdoc work"}, "permitting portal": {"concepts": "permitting portal", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "permitting portal"}, "models": {"concepts": "models", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "models"}, "disease": {"concepts": "disease", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "disease"}, "tribes": {"concepts": "tribes", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "tribes"}, "msa": {"concepts": "msa", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "msa"}, "multiple stressors": {"concepts": "multiple stressors", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "multiple stressors"}, "mmpa": {"concepts": "mmpa", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "mmpa"}, "entanglement risk": {"concepts": "entanglement risk", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "entanglement risk"}, "knowledge gaps": {"concepts": "knowledge gaps", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "knowledge gaps"}, "science": {"concepts": "science", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "science"}, "substrate": {"concepts": "substrate", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "substrate"}, "efh": {"concepts": "efh", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "efh"}, "selective breeding": {"concepts": "selective breeding", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "selective breeding"}, "matrix": {"concepts": "matrix", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "matrix"}, "consultations": {"concepts": "consultations", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "consultations"}, "genetic contamination": {"concepts": "genetic contamination", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "genetic contamination"}, "focus groups": {"concepts": "focus groups", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "focus groups"}, "simon frasier": {"concepts": "simon frasier", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "simon frasier"}, "reproduction": {"concepts": "reproduction", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "reproduction"}, "communities": {"concepts": "communities", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "communities"}, "puget sound": {"concepts": "puget sound", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "puget sound"}, "spring bloom": {"concepts": "spring bloom", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "spring bloom"}, "life stages": {"concepts": "life stages", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "life stages"}, "r package": {"concepts": "r package", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "r package"}, "interactions": {"concepts": "interactions", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "interactions"}, "literature review": {"concepts": "literature review", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "literature review"}, "basic science": {"concepts": "basic science", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "basic science"}, "noaa afsc": {"concepts": "noaa afsc", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "noaa afsc"}, "entanglements": {"concepts": "entanglements", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "entanglements"}, "connectivity effect": {"concepts": "connectivity effect", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "connectivity effect"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "harmful organisms"}, "modeling tools": {"concepts": "modeling tools", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "modeling tools"}, "reproductive success": {"concepts": "reproductive success", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "reproductive success"}, "positive effect": {"concepts": "positive effect", "type": "concept", "cluster": "Impact Effects", "node_size": 10, "label": "positive effect"}, "negative impact": {"concepts": "negative impact", "type": "concept", "cluster": "Impact Effects", "node_size": 10, "label": "negative impact"}, "positive impact": {"concepts": "positive impact", "type": "concept", "cluster": "Impact Effects", "node_size": 10, "label": "positive impact"}, "spillover effect": {"concepts": "spillover effect", "type": "concept", "cluster": "Impact Effects", "node_size": 10, "label": "spillover effect"}, "spillover effects": {"concepts": "spillover effects", "type": "concept", "cluster": "Impact Effects", "node_size": 10, "label": "spillover effects"}, "negative effect": {"concepts": "negative effect", "type": "concept", "cluster": "Impact Effects", "node_size": 10, "label": "negative effect"}, "tribal governments": {"concepts": "tribal governments", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "tribal governments"}, "medium positive": {"concepts": "medium positive", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "medium positive"}, "pest organism": {"concepts": "pest organism", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "pest organism"}, "regional office": {"concepts": "regional office", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "regional office"}, "spatial dynamics": {"concepts": "spatial dynamics", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "spatial dynamics"}, "high current area": {"concepts": "high current area", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "high current area"}, "puget sound restoration fund": {"concepts": "puget sound restoration fund", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "puget sound restoration fund"}, "low positive": {"concepts": "low positive", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "low positive"}, "subsistence fisheries": {"concepts": "subsistence fisheries", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "subsistence fisheries"}, "temporal dynamics": {"concepts": "temporal dynamics", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "temporal dynamics"}, "federal governments": {"concepts": "federal governments", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "federal governments"}, "technology adaptation": {"concepts": "technology adaptation", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "technology adaptation"}, "regulatory side": {"concepts": "regulatory side", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "regulatory side"}, "high current area.": {"concepts": "high current area.", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "high current area."}, "industry regulators": {"concepts": "industry regulators", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "industry regulators"}, "toxicity metrics": {"concepts": "toxicity metrics", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "toxicity metrics"}, "community governments": {"concepts": "community governments", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "community governments"}, "magnuson stevens act": {"concepts": "magnuson stevens act", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "magnuson stevens act"}, "high positive": {"concepts": "high positive", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "high positive"}, "permitting regulatory": {"concepts": "permitting regulatory", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "permitting regulatory"}, "habitat-forming species": {"concepts": "habitat-forming species", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "habitat-forming species"}, "kelp farming": {"concepts": "kelp farming", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "kelp farming"}, "farm permitting": {"concepts": "farm permitting", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "farm permitting"}, "habitat effects": {"concepts": "habitat effects", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "habitat effects"}, "kelp forest.": {"concepts": "kelp forest.", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "kelp forest."}, "kelp mapping project": {"concepts": "kelp mapping project", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "kelp mapping project"}, "kelp harvesting": {"concepts": "kelp harvesting", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "kelp harvesting"}, "size of farms": {"concepts": "size of farms", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "size of farms"}, "kelp habitat": {"concepts": "kelp habitat", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "kelp habitat"}, "habitat": {"concepts": "habitat", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "habitat"}, "novel habitat": {"concepts": "novel habitat", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "novel habitat"}, "bull kelp": {"concepts": "bull kelp", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "bull kelp"}, "number of farms": {"concepts": "number of farms", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "number of farms"}, "kelp": {"concepts": "kelp", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "kelp"}, "kelp detritus": {"concepts": "kelp detritus", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "kelp detritus"}, "kelp farms": {"concepts": "kelp farms", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "kelp farms"}, "ecosystem": {"concepts": "ecosystem", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "ecosystem"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "species of conservation concern"}, "biodiversity change": {"concepts": "biodiversity change", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "biodiversity change"}, "ecology": {"concepts": "ecology", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "ecology"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "invasive species"}, "foraging success": {"concepts": "foraging success", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "foraging success"}, "biological communities": {"concepts": "biological communities", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "biological communities"}, "fouling communities": {"concepts": "fouling communities", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "fouling communities"}, "biodiversity impact": {"concepts": "biodiversity impact", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "biodiversity impact"}, "foraging": {"concepts": "foraging", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "foraging"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "biodiversity"}, "key food web species": {"concepts": "key food web species", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "key food web species"}, "biological community composition": {"concepts": "biological community composition", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "biological community composition"}, "food web dynamics": {"concepts": "food web dynamics", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "food web dynamics"}, "feeding grounds": {"concepts": "feeding grounds", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "feeding grounds"}, "sink population": {"concepts": "sink population", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "sink population"}, "macro biodiversity": {"concepts": "macro biodiversity", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "macro biodiversity"}, "cumulative impact": {"concepts": "cumulative impact", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "cumulative impact"}, "cumulative effects": {"concepts": "cumulative effects", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "cumulative effects"}, "relative impact": {"concepts": "relative impact", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "relative impact"}, "medium impact": {"concepts": "medium impact", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "medium impact"}, "low effect": {"concepts": "low effect", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "low effect"}, "management approaches": {"concepts": "management approaches", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "management approaches"}, "management processes": {"concepts": "management processes", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "management processes"}, "high impact": {"concepts": "high impact", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "high impact"}, "net impact": {"concepts": "net impact", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "net impact"}, "low impact": {"concepts": "low impact", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "low impact"}, "medium effect": {"concepts": "medium effect", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "medium effect"}};
        const interClusterEdges = [["Spatial-Temporal Aspects", "Impact Assessment", {"weight": 1.0, "confidence": 0.74, "type": "inter_cluster", "style": "solid"}], ["Spatial-Temporal Aspects", "Biological Research", {"weight": 0.8, "confidence": 0.61, "type": "inter_cluster", "style": "solid"}], ["Spatial-Temporal Aspects", "Marine Resource Management", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Spatial-Temporal Aspects", "Biodiversity Dynamics", {"weight": 0.75, "confidence": 0.5625, "type": "inter_cluster", "style": "solid"}], ["Spatial-Temporal Aspects", "Impact Effects", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Spatial-Temporal Aspects", "Marine Ecosystems", {"weight": 0.6666666666666666, "confidence": 0.4833333333333334, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystems", "Biological Research", {"weight": 0.75, "confidence": 0.625, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystems", "Impact Effects", {"weight": 0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystems", "Impact Assessment", {"weight": 0.5, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystems", "Biodiversity Dynamics", {"weight": 0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Marine Resource Management", "Spatial-Temporal Aspects", {"weight": 1.0, "confidence": 0.7749999999999999, "type": "inter_cluster", "style": "solid"}], ["Marine Resource Management", "Government Regulations", {"weight": 0.8, "confidence": 0.61, "type": "inter_cluster", "style": "solid"}], ["Marine Resource Management", "Impact Assessment", {"weight": 0.75, "confidence": 0.5875, "type": "inter_cluster", "style": "solid"}], ["Marine Resource Management", "Biodiversity Dynamics", {"weight": 1.0, "confidence": 0.8166666666666668, "type": "inter_cluster", "style": "solid"}], ["Marine Resource Management", "Biological Research", {"weight": 0.6, "confidence": 0.45999999999999996, "type": "inter_cluster", "style": "solid"}], ["Marine Resource Management", "Marine Ecosystems", {"weight": 0.5, "confidence": 0.38749999999999996, "type": "inter_cluster", "style": "solid"}], ["Biological Research", "Spatial-Temporal Aspects", {"weight": 0.6, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Biological Research", "Marine Ecosystems", {"weight": 0.4, "confidence": 0.29, "type": "inter_cluster", "style": "solid"}], ["Biological Research", "Impact Effects", {"weight": 0.6666666666666666, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["Biological Research", "Kelp Farming", {"weight": 0.3333333333333333, "confidence": 0.26666666666666666, "type": "inter_cluster", "style": "solid"}], ["Biological Research", "Impact Assessment", {"weight": 0.3333333333333333, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}], ["Biological Research", "Marine Resource Management", {"weight": 0.25, "confidence": 0.1875, "type": "inter_cluster", "style": "solid"}], ["Impact Effects", "Marine Resource Management", {"weight": 1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Impact Effects", "Impact Assessment", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Impact Effects", "Biodiversity Dynamics", {"weight": 0.75, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Impact Effects", "Kelp Farming", {"weight": 0.6666666666666666, "confidence": 0.48333333333333334, "type": "inter_cluster", "style": "solid"}], ["Impact Effects", "Spatial-Temporal Aspects", {"weight": 0.5, "confidence": 0.35, "type": "inter_cluster", "style": "solid"}], ["Impact Effects", "Biological Research", {"weight": 0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Government Regulations", "Impact Effects", {"weight": 0.3333333333333333, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}], ["Government Regulations", "Biodiversity Dynamics", {"weight": 0.25, "confidence": 0.2, "type": "inter_cluster", "style": "solid"}], ["Kelp Farming", "Marine Resource Management", {"weight": 1.0, "confidence": 0.7625, "type": "inter_cluster", "style": "solid"}], ["Kelp Farming", "Impact Effects", {"weight": 1.0, "confidence": 0.7166666666666667, "type": "inter_cluster", "style": "solid"}], ["Kelp Farming", "Impact Assessment", {"weight": 0.6666666666666666, "confidence": 0.5166666666666667, "type": "inter_cluster", "style": "solid"}], ["Kelp Farming", "Spatial-Temporal Aspects", {"weight": 0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Kelp Farming", "Marine Ecosystems", {"weight": 0.6666666666666666, "confidence": 0.48333333333333334, "type": "inter_cluster", "style": "solid"}], ["Kelp Farming", "Biodiversity Dynamics", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Dynamics", "Kelp Farming", {"weight": 0.8, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Dynamics", "Marine Ecosystems", {"weight": 0.6666666666666666, "confidence": 0.48333333333333334, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Dynamics", "Impact Assessment", {"weight": 0.5, "confidence": 0.4125, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Dynamics", "Marine Resource Management", {"weight": 0.6666666666666666, "confidence": 0.5333333333333333, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Dynamics", "Spatial-Temporal Aspects", {"weight": 0.5, "confidence": 0.325, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Dynamics", "Biological Research", {"weight": 0.25, "confidence": 0.1875, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Dynamics", "Government Regulations", {"weight": 0.25, "confidence": 0.175, "type": "inter_cluster", "style": "solid"}], ["Impact Assessment", "Marine Resource Management", {"weight": 0.75, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Impact Assessment", "Kelp Farming", {"weight": 0.75, "confidence": 0.575, "type": "inter_cluster", "style": "solid"}], ["Impact Assessment", "Biological Research", {"weight": 0.75, "confidence": 0.5625, "type": "inter_cluster", "style": "solid"}], ["Impact Assessment", "Spatial-Temporal Aspects", {"weight": 0.75, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Impact Assessment", "Impact Effects", {"weight": 0.75, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Impact Assessment", "Marine Ecosystems", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Spatial-Temporal Aspects": [["spatial scales", {"concepts": "spatial scales", "type": "concept", "cluster": "Spatial-Temporal Aspects", "node_size": 10, "label": "spatial scales"}], ["spatial aspect", {"concepts": "spatial aspect", "type": "concept", "cluster": "Spatial-Temporal Aspects", "node_size": 10, "label": "spatial aspect"}], ["temporal aspect", {"concepts": "temporal aspect", "type": "concept", "cluster": "Spatial-Temporal Aspects", "node_size": 10, "label": "temporal aspect"}]], "Marine Ecosystems": [["subtidal zones", {"concepts": "subtidal zones", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "subtidal zones"}], ["benthic invertebrate species", {"concepts": "benthic invertebrate species", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "benthic invertebrate species"}], ["macroalgae", {"concepts": "macroalgae", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "macroalgae"}], ["phytoplankton communities", {"concepts": "phytoplankton communities", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "phytoplankton communities"}], ["benthic invertebrates", {"concepts": "benthic invertebrates", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "benthic invertebrates"}], ["surface nutrients", {"concepts": "surface nutrients", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "surface nutrients"}], ["benthic inverts", {"concepts": "benthic inverts", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "benthic inverts"}], ["organic matter", {"concepts": "organic matter", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "organic matter"}], ["benthic organisms", {"concepts": "benthic organisms", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "benthic organisms"}], ["intertidal zones", {"concepts": "intertidal zones", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "intertidal zones"}], ["macroalgae ecology", {"concepts": "macroalgae ecology", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "macroalgae ecology"}], ["upwelling season", {"concepts": "upwelling season", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "upwelling season"}], ["shore hardening", {"concepts": "shore hardening", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "shore hardening"}]], "Marine Resource Management": [["essential fish habitat", {"concepts": "essential fish habitat", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "essential fish habitat"}], ["salish sea", {"concepts": "salish sea", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "salish sea"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "marine resource management"}], ["recreational fisheries", {"concepts": "recreational fisheries", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "recreational fisheries"}], ["abalone husbandry", {"concepts": "abalone husbandry", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "abalone husbandry"}], ["salmon", {"concepts": "salmon", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "salmon"}], ["aquaculture industry", {"concepts": "aquaculture industry", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "aquaculture industry"}], ["forage fish", {"concepts": "forage fish", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "forage fish"}], ["research oyster hatchery", {"concepts": "research oyster hatchery", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "research oyster hatchery"}], ["mariculture", {"concepts": "mariculture", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "mariculture"}], ["fish aggregating device", {"concepts": "fish aggregating device", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "fish aggregating device"}], ["sport fisheries", {"concepts": "sport fisheries", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "sport fisheries"}], ["marine mammal protection act", {"concepts": "marine mammal protection act", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "marine mammal protection act"}], ["fish", {"concepts": "fish", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "fish"}], ["marine mammal populations", {"concepts": "marine mammal populations", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "marine mammal populations"}], ["salmon run", {"concepts": "salmon run", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "salmon run"}], ["rockfish", {"concepts": "rockfish", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "rockfish"}], ["shellfish", {"concepts": "shellfish", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "shellfish"}], ["commercial fisheries", {"concepts": "commercial fisheries", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "commercial fisheries"}], ["aquaculture gear", {"concepts": "aquaculture gear", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "aquaculture gear"}], ["fishing gear", {"concepts": "fishing gear", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "fishing gear"}], ["herring spawning location", {"concepts": "herring spawning location", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "herring spawning location"}], ["marine mammal population", {"concepts": "marine mammal population", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "marine mammal population"}], ["oyster health", {"concepts": "oyster health", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "oyster health"}], ["fish habitat", {"concepts": "fish habitat", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "fish habitat"}], ["seal haul out areas", {"concepts": "seal haul out areas", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "seal haul out areas"}], ["oyster farms", {"concepts": "oyster farms", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "oyster farms"}], ["marine mammal entanglement", {"concepts": "marine mammal entanglement", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "marine mammal entanglement"}], ["marine mammals", {"concepts": "marine mammals", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "marine mammals"}], ["kelp mariculture", {"concepts": "kelp mariculture", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "kelp mariculture"}]], "Biological Research": [["quantitative network model", {"concepts": "quantitative network model", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "quantitative network model"}], ["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "noaa"}], ["army corps", {"concepts": "army corps", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "army corps"}], ["connectivity", {"concepts": "connectivity", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "connectivity"}], ["biological activity", {"concepts": "biological activity", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "biological activity"}], ["data gaps", {"concepts": "data gaps", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "data gaps"}], ["halo effect", {"concepts": "halo effect", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "halo effect"}], ["biological organisms", {"concepts": "biological organisms", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "biological organisms"}], ["expert focus group", {"concepts": "expert focus group", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "expert focus group"}], ["aggregations", {"concepts": "aggregations", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "aggregations"}], ["bivalves", {"concepts": "bivalves", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "bivalves"}], ["genetic diversity", {"concepts": "genetic diversity", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "genetic diversity"}], ["temperature increases", {"concepts": "temperature increases", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "temperature increases"}], ["case studies", {"concepts": "case studies", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "case studies"}], ["esa", {"concepts": "esa", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "esa"}], ["alicia bishop", {"concepts": "alicia bishop", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "alicia bishop"}], ["migration corridors", {"concepts": "migration corridors", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "migration corridors"}], ["broadcast spawners", {"concepts": "broadcast spawners", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "broadcast spawners"}], ["adf&g", {"concepts": "adf&g", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "adf&g"}], ["infrastructure", {"concepts": "infrastructure", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "infrastructure"}], ["postdoc work", {"concepts": "postdoc work", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "postdoc work"}], ["permitting portal", {"concepts": "permitting portal", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "permitting portal"}], ["models", {"concepts": "models", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "models"}], ["disease", {"concepts": "disease", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "disease"}], ["tribes", {"concepts": "tribes", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "tribes"}], ["msa", {"concepts": "msa", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "msa"}], ["multiple stressors", {"concepts": "multiple stressors", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "multiple stressors"}], ["mmpa", {"concepts": "mmpa", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "mmpa"}], ["entanglement risk", {"concepts": "entanglement risk", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "entanglement risk"}], ["knowledge gaps", {"concepts": "knowledge gaps", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "knowledge gaps"}], ["science", {"concepts": "science", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "science"}], ["substrate", {"concepts": "substrate", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "substrate"}], ["efh", {"concepts": "efh", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "efh"}], ["selective breeding", {"concepts": "selective breeding", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "selective breeding"}], ["matrix", {"concepts": "matrix", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "matrix"}], ["consultations", {"concepts": "consultations", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "consultations"}], ["genetic contamination", {"concepts": "genetic contamination", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "genetic contamination"}], ["focus groups", {"concepts": "focus groups", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "focus groups"}], ["simon frasier", {"concepts": "simon frasier", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "simon frasier"}], ["reproduction", {"concepts": "reproduction", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "reproduction"}], ["communities", {"concepts": "communities", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "communities"}], ["puget sound", {"concepts": "puget sound", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "puget sound"}], ["spring bloom", {"concepts": "spring bloom", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "spring bloom"}], ["life stages", {"concepts": "life stages", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "life stages"}], ["r package", {"concepts": "r package", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "r package"}], ["interactions", {"concepts": "interactions", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "interactions"}], ["literature review", {"concepts": "literature review", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "literature review"}], ["basic science", {"concepts": "basic science", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "basic science"}], ["noaa afsc", {"concepts": "noaa afsc", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "noaa afsc"}], ["entanglements", {"concepts": "entanglements", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "entanglements"}], ["connectivity effect", {"concepts": "connectivity effect", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "connectivity effect"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "harmful organisms"}], ["modeling tools", {"concepts": "modeling tools", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "modeling tools"}], ["reproductive success", {"concepts": "reproductive success", "type": "concept", "cluster": "Biological Research", "node_size": 10, "label": "reproductive success"}]], "Impact Effects": [["positive effect", {"concepts": "positive effect", "type": "concept", "cluster": "Impact Effects", "node_size": 10, "label": "positive effect"}], ["negative impact", {"concepts": "negative impact", "type": "concept", "cluster": "Impact Effects", "node_size": 10, "label": "negative impact"}], ["positive impact", {"concepts": "positive impact", "type": "concept", "cluster": "Impact Effects", "node_size": 10, "label": "positive impact"}], ["spillover effect", {"concepts": "spillover effect", "type": "concept", "cluster": "Impact Effects", "node_size": 10, "label": "spillover effect"}], ["spillover effects", {"concepts": "spillover effects", "type": "concept", "cluster": "Impact Effects", "node_size": 10, "label": "spillover effects"}], ["negative effect", {"concepts": "negative effect", "type": "concept", "cluster": "Impact Effects", "node_size": 10, "label": "negative effect"}]], "Government Regulations": [["tribal governments", {"concepts": "tribal governments", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "tribal governments"}], ["medium positive", {"concepts": "medium positive", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "medium positive"}], ["pest organism", {"concepts": "pest organism", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "pest organism"}], ["regional office", {"concepts": "regional office", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "regional office"}], ["spatial dynamics", {"concepts": "spatial dynamics", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "spatial dynamics"}], ["high current area", {"concepts": "high current area", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "high current area"}], ["puget sound restoration fund", {"concepts": "puget sound restoration fund", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "puget sound restoration fund"}], ["low positive", {"concepts": "low positive", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "low positive"}], ["subsistence fisheries", {"concepts": "subsistence fisheries", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "subsistence fisheries"}], ["temporal dynamics", {"concepts": "temporal dynamics", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "temporal dynamics"}], ["federal governments", {"concepts": "federal governments", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "federal governments"}], ["technology adaptation", {"concepts": "technology adaptation", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "technology adaptation"}], ["regulatory side", {"concepts": "regulatory side", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "regulatory side"}], ["high current area.", {"concepts": "high current area.", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "high current area."}], ["industry regulators", {"concepts": "industry regulators", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "industry regulators"}], ["toxicity metrics", {"concepts": "toxicity metrics", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "toxicity metrics"}], ["community governments", {"concepts": "community governments", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "community governments"}], ["magnuson stevens act", {"concepts": "magnuson stevens act", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "magnuson stevens act"}], ["high positive", {"concepts": "high positive", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "high positive"}], ["permitting regulatory", {"concepts": "permitting regulatory", "type": "concept", "cluster": "Government Regulations", "node_size": 10, "label": "permitting regulatory"}]], "Kelp Farming": [["habitat-forming species", {"concepts": "habitat-forming species", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "habitat-forming species"}], ["kelp farming", {"concepts": "kelp farming", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "kelp farming"}], ["farm permitting", {"concepts": "farm permitting", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "farm permitting"}], ["habitat effects", {"concepts": "habitat effects", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "habitat effects"}], ["kelp forest.", {"concepts": "kelp forest.", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "kelp forest."}], ["kelp mapping project", {"concepts": "kelp mapping project", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "kelp mapping project"}], ["kelp harvesting", {"concepts": "kelp harvesting", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "kelp harvesting"}], ["size of farms", {"concepts": "size of farms", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "size of farms"}], ["kelp habitat", {"concepts": "kelp habitat", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "kelp habitat"}], ["habitat", {"concepts": "habitat", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "habitat"}], ["novel habitat", {"concepts": "novel habitat", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "novel habitat"}], ["bull kelp", {"concepts": "bull kelp", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "bull kelp"}], ["number of farms", {"concepts": "number of farms", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "number of farms"}], ["kelp", {"concepts": "kelp", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "kelp"}], ["kelp detritus", {"concepts": "kelp detritus", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "kelp detritus"}], ["kelp farms", {"concepts": "kelp farms", "type": "concept", "cluster": "Kelp Farming", "node_size": 10, "label": "kelp farms"}]], "Biodiversity Dynamics": [["ecosystem", {"concepts": "ecosystem", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "ecosystem"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "species of conservation concern"}], ["biodiversity change", {"concepts": "biodiversity change", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "biodiversity change"}], ["ecology", {"concepts": "ecology", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "ecology"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "invasive species"}], ["foraging success", {"concepts": "foraging success", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "foraging success"}], ["biological communities", {"concepts": "biological communities", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "biological communities"}], ["fouling communities", {"concepts": "fouling communities", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "fouling communities"}], ["biodiversity impact", {"concepts": "biodiversity impact", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "biodiversity impact"}], ["foraging", {"concepts": "foraging", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "foraging"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "biodiversity"}], ["key food web species", {"concepts": "key food web species", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "key food web species"}], ["biological community composition", {"concepts": "biological community composition", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "biological community composition"}], ["food web dynamics", {"concepts": "food web dynamics", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "food web dynamics"}], ["feeding grounds", {"concepts": "feeding grounds", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "feeding grounds"}], ["sink population", {"concepts": "sink population", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "sink population"}], ["macro biodiversity", {"concepts": "macro biodiversity", "type": "concept", "cluster": "Biodiversity Dynamics", "node_size": 10, "label": "macro biodiversity"}]], "Impact Assessment": [["cumulative impact", {"concepts": "cumulative impact", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "cumulative impact"}], ["cumulative effects", {"concepts": "cumulative effects", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "cumulative effects"}], ["relative impact", {"concepts": "relative impact", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "relative impact"}], ["medium impact", {"concepts": "medium impact", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "medium impact"}], ["low effect", {"concepts": "low effect", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "low effect"}], ["management approaches", {"concepts": "management approaches", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "management approaches"}], ["management processes", {"concepts": "management processes", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "management processes"}], ["high impact", {"concepts": "high impact", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "high impact"}], ["net impact", {"concepts": "net impact", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "net impact"}], ["low impact", {"concepts": "low impact", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "low impact"}], ["medium effect", {"concepts": "medium effect", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "medium effect"}]]};
        const clusterEdges = {"Spatial-Temporal Aspects": [], "Marine Ecosystems": [], "Marine Resource Management": [], "Biological Research": [], "Impact Effects": [], "Government Regulations": [], "Kelp Farming": [], "Biodiversity Dynamics": [], "Impact Assessment": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
