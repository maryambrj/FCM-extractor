
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"derelict fishing gear": {"concepts": "derelict fishing gear", "concept_list": ["derelict fishing gear"], "type": "cluster", "node_size": 18, "label": "derelict fishing gear"}, "Recreational Fishing": {"concepts": "fisheries, fishery productivity, commercial fishing, fishing industry, noaa fisheries", "concept_list": ["fisheries", "fishery productivity", "commercial fishing", "fishing industry", "noaa fisheries"], "type": "cluster", "node_size": 30, "label": "Recreational Fishing"}, "Recreational Activities": {"concepts": "recreational fishing, recreational opportunities", "concept_list": ["recreational fishing", "recreational opportunities"], "type": "cluster", "node_size": 21, "label": "Recreational Activities"}, "Marine Resource Management": {"concepts": "noaa, human use, species distribution, wind farm, research collaboration, species richness, education, place-based management, stressors, ecosystem-based management, storms, ecosystem, increased storm frequency, research, transmission cable, services, risk assessment, biogeography, no-take zones, industry collaboration, foundation species, ecosystem services, stakeholder relationships, management, hypoxia, selective removal, biodiversity, advisory council, threatened species, stakeholder engagement, species range shifts, tribal communities, endangered species, science communication, connectivity, regulation change, harmful organism, research opportunities, mental modeling, invasive species, subtropical invertebrates, conservation, observation network, competition for space, area-based management, resilience, competition, system components, sanctuary, kelp forests, cold spot, research coordinator, ecosystem based management, management strategies, food web, indigenous communities, science education, species evenness, community user groups, habs, no take zone, conservation concern, ecosystem resilience, potential invasion, biodiversity hotspot, storm frequency, indigenous population, voluntary cooperation, species diversity, kelp forest, sanctuary advisory council, upwelling reduction, key food web species, decision making, policy engagement, temporal pattern, upwelling, stressor, microplastics, increased temperatures, ecosystem protection, harmful organisms, food chain impacts, species of commercial interest, mental model, area based management, species of conservation concern, ambient conditions, military, food chain, space, spatial pattern, university of houston, noise pollution, environmental impact, no take areas, temperature, species conservation, wind farms, resistance, management approaches, stakeholders, biogeographic break, public outreach, condition assessments, cross-border cooperation, key food web supporting species, area-based tools, keystone species, no-take areas, carbon sequestration, science, place based management, species range shift, management actions, renewable energy, climate change, resource management", "concept_list": ["noaa", "human use", "species distribution", "wind farm", "research collaboration", "species richness", "education", "place-based management", "stressors", "ecosystem-based management", "storms", "ecosystem", "increased storm frequency", "research", "transmission cable", "services", "risk assessment", "biogeography", "no-take zones", "industry collaboration", "foundation species", "ecosystem services", "stakeholder relationships", "management", "hypoxia", "selective removal", "biodiversity", "advisory council", "threatened species", "stakeholder engagement", "species range shifts", "tribal communities", "endangered species", "science communication", "connectivity", "regulation change", "harmful organism", "research opportunities", "mental modeling", "invasive species", "subtropical invertebrates", "conservation", "observation network", "competition for space", "area-based management", "resilience", "competition", "system components", "sanctuary", "kelp forests", "cold spot", "research coordinator", "ecosystem based management", "management strategies", "food web", "indigenous communities", "science education", "species evenness", "community user groups", "habs", "no take zone", "conservation concern", "ecosystem resilience", "potential invasion", "biodiversity hotspot", "storm frequency", "indigenous population", "voluntary cooperation", "species diversity", "kelp forest", "sanctuary advisory council", "upwelling reduction", "key food web species", "decision making", "policy engagement", "temporal pattern", "upwelling", "stressor", "microplastics", "increased temperatures", "ecosystem protection", "harmful organisms", "food chain impacts", "species of commercial interest", "mental model", "area based management", "species of conservation concern", "ambient conditions", "military", "food chain", "space", "spatial pattern", "university of houston", "noise pollution", "environmental impact", "no take areas", "temperature", "species conservation", "wind farms", "resistance", "management approaches", "stakeholders", "biogeographic break", "public outreach", "condition assessments", "cross-border cooperation", "key food web supporting species", "area-based tools", "keystone species", "no-take areas", "carbon sequestration", "science", "place based management", "species range shift", "management actions", "renewable energy", "climate change", "resource management"], "type": "cluster", "node_size": 369, "label": "Marine Resource Management"}, "Marine Protected Areas": {"concepts": "channel islands national marine sanctuary, marine protected area, cetaceans, harmful algal blooms, seafloor mapping, marine protected areas, sponges, protected areas, whale watching, cetacean populations, national marine sanctuary, benthic habitat, bottom disturbance, marine debris, coral reef, oceanographic habitat, marine sanctuary program, deep sea corals, benthic disturbance, deep ocean, oil and gas development, oil and gas exploration, marine science, ocean acidification, shallow water, marine sanctuaries, gas exploration limits, sanctuary waters, marine biodiversity, deep sea coral", "concept_list": ["channel islands national marine sanctuary", "marine protected area", "cetaceans", "harmful algal blooms", "seafloor mapping", "marine protected areas", "sponges", "protected areas", "whale watching", "cetacean populations", "national marine sanctuary", "benthic habitat", "bottom disturbance", "marine debris", "coral reef", "oceanographic habitat", "marine sanctuary program", "deep sea corals", "benthic disturbance", "deep ocean", "oil and gas development", "oil and gas exploration", "marine science", "ocean acidification", "shallow water", "marine sanctuaries", "gas exploration limits", "sanctuary waters", "marine biodiversity", "deep sea coral"], "type": "cluster", "node_size": 105, "label": "Marine Protected Areas"}, "Habitat Protection": {"concepts": "habitat forming species, habitat use, habitat protection, habitat damage, habitat loss, habitat impact, habitat diversity", "concept_list": ["habitat forming species", "habitat use", "habitat protection", "habitat damage", "habitat loss", "habitat impact", "habitat diversity"], "type": "cluster", "node_size": 36, "label": "Habitat Protection"}, "Maritime Impact & Culture": {"concepts": "shipping vessels, ship strikes, cultural values, cultural interests, shipping lanes, vessel speed, cultural interest, species of recreational interest, shipping industry, species of cultural importance", "concept_list": ["shipping vessels", "ship strikes", "cultural values", "cultural interests", "shipping lanes", "vessel speed", "cultural interest", "species of recreational interest", "shipping industry", "species of cultural importance"], "type": "cluster", "node_size": 45, "label": "Maritime Impact & Culture"}};
        const conceptData = {"fisheries": {"concepts": "fisheries", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "fisheries"}, "fishery productivity": {"concepts": "fishery productivity", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "fishery productivity"}, "commercial fishing": {"concepts": "commercial fishing", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "commercial fishing"}, "fishing industry": {"concepts": "fishing industry", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "fishing industry"}, "noaa fisheries": {"concepts": "noaa fisheries", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "noaa fisheries"}, "recreational fishing": {"concepts": "recreational fishing", "type": "concept", "cluster": "Recreational Activities", "node_size": 10, "label": "recreational fishing"}, "recreational opportunities": {"concepts": "recreational opportunities", "type": "concept", "cluster": "Recreational Activities", "node_size": 10, "label": "recreational opportunities"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "noaa"}, "human use": {"concepts": "human use", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "human use"}, "species distribution": {"concepts": "species distribution", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species distribution"}, "wind farm": {"concepts": "wind farm", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "wind farm"}, "research collaboration": {"concepts": "research collaboration", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "research collaboration"}, "species richness": {"concepts": "species richness", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species richness"}, "education": {"concepts": "education", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "education"}, "place-based management": {"concepts": "place-based management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "place-based management"}, "stressors": {"concepts": "stressors", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "stressors"}, "ecosystem-based management": {"concepts": "ecosystem-based management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem-based management"}, "storms": {"concepts": "storms", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "storms"}, "ecosystem": {"concepts": "ecosystem", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem"}, "increased storm frequency": {"concepts": "increased storm frequency", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "increased storm frequency"}, "research": {"concepts": "research", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "research"}, "transmission cable": {"concepts": "transmission cable", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "transmission cable"}, "services": {"concepts": "services", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "services"}, "risk assessment": {"concepts": "risk assessment", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "risk assessment"}, "biogeography": {"concepts": "biogeography", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "biogeography"}, "no-take zones": {"concepts": "no-take zones", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "no-take zones"}, "industry collaboration": {"concepts": "industry collaboration", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "industry collaboration"}, "foundation species": {"concepts": "foundation species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "foundation species"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem services"}, "stakeholder relationships": {"concepts": "stakeholder relationships", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "stakeholder relationships"}, "management": {"concepts": "management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "management"}, "hypoxia": {"concepts": "hypoxia", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "hypoxia"}, "selective removal": {"concepts": "selective removal", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "selective removal"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "biodiversity"}, "advisory council": {"concepts": "advisory council", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "advisory council"}, "threatened species": {"concepts": "threatened species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "threatened species"}, "stakeholder engagement": {"concepts": "stakeholder engagement", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "stakeholder engagement"}, "species range shifts": {"concepts": "species range shifts", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species range shifts"}, "tribal communities": {"concepts": "tribal communities", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "tribal communities"}, "endangered species": {"concepts": "endangered species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "endangered species"}, "science communication": {"concepts": "science communication", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "science communication"}, "connectivity": {"concepts": "connectivity", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "connectivity"}, "regulation change": {"concepts": "regulation change", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "regulation change"}, "harmful organism": {"concepts": "harmful organism", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "harmful organism"}, "research opportunities": {"concepts": "research opportunities", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "research opportunities"}, "mental modeling": {"concepts": "mental modeling", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "mental modeling"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "invasive species"}, "subtropical invertebrates": {"concepts": "subtropical invertebrates", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "subtropical invertebrates"}, "conservation": {"concepts": "conservation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "conservation"}, "observation network": {"concepts": "observation network", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "observation network"}, "competition for space": {"concepts": "competition for space", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "competition for space"}, "area-based management": {"concepts": "area-based management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "area-based management"}, "resilience": {"concepts": "resilience", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "resilience"}, "competition": {"concepts": "competition", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "competition"}, "system components": {"concepts": "system components", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "system components"}, "sanctuary": {"concepts": "sanctuary", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "sanctuary"}, "kelp forests": {"concepts": "kelp forests", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "kelp forests"}, "cold spot": {"concepts": "cold spot", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "cold spot"}, "research coordinator": {"concepts": "research coordinator", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "research coordinator"}, "ecosystem based management": {"concepts": "ecosystem based management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem based management"}, "management strategies": {"concepts": "management strategies", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "management strategies"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "food web"}, "indigenous communities": {"concepts": "indigenous communities", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "indigenous communities"}, "science education": {"concepts": "science education", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "science education"}, "species evenness": {"concepts": "species evenness", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species evenness"}, "community user groups": {"concepts": "community user groups", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "community user groups"}, "habs": {"concepts": "habs", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "habs"}, "no take zone": {"concepts": "no take zone", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "no take zone"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "conservation concern"}, "ecosystem resilience": {"concepts": "ecosystem resilience", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem resilience"}, "potential invasion": {"concepts": "potential invasion", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "potential invasion"}, "biodiversity hotspot": {"concepts": "biodiversity hotspot", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "biodiversity hotspot"}, "storm frequency": {"concepts": "storm frequency", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "storm frequency"}, "indigenous population": {"concepts": "indigenous population", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "indigenous population"}, "voluntary cooperation": {"concepts": "voluntary cooperation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "voluntary cooperation"}, "species diversity": {"concepts": "species diversity", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species diversity"}, "kelp forest": {"concepts": "kelp forest", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "kelp forest"}, "sanctuary advisory council": {"concepts": "sanctuary advisory council", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "sanctuary advisory council"}, "upwelling reduction": {"concepts": "upwelling reduction", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "upwelling reduction"}, "key food web species": {"concepts": "key food web species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "key food web species"}, "decision making": {"concepts": "decision making", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "decision making"}, "policy engagement": {"concepts": "policy engagement", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "policy engagement"}, "temporal pattern": {"concepts": "temporal pattern", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "temporal pattern"}, "upwelling": {"concepts": "upwelling", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "upwelling"}, "stressor": {"concepts": "stressor", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "stressor"}, "microplastics": {"concepts": "microplastics", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "microplastics"}, "increased temperatures": {"concepts": "increased temperatures", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "increased temperatures"}, "ecosystem protection": {"concepts": "ecosystem protection", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem protection"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "harmful organisms"}, "food chain impacts": {"concepts": "food chain impacts", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "food chain impacts"}, "species of commercial interest": {"concepts": "species of commercial interest", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species of commercial interest"}, "mental model": {"concepts": "mental model", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "mental model"}, "area based management": {"concepts": "area based management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "area based management"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species of conservation concern"}, "ambient conditions": {"concepts": "ambient conditions", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ambient conditions"}, "military": {"concepts": "military", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "military"}, "food chain": {"concepts": "food chain", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "food chain"}, "space": {"concepts": "space", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "space"}, "spatial pattern": {"concepts": "spatial pattern", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "spatial pattern"}, "university of houston": {"concepts": "university of houston", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "university of houston"}, "noise pollution": {"concepts": "noise pollution", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "noise pollution"}, "environmental impact": {"concepts": "environmental impact", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "environmental impact"}, "no take areas": {"concepts": "no take areas", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "no take areas"}, "temperature": {"concepts": "temperature", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "temperature"}, "species conservation": {"concepts": "species conservation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species conservation"}, "wind farms": {"concepts": "wind farms", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "wind farms"}, "resistance": {"concepts": "resistance", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "resistance"}, "management approaches": {"concepts": "management approaches", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "management approaches"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "stakeholders"}, "biogeographic break": {"concepts": "biogeographic break", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "biogeographic break"}, "public outreach": {"concepts": "public outreach", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "public outreach"}, "condition assessments": {"concepts": "condition assessments", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "condition assessments"}, "cross-border cooperation": {"concepts": "cross-border cooperation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "cross-border cooperation"}, "key food web supporting species": {"concepts": "key food web supporting species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "key food web supporting species"}, "area-based tools": {"concepts": "area-based tools", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "area-based tools"}, "keystone species": {"concepts": "keystone species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "keystone species"}, "no-take areas": {"concepts": "no-take areas", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "no-take areas"}, "carbon sequestration": {"concepts": "carbon sequestration", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "carbon sequestration"}, "science": {"concepts": "science", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "science"}, "place based management": {"concepts": "place based management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "place based management"}, "species range shift": {"concepts": "species range shift", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species range shift"}, "management actions": {"concepts": "management actions", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "management actions"}, "renewable energy": {"concepts": "renewable energy", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "renewable energy"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "climate change"}, "resource management": {"concepts": "resource management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "resource management"}, "channel islands national marine sanctuary": {"concepts": "channel islands national marine sanctuary", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "channel islands national marine sanctuary"}, "marine protected area": {"concepts": "marine protected area", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "marine protected area"}, "cetaceans": {"concepts": "cetaceans", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "cetaceans"}, "harmful algal blooms": {"concepts": "harmful algal blooms", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "harmful algal blooms"}, "seafloor mapping": {"concepts": "seafloor mapping", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "seafloor mapping"}, "marine protected areas": {"concepts": "marine protected areas", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "marine protected areas"}, "sponges": {"concepts": "sponges", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "sponges"}, "protected areas": {"concepts": "protected areas", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "protected areas"}, "whale watching": {"concepts": "whale watching", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "whale watching"}, "cetacean populations": {"concepts": "cetacean populations", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "cetacean populations"}, "national marine sanctuary": {"concepts": "national marine sanctuary", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "national marine sanctuary"}, "benthic habitat": {"concepts": "benthic habitat", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "benthic habitat"}, "bottom disturbance": {"concepts": "bottom disturbance", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "bottom disturbance"}, "marine debris": {"concepts": "marine debris", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "marine debris"}, "coral reef": {"concepts": "coral reef", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "coral reef"}, "oceanographic habitat": {"concepts": "oceanographic habitat", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "oceanographic habitat"}, "marine sanctuary program": {"concepts": "marine sanctuary program", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "marine sanctuary program"}, "deep sea corals": {"concepts": "deep sea corals", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "deep sea corals"}, "benthic disturbance": {"concepts": "benthic disturbance", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "benthic disturbance"}, "deep ocean": {"concepts": "deep ocean", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "deep ocean"}, "oil and gas development": {"concepts": "oil and gas development", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "oil and gas development"}, "oil and gas exploration": {"concepts": "oil and gas exploration", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "oil and gas exploration"}, "marine science": {"concepts": "marine science", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "marine science"}, "ocean acidification": {"concepts": "ocean acidification", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "ocean acidification"}, "shallow water": {"concepts": "shallow water", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "shallow water"}, "marine sanctuaries": {"concepts": "marine sanctuaries", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "marine sanctuaries"}, "gas exploration limits": {"concepts": "gas exploration limits", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "gas exploration limits"}, "sanctuary waters": {"concepts": "sanctuary waters", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "sanctuary waters"}, "marine biodiversity": {"concepts": "marine biodiversity", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "marine biodiversity"}, "deep sea coral": {"concepts": "deep sea coral", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "deep sea coral"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "habitat forming species"}, "habitat use": {"concepts": "habitat use", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "habitat use"}, "habitat protection": {"concepts": "habitat protection", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "habitat protection"}, "habitat damage": {"concepts": "habitat damage", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "habitat damage"}, "habitat loss": {"concepts": "habitat loss", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "habitat loss"}, "habitat impact": {"concepts": "habitat impact", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "habitat impact"}, "habitat diversity": {"concepts": "habitat diversity", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "habitat diversity"}, "shipping vessels": {"concepts": "shipping vessels", "type": "concept", "cluster": "Maritime Impact & Culture", "node_size": 10, "label": "shipping vessels"}, "ship strikes": {"concepts": "ship strikes", "type": "concept", "cluster": "Maritime Impact & Culture", "node_size": 10, "label": "ship strikes"}, "cultural values": {"concepts": "cultural values", "type": "concept", "cluster": "Maritime Impact & Culture", "node_size": 10, "label": "cultural values"}, "cultural interests": {"concepts": "cultural interests", "type": "concept", "cluster": "Maritime Impact & Culture", "node_size": 10, "label": "cultural interests"}, "shipping lanes": {"concepts": "shipping lanes", "type": "concept", "cluster": "Maritime Impact & Culture", "node_size": 10, "label": "shipping lanes"}, "vessel speed": {"concepts": "vessel speed", "type": "concept", "cluster": "Maritime Impact & Culture", "node_size": 10, "label": "vessel speed"}, "cultural interest": {"concepts": "cultural interest", "type": "concept", "cluster": "Maritime Impact & Culture", "node_size": 10, "label": "cultural interest"}, "species of recreational interest": {"concepts": "species of recreational interest", "type": "concept", "cluster": "Maritime Impact & Culture", "node_size": 10, "label": "species of recreational interest"}, "shipping industry": {"concepts": "shipping industry", "type": "concept", "cluster": "Maritime Impact & Culture", "node_size": 10, "label": "shipping industry"}, "species of cultural importance": {"concepts": "species of cultural importance", "type": "concept", "cluster": "Maritime Impact & Culture", "node_size": 10, "label": "species of cultural importance"}};
        const interClusterEdges = [["derelict fishing gear", "Habitat Protection", {"weight": -1.0, "confidence": 0.9200000000000002, "type": "inter_cluster", "style": "solid"}], ["derelict fishing gear", "Recreational Fishing", {"weight": -1.0, "confidence": 0.8624999999999999, "type": "inter_cluster", "style": "solid"}], ["derelict fishing gear", "Marine Protected Areas", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["derelict fishing gear", "Recreational Activities", {"weight": -1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["Recreational Fishing", "derelict fishing gear", {"weight": 1.0, "confidence": 0.8166666666666668, "type": "inter_cluster", "style": "solid"}], ["Recreational Fishing", "Recreational Activities", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Recreational Fishing", "Habitat Protection", {"weight": -1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["Recreational Fishing", "Marine Resource Management", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Recreational Fishing", "Marine Protected Areas", {"weight": -1.0, "confidence": 0.6499999999999999, "type": "inter_cluster", "style": "solid"}], ["Recreational Activities", "Recreational Fishing", {"weight": 1.0, "confidence": 0.7250000000000001, "type": "inter_cluster", "style": "solid"}], ["Recreational Activities", "derelict fishing gear", {"weight": 1.0, "confidence": 0.7833333333333333, "type": "inter_cluster", "style": "solid"}], ["Recreational Activities", "Marine Resource Management", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Recreational Activities", "Habitat Protection", {"weight": -1.0, "confidence": 0.675, "type": "inter_cluster", "style": "solid"}], ["Marine Resource Management", "Marine Protected Areas", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Marine Resource Management", "Recreational Activities", {"weight": 1.0, "confidence": 0.7875000000000001, "type": "inter_cluster", "style": "solid"}], ["Marine Resource Management", "Recreational Fishing", {"weight": 1.0, "confidence": 0.7833333333333333, "type": "inter_cluster", "style": "solid"}], ["Marine Resource Management", "Maritime Impact & Culture", {"weight": 0.3333333333333333, "confidence": 0.7000000000000001, "type": "inter_cluster", "style": "solid"}], ["Marine Resource Management", "derelict fishing gear", {"weight": -1.0, "confidence": 0.6833333333333332, "type": "inter_cluster", "style": "solid"}], ["Marine Resource Management", "Habitat Protection", {"weight": 1.0, "confidence": 0.875, "type": "inter_cluster", "style": "solid"}], ["Marine Protected Areas", "Recreational Activities", {"weight": 1.0, "confidence": 0.7999999999999999, "type": "inter_cluster", "style": "solid"}], ["Marine Protected Areas", "derelict fishing gear", {"weight": -1.0, "confidence": 0.6999999999999998, "type": "inter_cluster", "style": "solid"}], ["Marine Protected Areas", "Maritime Impact & Culture", {"weight": -1.0, "confidence": 0.7166666666666667, "type": "inter_cluster", "style": "solid"}], ["Marine Protected Areas", "Marine Resource Management", {"weight": 0.6666666666666666, "confidence": 0.5833333333333334, "type": "inter_cluster", "style": "solid"}], ["Marine Protected Areas", "Habitat Protection", {"weight": 1.0, "confidence": 0.875, "type": "inter_cluster", "style": "solid"}], ["Marine Protected Areas", "Recreational Fishing", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Habitat Protection", "Recreational Fishing", {"weight": 1.0, "confidence": 0.82, "type": "inter_cluster", "style": "solid"}], ["Habitat Protection", "Recreational Activities", {"weight": 1.0, "confidence": 0.8250000000000001, "type": "inter_cluster", "style": "solid"}], ["Habitat Protection", "Maritime Impact & Culture", {"weight": -0.2, "confidence": 0.62, "type": "inter_cluster", "style": "solid"}], ["Habitat Protection", "Marine Resource Management", {"weight": 1.0, "confidence": 0.7666666666666667, "type": "inter_cluster", "style": "solid"}], ["Habitat Protection", "Marine Protected Areas", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Maritime Impact & Culture", "Marine Resource Management", {"weight": -0.3333333333333333, "confidence": 0.7666666666666666, "type": "inter_cluster", "style": "solid"}], ["Maritime Impact & Culture", "Habitat Protection", {"weight": -0.75, "confidence": 0.525, "type": "inter_cluster", "style": "solid"}], ["Maritime Impact & Culture", "Recreational Fishing", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Maritime Impact & Culture", "Marine Protected Areas", {"weight": -0.6666666666666666, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["Maritime Impact & Culture", "Recreational Activities", {"weight": -0.6666666666666666, "confidence": 0.4166666666666667, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Recreational Fishing": [["fisheries", {"concepts": "fisheries", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "fisheries"}], ["fishery productivity", {"concepts": "fishery productivity", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "fishery productivity"}], ["commercial fishing", {"concepts": "commercial fishing", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "commercial fishing"}], ["fishing industry", {"concepts": "fishing industry", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "fishing industry"}], ["noaa fisheries", {"concepts": "noaa fisheries", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "noaa fisheries"}]], "Recreational Activities": [["recreational fishing", {"concepts": "recreational fishing", "type": "concept", "cluster": "Recreational Activities", "node_size": 10, "label": "recreational fishing"}], ["recreational opportunities", {"concepts": "recreational opportunities", "type": "concept", "cluster": "Recreational Activities", "node_size": 10, "label": "recreational opportunities"}]], "Marine Resource Management": [["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "noaa"}], ["human use", {"concepts": "human use", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "human use"}], ["species distribution", {"concepts": "species distribution", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species distribution"}], ["wind farm", {"concepts": "wind farm", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "wind farm"}], ["research collaboration", {"concepts": "research collaboration", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "research collaboration"}], ["species richness", {"concepts": "species richness", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species richness"}], ["education", {"concepts": "education", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "education"}], ["place-based management", {"concepts": "place-based management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "place-based management"}], ["stressors", {"concepts": "stressors", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "stressors"}], ["ecosystem-based management", {"concepts": "ecosystem-based management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem-based management"}], ["storms", {"concepts": "storms", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "storms"}], ["ecosystem", {"concepts": "ecosystem", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem"}], ["increased storm frequency", {"concepts": "increased storm frequency", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "increased storm frequency"}], ["research", {"concepts": "research", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "research"}], ["transmission cable", {"concepts": "transmission cable", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "transmission cable"}], ["services", {"concepts": "services", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "services"}], ["risk assessment", {"concepts": "risk assessment", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "risk assessment"}], ["biogeography", {"concepts": "biogeography", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "biogeography"}], ["no-take zones", {"concepts": "no-take zones", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "no-take zones"}], ["industry collaboration", {"concepts": "industry collaboration", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "industry collaboration"}], ["foundation species", {"concepts": "foundation species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "foundation species"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem services"}], ["stakeholder relationships", {"concepts": "stakeholder relationships", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "stakeholder relationships"}], ["management", {"concepts": "management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "management"}], ["hypoxia", {"concepts": "hypoxia", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "hypoxia"}], ["selective removal", {"concepts": "selective removal", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "selective removal"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "biodiversity"}], ["advisory council", {"concepts": "advisory council", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "advisory council"}], ["threatened species", {"concepts": "threatened species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "threatened species"}], ["stakeholder engagement", {"concepts": "stakeholder engagement", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "stakeholder engagement"}], ["species range shifts", {"concepts": "species range shifts", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species range shifts"}], ["tribal communities", {"concepts": "tribal communities", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "tribal communities"}], ["endangered species", {"concepts": "endangered species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "endangered species"}], ["science communication", {"concepts": "science communication", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "science communication"}], ["connectivity", {"concepts": "connectivity", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "connectivity"}], ["regulation change", {"concepts": "regulation change", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "regulation change"}], ["harmful organism", {"concepts": "harmful organism", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "harmful organism"}], ["research opportunities", {"concepts": "research opportunities", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "research opportunities"}], ["mental modeling", {"concepts": "mental modeling", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "mental modeling"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "invasive species"}], ["subtropical invertebrates", {"concepts": "subtropical invertebrates", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "subtropical invertebrates"}], ["conservation", {"concepts": "conservation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "conservation"}], ["observation network", {"concepts": "observation network", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "observation network"}], ["competition for space", {"concepts": "competition for space", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "competition for space"}], ["area-based management", {"concepts": "area-based management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "area-based management"}], ["resilience", {"concepts": "resilience", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "resilience"}], ["competition", {"concepts": "competition", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "competition"}], ["system components", {"concepts": "system components", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "system components"}], ["sanctuary", {"concepts": "sanctuary", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "sanctuary"}], ["kelp forests", {"concepts": "kelp forests", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "kelp forests"}], ["cold spot", {"concepts": "cold spot", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "cold spot"}], ["research coordinator", {"concepts": "research coordinator", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "research coordinator"}], ["ecosystem based management", {"concepts": "ecosystem based management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem based management"}], ["management strategies", {"concepts": "management strategies", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "management strategies"}], ["food web", {"concepts": "food web", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "food web"}], ["indigenous communities", {"concepts": "indigenous communities", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "indigenous communities"}], ["science education", {"concepts": "science education", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "science education"}], ["species evenness", {"concepts": "species evenness", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species evenness"}], ["community user groups", {"concepts": "community user groups", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "community user groups"}], ["habs", {"concepts": "habs", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "habs"}], ["no take zone", {"concepts": "no take zone", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "no take zone"}], ["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "conservation concern"}], ["ecosystem resilience", {"concepts": "ecosystem resilience", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem resilience"}], ["potential invasion", {"concepts": "potential invasion", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "potential invasion"}], ["biodiversity hotspot", {"concepts": "biodiversity hotspot", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "biodiversity hotspot"}], ["storm frequency", {"concepts": "storm frequency", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "storm frequency"}], ["indigenous population", {"concepts": "indigenous population", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "indigenous population"}], ["voluntary cooperation", {"concepts": "voluntary cooperation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "voluntary cooperation"}], ["species diversity", {"concepts": "species diversity", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species diversity"}], ["kelp forest", {"concepts": "kelp forest", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "kelp forest"}], ["sanctuary advisory council", {"concepts": "sanctuary advisory council", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "sanctuary advisory council"}], ["upwelling reduction", {"concepts": "upwelling reduction", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "upwelling reduction"}], ["key food web species", {"concepts": "key food web species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "key food web species"}], ["decision making", {"concepts": "decision making", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "decision making"}], ["policy engagement", {"concepts": "policy engagement", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "policy engagement"}], ["temporal pattern", {"concepts": "temporal pattern", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "temporal pattern"}], ["upwelling", {"concepts": "upwelling", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "upwelling"}], ["stressor", {"concepts": "stressor", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "stressor"}], ["microplastics", {"concepts": "microplastics", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "microplastics"}], ["increased temperatures", {"concepts": "increased temperatures", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "increased temperatures"}], ["ecosystem protection", {"concepts": "ecosystem protection", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem protection"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "harmful organisms"}], ["food chain impacts", {"concepts": "food chain impacts", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "food chain impacts"}], ["species of commercial interest", {"concepts": "species of commercial interest", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species of commercial interest"}], ["mental model", {"concepts": "mental model", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "mental model"}], ["area based management", {"concepts": "area based management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "area based management"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species of conservation concern"}], ["ambient conditions", {"concepts": "ambient conditions", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ambient conditions"}], ["military", {"concepts": "military", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "military"}], ["food chain", {"concepts": "food chain", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "food chain"}], ["space", {"concepts": "space", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "space"}], ["spatial pattern", {"concepts": "spatial pattern", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "spatial pattern"}], ["university of houston", {"concepts": "university of houston", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "university of houston"}], ["noise pollution", {"concepts": "noise pollution", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "noise pollution"}], ["environmental impact", {"concepts": "environmental impact", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "environmental impact"}], ["no take areas", {"concepts": "no take areas", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "no take areas"}], ["temperature", {"concepts": "temperature", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "temperature"}], ["species conservation", {"concepts": "species conservation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species conservation"}], ["wind farms", {"concepts": "wind farms", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "wind farms"}], ["resistance", {"concepts": "resistance", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "resistance"}], ["management approaches", {"concepts": "management approaches", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "management approaches"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "stakeholders"}], ["biogeographic break", {"concepts": "biogeographic break", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "biogeographic break"}], ["public outreach", {"concepts": "public outreach", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "public outreach"}], ["condition assessments", {"concepts": "condition assessments", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "condition assessments"}], ["cross-border cooperation", {"concepts": "cross-border cooperation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "cross-border cooperation"}], ["key food web supporting species", {"concepts": "key food web supporting species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "key food web supporting species"}], ["area-based tools", {"concepts": "area-based tools", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "area-based tools"}], ["keystone species", {"concepts": "keystone species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "keystone species"}], ["no-take areas", {"concepts": "no-take areas", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "no-take areas"}], ["carbon sequestration", {"concepts": "carbon sequestration", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "carbon sequestration"}], ["science", {"concepts": "science", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "science"}], ["place based management", {"concepts": "place based management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "place based management"}], ["species range shift", {"concepts": "species range shift", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species range shift"}], ["management actions", {"concepts": "management actions", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "management actions"}], ["renewable energy", {"concepts": "renewable energy", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "renewable energy"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "climate change"}], ["resource management", {"concepts": "resource management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "resource management"}]], "Marine Protected Areas": [["channel islands national marine sanctuary", {"concepts": "channel islands national marine sanctuary", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "channel islands national marine sanctuary"}], ["marine protected area", {"concepts": "marine protected area", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "marine protected area"}], ["cetaceans", {"concepts": "cetaceans", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "cetaceans"}], ["harmful algal blooms", {"concepts": "harmful algal blooms", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "harmful algal blooms"}], ["seafloor mapping", {"concepts": "seafloor mapping", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "seafloor mapping"}], ["marine protected areas", {"concepts": "marine protected areas", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "marine protected areas"}], ["sponges", {"concepts": "sponges", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "sponges"}], ["protected areas", {"concepts": "protected areas", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "protected areas"}], ["whale watching", {"concepts": "whale watching", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "whale watching"}], ["cetacean populations", {"concepts": "cetacean populations", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "cetacean populations"}], ["national marine sanctuary", {"concepts": "national marine sanctuary", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "national marine sanctuary"}], ["benthic habitat", {"concepts": "benthic habitat", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "benthic habitat"}], ["bottom disturbance", {"concepts": "bottom disturbance", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "bottom disturbance"}], ["marine debris", {"concepts": "marine debris", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "marine debris"}], ["coral reef", {"concepts": "coral reef", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "coral reef"}], ["oceanographic habitat", {"concepts": "oceanographic habitat", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "oceanographic habitat"}], ["marine sanctuary program", {"concepts": "marine sanctuary program", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "marine sanctuary program"}], ["deep sea corals", {"concepts": "deep sea corals", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "deep sea corals"}], ["benthic disturbance", {"concepts": "benthic disturbance", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "benthic disturbance"}], ["deep ocean", {"concepts": "deep ocean", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "deep ocean"}], ["oil and gas development", {"concepts": "oil and gas development", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "oil and gas development"}], ["oil and gas exploration", {"concepts": "oil and gas exploration", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "oil and gas exploration"}], ["marine science", {"concepts": "marine science", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "marine science"}], ["ocean acidification", {"concepts": "ocean acidification", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "ocean acidification"}], ["shallow water", {"concepts": "shallow water", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "shallow water"}], ["marine sanctuaries", {"concepts": "marine sanctuaries", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "marine sanctuaries"}], ["gas exploration limits", {"concepts": "gas exploration limits", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "gas exploration limits"}], ["sanctuary waters", {"concepts": "sanctuary waters", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "sanctuary waters"}], ["marine biodiversity", {"concepts": "marine biodiversity", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "marine biodiversity"}], ["deep sea coral", {"concepts": "deep sea coral", "type": "concept", "cluster": "Marine Protected Areas", "node_size": 10, "label": "deep sea coral"}]], "Habitat Protection": [["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "habitat forming species"}], ["habitat use", {"concepts": "habitat use", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "habitat use"}], ["habitat protection", {"concepts": "habitat protection", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "habitat protection"}], ["habitat damage", {"concepts": "habitat damage", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "habitat damage"}], ["habitat loss", {"concepts": "habitat loss", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "habitat loss"}], ["habitat impact", {"concepts": "habitat impact", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "habitat impact"}], ["habitat diversity", {"concepts": "habitat diversity", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "habitat diversity"}]], "Maritime Impact & Culture": [["shipping vessels", {"concepts": "shipping vessels", "type": "concept", "cluster": "Maritime Impact & Culture", "node_size": 10, "label": "shipping vessels"}], ["ship strikes", {"concepts": "ship strikes", "type": "concept", "cluster": "Maritime Impact & Culture", "node_size": 10, "label": "ship strikes"}], ["cultural values", {"concepts": "cultural values", "type": "concept", "cluster": "Maritime Impact & Culture", "node_size": 10, "label": "cultural values"}], ["cultural interests", {"concepts": "cultural interests", "type": "concept", "cluster": "Maritime Impact & Culture", "node_size": 10, "label": "cultural interests"}], ["shipping lanes", {"concepts": "shipping lanes", "type": "concept", "cluster": "Maritime Impact & Culture", "node_size": 10, "label": "shipping lanes"}], ["vessel speed", {"concepts": "vessel speed", "type": "concept", "cluster": "Maritime Impact & Culture", "node_size": 10, "label": "vessel speed"}], ["cultural interest", {"concepts": "cultural interest", "type": "concept", "cluster": "Maritime Impact & Culture", "node_size": 10, "label": "cultural interest"}], ["species of recreational interest", {"concepts": "species of recreational interest", "type": "concept", "cluster": "Maritime Impact & Culture", "node_size": 10, "label": "species of recreational interest"}], ["shipping industry", {"concepts": "shipping industry", "type": "concept", "cluster": "Maritime Impact & Culture", "node_size": 10, "label": "shipping industry"}], ["species of cultural importance", {"concepts": "species of cultural importance", "type": "concept", "cluster": "Maritime Impact & Culture", "node_size": 10, "label": "species of cultural importance"}]]};
        const clusterEdges = {"Recreational Fishing": [], "Recreational Activities": [], "Marine Resource Management": [], "Marine Protected Areas": [], "Habitat Protection": [], "Maritime Impact & Culture": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
