
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Industry Growth Barriers": {"concepts": "industry gatekeepers, growth rate, male-dominated industry, social capital, industry reputation, industry expertise, industry dynamics, business growth, supply chain, commercial business, business requirements, customer relationships, market entry, growth management, capital investment, industry gatekeeping, woman-owned business, economic impact, business development", "concept_list": ["industry gatekeepers", "growth rate", "male-dominated industry", "social capital", "industry reputation", "industry expertise", "industry dynamics", "business growth", "supply chain", "commercial business", "business requirements", "customer relationships", "market entry", "growth management", "capital investment", "industry gatekeeping", "woman-owned business", "economic impact", "business development"], "type": "cluster", "node_size": 72, "label": "Industry Growth Barriers"}, "Climate Impact Agriculture": {"concepts": "commercial farming, winter winds, carbon footprint, urbanization, seasonal wind, drought, precipitation, watershed, summer winds, climate change, agriculture, thermal pollution", "concept_list": ["commercial farming", "winter winds", "carbon footprint", "urbanization", "seasonal wind", "drought", "precipitation", "watershed", "summer winds", "climate change", "agriculture", "thermal pollution"], "type": "cluster", "node_size": 51, "label": "Climate Impact Agriculture"}, "Operational Challenges": {"concepts": "leases, networking challenges, professional barriers, stakeholders, cleaning the bay, broodstock, boat traffic, easement fees", "concept_list": ["leases", "networking challenges", "professional barriers", "stakeholders", "cleaning the bay", "broodstock", "boat traffic", "easement fees"], "type": "cluster", "node_size": 39, "label": "Operational Challenges"}, "Environmental Research Factors": {"concepts": "jubilee, trophic level, epa funding, genetic diversity, executive committee, abiotic, declining, biotic, generational knowledge, science background, observations, research, resource constraints, temperature, biodiversity, eutrophied, mortality rates, ngos, germo, deadzone, dredging, publications, enforcement, gender bias, regulation, nature conservancy, money, seagrant, resilience, resource access, ship channel, salinity, climate organization, outfalls, professional recognition, hypoxia, nutrients, gear, bay, wave activity, calcium, technology, environmental factors, ph", "concept_list": ["jubilee", "trophic level", "epa funding", "genetic diversity", "executive committee", "abiotic", "declining", "biotic", "generational knowledge", "science background", "observations", "research", "resource constraints", "temperature", "biodiversity", "eutrophied", "mortality rates", "ngos", "germo", "deadzone", "dredging", "publications", "enforcement", "gender bias", "regulation", "nature conservancy", "money", "seagrant", "resilience", "resource access", "ship channel", "salinity", "climate organization", "outfalls", "professional recognition", "hypoxia", "nutrients", "gear", "bay", "wave activity", "calcium", "technology", "environmental factors", "ph"], "type": "cluster", "node_size": 147, "label": "Environmental Research Factors"}, "Water Quality Management": {"concepts": "dissolved organic material, water chemistry, nutrient input, storm drains, turbidity, living shorelines, privately owned wetlands, freshwater pulses, stormwater runoff, freshwater influx, algae sampling, water quality, sewage spills, restoration projects, waterfront access, salt-wedge estuary, cyanobacteria, navigable waterways, ocean acidification, waste water facility, headwaters, green algae", "concept_list": ["dissolved organic material", "water chemistry", "nutrient input", "storm drains", "turbidity", "living shorelines", "privately owned wetlands", "freshwater pulses", "stormwater runoff", "freshwater influx", "algae sampling", "water quality", "sewage spills", "restoration projects", "waterfront access", "salt-wedge estuary", "cyanobacteria", "navigable waterways", "ocean acidification", "waste water facility", "headwaters", "green algae"], "type": "cluster", "node_size": 81, "label": "Water Quality Management"}, "Community Collaboration Networks": {"concepts": "collaborative partnerships, founding families, academic collaboration, social networks, collaboration, family connections, professional networking, mentorship, community meetings, tight-knit community, education outreach", "concept_list": ["collaborative partnerships", "founding families", "academic collaboration", "social networks", "collaboration", "family connections", "professional networking", "mentorship", "community meetings", "tight-knit community", "education outreach"], "type": "cluster", "node_size": 48, "label": "Community Collaboration Networks"}, "Oyster Farming Characteristics": {"concepts": "diploid oysters, oysters, shellfish growth, shell color, oyster seed, shell loss, oyster mortality, triploid oysters, oyster farming, oyster growth", "concept_list": ["diploid oysters", "oysters", "shellfish growth", "shell color", "oyster seed", "shell loss", "oyster mortality", "triploid oysters", "oyster farming", "oyster growth"], "type": "cluster", "node_size": 45, "label": "Oyster Farming Characteristics"}};
        const conceptData = {"industry gatekeepers": {"concepts": "industry gatekeepers", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "industry gatekeepers"}, "growth rate": {"concepts": "growth rate", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "growth rate"}, "male-dominated industry": {"concepts": "male-dominated industry", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "male-dominated industry"}, "social capital": {"concepts": "social capital", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "social capital"}, "industry reputation": {"concepts": "industry reputation", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "industry reputation"}, "industry expertise": {"concepts": "industry expertise", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "industry expertise"}, "industry dynamics": {"concepts": "industry dynamics", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "industry dynamics"}, "business growth": {"concepts": "business growth", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "business growth"}, "supply chain": {"concepts": "supply chain", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "supply chain"}, "commercial business": {"concepts": "commercial business", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "commercial business"}, "business requirements": {"concepts": "business requirements", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "business requirements"}, "customer relationships": {"concepts": "customer relationships", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "customer relationships"}, "market entry": {"concepts": "market entry", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "market entry"}, "growth management": {"concepts": "growth management", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "growth management"}, "capital investment": {"concepts": "capital investment", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "capital investment"}, "industry gatekeeping": {"concepts": "industry gatekeeping", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "industry gatekeeping"}, "woman-owned business": {"concepts": "woman-owned business", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "woman-owned business"}, "economic impact": {"concepts": "economic impact", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "economic impact"}, "business development": {"concepts": "business development", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "business development"}, "commercial farming": {"concepts": "commercial farming", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "commercial farming"}, "winter winds": {"concepts": "winter winds", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "winter winds"}, "carbon footprint": {"concepts": "carbon footprint", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "carbon footprint"}, "urbanization": {"concepts": "urbanization", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "urbanization"}, "seasonal wind": {"concepts": "seasonal wind", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "seasonal wind"}, "drought": {"concepts": "drought", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "drought"}, "precipitation": {"concepts": "precipitation", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "precipitation"}, "watershed": {"concepts": "watershed", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "watershed"}, "summer winds": {"concepts": "summer winds", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "summer winds"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "climate change"}, "agriculture": {"concepts": "agriculture", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "agriculture"}, "thermal pollution": {"concepts": "thermal pollution", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "thermal pollution"}, "leases": {"concepts": "leases", "type": "concept", "cluster": "Operational Challenges", "node_size": 10, "label": "leases"}, "networking challenges": {"concepts": "networking challenges", "type": "concept", "cluster": "Operational Challenges", "node_size": 10, "label": "networking challenges"}, "professional barriers": {"concepts": "professional barriers", "type": "concept", "cluster": "Operational Challenges", "node_size": 10, "label": "professional barriers"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Operational Challenges", "node_size": 10, "label": "stakeholders"}, "cleaning the bay": {"concepts": "cleaning the bay", "type": "concept", "cluster": "Operational Challenges", "node_size": 10, "label": "cleaning the bay"}, "broodstock": {"concepts": "broodstock", "type": "concept", "cluster": "Operational Challenges", "node_size": 10, "label": "broodstock"}, "boat traffic": {"concepts": "boat traffic", "type": "concept", "cluster": "Operational Challenges", "node_size": 10, "label": "boat traffic"}, "easement fees": {"concepts": "easement fees", "type": "concept", "cluster": "Operational Challenges", "node_size": 10, "label": "easement fees"}, "jubilee": {"concepts": "jubilee", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "jubilee"}, "trophic level": {"concepts": "trophic level", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "trophic level"}, "epa funding": {"concepts": "epa funding", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "epa funding"}, "genetic diversity": {"concepts": "genetic diversity", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "genetic diversity"}, "executive committee": {"concepts": "executive committee", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "executive committee"}, "abiotic": {"concepts": "abiotic", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "abiotic"}, "declining": {"concepts": "declining", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "declining"}, "biotic": {"concepts": "biotic", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "biotic"}, "generational knowledge": {"concepts": "generational knowledge", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "generational knowledge"}, "science background": {"concepts": "science background", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "science background"}, "observations": {"concepts": "observations", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "observations"}, "research": {"concepts": "research", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "research"}, "resource constraints": {"concepts": "resource constraints", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "resource constraints"}, "temperature": {"concepts": "temperature", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "temperature"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "biodiversity"}, "eutrophied": {"concepts": "eutrophied", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "eutrophied"}, "mortality rates": {"concepts": "mortality rates", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "mortality rates"}, "ngos": {"concepts": "ngos", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "ngos"}, "germo": {"concepts": "germo", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "germo"}, "deadzone": {"concepts": "deadzone", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "deadzone"}, "dredging": {"concepts": "dredging", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "dredging"}, "publications": {"concepts": "publications", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "publications"}, "enforcement": {"concepts": "enforcement", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "enforcement"}, "gender bias": {"concepts": "gender bias", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "gender bias"}, "regulation": {"concepts": "regulation", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "regulation"}, "nature conservancy": {"concepts": "nature conservancy", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "nature conservancy"}, "money": {"concepts": "money", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "money"}, "seagrant": {"concepts": "seagrant", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "seagrant"}, "resilience": {"concepts": "resilience", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "resilience"}, "resource access": {"concepts": "resource access", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "resource access"}, "ship channel": {"concepts": "ship channel", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "ship channel"}, "salinity": {"concepts": "salinity", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "salinity"}, "climate organization": {"concepts": "climate organization", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "climate organization"}, "outfalls": {"concepts": "outfalls", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "outfalls"}, "professional recognition": {"concepts": "professional recognition", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "professional recognition"}, "hypoxia": {"concepts": "hypoxia", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "hypoxia"}, "nutrients": {"concepts": "nutrients", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "nutrients"}, "gear": {"concepts": "gear", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "gear"}, "bay": {"concepts": "bay", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "bay"}, "wave activity": {"concepts": "wave activity", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "wave activity"}, "calcium": {"concepts": "calcium", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "calcium"}, "technology": {"concepts": "technology", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "technology"}, "environmental factors": {"concepts": "environmental factors", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "environmental factors"}, "ph": {"concepts": "ph", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "ph"}, "dissolved organic material": {"concepts": "dissolved organic material", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "dissolved organic material"}, "water chemistry": {"concepts": "water chemistry", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "water chemistry"}, "nutrient input": {"concepts": "nutrient input", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "nutrient input"}, "storm drains": {"concepts": "storm drains", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "storm drains"}, "turbidity": {"concepts": "turbidity", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "turbidity"}, "living shorelines": {"concepts": "living shorelines", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "living shorelines"}, "privately owned wetlands": {"concepts": "privately owned wetlands", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "privately owned wetlands"}, "freshwater pulses": {"concepts": "freshwater pulses", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "freshwater pulses"}, "stormwater runoff": {"concepts": "stormwater runoff", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "stormwater runoff"}, "freshwater influx": {"concepts": "freshwater influx", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "freshwater influx"}, "algae sampling": {"concepts": "algae sampling", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "algae sampling"}, "water quality": {"concepts": "water quality", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "water quality"}, "sewage spills": {"concepts": "sewage spills", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "sewage spills"}, "restoration projects": {"concepts": "restoration projects", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "restoration projects"}, "waterfront access": {"concepts": "waterfront access", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "waterfront access"}, "salt-wedge estuary": {"concepts": "salt-wedge estuary", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "salt-wedge estuary"}, "cyanobacteria": {"concepts": "cyanobacteria", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "cyanobacteria"}, "navigable waterways": {"concepts": "navigable waterways", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "navigable waterways"}, "ocean acidification": {"concepts": "ocean acidification", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "ocean acidification"}, "waste water facility": {"concepts": "waste water facility", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "waste water facility"}, "headwaters": {"concepts": "headwaters", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "headwaters"}, "green algae": {"concepts": "green algae", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "green algae"}, "collaborative partnerships": {"concepts": "collaborative partnerships", "type": "concept", "cluster": "Community Collaboration Networks", "node_size": 10, "label": "collaborative partnerships"}, "founding families": {"concepts": "founding families", "type": "concept", "cluster": "Community Collaboration Networks", "node_size": 10, "label": "founding families"}, "academic collaboration": {"concepts": "academic collaboration", "type": "concept", "cluster": "Community Collaboration Networks", "node_size": 10, "label": "academic collaboration"}, "social networks": {"concepts": "social networks", "type": "concept", "cluster": "Community Collaboration Networks", "node_size": 10, "label": "social networks"}, "collaboration": {"concepts": "collaboration", "type": "concept", "cluster": "Community Collaboration Networks", "node_size": 10, "label": "collaboration"}, "family connections": {"concepts": "family connections", "type": "concept", "cluster": "Community Collaboration Networks", "node_size": 10, "label": "family connections"}, "professional networking": {"concepts": "professional networking", "type": "concept", "cluster": "Community Collaboration Networks", "node_size": 10, "label": "professional networking"}, "mentorship": {"concepts": "mentorship", "type": "concept", "cluster": "Community Collaboration Networks", "node_size": 10, "label": "mentorship"}, "community meetings": {"concepts": "community meetings", "type": "concept", "cluster": "Community Collaboration Networks", "node_size": 10, "label": "community meetings"}, "tight-knit community": {"concepts": "tight-knit community", "type": "concept", "cluster": "Community Collaboration Networks", "node_size": 10, "label": "tight-knit community"}, "education outreach": {"concepts": "education outreach", "type": "concept", "cluster": "Community Collaboration Networks", "node_size": 10, "label": "education outreach"}, "diploid oysters": {"concepts": "diploid oysters", "type": "concept", "cluster": "Oyster Farming Characteristics", "node_size": 10, "label": "diploid oysters"}, "oysters": {"concepts": "oysters", "type": "concept", "cluster": "Oyster Farming Characteristics", "node_size": 10, "label": "oysters"}, "shellfish growth": {"concepts": "shellfish growth", "type": "concept", "cluster": "Oyster Farming Characteristics", "node_size": 10, "label": "shellfish growth"}, "shell color": {"concepts": "shell color", "type": "concept", "cluster": "Oyster Farming Characteristics", "node_size": 10, "label": "shell color"}, "oyster seed": {"concepts": "oyster seed", "type": "concept", "cluster": "Oyster Farming Characteristics", "node_size": 10, "label": "oyster seed"}, "shell loss": {"concepts": "shell loss", "type": "concept", "cluster": "Oyster Farming Characteristics", "node_size": 10, "label": "shell loss"}, "oyster mortality": {"concepts": "oyster mortality", "type": "concept", "cluster": "Oyster Farming Characteristics", "node_size": 10, "label": "oyster mortality"}, "triploid oysters": {"concepts": "triploid oysters", "type": "concept", "cluster": "Oyster Farming Characteristics", "node_size": 10, "label": "triploid oysters"}, "oyster farming": {"concepts": "oyster farming", "type": "concept", "cluster": "Oyster Farming Characteristics", "node_size": 10, "label": "oyster farming"}, "oyster growth": {"concepts": "oyster growth", "type": "concept", "cluster": "Oyster Farming Characteristics", "node_size": 10, "label": "oyster growth"}};
        const interClusterEdges = [["Industry Growth Barriers", "Operational Challenges", {"weight": 1.0, "confidence": 0.8699999999999999, "type": "inter_cluster", "style": "solid"}], ["Industry Growth Barriers", "Community Collaboration Networks", {"weight": 0.2, "confidence": 0.82, "type": "inter_cluster", "style": "solid"}], ["Industry Growth Barriers", "Oyster Farming Characteristics", {"weight": -0.2, "confidence": 0.76, "type": "inter_cluster", "style": "solid"}], ["Industry Growth Barriers", "Environmental Research Factors", {"weight": -0.4, "confidence": 0.6300000000000001, "type": "inter_cluster", "style": "solid"}], ["Industry Growth Barriers", "Climate Impact Agriculture", {"weight": -0.6, "confidence": 0.43000000000000005, "type": "inter_cluster", "style": "solid"}], ["Climate Impact Agriculture", "Environmental Research Factors", {"weight": 0.2, "confidence": 0.8699999999999999, "type": "inter_cluster", "style": "solid"}], ["Climate Impact Agriculture", "Water Quality Management", {"weight": -0.2, "confidence": 0.8699999999999999, "type": "inter_cluster", "style": "solid"}], ["Climate Impact Agriculture", "Oyster Farming Characteristics", {"weight": 1.0, "confidence": 0.8100000000000002, "type": "inter_cluster", "style": "solid"}], ["Climate Impact Agriculture", "Industry Growth Barriers", {"weight": -1.0, "confidence": 0.72, "type": "inter_cluster", "style": "solid"}], ["Climate Impact Agriculture", "Community Collaboration Networks", {"weight": 0.2, "confidence": 0.12, "type": "inter_cluster", "style": "solid"}], ["Operational Challenges", "Environmental Research Factors", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Operational Challenges", "Industry Growth Barriers", {"weight": -0.2, "confidence": 0.79, "type": "inter_cluster", "style": "solid"}], ["Operational Challenges", "Oyster Farming Characteristics", {"weight": -0.6, "confidence": 0.78, "type": "inter_cluster", "style": "solid"}], ["Operational Challenges", "Water Quality Management", {"weight": -1.0, "confidence": 0.76, "type": "inter_cluster", "style": "solid"}], ["Operational Challenges", "Community Collaboration Networks", {"weight": -0.2, "confidence": 0.78, "type": "inter_cluster", "style": "solid"}], ["Operational Challenges", "Climate Impact Agriculture", {"weight": -0.8, "confidence": 0.58, "type": "inter_cluster", "style": "solid"}], ["Environmental Research Factors", "Oyster Farming Characteristics", {"weight": 0.6, "confidence": 0.89, "type": "inter_cluster", "style": "solid"}], ["Environmental Research Factors", "Climate Impact Agriculture", {"weight": 0.6, "confidence": 0.8800000000000001, "type": "inter_cluster", "style": "solid"}], ["Environmental Research Factors", "Water Quality Management", {"weight": 0.2, "confidence": 0.8600000000000001, "type": "inter_cluster", "style": "solid"}], ["Environmental Research Factors", "Community Collaboration Networks", {"weight": 0.2, "confidence": 0.8099999999999999, "type": "inter_cluster", "style": "solid"}], ["Environmental Research Factors", "Industry Growth Barriers", {"weight": 0.2, "confidence": 0.76, "type": "inter_cluster", "style": "solid"}], ["Environmental Research Factors", "Operational Challenges", {"weight": 0.6, "confidence": 0.7100000000000001, "type": "inter_cluster", "style": "solid"}], ["Water Quality Management", "Oyster Farming Characteristics", {"weight": 0.2, "confidence": 0.9099999999999999, "type": "inter_cluster", "style": "solid"}], ["Water Quality Management", "Environmental Research Factors", {"weight": 1.0, "confidence": 0.8600000000000001, "type": "inter_cluster", "style": "solid"}], ["Water Quality Management", "Climate Impact Agriculture", {"weight": 0.2, "confidence": 0.82, "type": "inter_cluster", "style": "solid"}], ["Water Quality Management", "Operational Challenges", {"weight": -0.6, "confidence": 0.71, "type": "inter_cluster", "style": "solid"}], ["Water Quality Management", "Community Collaboration Networks", {"weight": 1.0, "confidence": 0.6799999999999999, "type": "inter_cluster", "style": "solid"}], ["Community Collaboration Networks", "Environmental Research Factors", {"weight": 0.6, "confidence": 0.8300000000000001, "type": "inter_cluster", "style": "solid"}], ["Community Collaboration Networks", "Operational Challenges", {"weight": -0.6, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Community Collaboration Networks", "Industry Growth Barriers", {"weight": 0.2, "confidence": 0.77, "type": "inter_cluster", "style": "solid"}], ["Community Collaboration Networks", "Oyster Farming Characteristics", {"weight": 1.0, "confidence": 0.6900000000000001, "type": "inter_cluster", "style": "solid"}], ["Community Collaboration Networks", "Water Quality Management", {"weight": 0.8, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Community Collaboration Networks", "Climate Impact Agriculture", {"weight": 0.2, "confidence": 0.13999999999999999, "type": "inter_cluster", "style": "solid"}], ["Oyster Farming Characteristics", "Water Quality Management", {"weight": 0.2, "confidence": 0.89, "type": "inter_cluster", "style": "solid"}], ["Oyster Farming Characteristics", "Environmental Research Factors", {"weight": 0.6, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Oyster Farming Characteristics", "Industry Growth Barriers", {"weight": 0.6, "confidence": 0.8300000000000001, "type": "inter_cluster", "style": "solid"}], ["Oyster Farming Characteristics", "Climate Impact Agriculture", {"weight": 1.0, "confidence": 0.8099999999999999, "type": "inter_cluster", "style": "solid"}], ["Oyster Farming Characteristics", "Operational Challenges", {"weight": 1.0, "confidence": 0.7899999999999999, "type": "inter_cluster", "style": "solid"}], ["Oyster Farming Characteristics", "Community Collaboration Networks", {"weight": 0.8, "confidence": 0.59, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Industry Growth Barriers": [["industry gatekeepers", {"concepts": "industry gatekeepers", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "industry gatekeepers"}], ["growth rate", {"concepts": "growth rate", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "growth rate"}], ["male-dominated industry", {"concepts": "male-dominated industry", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "male-dominated industry"}], ["social capital", {"concepts": "social capital", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "social capital"}], ["industry reputation", {"concepts": "industry reputation", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "industry reputation"}], ["industry expertise", {"concepts": "industry expertise", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "industry expertise"}], ["industry dynamics", {"concepts": "industry dynamics", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "industry dynamics"}], ["business growth", {"concepts": "business growth", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "business growth"}], ["supply chain", {"concepts": "supply chain", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "supply chain"}], ["commercial business", {"concepts": "commercial business", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "commercial business"}], ["business requirements", {"concepts": "business requirements", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "business requirements"}], ["customer relationships", {"concepts": "customer relationships", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "customer relationships"}], ["market entry", {"concepts": "market entry", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "market entry"}], ["growth management", {"concepts": "growth management", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "growth management"}], ["capital investment", {"concepts": "capital investment", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "capital investment"}], ["industry gatekeeping", {"concepts": "industry gatekeeping", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "industry gatekeeping"}], ["woman-owned business", {"concepts": "woman-owned business", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "woman-owned business"}], ["economic impact", {"concepts": "economic impact", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "economic impact"}], ["business development", {"concepts": "business development", "type": "concept", "cluster": "Industry Growth Barriers", "node_size": 10, "label": "business development"}]], "Climate Impact Agriculture": [["commercial farming", {"concepts": "commercial farming", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "commercial farming"}], ["winter winds", {"concepts": "winter winds", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "winter winds"}], ["carbon footprint", {"concepts": "carbon footprint", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "carbon footprint"}], ["urbanization", {"concepts": "urbanization", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "urbanization"}], ["seasonal wind", {"concepts": "seasonal wind", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "seasonal wind"}], ["drought", {"concepts": "drought", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "drought"}], ["precipitation", {"concepts": "precipitation", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "precipitation"}], ["watershed", {"concepts": "watershed", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "watershed"}], ["summer winds", {"concepts": "summer winds", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "summer winds"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "climate change"}], ["agriculture", {"concepts": "agriculture", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "agriculture"}], ["thermal pollution", {"concepts": "thermal pollution", "type": "concept", "cluster": "Climate Impact Agriculture", "node_size": 10, "label": "thermal pollution"}]], "Operational Challenges": [["leases", {"concepts": "leases", "type": "concept", "cluster": "Operational Challenges", "node_size": 10, "label": "leases"}], ["networking challenges", {"concepts": "networking challenges", "type": "concept", "cluster": "Operational Challenges", "node_size": 10, "label": "networking challenges"}], ["professional barriers", {"concepts": "professional barriers", "type": "concept", "cluster": "Operational Challenges", "node_size": 10, "label": "professional barriers"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Operational Challenges", "node_size": 10, "label": "stakeholders"}], ["cleaning the bay", {"concepts": "cleaning the bay", "type": "concept", "cluster": "Operational Challenges", "node_size": 10, "label": "cleaning the bay"}], ["broodstock", {"concepts": "broodstock", "type": "concept", "cluster": "Operational Challenges", "node_size": 10, "label": "broodstock"}], ["boat traffic", {"concepts": "boat traffic", "type": "concept", "cluster": "Operational Challenges", "node_size": 10, "label": "boat traffic"}], ["easement fees", {"concepts": "easement fees", "type": "concept", "cluster": "Operational Challenges", "node_size": 10, "label": "easement fees"}]], "Environmental Research Factors": [["jubilee", {"concepts": "jubilee", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "jubilee"}], ["trophic level", {"concepts": "trophic level", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "trophic level"}], ["epa funding", {"concepts": "epa funding", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "epa funding"}], ["genetic diversity", {"concepts": "genetic diversity", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "genetic diversity"}], ["executive committee", {"concepts": "executive committee", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "executive committee"}], ["abiotic", {"concepts": "abiotic", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "abiotic"}], ["declining", {"concepts": "declining", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "declining"}], ["biotic", {"concepts": "biotic", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "biotic"}], ["generational knowledge", {"concepts": "generational knowledge", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "generational knowledge"}], ["science background", {"concepts": "science background", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "science background"}], ["observations", {"concepts": "observations", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "observations"}], ["research", {"concepts": "research", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "research"}], ["resource constraints", {"concepts": "resource constraints", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "resource constraints"}], ["temperature", {"concepts": "temperature", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "temperature"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "biodiversity"}], ["eutrophied", {"concepts": "eutrophied", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "eutrophied"}], ["mortality rates", {"concepts": "mortality rates", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "mortality rates"}], ["ngos", {"concepts": "ngos", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "ngos"}], ["germo", {"concepts": "germo", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "germo"}], ["deadzone", {"concepts": "deadzone", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "deadzone"}], ["dredging", {"concepts": "dredging", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "dredging"}], ["publications", {"concepts": "publications", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "publications"}], ["enforcement", {"concepts": "enforcement", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "enforcement"}], ["gender bias", {"concepts": "gender bias", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "gender bias"}], ["regulation", {"concepts": "regulation", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "regulation"}], ["nature conservancy", {"concepts": "nature conservancy", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "nature conservancy"}], ["money", {"concepts": "money", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "money"}], ["seagrant", {"concepts": "seagrant", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "seagrant"}], ["resilience", {"concepts": "resilience", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "resilience"}], ["resource access", {"concepts": "resource access", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "resource access"}], ["ship channel", {"concepts": "ship channel", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "ship channel"}], ["salinity", {"concepts": "salinity", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "salinity"}], ["climate organization", {"concepts": "climate organization", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "climate organization"}], ["outfalls", {"concepts": "outfalls", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "outfalls"}], ["professional recognition", {"concepts": "professional recognition", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "professional recognition"}], ["hypoxia", {"concepts": "hypoxia", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "hypoxia"}], ["nutrients", {"concepts": "nutrients", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "nutrients"}], ["gear", {"concepts": "gear", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "gear"}], ["bay", {"concepts": "bay", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "bay"}], ["wave activity", {"concepts": "wave activity", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "wave activity"}], ["calcium", {"concepts": "calcium", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "calcium"}], ["technology", {"concepts": "technology", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "technology"}], ["environmental factors", {"concepts": "environmental factors", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "environmental factors"}], ["ph", {"concepts": "ph", "type": "concept", "cluster": "Environmental Research Factors", "node_size": 10, "label": "ph"}]], "Water Quality Management": [["dissolved organic material", {"concepts": "dissolved organic material", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "dissolved organic material"}], ["water chemistry", {"concepts": "water chemistry", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "water chemistry"}], ["nutrient input", {"concepts": "nutrient input", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "nutrient input"}], ["storm drains", {"concepts": "storm drains", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "storm drains"}], ["turbidity", {"concepts": "turbidity", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "turbidity"}], ["living shorelines", {"concepts": "living shorelines", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "living shorelines"}], ["privately owned wetlands", {"concepts": "privately owned wetlands", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "privately owned wetlands"}], ["freshwater pulses", {"concepts": "freshwater pulses", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "freshwater pulses"}], ["stormwater runoff", {"concepts": "stormwater runoff", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "stormwater runoff"}], ["freshwater influx", {"concepts": "freshwater influx", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "freshwater influx"}], ["algae sampling", {"concepts": "algae sampling", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "algae sampling"}], ["water quality", {"concepts": "water quality", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "water quality"}], ["sewage spills", {"concepts": "sewage spills", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "sewage spills"}], ["restoration projects", {"concepts": "restoration projects", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "restoration projects"}], ["waterfront access", {"concepts": "waterfront access", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "waterfront access"}], ["salt-wedge estuary", {"concepts": "salt-wedge estuary", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "salt-wedge estuary"}], ["cyanobacteria", {"concepts": "cyanobacteria", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "cyanobacteria"}], ["navigable waterways", {"concepts": "navigable waterways", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "navigable waterways"}], ["ocean acidification", {"concepts": "ocean acidification", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "ocean acidification"}], ["waste water facility", {"concepts": "waste water facility", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "waste water facility"}], ["headwaters", {"concepts": "headwaters", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "headwaters"}], ["green algae", {"concepts": "green algae", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "green algae"}]], "Community Collaboration Networks": [["collaborative partnerships", {"concepts": "collaborative partnerships", "type": "concept", "cluster": "Community Collaboration Networks", "node_size": 10, "label": "collaborative partnerships"}], ["founding families", {"concepts": "founding families", "type": "concept", "cluster": "Community Collaboration Networks", "node_size": 10, "label": "founding families"}], ["academic collaboration", {"concepts": "academic collaboration", "type": "concept", "cluster": "Community Collaboration Networks", "node_size": 10, "label": "academic collaboration"}], ["social networks", {"concepts": "social networks", "type": "concept", "cluster": "Community Collaboration Networks", "node_size": 10, "label": "social networks"}], ["collaboration", {"concepts": "collaboration", "type": "concept", "cluster": "Community Collaboration Networks", "node_size": 10, "label": "collaboration"}], ["family connections", {"concepts": "family connections", "type": "concept", "cluster": "Community Collaboration Networks", "node_size": 10, "label": "family connections"}], ["professional networking", {"concepts": "professional networking", "type": "concept", "cluster": "Community Collaboration Networks", "node_size": 10, "label": "professional networking"}], ["mentorship", {"concepts": "mentorship", "type": "concept", "cluster": "Community Collaboration Networks", "node_size": 10, "label": "mentorship"}], ["community meetings", {"concepts": "community meetings", "type": "concept", "cluster": "Community Collaboration Networks", "node_size": 10, "label": "community meetings"}], ["tight-knit community", {"concepts": "tight-knit community", "type": "concept", "cluster": "Community Collaboration Networks", "node_size": 10, "label": "tight-knit community"}], ["education outreach", {"concepts": "education outreach", "type": "concept", "cluster": "Community Collaboration Networks", "node_size": 10, "label": "education outreach"}]], "Oyster Farming Characteristics": [["diploid oysters", {"concepts": "diploid oysters", "type": "concept", "cluster": "Oyster Farming Characteristics", "node_size": 10, "label": "diploid oysters"}], ["oysters", {"concepts": "oysters", "type": "concept", "cluster": "Oyster Farming Characteristics", "node_size": 10, "label": "oysters"}], ["shellfish growth", {"concepts": "shellfish growth", "type": "concept", "cluster": "Oyster Farming Characteristics", "node_size": 10, "label": "shellfish growth"}], ["shell color", {"concepts": "shell color", "type": "concept", "cluster": "Oyster Farming Characteristics", "node_size": 10, "label": "shell color"}], ["oyster seed", {"concepts": "oyster seed", "type": "concept", "cluster": "Oyster Farming Characteristics", "node_size": 10, "label": "oyster seed"}], ["shell loss", {"concepts": "shell loss", "type": "concept", "cluster": "Oyster Farming Characteristics", "node_size": 10, "label": "shell loss"}], ["oyster mortality", {"concepts": "oyster mortality", "type": "concept", "cluster": "Oyster Farming Characteristics", "node_size": 10, "label": "oyster mortality"}], ["triploid oysters", {"concepts": "triploid oysters", "type": "concept", "cluster": "Oyster Farming Characteristics", "node_size": 10, "label": "triploid oysters"}], ["oyster farming", {"concepts": "oyster farming", "type": "concept", "cluster": "Oyster Farming Characteristics", "node_size": 10, "label": "oyster farming"}], ["oyster growth", {"concepts": "oyster growth", "type": "concept", "cluster": "Oyster Farming Characteristics", "node_size": 10, "label": "oyster growth"}]]};
        const clusterEdges = {"Industry Growth Barriers": [], "Climate Impact Agriculture": [], "Operational Challenges": [], "Environmental Research Factors": [], "Water Quality Management": [], "Community Collaboration Networks": [], "Oyster Farming Characteristics": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
