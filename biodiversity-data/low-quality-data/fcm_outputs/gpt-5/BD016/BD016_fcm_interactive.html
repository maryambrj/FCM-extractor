
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Species Conservation": {"concepts": "squid, commercial catch", "concept_list": ["squid", "commercial catch"], "type": "cluster", "node_size": 21, "label": "Species Conservation"}, "Fisheries Management": {"concepts": "ecosystem sensitivity, ecosystem impacts, ecosystem-based management, ecosystem effects, ecosystem grouping, ecosystem, ecosystem approach, climate change, sensitive ecosystems", "concept_list": ["ecosystem sensitivity", "ecosystem impacts", "ecosystem-based management", "ecosystem effects", "ecosystem grouping", "ecosystem", "ecosystem approach", "climate change", "sensitive ecosystems"], "type": "cluster", "node_size": 42, "label": "Fisheries Management"}, "Habitat Protection": {"concepts": "esa work, vertical lines, pot gear, advisory process, cooperative research, efh designations, federal rulemaking, biological opinions, nepa analysis, mental modeler, herring, consultations process, magnuson act, research track assessment, shad, nmfs, atlantic region, risk policy, boem, reasonable and prudent measures, ebfm guidance, mackerel, incidental limit, federal permitting, decision making, chub mackerel, blueback herring, biological opinion, small mesh gill nets, mrep program, nepa analyses, nepa documents, council, range shifts, area-based measures, noaa consultations, esa regulations, permitting decisions, thread herring, trade-offs, illex squid, council process, bycatch analysis, esa mandates, new york, stakeholders, atlantic mackerel, bycatch cap, large mesh gill nets, low abundance runs, noaa consultation, mrip program, conceptual models, canyon closures, precautionary quota, bycatch, bycatch reduction, quota decisions, scientific research, council priorities, vertical lines reduction, mid-atlantic, consultation process, observer coverage, efh, blueback, bycatch caps, long island, area closures, atlantic herring, alewife, canyons, mental models, wind farms", "concept_list": ["esa work", "vertical lines", "pot gear", "advisory process", "cooperative research", "efh designations", "federal rulemaking", "biological opinions", "nepa analysis", "mental modeler", "herring", "consultations process", "magnuson act", "research track assessment", "shad", "nmfs", "atlantic region", "risk policy", "boem", "reasonable and prudent measures", "ebfm guidance", "mackerel", "incidental limit", "federal permitting", "decision making", "chub mackerel", "blueback herring", "biological opinion", "small mesh gill nets", "mrep program", "nepa analyses", "nepa documents", "council", "range shifts", "area-based measures", "noaa consultations", "esa regulations", "permitting decisions", "thread herring", "trade-offs", "illex squid", "council process", "bycatch analysis", "esa mandates", "new york", "stakeholders", "atlantic mackerel", "bycatch cap", "large mesh gill nets", "low abundance runs", "noaa consultation", "mrip program", "conceptual models", "canyon closures", "precautionary quota", "bycatch", "bycatch reduction", "quota decisions", "scientific research", "council priorities", "vertical lines reduction", "mid-atlantic", "consultation process", "observer coverage", "efh", "blueback", "bycatch caps", "long island", "area closures", "atlantic herring", "alewife", "canyons", "mental models", "wind farms"], "type": "cluster", "node_size": 237, "label": "Habitat Protection"}, "Population Dynamics": {"concepts": "habitat designation, habitat effects, habitat grouping, habitat impacts, habitat forming species, habitat issue, habitat measures, habitat protection, habitat", "concept_list": ["habitat designation", "habitat effects", "habitat grouping", "habitat impacts", "habitat forming species", "habitat issue", "habitat measures", "habitat protection", "habitat"], "type": "cluster", "node_size": 42, "label": "Population Dynamics"}, "Squid Fishery": {"concepts": "population status, population distribution, population levels, regional populations, population impacts, cumulative effects analysis, recruitment variability, distinct population segment, recruitment", "concept_list": ["population status", "population distribution", "population levels", "regional populations", "population impacts", "cumulative effects analysis", "recruitment variability", "distinct population segment", "recruitment"], "type": "cluster", "node_size": 42, "label": "Squid Fishery"}, "Fishing Management": {"concepts": "fishing impacts, fishing effort reduction, fishing mortality, commercial fishing, recreational fishing, fishing communities, exempted fishing permits, subsistence fishing, fishing effort, recreational sector, fishing effort control, turtle catch reduction, national fishing effects database, recreational catch", "concept_list": ["fishing impacts", "fishing effort reduction", "fishing mortality", "commercial fishing", "recreational fishing", "fishing communities", "exempted fishing permits", "subsistence fishing", "fishing effort", "recreational sector", "fishing effort control", "turtle catch reduction", "national fishing effects database", "recreational catch"], "type": "cluster", "node_size": 57, "label": "Fishing Management"}, "Whale & Turtle Conservation": {"concepts": "rebuilding plan, large whale take reduction team, whales, right whale interactions, right whales, turtle takes", "concept_list": ["rebuilding plan", "large whale take reduction team", "whales", "right whale interactions", "right whales", "turtle takes"], "type": "cluster", "node_size": 33, "label": "Whale & Turtle Conservation"}, "Marine Ecosystem Management": {"concepts": "river herring, marine biodiversity, eutrophication, fish population genetics, black sea bass, marine habitat, essential fish habitat, spawning grounds, summer flounder, shelf break areas, shelf break, healthy marine ecosystems, turtles, choptank river, sea turtles, marine mammals, wild oceans, fish habitat, river herring and shad caps, marine infrastructure, marine resource management", "concept_list": ["river herring", "marine biodiversity", "eutrophication", "fish population genetics", "black sea bass", "marine habitat", "essential fish habitat", "spawning grounds", "summer flounder", "shelf break areas", "shelf break", "healthy marine ecosystems", "turtles", "choptank river", "sea turtles", "marine mammals", "wild oceans", "fish habitat", "river herring and shad caps", "marine infrastructure", "marine resource management"], "type": "cluster", "node_size": 78, "label": "Marine Ecosystem Management"}, "Commercial Fish Species": {"concepts": "tilefish, monkfish, longfin squid, blueline tilefish, groundfish, butterfish, spiny dogfish, dogfish", "concept_list": ["tilefish", "monkfish", "longfin squid", "blueline tilefish", "groundfish", "butterfish", "spiny dogfish", "dogfish"], "type": "cluster", "node_size": 39, "label": "Commercial Fish Species"}, "Management Strategy": {"concepts": "management action, strategic plan, adaptive management, management approaches, management track assessment, management area", "concept_list": ["management action", "strategic plan", "adaptive management", "management approaches", "management track assessment", "management area"], "type": "cluster", "node_size": 33, "label": "Management Strategy"}, "Genetic Stock Management": {"concepts": "stock assessment, genetic stocks, stock management, support industries, genetic studies, genetic differentiation, genetic analysis, genetic diversity, stock structure, commercial sector, individual stocks", "concept_list": ["stock assessment", "genetic stocks", "stock management", "support industries", "genetic studies", "genetic differentiation", "genetic analysis", "genetic diversity", "stock structure", "commercial sector", "individual stocks"], "type": "cluster", "node_size": 48, "label": "Genetic Stock Management"}};
        const conceptData = {"squid": {"concepts": "squid", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "squid"}, "commercial catch": {"concepts": "commercial catch", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "commercial catch"}, "ecosystem sensitivity": {"concepts": "ecosystem sensitivity", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "ecosystem sensitivity"}, "ecosystem impacts": {"concepts": "ecosystem impacts", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "ecosystem impacts"}, "ecosystem-based management": {"concepts": "ecosystem-based management", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "ecosystem-based management"}, "ecosystem effects": {"concepts": "ecosystem effects", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "ecosystem effects"}, "ecosystem grouping": {"concepts": "ecosystem grouping", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "ecosystem grouping"}, "ecosystem": {"concepts": "ecosystem", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "ecosystem"}, "ecosystem approach": {"concepts": "ecosystem approach", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "ecosystem approach"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "climate change"}, "sensitive ecosystems": {"concepts": "sensitive ecosystems", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "sensitive ecosystems"}, "esa work": {"concepts": "esa work", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "esa work"}, "vertical lines": {"concepts": "vertical lines", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "vertical lines"}, "pot gear": {"concepts": "pot gear", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "pot gear"}, "advisory process": {"concepts": "advisory process", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "advisory process"}, "cooperative research": {"concepts": "cooperative research", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "cooperative research"}, "efh designations": {"concepts": "efh designations", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "efh designations"}, "federal rulemaking": {"concepts": "federal rulemaking", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "federal rulemaking"}, "biological opinions": {"concepts": "biological opinions", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "biological opinions"}, "nepa analysis": {"concepts": "nepa analysis", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "nepa analysis"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "mental modeler"}, "herring": {"concepts": "herring", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "herring"}, "consultations process": {"concepts": "consultations process", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "consultations process"}, "magnuson act": {"concepts": "magnuson act", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "magnuson act"}, "research track assessment": {"concepts": "research track assessment", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "research track assessment"}, "shad": {"concepts": "shad", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "shad"}, "nmfs": {"concepts": "nmfs", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "nmfs"}, "atlantic region": {"concepts": "atlantic region", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "atlantic region"}, "risk policy": {"concepts": "risk policy", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "risk policy"}, "boem": {"concepts": "boem", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "boem"}, "reasonable and prudent measures": {"concepts": "reasonable and prudent measures", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "reasonable and prudent measures"}, "ebfm guidance": {"concepts": "ebfm guidance", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "ebfm guidance"}, "mackerel": {"concepts": "mackerel", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "mackerel"}, "incidental limit": {"concepts": "incidental limit", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "incidental limit"}, "federal permitting": {"concepts": "federal permitting", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "federal permitting"}, "decision making": {"concepts": "decision making", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "decision making"}, "chub mackerel": {"concepts": "chub mackerel", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "chub mackerel"}, "blueback herring": {"concepts": "blueback herring", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "blueback herring"}, "biological opinion": {"concepts": "biological opinion", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "biological opinion"}, "small mesh gill nets": {"concepts": "small mesh gill nets", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "small mesh gill nets"}, "mrep program": {"concepts": "mrep program", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "mrep program"}, "nepa analyses": {"concepts": "nepa analyses", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "nepa analyses"}, "nepa documents": {"concepts": "nepa documents", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "nepa documents"}, "council": {"concepts": "council", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "council"}, "range shifts": {"concepts": "range shifts", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "range shifts"}, "area-based measures": {"concepts": "area-based measures", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "area-based measures"}, "noaa consultations": {"concepts": "noaa consultations", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "noaa consultations"}, "esa regulations": {"concepts": "esa regulations", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "esa regulations"}, "permitting decisions": {"concepts": "permitting decisions", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "permitting decisions"}, "thread herring": {"concepts": "thread herring", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "thread herring"}, "trade-offs": {"concepts": "trade-offs", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "trade-offs"}, "illex squid": {"concepts": "illex squid", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "illex squid"}, "council process": {"concepts": "council process", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "council process"}, "bycatch analysis": {"concepts": "bycatch analysis", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "bycatch analysis"}, "esa mandates": {"concepts": "esa mandates", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "esa mandates"}, "new york": {"concepts": "new york", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "new york"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "stakeholders"}, "atlantic mackerel": {"concepts": "atlantic mackerel", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "atlantic mackerel"}, "bycatch cap": {"concepts": "bycatch cap", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "bycatch cap"}, "large mesh gill nets": {"concepts": "large mesh gill nets", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "large mesh gill nets"}, "low abundance runs": {"concepts": "low abundance runs", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "low abundance runs"}, "noaa consultation": {"concepts": "noaa consultation", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "noaa consultation"}, "mrip program": {"concepts": "mrip program", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "mrip program"}, "conceptual models": {"concepts": "conceptual models", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "conceptual models"}, "canyon closures": {"concepts": "canyon closures", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "canyon closures"}, "precautionary quota": {"concepts": "precautionary quota", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "precautionary quota"}, "bycatch": {"concepts": "bycatch", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "bycatch"}, "bycatch reduction": {"concepts": "bycatch reduction", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "bycatch reduction"}, "quota decisions": {"concepts": "quota decisions", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "quota decisions"}, "scientific research": {"concepts": "scientific research", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "scientific research"}, "council priorities": {"concepts": "council priorities", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "council priorities"}, "vertical lines reduction": {"concepts": "vertical lines reduction", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "vertical lines reduction"}, "mid-atlantic": {"concepts": "mid-atlantic", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "mid-atlantic"}, "consultation process": {"concepts": "consultation process", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "consultation process"}, "observer coverage": {"concepts": "observer coverage", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "observer coverage"}, "efh": {"concepts": "efh", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "efh"}, "blueback": {"concepts": "blueback", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "blueback"}, "bycatch caps": {"concepts": "bycatch caps", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "bycatch caps"}, "long island": {"concepts": "long island", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "long island"}, "area closures": {"concepts": "area closures", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "area closures"}, "atlantic herring": {"concepts": "atlantic herring", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "atlantic herring"}, "alewife": {"concepts": "alewife", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "alewife"}, "canyons": {"concepts": "canyons", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "canyons"}, "mental models": {"concepts": "mental models", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "mental models"}, "wind farms": {"concepts": "wind farms", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "wind farms"}, "habitat designation": {"concepts": "habitat designation", "type": "concept", "cluster": "Population Dynamics", "node_size": 10, "label": "habitat designation"}, "habitat effects": {"concepts": "habitat effects", "type": "concept", "cluster": "Population Dynamics", "node_size": 10, "label": "habitat effects"}, "habitat grouping": {"concepts": "habitat grouping", "type": "concept", "cluster": "Population Dynamics", "node_size": 10, "label": "habitat grouping"}, "habitat impacts": {"concepts": "habitat impacts", "type": "concept", "cluster": "Population Dynamics", "node_size": 10, "label": "habitat impacts"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Population Dynamics", "node_size": 10, "label": "habitat forming species"}, "habitat issue": {"concepts": "habitat issue", "type": "concept", "cluster": "Population Dynamics", "node_size": 10, "label": "habitat issue"}, "habitat measures": {"concepts": "habitat measures", "type": "concept", "cluster": "Population Dynamics", "node_size": 10, "label": "habitat measures"}, "habitat protection": {"concepts": "habitat protection", "type": "concept", "cluster": "Population Dynamics", "node_size": 10, "label": "habitat protection"}, "habitat": {"concepts": "habitat", "type": "concept", "cluster": "Population Dynamics", "node_size": 10, "label": "habitat"}, "population status": {"concepts": "population status", "type": "concept", "cluster": "Squid Fishery", "node_size": 10, "label": "population status"}, "population distribution": {"concepts": "population distribution", "type": "concept", "cluster": "Squid Fishery", "node_size": 10, "label": "population distribution"}, "population levels": {"concepts": "population levels", "type": "concept", "cluster": "Squid Fishery", "node_size": 10, "label": "population levels"}, "regional populations": {"concepts": "regional populations", "type": "concept", "cluster": "Squid Fishery", "node_size": 10, "label": "regional populations"}, "population impacts": {"concepts": "population impacts", "type": "concept", "cluster": "Squid Fishery", "node_size": 10, "label": "population impacts"}, "cumulative effects analysis": {"concepts": "cumulative effects analysis", "type": "concept", "cluster": "Squid Fishery", "node_size": 10, "label": "cumulative effects analysis"}, "recruitment variability": {"concepts": "recruitment variability", "type": "concept", "cluster": "Squid Fishery", "node_size": 10, "label": "recruitment variability"}, "distinct population segment": {"concepts": "distinct population segment", "type": "concept", "cluster": "Squid Fishery", "node_size": 10, "label": "distinct population segment"}, "recruitment": {"concepts": "recruitment", "type": "concept", "cluster": "Squid Fishery", "node_size": 10, "label": "recruitment"}, "fishing impacts": {"concepts": "fishing impacts", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "fishing impacts"}, "fishing effort reduction": {"concepts": "fishing effort reduction", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "fishing effort reduction"}, "fishing mortality": {"concepts": "fishing mortality", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "fishing mortality"}, "commercial fishing": {"concepts": "commercial fishing", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "commercial fishing"}, "recreational fishing": {"concepts": "recreational fishing", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "recreational fishing"}, "fishing communities": {"concepts": "fishing communities", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "fishing communities"}, "exempted fishing permits": {"concepts": "exempted fishing permits", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "exempted fishing permits"}, "subsistence fishing": {"concepts": "subsistence fishing", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "subsistence fishing"}, "fishing effort": {"concepts": "fishing effort", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "fishing effort"}, "recreational sector": {"concepts": "recreational sector", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "recreational sector"}, "fishing effort control": {"concepts": "fishing effort control", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "fishing effort control"}, "turtle catch reduction": {"concepts": "turtle catch reduction", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "turtle catch reduction"}, "national fishing effects database": {"concepts": "national fishing effects database", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "national fishing effects database"}, "recreational catch": {"concepts": "recreational catch", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "recreational catch"}, "rebuilding plan": {"concepts": "rebuilding plan", "type": "concept", "cluster": "Whale & Turtle Conservation", "node_size": 10, "label": "rebuilding plan"}, "large whale take reduction team": {"concepts": "large whale take reduction team", "type": "concept", "cluster": "Whale & Turtle Conservation", "node_size": 10, "label": "large whale take reduction team"}, "whales": {"concepts": "whales", "type": "concept", "cluster": "Whale & Turtle Conservation", "node_size": 10, "label": "whales"}, "right whale interactions": {"concepts": "right whale interactions", "type": "concept", "cluster": "Whale & Turtle Conservation", "node_size": 10, "label": "right whale interactions"}, "right whales": {"concepts": "right whales", "type": "concept", "cluster": "Whale & Turtle Conservation", "node_size": 10, "label": "right whales"}, "turtle takes": {"concepts": "turtle takes", "type": "concept", "cluster": "Whale & Turtle Conservation", "node_size": 10, "label": "turtle takes"}, "river herring": {"concepts": "river herring", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "river herring"}, "marine biodiversity": {"concepts": "marine biodiversity", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "marine biodiversity"}, "eutrophication": {"concepts": "eutrophication", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "eutrophication"}, "fish population genetics": {"concepts": "fish population genetics", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "fish population genetics"}, "black sea bass": {"concepts": "black sea bass", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "black sea bass"}, "marine habitat": {"concepts": "marine habitat", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "marine habitat"}, "essential fish habitat": {"concepts": "essential fish habitat", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "essential fish habitat"}, "spawning grounds": {"concepts": "spawning grounds", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "spawning grounds"}, "summer flounder": {"concepts": "summer flounder", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "summer flounder"}, "shelf break areas": {"concepts": "shelf break areas", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "shelf break areas"}, "shelf break": {"concepts": "shelf break", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "shelf break"}, "healthy marine ecosystems": {"concepts": "healthy marine ecosystems", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "healthy marine ecosystems"}, "turtles": {"concepts": "turtles", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "turtles"}, "choptank river": {"concepts": "choptank river", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "choptank river"}, "sea turtles": {"concepts": "sea turtles", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "sea turtles"}, "marine mammals": {"concepts": "marine mammals", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "marine mammals"}, "wild oceans": {"concepts": "wild oceans", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "wild oceans"}, "fish habitat": {"concepts": "fish habitat", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "fish habitat"}, "river herring and shad caps": {"concepts": "river herring and shad caps", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "river herring and shad caps"}, "marine infrastructure": {"concepts": "marine infrastructure", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "marine infrastructure"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "marine resource management"}, "tilefish": {"concepts": "tilefish", "type": "concept", "cluster": "Commercial Fish Species", "node_size": 10, "label": "tilefish"}, "monkfish": {"concepts": "monkfish", "type": "concept", "cluster": "Commercial Fish Species", "node_size": 10, "label": "monkfish"}, "longfin squid": {"concepts": "longfin squid", "type": "concept", "cluster": "Commercial Fish Species", "node_size": 10, "label": "longfin squid"}, "blueline tilefish": {"concepts": "blueline tilefish", "type": "concept", "cluster": "Commercial Fish Species", "node_size": 10, "label": "blueline tilefish"}, "groundfish": {"concepts": "groundfish", "type": "concept", "cluster": "Commercial Fish Species", "node_size": 10, "label": "groundfish"}, "butterfish": {"concepts": "butterfish", "type": "concept", "cluster": "Commercial Fish Species", "node_size": 10, "label": "butterfish"}, "spiny dogfish": {"concepts": "spiny dogfish", "type": "concept", "cluster": "Commercial Fish Species", "node_size": 10, "label": "spiny dogfish"}, "dogfish": {"concepts": "dogfish", "type": "concept", "cluster": "Commercial Fish Species", "node_size": 10, "label": "dogfish"}, "management action": {"concepts": "management action", "type": "concept", "cluster": "Management Strategy", "node_size": 10, "label": "management action"}, "strategic plan": {"concepts": "strategic plan", "type": "concept", "cluster": "Management Strategy", "node_size": 10, "label": "strategic plan"}, "adaptive management": {"concepts": "adaptive management", "type": "concept", "cluster": "Management Strategy", "node_size": 10, "label": "adaptive management"}, "management approaches": {"concepts": "management approaches", "type": "concept", "cluster": "Management Strategy", "node_size": 10, "label": "management approaches"}, "management track assessment": {"concepts": "management track assessment", "type": "concept", "cluster": "Management Strategy", "node_size": 10, "label": "management track assessment"}, "management area": {"concepts": "management area", "type": "concept", "cluster": "Management Strategy", "node_size": 10, "label": "management area"}, "stock assessment": {"concepts": "stock assessment", "type": "concept", "cluster": "Genetic Stock Management", "node_size": 10, "label": "stock assessment"}, "genetic stocks": {"concepts": "genetic stocks", "type": "concept", "cluster": "Genetic Stock Management", "node_size": 10, "label": "genetic stocks"}, "stock management": {"concepts": "stock management", "type": "concept", "cluster": "Genetic Stock Management", "node_size": 10, "label": "stock management"}, "support industries": {"concepts": "support industries", "type": "concept", "cluster": "Genetic Stock Management", "node_size": 10, "label": "support industries"}, "genetic studies": {"concepts": "genetic studies", "type": "concept", "cluster": "Genetic Stock Management", "node_size": 10, "label": "genetic studies"}, "genetic differentiation": {"concepts": "genetic differentiation", "type": "concept", "cluster": "Genetic Stock Management", "node_size": 10, "label": "genetic differentiation"}, "genetic analysis": {"concepts": "genetic analysis", "type": "concept", "cluster": "Genetic Stock Management", "node_size": 10, "label": "genetic analysis"}, "genetic diversity": {"concepts": "genetic diversity", "type": "concept", "cluster": "Genetic Stock Management", "node_size": 10, "label": "genetic diversity"}, "stock structure": {"concepts": "stock structure", "type": "concept", "cluster": "Genetic Stock Management", "node_size": 10, "label": "stock structure"}, "commercial sector": {"concepts": "commercial sector", "type": "concept", "cluster": "Genetic Stock Management", "node_size": 10, "label": "commercial sector"}, "individual stocks": {"concepts": "individual stocks", "type": "concept", "cluster": "Genetic Stock Management", "node_size": 10, "label": "individual stocks"}};
        const interClusterEdges = [["Species Conservation", "Habitat Protection", {"weight": 0.8, "confidence": 0.5800000000000001, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Population Dynamics", {"weight": 1.0, "confidence": 0.8566666666666666, "type": "inter_cluster", "style": "solid"}], ["Habitat Protection", "Population Dynamics", {"weight": 1.0, "confidence": 0.8640000000000001, "type": "inter_cluster", "style": "solid"}], ["Habitat Protection", "Whale & Turtle Conservation", {"weight": 1.0, "confidence": 0.826, "type": "inter_cluster", "style": "solid"}], ["Habitat Protection", "Management Strategy", {"weight": 1.0, "confidence": 0.8575, "type": "inter_cluster", "style": "solid"}], ["Habitat Protection", "Marine Ecosystem Management", {"weight": 0.5, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Population Dynamics", "Squid Fishery", {"weight": 1.0, "confidence": 0.875, "type": "inter_cluster", "style": "solid"}], ["Squid Fishery", "Population Dynamics", {"weight": 1.0, "confidence": 0.71, "type": "inter_cluster", "style": "solid"}], ["Squid Fishery", "Species Conservation", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["Whale & Turtle Conservation", "Fishing Management", {"weight": -0.6, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Whale & Turtle Conservation", "Species Conservation", {"weight": -1.0, "confidence": 0.7233333333333333, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystem Management", "Squid Fishery", {"weight": 1.0, "confidence": 0.8699999999999999, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystem Management", "Species Conservation", {"weight": 0.5, "confidence": 0.6499999999999999, "type": "inter_cluster", "style": "solid"}], ["Commercial Fish Species", "Species Conservation", {"weight": 1.0, "confidence": 0.8625, "type": "inter_cluster", "style": "solid"}], ["Commercial Fish Species", "Squid Fishery", {"weight": 1.0, "confidence": 0.8524999999999999, "type": "inter_cluster", "style": "solid"}], ["Commercial Fish Species", "Marine Ecosystem Management", {"weight": 1.0, "confidence": 0.78, "type": "inter_cluster", "style": "solid"}], ["Commercial Fish Species", "Genetic Stock Management", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Management Strategy", "Population Dynamics", {"weight": 1.0, "confidence": 0.8560000000000001, "type": "inter_cluster", "style": "solid"}], ["Management Strategy", "Habitat Protection", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Species Conservation": [["squid", {"concepts": "squid", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "squid"}], ["commercial catch", {"concepts": "commercial catch", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "commercial catch"}]], "Fisheries Management": [["ecosystem sensitivity", {"concepts": "ecosystem sensitivity", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "ecosystem sensitivity"}], ["ecosystem impacts", {"concepts": "ecosystem impacts", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "ecosystem impacts"}], ["ecosystem-based management", {"concepts": "ecosystem-based management", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "ecosystem-based management"}], ["ecosystem effects", {"concepts": "ecosystem effects", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "ecosystem effects"}], ["ecosystem grouping", {"concepts": "ecosystem grouping", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "ecosystem grouping"}], ["ecosystem", {"concepts": "ecosystem", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "ecosystem"}], ["ecosystem approach", {"concepts": "ecosystem approach", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "ecosystem approach"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "climate change"}], ["sensitive ecosystems", {"concepts": "sensitive ecosystems", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "sensitive ecosystems"}]], "Habitat Protection": [["esa work", {"concepts": "esa work", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "esa work"}], ["vertical lines", {"concepts": "vertical lines", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "vertical lines"}], ["pot gear", {"concepts": "pot gear", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "pot gear"}], ["advisory process", {"concepts": "advisory process", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "advisory process"}], ["cooperative research", {"concepts": "cooperative research", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "cooperative research"}], ["efh designations", {"concepts": "efh designations", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "efh designations"}], ["federal rulemaking", {"concepts": "federal rulemaking", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "federal rulemaking"}], ["biological opinions", {"concepts": "biological opinions", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "biological opinions"}], ["nepa analysis", {"concepts": "nepa analysis", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "nepa analysis"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "mental modeler"}], ["herring", {"concepts": "herring", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "herring"}], ["consultations process", {"concepts": "consultations process", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "consultations process"}], ["magnuson act", {"concepts": "magnuson act", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "magnuson act"}], ["research track assessment", {"concepts": "research track assessment", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "research track assessment"}], ["shad", {"concepts": "shad", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "shad"}], ["nmfs", {"concepts": "nmfs", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "nmfs"}], ["atlantic region", {"concepts": "atlantic region", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "atlantic region"}], ["risk policy", {"concepts": "risk policy", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "risk policy"}], ["boem", {"concepts": "boem", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "boem"}], ["reasonable and prudent measures", {"concepts": "reasonable and prudent measures", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "reasonable and prudent measures"}], ["ebfm guidance", {"concepts": "ebfm guidance", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "ebfm guidance"}], ["mackerel", {"concepts": "mackerel", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "mackerel"}], ["incidental limit", {"concepts": "incidental limit", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "incidental limit"}], ["federal permitting", {"concepts": "federal permitting", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "federal permitting"}], ["decision making", {"concepts": "decision making", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "decision making"}], ["chub mackerel", {"concepts": "chub mackerel", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "chub mackerel"}], ["blueback herring", {"concepts": "blueback herring", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "blueback herring"}], ["biological opinion", {"concepts": "biological opinion", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "biological opinion"}], ["small mesh gill nets", {"concepts": "small mesh gill nets", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "small mesh gill nets"}], ["mrep program", {"concepts": "mrep program", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "mrep program"}], ["nepa analyses", {"concepts": "nepa analyses", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "nepa analyses"}], ["nepa documents", {"concepts": "nepa documents", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "nepa documents"}], ["council", {"concepts": "council", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "council"}], ["range shifts", {"concepts": "range shifts", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "range shifts"}], ["area-based measures", {"concepts": "area-based measures", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "area-based measures"}], ["noaa consultations", {"concepts": "noaa consultations", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "noaa consultations"}], ["esa regulations", {"concepts": "esa regulations", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "esa regulations"}], ["permitting decisions", {"concepts": "permitting decisions", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "permitting decisions"}], ["thread herring", {"concepts": "thread herring", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "thread herring"}], ["trade-offs", {"concepts": "trade-offs", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "trade-offs"}], ["illex squid", {"concepts": "illex squid", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "illex squid"}], ["council process", {"concepts": "council process", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "council process"}], ["bycatch analysis", {"concepts": "bycatch analysis", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "bycatch analysis"}], ["esa mandates", {"concepts": "esa mandates", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "esa mandates"}], ["new york", {"concepts": "new york", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "new york"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "stakeholders"}], ["atlantic mackerel", {"concepts": "atlantic mackerel", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "atlantic mackerel"}], ["bycatch cap", {"concepts": "bycatch cap", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "bycatch cap"}], ["large mesh gill nets", {"concepts": "large mesh gill nets", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "large mesh gill nets"}], ["low abundance runs", {"concepts": "low abundance runs", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "low abundance runs"}], ["noaa consultation", {"concepts": "noaa consultation", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "noaa consultation"}], ["mrip program", {"concepts": "mrip program", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "mrip program"}], ["conceptual models", {"concepts": "conceptual models", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "conceptual models"}], ["canyon closures", {"concepts": "canyon closures", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "canyon closures"}], ["precautionary quota", {"concepts": "precautionary quota", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "precautionary quota"}], ["bycatch", {"concepts": "bycatch", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "bycatch"}], ["bycatch reduction", {"concepts": "bycatch reduction", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "bycatch reduction"}], ["quota decisions", {"concepts": "quota decisions", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "quota decisions"}], ["scientific research", {"concepts": "scientific research", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "scientific research"}], ["council priorities", {"concepts": "council priorities", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "council priorities"}], ["vertical lines reduction", {"concepts": "vertical lines reduction", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "vertical lines reduction"}], ["mid-atlantic", {"concepts": "mid-atlantic", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "mid-atlantic"}], ["consultation process", {"concepts": "consultation process", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "consultation process"}], ["observer coverage", {"concepts": "observer coverage", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "observer coverage"}], ["efh", {"concepts": "efh", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "efh"}], ["blueback", {"concepts": "blueback", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "blueback"}], ["bycatch caps", {"concepts": "bycatch caps", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "bycatch caps"}], ["long island", {"concepts": "long island", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "long island"}], ["area closures", {"concepts": "area closures", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "area closures"}], ["atlantic herring", {"concepts": "atlantic herring", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "atlantic herring"}], ["alewife", {"concepts": "alewife", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "alewife"}], ["canyons", {"concepts": "canyons", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "canyons"}], ["mental models", {"concepts": "mental models", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "mental models"}], ["wind farms", {"concepts": "wind farms", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "wind farms"}]], "Population Dynamics": [["habitat designation", {"concepts": "habitat designation", "type": "concept", "cluster": "Population Dynamics", "node_size": 10, "label": "habitat designation"}], ["habitat effects", {"concepts": "habitat effects", "type": "concept", "cluster": "Population Dynamics", "node_size": 10, "label": "habitat effects"}], ["habitat grouping", {"concepts": "habitat grouping", "type": "concept", "cluster": "Population Dynamics", "node_size": 10, "label": "habitat grouping"}], ["habitat impacts", {"concepts": "habitat impacts", "type": "concept", "cluster": "Population Dynamics", "node_size": 10, "label": "habitat impacts"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Population Dynamics", "node_size": 10, "label": "habitat forming species"}], ["habitat issue", {"concepts": "habitat issue", "type": "concept", "cluster": "Population Dynamics", "node_size": 10, "label": "habitat issue"}], ["habitat measures", {"concepts": "habitat measures", "type": "concept", "cluster": "Population Dynamics", "node_size": 10, "label": "habitat measures"}], ["habitat protection", {"concepts": "habitat protection", "type": "concept", "cluster": "Population Dynamics", "node_size": 10, "label": "habitat protection"}], ["habitat", {"concepts": "habitat", "type": "concept", "cluster": "Population Dynamics", "node_size": 10, "label": "habitat"}]], "Squid Fishery": [["population status", {"concepts": "population status", "type": "concept", "cluster": "Squid Fishery", "node_size": 10, "label": "population status"}], ["population distribution", {"concepts": "population distribution", "type": "concept", "cluster": "Squid Fishery", "node_size": 10, "label": "population distribution"}], ["population levels", {"concepts": "population levels", "type": "concept", "cluster": "Squid Fishery", "node_size": 10, "label": "population levels"}], ["regional populations", {"concepts": "regional populations", "type": "concept", "cluster": "Squid Fishery", "node_size": 10, "label": "regional populations"}], ["population impacts", {"concepts": "population impacts", "type": "concept", "cluster": "Squid Fishery", "node_size": 10, "label": "population impacts"}], ["cumulative effects analysis", {"concepts": "cumulative effects analysis", "type": "concept", "cluster": "Squid Fishery", "node_size": 10, "label": "cumulative effects analysis"}], ["recruitment variability", {"concepts": "recruitment variability", "type": "concept", "cluster": "Squid Fishery", "node_size": 10, "label": "recruitment variability"}], ["distinct population segment", {"concepts": "distinct population segment", "type": "concept", "cluster": "Squid Fishery", "node_size": 10, "label": "distinct population segment"}], ["recruitment", {"concepts": "recruitment", "type": "concept", "cluster": "Squid Fishery", "node_size": 10, "label": "recruitment"}]], "Fishing Management": [["fishing impacts", {"concepts": "fishing impacts", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "fishing impacts"}], ["fishing effort reduction", {"concepts": "fishing effort reduction", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "fishing effort reduction"}], ["fishing mortality", {"concepts": "fishing mortality", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "fishing mortality"}], ["commercial fishing", {"concepts": "commercial fishing", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "commercial fishing"}], ["recreational fishing", {"concepts": "recreational fishing", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "recreational fishing"}], ["fishing communities", {"concepts": "fishing communities", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "fishing communities"}], ["exempted fishing permits", {"concepts": "exempted fishing permits", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "exempted fishing permits"}], ["subsistence fishing", {"concepts": "subsistence fishing", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "subsistence fishing"}], ["fishing effort", {"concepts": "fishing effort", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "fishing effort"}], ["recreational sector", {"concepts": "recreational sector", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "recreational sector"}], ["fishing effort control", {"concepts": "fishing effort control", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "fishing effort control"}], ["turtle catch reduction", {"concepts": "turtle catch reduction", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "turtle catch reduction"}], ["national fishing effects database", {"concepts": "national fishing effects database", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "national fishing effects database"}], ["recreational catch", {"concepts": "recreational catch", "type": "concept", "cluster": "Fishing Management", "node_size": 10, "label": "recreational catch"}]], "Whale & Turtle Conservation": [["rebuilding plan", {"concepts": "rebuilding plan", "type": "concept", "cluster": "Whale & Turtle Conservation", "node_size": 10, "label": "rebuilding plan"}], ["large whale take reduction team", {"concepts": "large whale take reduction team", "type": "concept", "cluster": "Whale & Turtle Conservation", "node_size": 10, "label": "large whale take reduction team"}], ["whales", {"concepts": "whales", "type": "concept", "cluster": "Whale & Turtle Conservation", "node_size": 10, "label": "whales"}], ["right whale interactions", {"concepts": "right whale interactions", "type": "concept", "cluster": "Whale & Turtle Conservation", "node_size": 10, "label": "right whale interactions"}], ["right whales", {"concepts": "right whales", "type": "concept", "cluster": "Whale & Turtle Conservation", "node_size": 10, "label": "right whales"}], ["turtle takes", {"concepts": "turtle takes", "type": "concept", "cluster": "Whale & Turtle Conservation", "node_size": 10, "label": "turtle takes"}]], "Marine Ecosystem Management": [["river herring", {"concepts": "river herring", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "river herring"}], ["marine biodiversity", {"concepts": "marine biodiversity", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "marine biodiversity"}], ["eutrophication", {"concepts": "eutrophication", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "eutrophication"}], ["fish population genetics", {"concepts": "fish population genetics", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "fish population genetics"}], ["black sea bass", {"concepts": "black sea bass", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "black sea bass"}], ["marine habitat", {"concepts": "marine habitat", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "marine habitat"}], ["essential fish habitat", {"concepts": "essential fish habitat", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "essential fish habitat"}], ["spawning grounds", {"concepts": "spawning grounds", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "spawning grounds"}], ["summer flounder", {"concepts": "summer flounder", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "summer flounder"}], ["shelf break areas", {"concepts": "shelf break areas", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "shelf break areas"}], ["shelf break", {"concepts": "shelf break", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "shelf break"}], ["healthy marine ecosystems", {"concepts": "healthy marine ecosystems", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "healthy marine ecosystems"}], ["turtles", {"concepts": "turtles", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "turtles"}], ["choptank river", {"concepts": "choptank river", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "choptank river"}], ["sea turtles", {"concepts": "sea turtles", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "sea turtles"}], ["marine mammals", {"concepts": "marine mammals", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "marine mammals"}], ["wild oceans", {"concepts": "wild oceans", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "wild oceans"}], ["fish habitat", {"concepts": "fish habitat", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "fish habitat"}], ["river herring and shad caps", {"concepts": "river herring and shad caps", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "river herring and shad caps"}], ["marine infrastructure", {"concepts": "marine infrastructure", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "marine infrastructure"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Marine Ecosystem Management", "node_size": 10, "label": "marine resource management"}]], "Commercial Fish Species": [["tilefish", {"concepts": "tilefish", "type": "concept", "cluster": "Commercial Fish Species", "node_size": 10, "label": "tilefish"}], ["monkfish", {"concepts": "monkfish", "type": "concept", "cluster": "Commercial Fish Species", "node_size": 10, "label": "monkfish"}], ["longfin squid", {"concepts": "longfin squid", "type": "concept", "cluster": "Commercial Fish Species", "node_size": 10, "label": "longfin squid"}], ["blueline tilefish", {"concepts": "blueline tilefish", "type": "concept", "cluster": "Commercial Fish Species", "node_size": 10, "label": "blueline tilefish"}], ["groundfish", {"concepts": "groundfish", "type": "concept", "cluster": "Commercial Fish Species", "node_size": 10, "label": "groundfish"}], ["butterfish", {"concepts": "butterfish", "type": "concept", "cluster": "Commercial Fish Species", "node_size": 10, "label": "butterfish"}], ["spiny dogfish", {"concepts": "spiny dogfish", "type": "concept", "cluster": "Commercial Fish Species", "node_size": 10, "label": "spiny dogfish"}], ["dogfish", {"concepts": "dogfish", "type": "concept", "cluster": "Commercial Fish Species", "node_size": 10, "label": "dogfish"}]], "Management Strategy": [["management action", {"concepts": "management action", "type": "concept", "cluster": "Management Strategy", "node_size": 10, "label": "management action"}], ["strategic plan", {"concepts": "strategic plan", "type": "concept", "cluster": "Management Strategy", "node_size": 10, "label": "strategic plan"}], ["adaptive management", {"concepts": "adaptive management", "type": "concept", "cluster": "Management Strategy", "node_size": 10, "label": "adaptive management"}], ["management approaches", {"concepts": "management approaches", "type": "concept", "cluster": "Management Strategy", "node_size": 10, "label": "management approaches"}], ["management track assessment", {"concepts": "management track assessment", "type": "concept", "cluster": "Management Strategy", "node_size": 10, "label": "management track assessment"}], ["management area", {"concepts": "management area", "type": "concept", "cluster": "Management Strategy", "node_size": 10, "label": "management area"}]], "Genetic Stock Management": [["stock assessment", {"concepts": "stock assessment", "type": "concept", "cluster": "Genetic Stock Management", "node_size": 10, "label": "stock assessment"}], ["genetic stocks", {"concepts": "genetic stocks", "type": "concept", "cluster": "Genetic Stock Management", "node_size": 10, "label": "genetic stocks"}], ["stock management", {"concepts": "stock management", "type": "concept", "cluster": "Genetic Stock Management", "node_size": 10, "label": "stock management"}], ["support industries", {"concepts": "support industries", "type": "concept", "cluster": "Genetic Stock Management", "node_size": 10, "label": "support industries"}], ["genetic studies", {"concepts": "genetic studies", "type": "concept", "cluster": "Genetic Stock Management", "node_size": 10, "label": "genetic studies"}], ["genetic differentiation", {"concepts": "genetic differentiation", "type": "concept", "cluster": "Genetic Stock Management", "node_size": 10, "label": "genetic differentiation"}], ["genetic analysis", {"concepts": "genetic analysis", "type": "concept", "cluster": "Genetic Stock Management", "node_size": 10, "label": "genetic analysis"}], ["genetic diversity", {"concepts": "genetic diversity", "type": "concept", "cluster": "Genetic Stock Management", "node_size": 10, "label": "genetic diversity"}], ["stock structure", {"concepts": "stock structure", "type": "concept", "cluster": "Genetic Stock Management", "node_size": 10, "label": "stock structure"}], ["commercial sector", {"concepts": "commercial sector", "type": "concept", "cluster": "Genetic Stock Management", "node_size": 10, "label": "commercial sector"}], ["individual stocks", {"concepts": "individual stocks", "type": "concept", "cluster": "Genetic Stock Management", "node_size": 10, "label": "individual stocks"}]]};
        const clusterEdges = {"Species Conservation": [], "Fisheries Management": [], "Habitat Protection": [], "Population Dynamics": [], "Squid Fishery": [], "Fishing Management": [], "Whale & Turtle Conservation": [], "Marine Ecosystem Management": [], "Commercial Fish Species": [], "Management Strategy": [], "Genetic Stock Management": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
