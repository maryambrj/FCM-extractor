
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"environmental stressors": {"concepts": "environmental stressors", "concept_list": ["environmental stressors"], "type": "cluster", "label": "environmental stressors"}, "species distribution": {"concepts": "species distribution, species diversity, species status, species conservation, species evenness, species competition, biogeography, invasive species", "concept_list": ["species distribution", "species diversity", "species status", "species conservation", "species evenness", "species competition", "biogeography", "invasive species"], "type": "cluster", "label": "species distribution"}, "biodiversity cold spots": {"concepts": "biodiversity cold spots, biodiversity hotspots", "concept_list": ["biodiversity cold spots", "biodiversity hotspots"], "type": "cluster", "label": "biodiversity cold spots"}, "environmental narratives": {"concepts": "environmental narratives, environmental stories, environmental themes", "concept_list": ["environmental narratives", "environmental stories", "environmental themes"], "type": "cluster", "label": "environmental narratives"}, "environmental sensitivity": {"concepts": "environmental sensitivity", "concept_list": ["environmental sensitivity"], "type": "cluster", "label": "environmental sensitivity"}, "environmental activities": {"concepts": "environmental activities, environmental actions, environmental habits, environmental rituals", "concept_list": ["environmental activities", "environmental actions", "environmental habits", "environmental rituals"], "type": "cluster", "label": "environmental activities"}, "environmental change": {"concepts": "environmental change, environmental changes, environmental shifts, climate change, increased temperatures", "concept_list": ["environmental change", "environmental changes", "environmental shifts", "climate change", "increased temperatures"], "type": "cluster", "label": "environmental change"}, "environmental issue": {"concepts": "environmental issue, environmental review, environmental concern", "concept_list": ["environmental issue", "environmental review", "environmental concern"], "type": "cluster", "label": "environmental issue"}, "environmental innovations": {"concepts": "environmental innovations, environmental inventions", "concept_list": ["environmental innovations", "environmental inventions"], "type": "cluster", "label": "environmental innovations"}, "environmental policies": {"concepts": "environmental policies, environmental cleanliness", "concept_list": ["environmental policies", "environmental cleanliness"], "type": "cluster", "label": "environmental policies"}, "conservation strategies": {"concepts": "conservation strategies, biodiversity management, species of conservation, threatened species, endangered species", "concept_list": ["conservation strategies", "biodiversity management", "species of conservation", "threatened species", "endangered species"], "type": "cluster", "label": "conservation strategies"}, "environmental reinforcement": {"concepts": "environmental reinforcement", "concept_list": ["environmental reinforcement"], "type": "cluster", "label": "environmental reinforcement"}, "nutrient runoff": {"concepts": "nutrient runoff", "concept_list": ["nutrient runoff"], "type": "cluster", "label": "nutrient runoff"}, "environmental systems": {"concepts": "environmental systems, environmental stability, environmental energy, system components, human use", "concept_list": ["environmental systems", "environmental stability", "environmental energy", "system components", "human use"], "type": "cluster", "label": "environmental systems"}, "storm frequency": {"concepts": "storm frequency, increased storm frequency", "concept_list": ["storm frequency", "increased storm frequency"], "type": "cluster", "label": "storm frequency"}, "derelict fish gear": {"concepts": "derelict fish gear, derelict fishing gear", "concept_list": ["derelict fish gear", "derelict fishing gear"], "type": "cluster", "label": "derelict fish gear"}, "environmental components": {"concepts": "environmental components, environmental processes, environmental constraint, environmental factors, environmental integration, environmental design, environmental designs, environmental performance, environmental integrity, environmental barrier, environmental weakness, environmental accessibility", "concept_list": ["environmental components", "environmental processes", "environmental constraint", "environmental factors", "environmental integration", "environmental design", "environmental designs", "environmental performance", "environmental integrity", "environmental barrier", "environmental weakness", "environmental accessibility"], "type": "cluster", "label": "environmental components"}, "benthic disturbance": {"concepts": "benthic disturbance, benthic habitats, seagrass communities, marine biodiversity, harmful algal blooms, coral reefs, oysters", "concept_list": ["benthic disturbance", "benthic habitats", "seagrass communities", "marine biodiversity", "harmful algal blooms", "coral reefs", "oysters"], "type": "cluster", "label": "benthic disturbance"}, "environmental dynamics": {"concepts": "environmental dynamics, environmental disturbance, environmental cycles, social dynamics", "concept_list": ["environmental dynamics", "environmental disturbance", "environmental cycles", "social dynamics"], "type": "cluster", "label": "environmental dynamics"}, "harmful organisms": {"concepts": "harmful organisms, at-risk species", "concept_list": ["harmful organisms", "at-risk species"], "type": "cluster", "label": "harmful organisms"}, "regulation change": {"concepts": "regulation change", "concept_list": ["regulation change"], "type": "cluster", "label": "regulation change"}, "environmental discussion": {"concepts": "environmental discussion, environmental debate, environmental controversy", "concept_list": ["environmental discussion", "environmental debate", "environmental controversy"], "type": "cluster", "label": "environmental discussion"}, "no-take zones": {"concepts": "no-take zones, university of houston", "concept_list": ["no-take zones", "university of houston"], "type": "cluster", "label": "no-take zones"}, "data information": {"concepts": "data information", "concept_list": ["data information"], "type": "cluster", "label": "data information"}, "environmental agreements": {"concepts": "environmental agreements, environmental dispute, regulatory limitations", "concept_list": ["environmental agreements", "environmental dispute", "regulatory limitations"], "type": "cluster", "label": "environmental agreements"}, "environmental consequence": {"concepts": "environmental consequence", "concept_list": ["environmental consequence"], "type": "cluster", "label": "environmental consequence"}, "environmental scenarios": {"concepts": "environmental scenarios", "concept_list": ["environmental scenarios"], "type": "cluster", "label": "environmental scenarios"}, "environmental expansion": {"concepts": "environmental expansion, environmental consolidation, environmental growth", "concept_list": ["environmental expansion", "environmental consolidation", "environmental growth"], "type": "cluster", "label": "environmental expansion"}, "environmental evolution": {"concepts": "environmental evolution, environmental evolutions, environmental histories", "concept_list": ["environmental evolution", "environmental evolutions", "environmental histories"], "type": "cluster", "label": "environmental evolution"}, "environmental coalition": {"concepts": "environmental coalition, environmental coalitions, environmental cooperation, environmental alliances", "concept_list": ["environmental coalition", "environmental coalitions", "environmental cooperation", "environmental alliances"], "type": "cluster", "label": "environmental coalition"}, "environmental help": {"concepts": "environmental help, environmental aid, environmental assistance, environmental boost, environmental group", "concept_list": ["environmental help", "environmental aid", "environmental assistance", "environmental boost", "environmental group"], "type": "cluster", "label": "environmental help"}, "place based management": {"concepts": "place based management", "concept_list": ["place based management"], "type": "cluster", "label": "place based management"}, "environmental support": {"concepts": "environmental support, environmental facilitation, environmental rehabilitation", "concept_list": ["environmental support", "environmental facilitation", "environmental rehabilitation"], "type": "cluster", "label": "environmental support"}, "environmental vulnerability": {"concepts": "environmental vulnerability", "concept_list": ["environmental vulnerability"], "type": "cluster", "label": "environmental vulnerability"}, "environmental standards": {"concepts": "environmental standards, environmental regulations, environmental guidelines, environmental benchmarks, environmental purity", "concept_list": ["environmental standards", "environmental regulations", "environmental guidelines", "environmental benchmarks", "environmental purity"], "type": "cluster", "label": "environmental standards"}, "environmental policy": {"concepts": "environmental policy", "concept_list": ["environmental policy"], "type": "cluster", "label": "environmental policy"}, "environmental governance": {"concepts": "environmental governance", "concept_list": ["environmental governance"], "type": "cluster", "label": "environmental governance"}, "environmental transfers": {"concepts": "environmental transfers", "concept_list": ["environmental transfers"], "type": "cluster", "label": "environmental transfers"}, "environmental potential": {"concepts": "environmental potential", "concept_list": ["environmental potential"], "type": "cluster", "label": "environmental potential"}, "environmental robustness": {"concepts": "environmental robustness, environmental flexibility", "concept_list": ["environmental robustness", "environmental flexibility"], "type": "cluster", "label": "environmental robustness"}, "environmental supervision": {"concepts": "environmental supervision", "concept_list": ["environmental supervision"], "type": "cluster", "label": "environmental supervision"}, "environmental harm": {"concepts": "environmental harm, environmental enforcement", "concept_list": ["environmental harm", "environmental enforcement"], "type": "cluster", "label": "environmental harm"}, "environmental threat": {"concepts": "environmental threat, environmental danger", "concept_list": ["environmental threat", "environmental danger"], "type": "cluster", "label": "environmental threat"}, "environmental empowerment": {"concepts": "environmental empowerment, environmental enablement, environmental education", "concept_list": ["environmental empowerment", "environmental enablement", "environmental education"], "type": "cluster", "label": "environmental empowerment"}, "marine resource management": {"concepts": "marine resource management, marine science, marine sanctuary program, marine debris, offshore oil and", "concept_list": ["marine resource management", "marine science", "marine sanctuary program", "marine debris", "offshore oil and"], "type": "cluster", "label": "marine resource management"}, "stressors": {"concepts": "stressors", "concept_list": ["stressors"], "type": "cluster", "label": "stressors"}, "science communication": {"concepts": "science communication", "concept_list": ["science communication"], "type": "cluster", "label": "science communication"}, "cultural species": {"concepts": "cultural species, species of cultural", "concept_list": ["cultural species", "species of cultural"], "type": "cluster", "label": "cultural species"}, "indigenous population": {"concepts": "indigenous population, indigenous species", "concept_list": ["indigenous population", "indigenous species"], "type": "cluster", "label": "indigenous population"}, "baitfish": {"concepts": "baitfish", "concept_list": ["baitfish"], "type": "cluster", "label": "baitfish"}, "environmental protocols": {"concepts": "environmental protocols, environmental customs", "concept_list": ["environmental protocols", "environmental customs"], "type": "cluster", "label": "environmental protocols"}, "environmental information": {"concepts": "environmental information, environmental awareness, environmental visions", "concept_list": ["environmental information", "environmental awareness", "environmental visions"], "type": "cluster", "label": "environmental information"}, "stock control": {"concepts": "stock control", "concept_list": ["stock control"], "type": "cluster", "label": "stock control"}, "channel islands national": {"concepts": "channel islands national, lobster", "concept_list": ["channel islands national", "lobster"], "type": "cluster", "label": "channel islands national"}, "subtropical species": {"concepts": "subtropical species", "concept_list": ["subtropical species"], "type": "cluster", "label": "subtropical species"}, "environmental functions": {"concepts": "environmental functions, environmental roles, environmental redundancy, environmental symbols, environmental administration, environmental direction", "concept_list": ["environmental functions", "environmental roles", "environmental redundancy", "environmental symbols", "environmental administration", "environmental direction"], "type": "cluster", "label": "environmental functions"}, "place-based management": {"concepts": "place-based management", "concept_list": ["place-based management"], "type": "cluster", "label": "place-based management"}, "environmental opportunity": {"concepts": "environmental opportunity, environmental opportunities, environmental capacity, environmental urgency, environmental creations", "concept_list": ["environmental opportunity", "environmental opportunities", "environmental capacity", "environmental urgency", "environmental creations"], "type": "cluster", "label": "environmental opportunity"}, "environmental recovery": {"concepts": "environmental recovery, environmental restoration, environmental regeneration", "concept_list": ["environmental recovery", "environmental restoration", "environmental regeneration"], "type": "cluster", "label": "environmental recovery"}, "environmental analysis": {"concepts": "environmental analysis, environmental data, environmental assessment, environmental impact, environmental values, environmental trends, seafloor mapping", "concept_list": ["environmental analysis", "environmental data", "environmental assessment", "environmental impact", "environmental values", "environmental trends", "seafloor mapping"], "type": "cluster", "label": "environmental analysis"}, "environmental communication": {"concepts": "environmental communication", "concept_list": ["environmental communication"], "type": "cluster", "label": "environmental communication"}, "cetaceans": {"concepts": "cetaceans, whale cetaceans, marine mammals", "concept_list": ["cetaceans", "whale cetaceans", "marine mammals"], "type": "cluster", "label": "cetaceans"}, "deep ocean habitats": {"concepts": "deep ocean habitats, oceanographic habitats, shallow water habitats, ocean acidification, deep sea corals", "concept_list": ["deep ocean habitats", "oceanographic habitats", "shallow water habitats", "ocean acidification", "deep sea corals"], "type": "cluster", "label": "deep ocean habitats"}, "environmental initiatives": {"concepts": "environmental initiatives, environmental efforts, environmental partnerships", "concept_list": ["environmental initiatives", "environmental efforts", "environmental partnerships"], "type": "cluster", "label": "environmental initiatives"}, "public outreach": {"concepts": "public outreach", "concept_list": ["public outreach"], "type": "cluster", "label": "public outreach"}, "noaa": {"concepts": "noaa", "concept_list": ["noaa"], "type": "cluster", "label": "noaa"}, "no take areas": {"concepts": "no take areas", "concept_list": ["no take areas"], "type": "cluster", "label": "no take areas"}, "keystone species": {"concepts": "keystone species", "concept_list": ["keystone species"], "type": "cluster", "label": "keystone species"}, "ecosystem resilience": {"concepts": "ecosystem resilience, ecological resilience, environmental resilience", "concept_list": ["ecosystem resilience", "ecological resilience", "environmental resilience"], "type": "cluster", "label": "ecosystem resilience"}, "environmental audit": {"concepts": "environmental audit, environmental compliance", "concept_list": ["environmental audit", "environmental compliance"], "type": "cluster", "label": "environmental audit"}, "environmental capital": {"concepts": "environmental capital", "concept_list": ["environmental capital"], "type": "cluster", "label": "environmental capital"}, "community engagement": {"concepts": "community engagement, community user groups", "concept_list": ["community engagement", "community user groups"], "type": "cluster", "label": "community engagement"}, "environmental study": {"concepts": "environmental study, environmental understanding, environmental community", "concept_list": ["environmental study", "environmental understanding", "environmental community"], "type": "cluster", "label": "environmental study"}, "science opportunities": {"concepts": "science opportunities", "concept_list": ["science opportunities"], "type": "cluster", "label": "science opportunities"}, "environmental conflict": {"concepts": "environmental conflict, environmental overlap, environmental commitments", "concept_list": ["environmental conflict", "environmental overlap", "environmental commitments"], "type": "cluster", "label": "environmental conflict"}, "environmental principles": {"concepts": "environmental principles, environmental strategies, environmental frameworks, environmental society, environmental traditions, environmental meanings, environmental legacies, environmental communities, environmental synthesis", "concept_list": ["environmental principles", "environmental strategies", "environmental frameworks", "environmental society", "environmental traditions", "environmental meanings", "environmental legacies", "environmental communities", "environmental synthesis"], "type": "cluster", "label": "environmental principles"}, "environmental proof": {"concepts": "environmental proof, environmental verification", "concept_list": ["environmental proof", "environmental verification"], "type": "cluster", "label": "environmental proof"}, "environmental rise": {"concepts": "environmental rise, environmental increase, environmental surge", "concept_list": ["environmental rise", "environmental increase", "environmental surge"], "type": "cluster", "label": "environmental rise"}, "environmental predictions": {"concepts": "environmental predictions, environmental forecasts", "concept_list": ["environmental predictions", "environmental forecasts"], "type": "cluster", "label": "environmental predictions"}, "environmental tools": {"concepts": "environmental tools, environmental technologies, environmental infrastructures", "concept_list": ["environmental tools", "environmental technologies", "environmental infrastructures"], "type": "cluster", "label": "environmental tools"}, "environmental result": {"concepts": "environmental result, environmental evaluation", "concept_list": ["environmental result", "environmental evaluation"], "type": "cluster", "label": "environmental result"}, "tribal communities": {"concepts": "tribal communities", "concept_list": ["tribal communities"], "type": "cluster", "label": "tribal communities"}, "resource management": {"concepts": "resource management, management, management approaches", "concept_list": ["resource management", "management", "management approaches"], "type": "cluster", "label": "resource management"}, "environmental rhythms": {"concepts": "environmental rhythms", "concept_list": ["environmental rhythms"], "type": "cluster", "label": "environmental rhythms"}, "shipping lanes": {"concepts": "shipping lanes, shipping industry, ship strikes", "concept_list": ["shipping lanes", "shipping industry", "ship strikes"], "type": "cluster", "label": "shipping lanes"}, "no-take protected areas": {"concepts": "no-take protected areas, kelp forests", "concept_list": ["no-take protected areas", "kelp forests"], "type": "cluster", "label": "no-take protected areas"}, "commercial species": {"concepts": "commercial species", "concept_list": ["commercial species"], "type": "cluster", "label": "commercial species"}, "environmental sustainability": {"concepts": "environmental sustainability", "concept_list": ["environmental sustainability"], "type": "cluster", "label": "environmental sustainability"}, "species of commercial": {"concepts": "species of commercial", "concept_list": ["species of commercial"], "type": "cluster", "label": "species of commercial"}, "environmental negotiations": {"concepts": "environmental negotiations", "concept_list": ["environmental negotiations"], "type": "cluster", "label": "environmental negotiations"}, "environmental structures": {"concepts": "environmental structures, environmental patterns, environmental architectures, environmental groups", "concept_list": ["environmental structures", "environmental patterns", "environmental architectures", "environmental groups"], "type": "cluster", "label": "environmental structures"}, "environmental strengthening": {"concepts": "environmental strengthening", "concept_list": ["environmental strengthening"], "type": "cluster", "label": "environmental strengthening"}, "environmental well-being": {"concepts": "environmental well-being", "concept_list": ["environmental well-being"], "type": "cluster", "label": "environmental well-being"}, "hypoxia": {"concepts": "hypoxia", "concept_list": ["hypoxia"], "type": "cluster", "label": "hypoxia"}, "environmental demonstration": {"concepts": "environmental demonstration", "concept_list": ["environmental demonstration"], "type": "cluster", "label": "environmental demonstration"}, "environmental monitoring": {"concepts": "environmental monitoring, environmental inspection, environmental equipment, environmental safety, noise pollution", "concept_list": ["environmental monitoring", "environmental inspection", "environmental equipment", "environmental safety", "noise pollution"], "type": "cluster", "label": "environmental monitoring"}, "ambient conditions": {"concepts": "ambient conditions, temperature impact", "concept_list": ["ambient conditions", "temperature impact"], "type": "cluster", "label": "ambient conditions"}, "environmental forums": {"concepts": "environmental forums", "concept_list": ["environmental forums"], "type": "cluster", "label": "environmental forums"}, "biodiversity": {"concepts": "biodiversity, biodiversity components, foundation species, fishes, squid", "concept_list": ["biodiversity", "biodiversity components", "foundation species", "fishes", "squid"], "type": "cluster", "label": "biodiversity"}, "environmental responsibilities": {"concepts": "environmental responsibilities", "concept_list": ["environmental responsibilities"], "type": "cluster", "label": "environmental responsibilities"}, "environmental projects": {"concepts": "environmental projects", "concept_list": ["environmental projects"], "type": "cluster", "label": "environmental projects"}, "environmental guidance": {"concepts": "environmental guidance", "concept_list": ["environmental guidance"], "type": "cluster", "label": "environmental guidance"}, "recreational boating": {"concepts": "recreational boating", "concept_list": ["recreational boating"], "type": "cluster", "label": "recreational boating"}, "environmental evidence": {"concepts": "environmental evidence, environmental research, environmental evaluations, environmental perceptions, environmental beliefs", "concept_list": ["environmental evidence", "environmental research", "environmental evaluations", "environmental perceptions", "environmental beliefs"], "type": "cluster", "label": "environmental evidence"}, "key food web": {"concepts": "key food web, food web supporting, food chain", "concept_list": ["key food web", "food web supporting", "food chain"], "type": "cluster", "label": "key food web"}, "environmental organization": {"concepts": "environmental organization, organizational behavior", "concept_list": ["environmental organization", "organizational behavior"], "type": "cluster", "label": "environmental organization"}, "environmental confirmation": {"concepts": "environmental confirmation", "concept_list": ["environmental confirmation"], "type": "cluster", "label": "environmental confirmation"}, "environmental exposure": {"concepts": "environmental exposure, environmental health", "concept_list": ["environmental exposure", "environmental health"], "type": "cluster", "label": "environmental exposure"}, "environmental possibility": {"concepts": "environmental possibility", "concept_list": ["environmental possibility"], "type": "cluster", "label": "environmental possibility"}, "research and science": {"concepts": "research and science", "concept_list": ["research and science"], "type": "cluster", "label": "research and science"}, "species of recreational": {"concepts": "species of recreational", "concept_list": ["species of recreational"], "type": "cluster", "label": "species of recreational"}, "environmental outcome": {"concepts": "environmental outcome, environmental outcomes, environmental effect, environmental strength, environmental experiences, environmental institution", "concept_list": ["environmental outcome", "environmental outcomes", "environmental effect", "environmental strength", "environmental experiences", "environmental institution"], "type": "cluster", "label": "environmental outcome"}, "environmental adaptation": {"concepts": "environmental adaptation, environmental adaptability, environmental memories, environmental affordability, temperature increase", "concept_list": ["environmental adaptation", "environmental adaptability", "environmental memories", "environmental affordability", "temperature increase"], "type": "cluster", "label": "environmental adaptation"}, "environmental ethics": {"concepts": "environmental ethics", "concept_list": ["environmental ethics"], "type": "cluster", "label": "environmental ethics"}, "species richness": {"concepts": "species richness, invertebrates, biogeographic break", "concept_list": ["species richness", "invertebrates", "biogeographic break"], "type": "cluster", "label": "species richness"}, "sanctuary management": {"concepts": "sanctuary management, sanctuary condition reports, sanctuary advisory council", "concept_list": ["sanctuary management", "sanctuary condition reports", "sanctuary advisory council"], "type": "cluster", "label": "sanctuary management"}, "microplastics": {"concepts": "microplastics", "concept_list": ["microplastics"], "type": "cluster", "label": "microplastics"}, "environmental development": {"concepts": "environmental development", "concept_list": ["environmental development"], "type": "cluster", "label": "environmental development"}, "environmental authority": {"concepts": "environmental authority, environmental leadership", "concept_list": ["environmental authority", "environmental leadership"], "type": "cluster", "label": "environmental authority"}, "environmental models": {"concepts": "environmental models", "concept_list": ["environmental models"], "type": "cluster", "label": "environmental models"}, "environmental stakeholders": {"concepts": "environmental stakeholders", "concept_list": ["environmental stakeholders"], "type": "cluster", "label": "environmental stakeholders"}, "environmental benefits": {"concepts": "environmental benefits, environmental encouragement, environmental assets, environmental promotion", "concept_list": ["environmental benefits", "environmental encouragement", "environmental assets", "environmental promotion"], "type": "cluster", "label": "environmental benefits"}, "habitat use": {"concepts": "habitat use, habitat forming species, habitat impact, habitat-forming species", "concept_list": ["habitat use", "habitat forming species", "habitat impact", "habitat-forming species"], "type": "cluster", "label": "habitat use"}, "environmental objectives": {"concepts": "environmental objectives, environmental priorities, environmental priority", "concept_list": ["environmental objectives", "environmental priorities", "environmental priority"], "type": "cluster", "label": "environmental objectives"}, "environmental tasks": {"concepts": "environmental tasks, environmental difficulty, environmental routines, environmental force, environmental movements, environmental power, environmental obstacle, mental modeling", "concept_list": ["environmental tasks", "environmental difficulty", "environmental routines", "environmental force", "environmental movements", "environmental power", "environmental obstacle", "mental modeling"], "type": "cluster", "label": "environmental tasks"}, "environmental challenge": {"concepts": "environmental challenge, environmental missions", "concept_list": ["environmental challenge", "environmental missions"], "type": "cluster", "label": "environmental challenge"}, "environmental fragility": {"concepts": "environmental fragility", "concept_list": ["environmental fragility"], "type": "cluster", "label": "environmental fragility"}, "environmental risk": {"concepts": "environmental risk, environmental hazard, environmental susceptibility", "concept_list": ["environmental risk", "environmental hazard", "environmental susceptibility"], "type": "cluster", "label": "environmental risk"}, "environmental operation": {"concepts": "environmental operation, environmental control", "concept_list": ["environmental operation", "environmental control"], "type": "cluster", "label": "environmental operation"}, "environmental knowledge": {"concepts": "environmental knowledge", "concept_list": ["environmental knowledge"], "type": "cluster", "label": "environmental knowledge"}, "recreational fishing": {"concepts": "recreational fishing, commercial fishing, fishing industry, fishery productivity", "concept_list": ["recreational fishing", "commercial fishing", "fishing industry", "fishery productivity"], "type": "cluster", "label": "recreational fishing"}, "environmental investigation": {"concepts": "environmental investigation, gas exploration", "concept_list": ["environmental investigation", "gas exploration"], "type": "cluster", "label": "environmental investigation"}, "environmental limitation": {"concepts": "environmental limitation, environmental extension, environmental viability, environmental availability", "concept_list": ["environmental limitation", "environmental extension", "environmental viability", "environmental availability"], "type": "cluster", "label": "environmental limitation"}, "environmental validation": {"concepts": "environmental validation", "concept_list": ["environmental validation"], "type": "cluster", "label": "environmental validation"}, "environmental progress": {"concepts": "environmental progress, environmental advancement, policy making", "concept_list": ["environmental progress", "environmental advancement", "policy making"], "type": "cluster", "label": "environmental progress"}, "environmental sectors": {"concepts": "environmental sectors, environmental services", "concept_list": ["environmental sectors", "environmental services"], "type": "cluster", "label": "environmental sectors"}, "environmental dialogue": {"concepts": "environmental dialogue, environmental dialogues, environmental collaboration", "concept_list": ["environmental dialogue", "environmental dialogues", "environmental collaboration"], "type": "cluster", "label": "environmental dialogue"}, "environmental regulation": {"concepts": "environmental regulation, environmental norms, environmental behaviors, environmental coordination", "concept_list": ["environmental regulation", "environmental norms", "environmental behaviors", "environmental coordination"], "type": "cluster", "label": "environmental regulation"}, "research community": {"concepts": "research community, industry collaboration, advisory council", "concept_list": ["research community", "industry collaboration", "advisory council"], "type": "cluster", "label": "research community"}, "environmental improvement": {"concepts": "environmental improvement", "concept_list": ["environmental improvement"], "type": "cluster", "label": "environmental improvement"}, "environmental discoveries": {"concepts": "environmental discoveries, observation network", "concept_list": ["environmental discoveries", "observation network"], "type": "cluster", "label": "environmental discoveries"}, "environmental threats": {"concepts": "environmental threats, military stakeholders", "concept_list": ["environmental threats", "military stakeholders"], "type": "cluster", "label": "environmental threats"}, "environmental campaigns": {"concepts": "environmental campaigns", "concept_list": ["environmental campaigns"], "type": "cluster", "label": "environmental campaigns"}, "carbon sequestration": {"concepts": "carbon sequestration", "concept_list": ["carbon sequestration"], "type": "cluster", "label": "carbon sequestration"}, "renewable energy": {"concepts": "renewable energy, wind farms, oil and gas", "concept_list": ["renewable energy", "wind farms", "oil and gas"], "type": "cluster", "label": "renewable energy"}, "environmental transitions": {"concepts": "environmental transitions", "concept_list": ["environmental transitions"], "type": "cluster", "label": "environmental transitions"}, "environmental programs": {"concepts": "environmental programs, environmental interventions, environmental fortification", "concept_list": ["environmental programs", "environmental interventions", "environmental fortification"], "type": "cluster", "label": "environmental programs"}, "environmental decision-making": {"concepts": "environmental decision-making, decision-making platform, decision making", "concept_list": ["environmental decision-making", "decision-making platform", "decision making"], "type": "cluster", "label": "environmental decision-making"}, "shannon diversity index": {"concepts": "shannon diversity index", "concept_list": ["shannon diversity index"], "type": "cluster", "label": "shannon diversity index"}, "environmental protection": {"concepts": "environmental protection, environmental security", "concept_list": ["environmental protection", "environmental security"], "type": "cluster", "label": "environmental protection"}, "marine protected areas": {"concepts": "marine protected areas, marine protected area, marine sanctuaries", "concept_list": ["marine protected areas", "marine protected area", "marine sanctuaries"], "type": "cluster", "label": "marine protected areas"}, "environmental transformation": {"concepts": "environmental transformation, environmental transformations, environmental flows", "concept_list": ["environmental transformation", "environmental transformations", "environmental flows"], "type": "cluster", "label": "environmental transformation"}, "environmental developments": {"concepts": "environmental developments, environmental advancements, environmental revitalization, environmental breakthroughs, environmental futures", "concept_list": ["environmental developments", "environmental advancements", "environmental revitalization", "environmental breakthroughs", "environmental futures"], "type": "cluster", "label": "environmental developments"}, "urchins": {"concepts": "urchins, upwelling", "concept_list": ["urchins", "upwelling"], "type": "cluster", "label": "urchins"}, "environmental indicators": {"concepts": "environmental indicators, environmental metrics, environmental quality, environmental assessments, environmental instruments, environmental resources, environmental actors, environmental vitality", "concept_list": ["environmental indicators", "environmental metrics", "environmental quality", "environmental assessments", "environmental instruments", "environmental resources", "environmental actors", "environmental vitality"], "type": "cluster", "label": "environmental indicators"}, "environmental relationships": {"concepts": "environmental relationships, environmental interactions, environmental networks, environmental influence, environmental alliance, environmental network, environmental agency, environmental exchanges, environmental identity, environmental partnership, psychological constructs", "concept_list": ["environmental relationships", "environmental interactions", "environmental networks", "environmental influence", "environmental alliance", "environmental network", "environmental agency", "environmental exchanges", "environmental identity", "environmental partnership", "psychological constructs"], "type": "cluster", "label": "environmental relationships"}, "environmental renewal": {"concepts": "environmental renewal, environmental freshness", "concept_list": ["environmental renewal", "environmental freshness"], "type": "cluster", "label": "environmental renewal"}, "environmental benefit": {"concepts": "environmental benefit, environmental value, environmental enhancement, environmental wealth", "concept_list": ["environmental benefit", "environmental value", "environmental enhancement", "environmental wealth"], "type": "cluster", "label": "environmental benefit"}, "environmental importance": {"concepts": "environmental importance, environmental significance, environmental relevance, environmental attitudes", "concept_list": ["environmental importance", "environmental significance", "environmental relevance", "environmental attitudes"], "type": "cluster", "label": "environmental importance"}, "stakeholders": {"concepts": "stakeholders, stakeholder impact, stakeholder engagement", "concept_list": ["stakeholders", "stakeholder impact", "stakeholder engagement"], "type": "cluster", "label": "stakeholders"}, "environmental conservation": {"concepts": "environmental conservation, environmental preservation, environmental stabilization, environmental uplift", "concept_list": ["environmental conservation", "environmental preservation", "environmental stabilization", "environmental uplift"], "type": "cluster", "label": "environmental conservation"}, "transmission cables": {"concepts": "transmission cables", "concept_list": ["transmission cables"], "type": "cluster", "label": "transmission cables"}, "environmental plans": {"concepts": "environmental plans, environmental planning, environmental goals, plankton", "concept_list": ["environmental plans", "environmental planning", "environmental goals", "plankton"], "type": "cluster", "label": "environmental plans"}, "ecosystem based management": {"concepts": "ecosystem based management, ecosystem services, ecosystem impact", "concept_list": ["ecosystem based management", "ecosystem services", "ecosystem impact"], "type": "cluster", "label": "ecosystem based management"}, "environmental problem": {"concepts": "environmental problem", "concept_list": ["environmental problem"], "type": "cluster", "label": "environmental problem"}, "area based management": {"concepts": "area based management, area-based tools", "concept_list": ["area based management", "area-based tools"], "type": "cluster", "label": "area based management"}, "environmental feedback loops": {"concepts": "environmental feedback loops", "concept_list": ["environmental feedback loops"], "type": "cluster", "label": "environmental feedback loops"}, "bureau of ocean": {"concepts": "bureau of ocean, sea cucumber, sanctuary waters", "concept_list": ["bureau of ocean", "sea cucumber", "sanctuary waters"], "type": "cluster", "label": "bureau of ocean"}, "environmental challenges": {"concepts": "environmental challenges, environmental targets, environmental feasibility", "concept_list": ["environmental challenges", "environmental targets", "environmental feasibility"], "type": "cluster", "label": "environmental challenges"}, "environmental execution": {"concepts": "environmental execution", "concept_list": ["environmental execution"], "type": "cluster", "label": "environmental execution"}, "environmental culture": {"concepts": "environmental culture", "concept_list": ["environmental culture"], "type": "cluster", "label": "environmental culture"}, "educational opportunities": {"concepts": "educational opportunities, education", "concept_list": ["educational opportunities", "education"], "type": "cluster", "label": "educational opportunities"}, "environmental demand": {"concepts": "environmental demand, environmental supply, environmental cost", "concept_list": ["environmental demand", "environmental supply", "environmental cost"], "type": "cluster", "label": "environmental demand"}, "environmental indices": {"concepts": "environmental indices, environmental variables", "concept_list": ["environmental indices", "environmental variables"], "type": "cluster", "label": "environmental indices"}, "cultural engagement": {"concepts": "cultural engagement", "concept_list": ["cultural engagement"], "type": "cluster", "label": "cultural engagement"}, "environmental best practices": {"concepts": "environmental best practices, environmental practices, environmental management, environmental implementation", "concept_list": ["environmental best practices", "environmental practices", "environmental management", "environmental implementation"], "type": "cluster", "label": "environmental best practices"}, "species range": {"concepts": "species range, sponges", "concept_list": ["species range", "sponges"], "type": "cluster", "label": "species range"}, "recreational species": {"concepts": "recreational species", "concept_list": ["recreational species"], "type": "cluster", "label": "recreational species"}, "environmental necessity": {"concepts": "environmental necessity", "concept_list": ["environmental necessity"], "type": "cluster", "label": "environmental necessity"}};
        const conceptData = {};
        const interClusterEdges = [["environmental stressors", "environmental discussion", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster"}], ["environmental stressors", "environmental best practices", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster"}], ["species distribution", "environmental projects", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster"}], ["biodiversity cold spots", "environmental help", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster"}], ["biodiversity cold spots", "environmental tools", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster"}], ["environmental sensitivity", "environmental predictions", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster"}], ["environmental activities", "environmental programs", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster"}], ["environmental change", "deep ocean habitats", {"weight": -1.0, "confidence": 0.9, "type": "inter_cluster"}], ["environmental change", "environmental structures", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster"}], ["environmental innovations", "environmental strengthening", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster"}], ["environmental innovations", "environmental demand", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster"}], ["environmental reinforcement", "environmental feedback loops", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster"}], ["storm frequency", "environmental investigation", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster"}], ["derelict fish gear", "environmental adaptation", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster"}], ["environmental components", "science communication", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster"}], ["environmental dynamics", "subtropical species", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster"}], ["harmful organisms", "no-take zones", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster"}], ["regulation change", "environmental transformation", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster"}], ["regulation change", "environmental protocols", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster"}], ["environmental agreements", "environmental supervision", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster"}], ["environmental evolution", "environmental relationships", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster"}], ["environmental coalition", "environmental consequence", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster"}], ["environmental vulnerability", "conservation strategies", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster"}], ["environmental standards", "environmental issue", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster"}], ["environmental governance", "environmental well-being", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster"}], ["environmental transfers", "environmental regulation", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster"}], ["environmental robustness", "environmental guidance", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster"}], ["environmental threat", "science communication", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster"}], ["stressors", "recreational boating", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster"}], ["science communication", "environmental importance", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster"}], ["indigenous population", "environmental renewal", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster"}], ["baitfish", "environmental policy", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster"}], ["channel islands national", "environmental information", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster"}], ["environmental functions", "ambient conditions", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster"}], ["cetaceans", "area based management", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster"}], ["cetaceans", "habitat use", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster"}], ["cetaceans", "environmental objectives", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster"}], ["noaa", "environmental operation", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster"}], ["no take areas", "environmental benefits", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster"}], ["no take areas", "environmental rhythms", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster"}], ["keystone species", "data information", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster"}], ["environmental audit", "environmental benefit", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster"}], ["environmental capital", "environmental empowerment", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster"}], ["community engagement", "environmental tasks", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster"}], ["environmental conflict", "cetaceans", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster"}], ["environmental principles", "environmental validation", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster"}], ["environmental rise", "marine resource management", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster"}], ["environmental tools", "species range", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster"}], ["environmental result", "environmental support", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster"}], ["environmental result", "species distribution", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster"}], ["tribal communities", "environmental ethics", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster"}], ["resource management", "environmental scenarios", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster"}], ["shipping lanes", "environmental challenge", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster"}], ["environmental sustainability", "biodiversity", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster"}], ["species of commercial", "environmental problem", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster"}], ["environmental negotiations", "nutrient runoff", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster"}], ["hypoxia", "environmental harm", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster"}], ["biodiversity", "environmental study", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster"}], ["biodiversity", "noaa", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster"}], ["biodiversity", "environmental demonstration", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster"}], ["environmental responsibilities", "environmental sectors", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster"}], ["environmental projects", "harmful organisms", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster"}], ["environmental evidence", "environmental relationships", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster"}], ["environmental evidence", "environmental responsibilities", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster"}], ["environmental organization", "environmental analysis", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster"}], ["environmental confirmation", "ecosystem based management", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster"}], ["environmental exposure", "ecosystem resilience", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster"}], ["environmental possibility", "baitfish", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster"}], ["research and science", "shannon diversity index", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster"}], ["research and science", "environmental models", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster"}], ["species of recreational", "data information", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster"}], ["environmental ethics", "environmental improvement", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster"}], ["species richness", "no-take protected areas", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster"}], ["sanctuary management", "science opportunities", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster"}], ["environmental development", "environmental potential", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster"}], ["environmental development", "microplastics", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster"}], ["environmental authority", "benthic disturbance", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster"}], ["environmental authority", "no-take zones", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster"}], ["environmental authority", "recreational boating", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster"}], ["environmental models", "environmental expansion", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster"}], ["environmental benefits", "environmental operation", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster"}], ["environmental fragility", "environmental necessity", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster"}], ["environmental risk", "place based management", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster"}], ["environmental risk", "recreational fishing", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster"}], ["environmental knowledge", "public outreach", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster"}], ["environmental investigation", "environmental decision-making", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster"}], ["environmental limitation", "cultural species", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster"}], ["environmental progress", "environmental strengthening", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster"}], ["environmental dialogue", "environmental monitoring", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster"}], ["environmental dialogue", "environmental systems", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster"}], ["environmental improvement", "environmental communication", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster"}], ["environmental discoveries", "environmental best practices", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster"}], ["environmental threats", "environmental outcome", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster"}], ["environmental campaigns", "environmental culture", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster"}], ["carbon sequestration", "environmental challenges", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster"}], ["renewable energy", "environmental opportunity", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster"}], ["environmental transitions", "recreational boating", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster"}], ["shannon diversity index", "place-based management", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster"}], ["environmental protection", "environmental change", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster"}], ["marine protected areas", "environmental stakeholders", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster"}], ["environmental developments", "environmental issue", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster"}], ["urchins", "research community", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster"}], ["environmental indicators", "key food web", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster"}], ["environmental conservation", "environmental threat", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster"}], ["transmission cables", "environmental forums", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster"}], ["environmental plans", "environmental regulation", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster"}], ["environmental problem", "environmental initiatives", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster"}], ["environmental problem", "environmental proof", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster"}], ["bureau of ocean", "environmental narratives", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster"}], ["environmental execution", "environmental policies", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster"}], ["educational opportunities", "stakeholders", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster"}], ["environmental indices", "stakeholders", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster"}], ["cultural engagement", "biodiversity", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster"}], ["environmental best practices", "commercial species", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster"}], ["recreational species", "stock control", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster"}], ["recreational species", "environmental recovery", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster"}], ["environmental necessity", "environmental programs", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster"}]];
        const clusterConcepts = {};
        const clusterEdges = {};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
