
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Water Conservation": {"concepts": "scientific community, conceptual models", "concept_list": ["scientific community", "conceptual models"], "type": "cluster", "node_size": 21, "label": "Water Conservation"}, "Potomac Waters": {"concepts": "wetland mitigation, water clarity, water quality, coastal conservation association", "concept_list": ["wetland mitigation", "water clarity", "water quality", "coastal conservation association"], "type": "cluster", "node_size": 27, "label": "Potomac Waters"}, "Marine Ecosystems": {"concepts": "submerged aquatic vegetation, marine invertebrates, crustacean", "concept_list": ["submerged aquatic vegetation", "marine invertebrates", "crustacean"], "type": "cluster", "node_size": 24, "label": "Marine Ecosystems"}, "Aquatic Species Management": {"concepts": "marine resource management, environmental education practitioners, water filtration, james river, harbor seals, reef forming, nursery reef, biodiversity, environmental education, temperature, chesapeake bay program, mental modeler, seagrass, virginia rivers, oyster restoration, salish sea, summer flounder, observations portfolio, surface measurements, northern gulf of mexico, restoration practitioners, acoustic telemetry, chesapeake program, flathead, sav beds, food web, fish die-outs, coral reefs, environmental department, science space, researchers, food chain, washington state, post-restoration monitoring, species diversity, telemetry receivers, forage fish initiatives, widgeon grass, watershed educational experience, storm events, policy space, grant program, puget sound, chesapeake, ecosystem telemetry, watershed, underwater grass, oysters, susquehanna flats, food web species, heatwaves, dolphins, chesapeake bay, state federal partnership, watermen, environmental literacy, bottlenose dolphins, eel-grass, observation branch, water column, wetland restoration", "concept_list": ["marine resource management", "environmental education practitioners", "water filtration", "james river", "harbor seals", "reef forming", "nursery reef", "biodiversity", "environmental education", "temperature", "chesapeake bay program", "mental modeler", "seagrass", "virginia rivers", "oyster restoration", "salish sea", "summer flounder", "observations portfolio", "surface measurements", "northern gulf of mexico", "restoration practitioners", "acoustic telemetry", "chesapeake program", "flathead", "sav beds", "food web", "fish die-outs", "coral reefs", "environmental department", "science space", "researchers", "food chain", "washington state", "post-restoration monitoring", "species diversity", "telemetry receivers", "forage fish initiatives", "widgeon grass", "watershed educational experience", "storm events", "policy space", "grant program", "puget sound", "chesapeake", "ecosystem telemetry", "watershed", "underwater grass", "oysters", "susquehanna flats", "food web species", "heatwaves", "dolphins", "chesapeake bay", "state federal partnership", "watermen", "environmental literacy", "bottlenose dolphins", "eel-grass", "observation branch", "water column", "wetland restoration"], "type": "cluster", "node_size": 198, "label": "Aquatic Species Management"}, "Scientific Models": {"concepts": "striped bass, epa, buoys, british columbia, gulf of mexico, bruce vogt, sav, atlantic sturgeon, maryland, ebfm, tributary restoration, stakeholders, forages, deputy executive, disease, bay anchovies, maryland dnr, pocomo, virginia, noaa, case study, park service, lysids, menhaden, blue crab stock assessments", "concept_list": ["striped bass", "epa", "buoys", "british columbia", "gulf of mexico", "bruce vogt", "sav", "atlantic sturgeon", "maryland", "ebfm", "tributary restoration", "stakeholders", "forages", "deputy executive", "disease", "bay anchovies", "maryland dnr", "pocomo", "virginia", "noaa", "case study", "park service", "lysids", "menhaden", "blue crab stock assessments"], "type": "cluster", "node_size": 90, "label": "Scientific Models"}, "Education & Population": {"concepts": "population extraction., university of washington, socio-economic benefits, population recruitment, state departments of education, k-12 schools", "concept_list": ["population extraction.", "university of washington", "socio-economic benefits", "population recruitment", "state departments of education", "k-12 schools"], "type": "cluster", "node_size": 33, "label": "Education & Population"}, "Ecosystem Services": {"concepts": "ecosystem services, productivity, conservation banking, natural mortality, ecosystems, high trophic level species, ecosystem modelers, ecosystem telemetry data., trophic level, ecosystem, climate change, ecosystem science, pollution traps, trophic levels, ecosystem service", "concept_list": ["ecosystem services", "productivity", "conservation banking", "natural mortality", "ecosystems", "high trophic level species", "ecosystem modelers", "ecosystem telemetry data.", "trophic level", "ecosystem", "climate change", "ecosystem science", "pollution traps", "trophic levels", "ecosystem service"], "type": "cluster", "node_size": 60, "label": "Ecosystem Services"}, "Resource Management": {"concepts": "budget management, management questions, data management, staffer program, resource users, resource management", "concept_list": ["budget management", "management questions", "data management", "staffer program", "resource users", "resource management"], "type": "cluster", "node_size": 33, "label": "Resource Management"}, "Fisheries Sustainability": {"concepts": "fisheries research, sustainable fisheries, fish productivity, sustainable fisheries group, fisheries research portfolio, fisheries management, fisheries, recreational fish community", "concept_list": ["fisheries research", "sustainable fisheries", "fish productivity", "sustainable fisheries group", "fisheries research portfolio", "fisheries management", "fisheries", "recreational fish community"], "type": "cluster", "node_size": 39, "label": "Fisheries Sustainability"}, "Fish Species": {"concepts": "blue catfish, juvenile spotted croaker, fish git, fish telemetry, forage fish, overfishing, invasive catfish, juvenile fish, catfish", "concept_list": ["blue catfish", "juvenile spotted croaker", "fish git", "fish telemetry", "forage fish", "overfishing", "invasive catfish", "juvenile fish", "catfish"], "type": "cluster", "node_size": 42, "label": "Fish Species"}, "Marine Ecosystem Health": {"concepts": "hypoxic value, dissolved oxygen, algae blooms, harmful organisms, polychaete worms, phytoplankton, salinity", "concept_list": ["hypoxic value", "dissolved oxygen", "algae blooms", "harmful organisms", "polychaete worms", "phytoplankton", "salinity"], "type": "cluster", "node_size": 36, "label": "Marine Ecosystem Health"}, "Habitat Management": {"concepts": "habitat perspective, habitat, habitat structure, habitat forming species, habitat management, habitat linkages, habitat restoration, habitat protection, habitat mapping", "concept_list": ["habitat perspective", "habitat", "habitat structure", "habitat forming species", "habitat management", "habitat linkages", "habitat restoration", "habitat protection", "habitat mapping"], "type": "cluster", "node_size": 42, "label": "Habitat Management"}, "Species Conservation": {"concepts": "conservation concern, species interactions, endangered species, invasive species, threatened species, forage species, coral, key forage species, species of conservation concern, forage species indicators", "concept_list": ["conservation concern", "species interactions", "endangered species", "invasive species", "threatened species", "forage species", "coral", "key forage species", "species of conservation concern", "forage species indicators"], "type": "cluster", "node_size": 45, "label": "Species Conservation"}};
        const conceptData = {"scientific community": {"concepts": "scientific community", "type": "concept", "cluster": "Water Conservation", "node_size": 10, "label": "scientific community"}, "conceptual models": {"concepts": "conceptual models", "type": "concept", "cluster": "Water Conservation", "node_size": 10, "label": "conceptual models"}, "wetland mitigation": {"concepts": "wetland mitigation", "type": "concept", "cluster": "Potomac Waters", "node_size": 10, "label": "wetland mitigation"}, "water clarity": {"concepts": "water clarity", "type": "concept", "cluster": "Potomac Waters", "node_size": 10, "label": "water clarity"}, "water quality": {"concepts": "water quality", "type": "concept", "cluster": "Potomac Waters", "node_size": 10, "label": "water quality"}, "coastal conservation association": {"concepts": "coastal conservation association", "type": "concept", "cluster": "Potomac Waters", "node_size": 10, "label": "coastal conservation association"}, "submerged aquatic vegetation": {"concepts": "submerged aquatic vegetation", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "submerged aquatic vegetation"}, "marine invertebrates": {"concepts": "marine invertebrates", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "marine invertebrates"}, "crustacean": {"concepts": "crustacean", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "crustacean"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "marine resource management"}, "environmental education practitioners": {"concepts": "environmental education practitioners", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "environmental education practitioners"}, "water filtration": {"concepts": "water filtration", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "water filtration"}, "james river": {"concepts": "james river", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "james river"}, "harbor seals": {"concepts": "harbor seals", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "harbor seals"}, "reef forming": {"concepts": "reef forming", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "reef forming"}, "nursery reef": {"concepts": "nursery reef", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "nursery reef"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "biodiversity"}, "environmental education": {"concepts": "environmental education", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "environmental education"}, "temperature": {"concepts": "temperature", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "temperature"}, "chesapeake bay program": {"concepts": "chesapeake bay program", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "chesapeake bay program"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "mental modeler"}, "seagrass": {"concepts": "seagrass", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "seagrass"}, "virginia rivers": {"concepts": "virginia rivers", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "virginia rivers"}, "oyster restoration": {"concepts": "oyster restoration", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "oyster restoration"}, "salish sea": {"concepts": "salish sea", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "salish sea"}, "summer flounder": {"concepts": "summer flounder", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "summer flounder"}, "observations portfolio": {"concepts": "observations portfolio", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "observations portfolio"}, "surface measurements": {"concepts": "surface measurements", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "surface measurements"}, "northern gulf of mexico": {"concepts": "northern gulf of mexico", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "northern gulf of mexico"}, "restoration practitioners": {"concepts": "restoration practitioners", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "restoration practitioners"}, "acoustic telemetry": {"concepts": "acoustic telemetry", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "acoustic telemetry"}, "chesapeake program": {"concepts": "chesapeake program", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "chesapeake program"}, "flathead": {"concepts": "flathead", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "flathead"}, "sav beds": {"concepts": "sav beds", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "sav beds"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "food web"}, "fish die-outs": {"concepts": "fish die-outs", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "fish die-outs"}, "coral reefs": {"concepts": "coral reefs", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "coral reefs"}, "environmental department": {"concepts": "environmental department", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "environmental department"}, "science space": {"concepts": "science space", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "science space"}, "researchers": {"concepts": "researchers", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "researchers"}, "food chain": {"concepts": "food chain", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "food chain"}, "washington state": {"concepts": "washington state", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "washington state"}, "post-restoration monitoring": {"concepts": "post-restoration monitoring", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "post-restoration monitoring"}, "species diversity": {"concepts": "species diversity", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "species diversity"}, "telemetry receivers": {"concepts": "telemetry receivers", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "telemetry receivers"}, "forage fish initiatives": {"concepts": "forage fish initiatives", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "forage fish initiatives"}, "widgeon grass": {"concepts": "widgeon grass", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "widgeon grass"}, "watershed educational experience": {"concepts": "watershed educational experience", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "watershed educational experience"}, "storm events": {"concepts": "storm events", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "storm events"}, "policy space": {"concepts": "policy space", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "policy space"}, "grant program": {"concepts": "grant program", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "grant program"}, "puget sound": {"concepts": "puget sound", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "puget sound"}, "chesapeake": {"concepts": "chesapeake", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "chesapeake"}, "ecosystem telemetry": {"concepts": "ecosystem telemetry", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "ecosystem telemetry"}, "watershed": {"concepts": "watershed", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "watershed"}, "underwater grass": {"concepts": "underwater grass", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "underwater grass"}, "oysters": {"concepts": "oysters", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "oysters"}, "susquehanna flats": {"concepts": "susquehanna flats", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "susquehanna flats"}, "food web species": {"concepts": "food web species", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "food web species"}, "heatwaves": {"concepts": "heatwaves", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "heatwaves"}, "dolphins": {"concepts": "dolphins", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "dolphins"}, "chesapeake bay": {"concepts": "chesapeake bay", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "chesapeake bay"}, "state federal partnership": {"concepts": "state federal partnership", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "state federal partnership"}, "watermen": {"concepts": "watermen", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "watermen"}, "environmental literacy": {"concepts": "environmental literacy", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "environmental literacy"}, "bottlenose dolphins": {"concepts": "bottlenose dolphins", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "bottlenose dolphins"}, "eel-grass": {"concepts": "eel-grass", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "eel-grass"}, "observation branch": {"concepts": "observation branch", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "observation branch"}, "water column": {"concepts": "water column", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "water column"}, "wetland restoration": {"concepts": "wetland restoration", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "wetland restoration"}, "striped bass": {"concepts": "striped bass", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "striped bass"}, "epa": {"concepts": "epa", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "epa"}, "buoys": {"concepts": "buoys", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "buoys"}, "british columbia": {"concepts": "british columbia", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "british columbia"}, "gulf of mexico": {"concepts": "gulf of mexico", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "gulf of mexico"}, "bruce vogt": {"concepts": "bruce vogt", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "bruce vogt"}, "sav": {"concepts": "sav", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "sav"}, "atlantic sturgeon": {"concepts": "atlantic sturgeon", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "atlantic sturgeon"}, "maryland": {"concepts": "maryland", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "maryland"}, "ebfm": {"concepts": "ebfm", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "ebfm"}, "tributary restoration": {"concepts": "tributary restoration", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "tributary restoration"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "stakeholders"}, "forages": {"concepts": "forages", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "forages"}, "deputy executive": {"concepts": "deputy executive", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "deputy executive"}, "disease": {"concepts": "disease", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "disease"}, "bay anchovies": {"concepts": "bay anchovies", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "bay anchovies"}, "maryland dnr": {"concepts": "maryland dnr", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "maryland dnr"}, "pocomo": {"concepts": "pocomo", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "pocomo"}, "virginia": {"concepts": "virginia", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "virginia"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "noaa"}, "case study": {"concepts": "case study", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "case study"}, "park service": {"concepts": "park service", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "park service"}, "lysids": {"concepts": "lysids", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "lysids"}, "menhaden": {"concepts": "menhaden", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "menhaden"}, "blue crab stock assessments": {"concepts": "blue crab stock assessments", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "blue crab stock assessments"}, "population extraction.": {"concepts": "population extraction.", "type": "concept", "cluster": "Education & Population", "node_size": 10, "label": "population extraction."}, "university of washington": {"concepts": "university of washington", "type": "concept", "cluster": "Education & Population", "node_size": 10, "label": "university of washington"}, "socio-economic benefits": {"concepts": "socio-economic benefits", "type": "concept", "cluster": "Education & Population", "node_size": 10, "label": "socio-economic benefits"}, "population recruitment": {"concepts": "population recruitment", "type": "concept", "cluster": "Education & Population", "node_size": 10, "label": "population recruitment"}, "state departments of education": {"concepts": "state departments of education", "type": "concept", "cluster": "Education & Population", "node_size": 10, "label": "state departments of education"}, "k-12 schools": {"concepts": "k-12 schools", "type": "concept", "cluster": "Education & Population", "node_size": 10, "label": "k-12 schools"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "ecosystem services"}, "productivity": {"concepts": "productivity", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "productivity"}, "conservation banking": {"concepts": "conservation banking", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "conservation banking"}, "natural mortality": {"concepts": "natural mortality", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "natural mortality"}, "ecosystems": {"concepts": "ecosystems", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "ecosystems"}, "high trophic level species": {"concepts": "high trophic level species", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "high trophic level species"}, "ecosystem modelers": {"concepts": "ecosystem modelers", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "ecosystem modelers"}, "ecosystem telemetry data.": {"concepts": "ecosystem telemetry data.", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "ecosystem telemetry data."}, "trophic level": {"concepts": "trophic level", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "trophic level"}, "ecosystem": {"concepts": "ecosystem", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "ecosystem"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "climate change"}, "ecosystem science": {"concepts": "ecosystem science", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "ecosystem science"}, "pollution traps": {"concepts": "pollution traps", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "pollution traps"}, "trophic levels": {"concepts": "trophic levels", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "trophic levels"}, "ecosystem service": {"concepts": "ecosystem service", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "ecosystem service"}, "budget management": {"concepts": "budget management", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "budget management"}, "management questions": {"concepts": "management questions", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "management questions"}, "data management": {"concepts": "data management", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "data management"}, "staffer program": {"concepts": "staffer program", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "staffer program"}, "resource users": {"concepts": "resource users", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "resource users"}, "resource management": {"concepts": "resource management", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "resource management"}, "fisheries research": {"concepts": "fisheries research", "type": "concept", "cluster": "Fisheries Sustainability", "node_size": 10, "label": "fisheries research"}, "sustainable fisheries": {"concepts": "sustainable fisheries", "type": "concept", "cluster": "Fisheries Sustainability", "node_size": 10, "label": "sustainable fisheries"}, "fish productivity": {"concepts": "fish productivity", "type": "concept", "cluster": "Fisheries Sustainability", "node_size": 10, "label": "fish productivity"}, "sustainable fisheries group": {"concepts": "sustainable fisheries group", "type": "concept", "cluster": "Fisheries Sustainability", "node_size": 10, "label": "sustainable fisheries group"}, "fisheries research portfolio": {"concepts": "fisheries research portfolio", "type": "concept", "cluster": "Fisheries Sustainability", "node_size": 10, "label": "fisheries research portfolio"}, "fisheries management": {"concepts": "fisheries management", "type": "concept", "cluster": "Fisheries Sustainability", "node_size": 10, "label": "fisheries management"}, "fisheries": {"concepts": "fisheries", "type": "concept", "cluster": "Fisheries Sustainability", "node_size": 10, "label": "fisheries"}, "recreational fish community": {"concepts": "recreational fish community", "type": "concept", "cluster": "Fisheries Sustainability", "node_size": 10, "label": "recreational fish community"}, "blue catfish": {"concepts": "blue catfish", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "blue catfish"}, "juvenile spotted croaker": {"concepts": "juvenile spotted croaker", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "juvenile spotted croaker"}, "fish git": {"concepts": "fish git", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "fish git"}, "fish telemetry": {"concepts": "fish telemetry", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "fish telemetry"}, "forage fish": {"concepts": "forage fish", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "forage fish"}, "overfishing": {"concepts": "overfishing", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "overfishing"}, "invasive catfish": {"concepts": "invasive catfish", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "invasive catfish"}, "juvenile fish": {"concepts": "juvenile fish", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "juvenile fish"}, "catfish": {"concepts": "catfish", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "catfish"}, "hypoxic value": {"concepts": "hypoxic value", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "hypoxic value"}, "dissolved oxygen": {"concepts": "dissolved oxygen", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "dissolved oxygen"}, "algae blooms": {"concepts": "algae blooms", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "algae blooms"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "harmful organisms"}, "polychaete worms": {"concepts": "polychaete worms", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "polychaete worms"}, "phytoplankton": {"concepts": "phytoplankton", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "phytoplankton"}, "salinity": {"concepts": "salinity", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "salinity"}, "habitat perspective": {"concepts": "habitat perspective", "type": "concept", "cluster": "Habitat Management", "node_size": 10, "label": "habitat perspective"}, "habitat": {"concepts": "habitat", "type": "concept", "cluster": "Habitat Management", "node_size": 10, "label": "habitat"}, "habitat structure": {"concepts": "habitat structure", "type": "concept", "cluster": "Habitat Management", "node_size": 10, "label": "habitat structure"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Habitat Management", "node_size": 10, "label": "habitat forming species"}, "habitat management": {"concepts": "habitat management", "type": "concept", "cluster": "Habitat Management", "node_size": 10, "label": "habitat management"}, "habitat linkages": {"concepts": "habitat linkages", "type": "concept", "cluster": "Habitat Management", "node_size": 10, "label": "habitat linkages"}, "habitat restoration": {"concepts": "habitat restoration", "type": "concept", "cluster": "Habitat Management", "node_size": 10, "label": "habitat restoration"}, "habitat protection": {"concepts": "habitat protection", "type": "concept", "cluster": "Habitat Management", "node_size": 10, "label": "habitat protection"}, "habitat mapping": {"concepts": "habitat mapping", "type": "concept", "cluster": "Habitat Management", "node_size": 10, "label": "habitat mapping"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "conservation concern"}, "species interactions": {"concepts": "species interactions", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "species interactions"}, "endangered species": {"concepts": "endangered species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "endangered species"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "invasive species"}, "threatened species": {"concepts": "threatened species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "threatened species"}, "forage species": {"concepts": "forage species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "forage species"}, "coral": {"concepts": "coral", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "coral"}, "key forage species": {"concepts": "key forage species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "key forage species"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "species of conservation concern"}, "forage species indicators": {"concepts": "forage species indicators", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "forage species indicators"}};
        const interClusterEdges = [["Water Conservation", "Resource Management", {"weight": 0.5, "confidence": 0.6875, "type": "inter_cluster", "style": "solid"}], ["Water Conservation", "Potomac Waters", {"weight": 0.75, "confidence": 0.5125, "type": "inter_cluster", "style": "solid"}], ["Water Conservation", "Scientific Models", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Water Conservation", "Aquatic Species Management", {"weight": 0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Water Conservation", "Marine Ecosystem Health", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Potomac Waters", "Water Conservation", {"weight": 0.75, "confidence": 0.475, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystems", "Species Conservation", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystems", "Marine Ecosystem Health", {"weight": 0.2, "confidence": 0.44000000000000006, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystems", "Aquatic Species Management", {"weight": 0.6666666666666666, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystems", "Potomac Waters", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystems", "Habitat Management", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystems", "Fish Species", {"weight": -0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystems", "Resource Management", {"weight": 0.5, "confidence": 0.325, "type": "inter_cluster", "style": "solid"}], ["Aquatic Species Management", "Fish Species", {"weight": 0.4, "confidence": 0.5599999999999999, "type": "inter_cluster", "style": "solid"}], ["Aquatic Species Management", "Education & Population", {"weight": 1.0, "confidence": 0.6875, "type": "inter_cluster", "style": "solid"}], ["Aquatic Species Management", "Water Conservation", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Aquatic Species Management", "Resource Management", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Scientific Models", "Education & Population", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Education & Population", "Aquatic Species Management", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Education & Population", "Scientific Models", {"weight": 0.6666666666666666, "confidence": 0.4166666666666667, "type": "inter_cluster", "style": "solid"}], ["Education & Population", "Resource Management", {"weight": 0.5, "confidence": 0.35, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Services", "Species Conservation", {"weight": 1.0, "confidence": 0.74, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Services", "Habitat Management", {"weight": 0.8, "confidence": 0.63, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Services", "Water Conservation", {"weight": 0.8, "confidence": 0.59, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Services", "Potomac Waters", {"weight": 0.75, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Services", "Marine Ecosystem Health", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Resource Management", "Scientific Models", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Resource Management", "Marine Ecosystem Health", {"weight": 0.2, "confidence": 0.36, "type": "inter_cluster", "style": "solid"}], ["Resource Management", "Species Conservation", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Fisheries Sustainability", "Potomac Waters", {"weight": 1.0, "confidence": 0.6000000000000001, "type": "inter_cluster", "style": "solid"}], ["Fish Species", "Species Conservation", {"weight": 0.2, "confidence": 0.7799999999999999, "type": "inter_cluster", "style": "solid"}], ["Fish Species", "Marine Ecosystems", {"weight": -1.0, "confidence": 0.7833333333333333, "type": "inter_cluster", "style": "solid"}], ["Fish Species", "Resource Management", {"weight": 0.3333333333333333, "confidence": 0.6833333333333332, "type": "inter_cluster", "style": "solid"}], ["Fish Species", "Water Conservation", {"weight": 1.0, "confidence": 0.6833333333333332, "type": "inter_cluster", "style": "solid"}], ["Fish Species", "Aquatic Species Management", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Fish Species", "Scientific Models", {"weight": -0.5, "confidence": 0.35, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystem Health", "Marine Ecosystems", {"weight": -0.3333333333333333, "confidence": 0.7666666666666666, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystem Health", "Species Conservation", {"weight": 0.6666666666666666, "confidence": 0.5333333333333333, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystem Health", "Habitat Management", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Habitat Management", "Aquatic Species Management", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Habitat Management", "Water Conservation", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Habitat Management", "Species Conservation", {"weight": -0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Habitat Management", "Resource Management", {"weight": 0.5, "confidence": 0.35, "type": "inter_cluster", "style": "solid"}], ["Species Conservation", "Marine Ecosystem Health", {"weight": 1.0, "confidence": 0.74, "type": "inter_cluster", "style": "solid"}], ["Species Conservation", "Water Conservation", {"weight": 0.5, "confidence": 0.35, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Water Conservation": [["scientific community", {"concepts": "scientific community", "type": "concept", "cluster": "Water Conservation", "node_size": 10, "label": "scientific community"}], ["conceptual models", {"concepts": "conceptual models", "type": "concept", "cluster": "Water Conservation", "node_size": 10, "label": "conceptual models"}]], "Potomac Waters": [["wetland mitigation", {"concepts": "wetland mitigation", "type": "concept", "cluster": "Potomac Waters", "node_size": 10, "label": "wetland mitigation"}], ["water clarity", {"concepts": "water clarity", "type": "concept", "cluster": "Potomac Waters", "node_size": 10, "label": "water clarity"}], ["water quality", {"concepts": "water quality", "type": "concept", "cluster": "Potomac Waters", "node_size": 10, "label": "water quality"}], ["coastal conservation association", {"concepts": "coastal conservation association", "type": "concept", "cluster": "Potomac Waters", "node_size": 10, "label": "coastal conservation association"}]], "Marine Ecosystems": [["submerged aquatic vegetation", {"concepts": "submerged aquatic vegetation", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "submerged aquatic vegetation"}], ["marine invertebrates", {"concepts": "marine invertebrates", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "marine invertebrates"}], ["crustacean", {"concepts": "crustacean", "type": "concept", "cluster": "Marine Ecosystems", "node_size": 10, "label": "crustacean"}]], "Aquatic Species Management": [["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "marine resource management"}], ["environmental education practitioners", {"concepts": "environmental education practitioners", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "environmental education practitioners"}], ["water filtration", {"concepts": "water filtration", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "water filtration"}], ["james river", {"concepts": "james river", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "james river"}], ["harbor seals", {"concepts": "harbor seals", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "harbor seals"}], ["reef forming", {"concepts": "reef forming", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "reef forming"}], ["nursery reef", {"concepts": "nursery reef", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "nursery reef"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "biodiversity"}], ["environmental education", {"concepts": "environmental education", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "environmental education"}], ["temperature", {"concepts": "temperature", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "temperature"}], ["chesapeake bay program", {"concepts": "chesapeake bay program", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "chesapeake bay program"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "mental modeler"}], ["seagrass", {"concepts": "seagrass", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "seagrass"}], ["virginia rivers", {"concepts": "virginia rivers", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "virginia rivers"}], ["oyster restoration", {"concepts": "oyster restoration", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "oyster restoration"}], ["salish sea", {"concepts": "salish sea", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "salish sea"}], ["summer flounder", {"concepts": "summer flounder", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "summer flounder"}], ["observations portfolio", {"concepts": "observations portfolio", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "observations portfolio"}], ["surface measurements", {"concepts": "surface measurements", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "surface measurements"}], ["northern gulf of mexico", {"concepts": "northern gulf of mexico", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "northern gulf of mexico"}], ["restoration practitioners", {"concepts": "restoration practitioners", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "restoration practitioners"}], ["acoustic telemetry", {"concepts": "acoustic telemetry", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "acoustic telemetry"}], ["chesapeake program", {"concepts": "chesapeake program", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "chesapeake program"}], ["flathead", {"concepts": "flathead", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "flathead"}], ["sav beds", {"concepts": "sav beds", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "sav beds"}], ["food web", {"concepts": "food web", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "food web"}], ["fish die-outs", {"concepts": "fish die-outs", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "fish die-outs"}], ["coral reefs", {"concepts": "coral reefs", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "coral reefs"}], ["environmental department", {"concepts": "environmental department", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "environmental department"}], ["science space", {"concepts": "science space", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "science space"}], ["researchers", {"concepts": "researchers", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "researchers"}], ["food chain", {"concepts": "food chain", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "food chain"}], ["washington state", {"concepts": "washington state", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "washington state"}], ["post-restoration monitoring", {"concepts": "post-restoration monitoring", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "post-restoration monitoring"}], ["species diversity", {"concepts": "species diversity", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "species diversity"}], ["telemetry receivers", {"concepts": "telemetry receivers", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "telemetry receivers"}], ["forage fish initiatives", {"concepts": "forage fish initiatives", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "forage fish initiatives"}], ["widgeon grass", {"concepts": "widgeon grass", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "widgeon grass"}], ["watershed educational experience", {"concepts": "watershed educational experience", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "watershed educational experience"}], ["storm events", {"concepts": "storm events", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "storm events"}], ["policy space", {"concepts": "policy space", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "policy space"}], ["grant program", {"concepts": "grant program", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "grant program"}], ["puget sound", {"concepts": "puget sound", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "puget sound"}], ["chesapeake", {"concepts": "chesapeake", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "chesapeake"}], ["ecosystem telemetry", {"concepts": "ecosystem telemetry", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "ecosystem telemetry"}], ["watershed", {"concepts": "watershed", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "watershed"}], ["underwater grass", {"concepts": "underwater grass", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "underwater grass"}], ["oysters", {"concepts": "oysters", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "oysters"}], ["susquehanna flats", {"concepts": "susquehanna flats", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "susquehanna flats"}], ["food web species", {"concepts": "food web species", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "food web species"}], ["heatwaves", {"concepts": "heatwaves", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "heatwaves"}], ["dolphins", {"concepts": "dolphins", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "dolphins"}], ["chesapeake bay", {"concepts": "chesapeake bay", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "chesapeake bay"}], ["state federal partnership", {"concepts": "state federal partnership", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "state federal partnership"}], ["watermen", {"concepts": "watermen", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "watermen"}], ["environmental literacy", {"concepts": "environmental literacy", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "environmental literacy"}], ["bottlenose dolphins", {"concepts": "bottlenose dolphins", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "bottlenose dolphins"}], ["eel-grass", {"concepts": "eel-grass", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "eel-grass"}], ["observation branch", {"concepts": "observation branch", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "observation branch"}], ["water column", {"concepts": "water column", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "water column"}], ["wetland restoration", {"concepts": "wetland restoration", "type": "concept", "cluster": "Aquatic Species Management", "node_size": 10, "label": "wetland restoration"}]], "Scientific Models": [["striped bass", {"concepts": "striped bass", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "striped bass"}], ["epa", {"concepts": "epa", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "epa"}], ["buoys", {"concepts": "buoys", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "buoys"}], ["british columbia", {"concepts": "british columbia", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "british columbia"}], ["gulf of mexico", {"concepts": "gulf of mexico", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "gulf of mexico"}], ["bruce vogt", {"concepts": "bruce vogt", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "bruce vogt"}], ["sav", {"concepts": "sav", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "sav"}], ["atlantic sturgeon", {"concepts": "atlantic sturgeon", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "atlantic sturgeon"}], ["maryland", {"concepts": "maryland", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "maryland"}], ["ebfm", {"concepts": "ebfm", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "ebfm"}], ["tributary restoration", {"concepts": "tributary restoration", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "tributary restoration"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "stakeholders"}], ["forages", {"concepts": "forages", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "forages"}], ["deputy executive", {"concepts": "deputy executive", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "deputy executive"}], ["disease", {"concepts": "disease", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "disease"}], ["bay anchovies", {"concepts": "bay anchovies", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "bay anchovies"}], ["maryland dnr", {"concepts": "maryland dnr", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "maryland dnr"}], ["pocomo", {"concepts": "pocomo", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "pocomo"}], ["virginia", {"concepts": "virginia", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "virginia"}], ["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "noaa"}], ["case study", {"concepts": "case study", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "case study"}], ["park service", {"concepts": "park service", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "park service"}], ["lysids", {"concepts": "lysids", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "lysids"}], ["menhaden", {"concepts": "menhaden", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "menhaden"}], ["blue crab stock assessments", {"concepts": "blue crab stock assessments", "type": "concept", "cluster": "Scientific Models", "node_size": 10, "label": "blue crab stock assessments"}]], "Education & Population": [["population extraction.", {"concepts": "population extraction.", "type": "concept", "cluster": "Education & Population", "node_size": 10, "label": "population extraction."}], ["university of washington", {"concepts": "university of washington", "type": "concept", "cluster": "Education & Population", "node_size": 10, "label": "university of washington"}], ["socio-economic benefits", {"concepts": "socio-economic benefits", "type": "concept", "cluster": "Education & Population", "node_size": 10, "label": "socio-economic benefits"}], ["population recruitment", {"concepts": "population recruitment", "type": "concept", "cluster": "Education & Population", "node_size": 10, "label": "population recruitment"}], ["state departments of education", {"concepts": "state departments of education", "type": "concept", "cluster": "Education & Population", "node_size": 10, "label": "state departments of education"}], ["k-12 schools", {"concepts": "k-12 schools", "type": "concept", "cluster": "Education & Population", "node_size": 10, "label": "k-12 schools"}]], "Ecosystem Services": [["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "ecosystem services"}], ["productivity", {"concepts": "productivity", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "productivity"}], ["conservation banking", {"concepts": "conservation banking", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "conservation banking"}], ["natural mortality", {"concepts": "natural mortality", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "natural mortality"}], ["ecosystems", {"concepts": "ecosystems", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "ecosystems"}], ["high trophic level species", {"concepts": "high trophic level species", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "high trophic level species"}], ["ecosystem modelers", {"concepts": "ecosystem modelers", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "ecosystem modelers"}], ["ecosystem telemetry data.", {"concepts": "ecosystem telemetry data.", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "ecosystem telemetry data."}], ["trophic level", {"concepts": "trophic level", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "trophic level"}], ["ecosystem", {"concepts": "ecosystem", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "ecosystem"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "climate change"}], ["ecosystem science", {"concepts": "ecosystem science", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "ecosystem science"}], ["pollution traps", {"concepts": "pollution traps", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "pollution traps"}], ["trophic levels", {"concepts": "trophic levels", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "trophic levels"}], ["ecosystem service", {"concepts": "ecosystem service", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "ecosystem service"}]], "Resource Management": [["budget management", {"concepts": "budget management", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "budget management"}], ["management questions", {"concepts": "management questions", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "management questions"}], ["data management", {"concepts": "data management", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "data management"}], ["staffer program", {"concepts": "staffer program", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "staffer program"}], ["resource users", {"concepts": "resource users", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "resource users"}], ["resource management", {"concepts": "resource management", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "resource management"}]], "Fisheries Sustainability": [["fisheries research", {"concepts": "fisheries research", "type": "concept", "cluster": "Fisheries Sustainability", "node_size": 10, "label": "fisheries research"}], ["sustainable fisheries", {"concepts": "sustainable fisheries", "type": "concept", "cluster": "Fisheries Sustainability", "node_size": 10, "label": "sustainable fisheries"}], ["fish productivity", {"concepts": "fish productivity", "type": "concept", "cluster": "Fisheries Sustainability", "node_size": 10, "label": "fish productivity"}], ["sustainable fisheries group", {"concepts": "sustainable fisheries group", "type": "concept", "cluster": "Fisheries Sustainability", "node_size": 10, "label": "sustainable fisheries group"}], ["fisheries research portfolio", {"concepts": "fisheries research portfolio", "type": "concept", "cluster": "Fisheries Sustainability", "node_size": 10, "label": "fisheries research portfolio"}], ["fisheries management", {"concepts": "fisheries management", "type": "concept", "cluster": "Fisheries Sustainability", "node_size": 10, "label": "fisheries management"}], ["fisheries", {"concepts": "fisheries", "type": "concept", "cluster": "Fisheries Sustainability", "node_size": 10, "label": "fisheries"}], ["recreational fish community", {"concepts": "recreational fish community", "type": "concept", "cluster": "Fisheries Sustainability", "node_size": 10, "label": "recreational fish community"}]], "Fish Species": [["blue catfish", {"concepts": "blue catfish", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "blue catfish"}], ["juvenile spotted croaker", {"concepts": "juvenile spotted croaker", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "juvenile spotted croaker"}], ["fish git", {"concepts": "fish git", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "fish git"}], ["fish telemetry", {"concepts": "fish telemetry", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "fish telemetry"}], ["forage fish", {"concepts": "forage fish", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "forage fish"}], ["overfishing", {"concepts": "overfishing", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "overfishing"}], ["invasive catfish", {"concepts": "invasive catfish", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "invasive catfish"}], ["juvenile fish", {"concepts": "juvenile fish", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "juvenile fish"}], ["catfish", {"concepts": "catfish", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "catfish"}]], "Marine Ecosystem Health": [["hypoxic value", {"concepts": "hypoxic value", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "hypoxic value"}], ["dissolved oxygen", {"concepts": "dissolved oxygen", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "dissolved oxygen"}], ["algae blooms", {"concepts": "algae blooms", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "algae blooms"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "harmful organisms"}], ["polychaete worms", {"concepts": "polychaete worms", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "polychaete worms"}], ["phytoplankton", {"concepts": "phytoplankton", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "phytoplankton"}], ["salinity", {"concepts": "salinity", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "salinity"}]], "Habitat Management": [["habitat perspective", {"concepts": "habitat perspective", "type": "concept", "cluster": "Habitat Management", "node_size": 10, "label": "habitat perspective"}], ["habitat", {"concepts": "habitat", "type": "concept", "cluster": "Habitat Management", "node_size": 10, "label": "habitat"}], ["habitat structure", {"concepts": "habitat structure", "type": "concept", "cluster": "Habitat Management", "node_size": 10, "label": "habitat structure"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Habitat Management", "node_size": 10, "label": "habitat forming species"}], ["habitat management", {"concepts": "habitat management", "type": "concept", "cluster": "Habitat Management", "node_size": 10, "label": "habitat management"}], ["habitat linkages", {"concepts": "habitat linkages", "type": "concept", "cluster": "Habitat Management", "node_size": 10, "label": "habitat linkages"}], ["habitat restoration", {"concepts": "habitat restoration", "type": "concept", "cluster": "Habitat Management", "node_size": 10, "label": "habitat restoration"}], ["habitat protection", {"concepts": "habitat protection", "type": "concept", "cluster": "Habitat Management", "node_size": 10, "label": "habitat protection"}], ["habitat mapping", {"concepts": "habitat mapping", "type": "concept", "cluster": "Habitat Management", "node_size": 10, "label": "habitat mapping"}]], "Species Conservation": [["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "conservation concern"}], ["species interactions", {"concepts": "species interactions", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "species interactions"}], ["endangered species", {"concepts": "endangered species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "endangered species"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "invasive species"}], ["threatened species", {"concepts": "threatened species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "threatened species"}], ["forage species", {"concepts": "forage species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "forage species"}], ["coral", {"concepts": "coral", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "coral"}], ["key forage species", {"concepts": "key forage species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "key forage species"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "species of conservation concern"}], ["forage species indicators", {"concepts": "forage species indicators", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "forage species indicators"}]]};
        const clusterEdges = {"Water Conservation": [], "Potomac Waters": [], "Marine Ecosystems": [], "Aquatic Species Management": [], "Scientific Models": [], "Education & Population": [], "Ecosystem Services": [], "Resource Management": [], "Fisheries Sustainability": [], "Fish Species": [], "Marine Ecosystem Health": [], "Habitat Management": [], "Species Conservation": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
