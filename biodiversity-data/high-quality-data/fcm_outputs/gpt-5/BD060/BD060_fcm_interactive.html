
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"dredge spoil creation": {"concepts": "dredge spoil creation", "concept_list": ["dredge spoil creation"], "type": "cluster", "node_size": 18, "label": "dredge spoil creation"}, "stress response": {"concepts": "stress response", "concept_list": ["stress response"], "type": "cluster", "node_size": 18, "label": "stress response"}, "tourism operators": {"concepts": "tourism operators", "concept_list": ["tourism operators"], "type": "cluster", "node_size": 18, "label": "tourism operators"}, "Food Web Basics": {"concepts": "smithsonian environmental research center, prescribed burning", "concept_list": ["smithsonian environmental research center", "prescribed burning"], "type": "cluster", "node_size": 21, "label": "Food Web Basics"}, "Species Diversity & Conservation": {"concepts": "primary producers, food-web species", "concept_list": ["primary producers", "food-web species"], "type": "cluster", "node_size": 21, "label": "Species Diversity & Conservation"}, "Salt Marsh Ecology": {"concepts": "endangered species, invasive species control, plant community assembly, biodiversity, associated organisms, invasive species, species diversity, genetic diversity, population genetic diversity, native species, harmful organisms, species of conservation concern, population genetics, biodiversity preservation, rare species, herbicide, species biodiversity", "concept_list": ["endangered species", "invasive species control", "plant community assembly", "biodiversity", "associated organisms", "invasive species", "species diversity", "genetic diversity", "population genetic diversity", "native species", "harmful organisms", "species of conservation concern", "population genetics", "biodiversity preservation", "rare species", "herbicide", "species biodiversity"], "type": "cluster", "node_size": 66, "label": "Salt Marsh Ecology"}, "Farmland Restoration": {"concepts": "marsh loss, high marsh, marsh accretion, oyster farmers, salt marsh birds, northern gulf of mexico, low marsh, salt marsh sparrow", "concept_list": ["marsh loss", "high marsh", "marsh accretion", "oyster farmers", "salt marsh birds", "northern gulf of mexico", "low marsh", "salt marsh sparrow"], "type": "cluster", "node_size": 39, "label": "Farmland Restoration"}, "Environmental Research & Burning": {"concepts": "farmlands, farmland abandonment, agricultural land management, restoration planting, restoration projects, restoration activities, land acquisition", "concept_list": ["farmlands", "farmland abandonment", "agricultural land management", "restoration planting", "restoration projects", "restoration activities", "land acquisition"], "type": "cluster", "node_size": 36, "label": "Environmental Research & Burning"}, "Coastal Marsh Management": {"concepts": "researchers, community members, crabs, academics, sesync, stakeholders, runneling, knowledge capturing, noaa, technical experts, selective force, incentive structures, physiological stressors, epa, ditching, research institutions, permitting, easements, adaptive potential, study system, tradeoffs, phragmites, the nature conservancy, new england, drainage, monitoring, resource users, regulatory power, drowning, environmental stressors, stress, northeastern university, disturbance, michigan state, conservation, stressors, marsh creation, watermen, legacy effect, legacy effects", "concept_list": ["researchers", "community members", "crabs", "academics", "sesync", "stakeholders", "runneling", "knowledge capturing", "noaa", "technical experts", "selective force", "incentive structures", "physiological stressors", "epa", "ditching", "research institutions", "permitting", "easements", "adaptive potential", "study system", "tradeoffs", "phragmites", "the nature conservancy", "new england", "drainage", "monitoring", "resource users", "regulatory power", "drowning", "environmental stressors", "stress", "northeastern university", "disturbance", "michigan state", "conservation", "stressors", "marsh creation", "watermen", "legacy effect", "legacy effects"], "type": "cluster", "node_size": 135, "label": "Coastal Marsh Management"}, "Tidal Marsh Ecology": {"concepts": "intertidal marsh, tidal marsh loss, tidal creek extension, microtidal marshes, tidal marshes, intertidal marshes", "concept_list": ["intertidal marsh", "tidal marsh loss", "tidal creek extension", "microtidal marshes", "tidal marshes", "intertidal marshes"], "type": "cluster", "node_size": 33, "label": "Tidal Marsh Ecology"}, "Waterfront Marshes": {"concepts": "waterfront homeowners, waffle marshes", "concept_list": ["waterfront homeowners", "waffle marshes"], "type": "cluster", "node_size": 21, "label": "Waterfront Marshes"}, "Climate Impact": {"concepts": "climate change, storms", "concept_list": ["climate change", "storms"], "type": "cluster", "node_size": 21, "label": "Climate Impact"}, "Stakeholders & Experts": {"concepts": "coastal community, coastal communities, coastal ecosystems", "concept_list": ["coastal community", "coastal communities", "coastal ecosystems"], "type": "cluster", "node_size": 24, "label": "Stakeholders & Experts"}, "Saltwater Intrusion": {"concepts": "saltwater intrusion report, saltwater intrusion, salinity intrusion", "concept_list": ["saltwater intrusion report", "saltwater intrusion", "salinity intrusion"], "type": "cluster", "node_size": 24, "label": "Saltwater Intrusion"}, "Coastal Ecosystem Management": {"concepts": "marsh migration corridors, marine resource management, marine biodiversity", "concept_list": ["marsh migration corridors", "marine resource management", "marine biodiversity"], "type": "cluster", "node_size": 24, "label": "Coastal Ecosystem Management"}, "Estuary Water Dynamics": {"concepts": "estuary, eutrophication, hydrology", "concept_list": ["estuary", "eutrophication", "hydrology"], "type": "cluster", "node_size": 24, "label": "Estuary Water Dynamics"}, "Ecosystem Ecology": {"concepts": "wetland ecology, food web, community ecology, habitat forming species, interaction webs, food-web, ecosystems, ecosystem services", "concept_list": ["wetland ecology", "food web", "community ecology", "habitat forming species", "interaction webs", "food-web", "ecosystems", "ecosystem services"], "type": "cluster", "node_size": 39, "label": "Ecosystem Ecology"}, "Chesapeake & Watersheds": {"concepts": "chesapeake bay sentinel site cooperative, chesapeake bay seminole site cooperative, chesapeake, chesapeake bay, chesapeake bay program, salish sea, watershed", "concept_list": ["chesapeake bay sentinel site cooperative", "chesapeake bay seminole site cooperative", "chesapeake", "chesapeake bay", "chesapeake bay program", "salish sea", "watershed"], "type": "cluster", "node_size": 36, "label": "Chesapeake & Watersheds"}, "Fishermen Property Rights": {"concepts": "private property rights, fishermen", "concept_list": ["private property rights", "fishermen"], "type": "cluster", "node_size": 21, "label": "Fishermen Property Rights"}, "Water Management and Connectivity": {"concepts": "dredge oil, ponding, hydrologic connectivity, interior ponding, water quality management", "concept_list": ["dredge oil", "ponding", "hydrologic connectivity", "interior ponding", "water quality management"], "type": "cluster", "node_size": 30, "label": "Water Management and Connectivity"}, "Climate-Driven Habitat Loss": {"concepts": "high elevation, ghost forests, flooding, future habitat, habitat loss, fires, forest mortality, sea level rise", "concept_list": ["high elevation", "ghost forests", "flooding", "future habitat", "habitat loss", "fires", "forest mortality", "sea level rise"], "type": "cluster", "node_size": 39, "label": "Climate-Driven Habitat Loss"}, "Mental Modeling": {"concepts": "mental models, mental modeling, mental modeler, mental model", "concept_list": ["mental models", "mental modeling", "mental modeler", "mental model"], "type": "cluster", "node_size": 27, "label": "Mental Modeling"}, "Global Change & Shorebirds": {"concepts": "global change drivers, global change, shorebirds", "concept_list": ["global change drivers", "global change", "shorebirds"], "type": "cluster", "node_size": 24, "label": "Global Change & Shorebirds"}, "Shorebird Biodiversity": {"concepts": "coastal biodiversity, shorebird research, shorebirds", "concept_list": ["coastal biodiversity", "shorebird research", "shorebirds"], "type": "cluster", "node_size": 24, "label": "Shorebird Biodiversity"}, "Ecosystem Interactions": {"concepts": "ecological relationships, ecosystem engineers", "concept_list": ["ecological relationships", "ecosystem engineers"], "type": "cluster", "node_size": 21, "label": "Ecosystem Interactions"}, "Nesting Conditions": {"concepts": "nest flooding, nesting habitat", "concept_list": ["nest flooding", "nesting habitat"], "type": "cluster", "node_size": 21, "label": "Nesting Conditions"}, "Social-Ecological Systems": {"concepts": "social ecology, social ecological systems, landscape scale efficacy, social-ecological systems", "concept_list": ["social ecology", "social ecological systems", "landscape scale efficacy", "social-ecological systems"], "type": "cluster", "node_size": 27, "label": "Social-Ecological Systems"}, "Management Practices": {"concepts": "management effectiveness, management activities, management interventions", "concept_list": ["management effectiveness", "management activities", "management interventions"], "type": "cluster", "node_size": 24, "label": "Management Practices"}, "Manager Behavior Change": {"concepts": "regional managers, behavior change", "concept_list": ["regional managers", "behavior change"], "type": "cluster", "node_size": 21, "label": "Manager Behavior Change"}};
        const conceptData = {"smithsonian environmental research center": {"concepts": "smithsonian environmental research center", "type": "concept", "cluster": "Food Web Basics", "node_size": 10, "label": "smithsonian environmental research center"}, "prescribed burning": {"concepts": "prescribed burning", "type": "concept", "cluster": "Food Web Basics", "node_size": 10, "label": "prescribed burning"}, "primary producers": {"concepts": "primary producers", "type": "concept", "cluster": "Species Diversity & Conservation", "node_size": 10, "label": "primary producers"}, "food-web species": {"concepts": "food-web species", "type": "concept", "cluster": "Species Diversity & Conservation", "node_size": 10, "label": "food-web species"}, "endangered species": {"concepts": "endangered species", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "endangered species"}, "invasive species control": {"concepts": "invasive species control", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "invasive species control"}, "plant community assembly": {"concepts": "plant community assembly", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "plant community assembly"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "biodiversity"}, "associated organisms": {"concepts": "associated organisms", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "associated organisms"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "invasive species"}, "species diversity": {"concepts": "species diversity", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "species diversity"}, "genetic diversity": {"concepts": "genetic diversity", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "genetic diversity"}, "population genetic diversity": {"concepts": "population genetic diversity", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "population genetic diversity"}, "native species": {"concepts": "native species", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "native species"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "harmful organisms"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "species of conservation concern"}, "population genetics": {"concepts": "population genetics", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "population genetics"}, "biodiversity preservation": {"concepts": "biodiversity preservation", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "biodiversity preservation"}, "rare species": {"concepts": "rare species", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "rare species"}, "herbicide": {"concepts": "herbicide", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "herbicide"}, "species biodiversity": {"concepts": "species biodiversity", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "species biodiversity"}, "marsh loss": {"concepts": "marsh loss", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "marsh loss"}, "high marsh": {"concepts": "high marsh", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "high marsh"}, "marsh accretion": {"concepts": "marsh accretion", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "marsh accretion"}, "oyster farmers": {"concepts": "oyster farmers", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "oyster farmers"}, "salt marsh birds": {"concepts": "salt marsh birds", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "salt marsh birds"}, "northern gulf of mexico": {"concepts": "northern gulf of mexico", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "northern gulf of mexico"}, "low marsh": {"concepts": "low marsh", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "low marsh"}, "salt marsh sparrow": {"concepts": "salt marsh sparrow", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "salt marsh sparrow"}, "farmlands": {"concepts": "farmlands", "type": "concept", "cluster": "Environmental Research & Burning", "node_size": 10, "label": "farmlands"}, "farmland abandonment": {"concepts": "farmland abandonment", "type": "concept", "cluster": "Environmental Research & Burning", "node_size": 10, "label": "farmland abandonment"}, "agricultural land management": {"concepts": "agricultural land management", "type": "concept", "cluster": "Environmental Research & Burning", "node_size": 10, "label": "agricultural land management"}, "restoration planting": {"concepts": "restoration planting", "type": "concept", "cluster": "Environmental Research & Burning", "node_size": 10, "label": "restoration planting"}, "restoration projects": {"concepts": "restoration projects", "type": "concept", "cluster": "Environmental Research & Burning", "node_size": 10, "label": "restoration projects"}, "restoration activities": {"concepts": "restoration activities", "type": "concept", "cluster": "Environmental Research & Burning", "node_size": 10, "label": "restoration activities"}, "land acquisition": {"concepts": "land acquisition", "type": "concept", "cluster": "Environmental Research & Burning", "node_size": 10, "label": "land acquisition"}, "researchers": {"concepts": "researchers", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "researchers"}, "community members": {"concepts": "community members", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "community members"}, "crabs": {"concepts": "crabs", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "crabs"}, "academics": {"concepts": "academics", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "academics"}, "sesync": {"concepts": "sesync", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "sesync"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "stakeholders"}, "runneling": {"concepts": "runneling", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "runneling"}, "knowledge capturing": {"concepts": "knowledge capturing", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "knowledge capturing"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "noaa"}, "technical experts": {"concepts": "technical experts", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "technical experts"}, "selective force": {"concepts": "selective force", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "selective force"}, "incentive structures": {"concepts": "incentive structures", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "incentive structures"}, "physiological stressors": {"concepts": "physiological stressors", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "physiological stressors"}, "epa": {"concepts": "epa", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "epa"}, "ditching": {"concepts": "ditching", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "ditching"}, "research institutions": {"concepts": "research institutions", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "research institutions"}, "permitting": {"concepts": "permitting", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "permitting"}, "easements": {"concepts": "easements", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "easements"}, "adaptive potential": {"concepts": "adaptive potential", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "adaptive potential"}, "study system": {"concepts": "study system", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "study system"}, "tradeoffs": {"concepts": "tradeoffs", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "tradeoffs"}, "phragmites": {"concepts": "phragmites", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "phragmites"}, "the nature conservancy": {"concepts": "the nature conservancy", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "the nature conservancy"}, "new england": {"concepts": "new england", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "new england"}, "drainage": {"concepts": "drainage", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "drainage"}, "monitoring": {"concepts": "monitoring", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "monitoring"}, "resource users": {"concepts": "resource users", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "resource users"}, "regulatory power": {"concepts": "regulatory power", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "regulatory power"}, "drowning": {"concepts": "drowning", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "drowning"}, "environmental stressors": {"concepts": "environmental stressors", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "environmental stressors"}, "stress": {"concepts": "stress", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "stress"}, "northeastern university": {"concepts": "northeastern university", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "northeastern university"}, "disturbance": {"concepts": "disturbance", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "disturbance"}, "michigan state": {"concepts": "michigan state", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "michigan state"}, "conservation": {"concepts": "conservation", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "conservation"}, "stressors": {"concepts": "stressors", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "stressors"}, "marsh creation": {"concepts": "marsh creation", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "marsh creation"}, "watermen": {"concepts": "watermen", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "watermen"}, "legacy effect": {"concepts": "legacy effect", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "legacy effect"}, "legacy effects": {"concepts": "legacy effects", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "legacy effects"}, "intertidal marsh": {"concepts": "intertidal marsh", "type": "concept", "cluster": "Tidal Marsh Ecology", "node_size": 10, "label": "intertidal marsh"}, "tidal marsh loss": {"concepts": "tidal marsh loss", "type": "concept", "cluster": "Tidal Marsh Ecology", "node_size": 10, "label": "tidal marsh loss"}, "tidal creek extension": {"concepts": "tidal creek extension", "type": "concept", "cluster": "Tidal Marsh Ecology", "node_size": 10, "label": "tidal creek extension"}, "microtidal marshes": {"concepts": "microtidal marshes", "type": "concept", "cluster": "Tidal Marsh Ecology", "node_size": 10, "label": "microtidal marshes"}, "tidal marshes": {"concepts": "tidal marshes", "type": "concept", "cluster": "Tidal Marsh Ecology", "node_size": 10, "label": "tidal marshes"}, "intertidal marshes": {"concepts": "intertidal marshes", "type": "concept", "cluster": "Tidal Marsh Ecology", "node_size": 10, "label": "intertidal marshes"}, "waterfront homeowners": {"concepts": "waterfront homeowners", "type": "concept", "cluster": "Waterfront Marshes", "node_size": 10, "label": "waterfront homeowners"}, "waffle marshes": {"concepts": "waffle marshes", "type": "concept", "cluster": "Waterfront Marshes", "node_size": 10, "label": "waffle marshes"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Climate Impact", "node_size": 10, "label": "climate change"}, "storms": {"concepts": "storms", "type": "concept", "cluster": "Climate Impact", "node_size": 10, "label": "storms"}, "coastal community": {"concepts": "coastal community", "type": "concept", "cluster": "Stakeholders & Experts", "node_size": 10, "label": "coastal community"}, "coastal communities": {"concepts": "coastal communities", "type": "concept", "cluster": "Stakeholders & Experts", "node_size": 10, "label": "coastal communities"}, "coastal ecosystems": {"concepts": "coastal ecosystems", "type": "concept", "cluster": "Stakeholders & Experts", "node_size": 10, "label": "coastal ecosystems"}, "saltwater intrusion report": {"concepts": "saltwater intrusion report", "type": "concept", "cluster": "Saltwater Intrusion", "node_size": 10, "label": "saltwater intrusion report"}, "saltwater intrusion": {"concepts": "saltwater intrusion", "type": "concept", "cluster": "Saltwater Intrusion", "node_size": 10, "label": "saltwater intrusion"}, "salinity intrusion": {"concepts": "salinity intrusion", "type": "concept", "cluster": "Saltwater Intrusion", "node_size": 10, "label": "salinity intrusion"}, "marsh migration corridors": {"concepts": "marsh migration corridors", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "marsh migration corridors"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "marine resource management"}, "marine biodiversity": {"concepts": "marine biodiversity", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "marine biodiversity"}, "estuary": {"concepts": "estuary", "type": "concept", "cluster": "Estuary Water Dynamics", "node_size": 10, "label": "estuary"}, "eutrophication": {"concepts": "eutrophication", "type": "concept", "cluster": "Estuary Water Dynamics", "node_size": 10, "label": "eutrophication"}, "hydrology": {"concepts": "hydrology", "type": "concept", "cluster": "Estuary Water Dynamics", "node_size": 10, "label": "hydrology"}, "wetland ecology": {"concepts": "wetland ecology", "type": "concept", "cluster": "Ecosystem Ecology", "node_size": 10, "label": "wetland ecology"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Ecosystem Ecology", "node_size": 10, "label": "food web"}, "community ecology": {"concepts": "community ecology", "type": "concept", "cluster": "Ecosystem Ecology", "node_size": 10, "label": "community ecology"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Ecosystem Ecology", "node_size": 10, "label": "habitat forming species"}, "interaction webs": {"concepts": "interaction webs", "type": "concept", "cluster": "Ecosystem Ecology", "node_size": 10, "label": "interaction webs"}, "food-web": {"concepts": "food-web", "type": "concept", "cluster": "Ecosystem Ecology", "node_size": 10, "label": "food-web"}, "ecosystems": {"concepts": "ecosystems", "type": "concept", "cluster": "Ecosystem Ecology", "node_size": 10, "label": "ecosystems"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Ecosystem Ecology", "node_size": 10, "label": "ecosystem services"}, "chesapeake bay sentinel site cooperative": {"concepts": "chesapeake bay sentinel site cooperative", "type": "concept", "cluster": "Chesapeake & Watersheds", "node_size": 10, "label": "chesapeake bay sentinel site cooperative"}, "chesapeake bay seminole site cooperative": {"concepts": "chesapeake bay seminole site cooperative", "type": "concept", "cluster": "Chesapeake & Watersheds", "node_size": 10, "label": "chesapeake bay seminole site cooperative"}, "chesapeake": {"concepts": "chesapeake", "type": "concept", "cluster": "Chesapeake & Watersheds", "node_size": 10, "label": "chesapeake"}, "chesapeake bay": {"concepts": "chesapeake bay", "type": "concept", "cluster": "Chesapeake & Watersheds", "node_size": 10, "label": "chesapeake bay"}, "chesapeake bay program": {"concepts": "chesapeake bay program", "type": "concept", "cluster": "Chesapeake & Watersheds", "node_size": 10, "label": "chesapeake bay program"}, "salish sea": {"concepts": "salish sea", "type": "concept", "cluster": "Chesapeake & Watersheds", "node_size": 10, "label": "salish sea"}, "watershed": {"concepts": "watershed", "type": "concept", "cluster": "Chesapeake & Watersheds", "node_size": 10, "label": "watershed"}, "private property rights": {"concepts": "private property rights", "type": "concept", "cluster": "Fishermen Property Rights", "node_size": 10, "label": "private property rights"}, "fishermen": {"concepts": "fishermen", "type": "concept", "cluster": "Fishermen Property Rights", "node_size": 10, "label": "fishermen"}, "dredge oil": {"concepts": "dredge oil", "type": "concept", "cluster": "Water Management and Connectivity", "node_size": 10, "label": "dredge oil"}, "ponding": {"concepts": "ponding", "type": "concept", "cluster": "Water Management and Connectivity", "node_size": 10, "label": "ponding"}, "hydrologic connectivity": {"concepts": "hydrologic connectivity", "type": "concept", "cluster": "Water Management and Connectivity", "node_size": 10, "label": "hydrologic connectivity"}, "interior ponding": {"concepts": "interior ponding", "type": "concept", "cluster": "Water Management and Connectivity", "node_size": 10, "label": "interior ponding"}, "water quality management": {"concepts": "water quality management", "type": "concept", "cluster": "Water Management and Connectivity", "node_size": 10, "label": "water quality management"}, "high elevation": {"concepts": "high elevation", "type": "concept", "cluster": "Climate-Driven Habitat Loss", "node_size": 10, "label": "high elevation"}, "ghost forests": {"concepts": "ghost forests", "type": "concept", "cluster": "Climate-Driven Habitat Loss", "node_size": 10, "label": "ghost forests"}, "flooding": {"concepts": "flooding", "type": "concept", "cluster": "Climate-Driven Habitat Loss", "node_size": 10, "label": "flooding"}, "future habitat": {"concepts": "future habitat", "type": "concept", "cluster": "Climate-Driven Habitat Loss", "node_size": 10, "label": "future habitat"}, "habitat loss": {"concepts": "habitat loss", "type": "concept", "cluster": "Climate-Driven Habitat Loss", "node_size": 10, "label": "habitat loss"}, "fires": {"concepts": "fires", "type": "concept", "cluster": "Climate-Driven Habitat Loss", "node_size": 10, "label": "fires"}, "forest mortality": {"concepts": "forest mortality", "type": "concept", "cluster": "Climate-Driven Habitat Loss", "node_size": 10, "label": "forest mortality"}, "sea level rise": {"concepts": "sea level rise", "type": "concept", "cluster": "Climate-Driven Habitat Loss", "node_size": 10, "label": "sea level rise"}, "mental models": {"concepts": "mental models", "type": "concept", "cluster": "Mental Modeling", "node_size": 10, "label": "mental models"}, "mental modeling": {"concepts": "mental modeling", "type": "concept", "cluster": "Mental Modeling", "node_size": 10, "label": "mental modeling"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Mental Modeling", "node_size": 10, "label": "mental modeler"}, "mental model": {"concepts": "mental model", "type": "concept", "cluster": "Mental Modeling", "node_size": 10, "label": "mental model"}, "global change drivers": {"concepts": "global change drivers", "type": "concept", "cluster": "Global Change & Shorebirds", "node_size": 10, "label": "global change drivers"}, "global change": {"concepts": "global change", "type": "concept", "cluster": "Global Change & Shorebirds", "node_size": 10, "label": "global change"}, "shorebirds": {"concepts": "shorebirds", "type": "concept", "cluster": "Global Change & Shorebirds", "node_size": 10, "label": "shorebirds"}, "coastal biodiversity": {"concepts": "coastal biodiversity", "type": "concept", "cluster": "Shorebird Biodiversity", "node_size": 10, "label": "coastal biodiversity"}, "shorebird research": {"concepts": "shorebird research", "type": "concept", "cluster": "Shorebird Biodiversity", "node_size": 10, "label": "shorebird research"}, "ecological relationships": {"concepts": "ecological relationships", "type": "concept", "cluster": "Ecosystem Interactions", "node_size": 10, "label": "ecological relationships"}, "ecosystem engineers": {"concepts": "ecosystem engineers", "type": "concept", "cluster": "Ecosystem Interactions", "node_size": 10, "label": "ecosystem engineers"}, "nest flooding": {"concepts": "nest flooding", "type": "concept", "cluster": "Nesting Conditions", "node_size": 10, "label": "nest flooding"}, "nesting habitat": {"concepts": "nesting habitat", "type": "concept", "cluster": "Nesting Conditions", "node_size": 10, "label": "nesting habitat"}, "social ecology": {"concepts": "social ecology", "type": "concept", "cluster": "Social-Ecological Systems", "node_size": 10, "label": "social ecology"}, "social ecological systems": {"concepts": "social ecological systems", "type": "concept", "cluster": "Social-Ecological Systems", "node_size": 10, "label": "social ecological systems"}, "landscape scale efficacy": {"concepts": "landscape scale efficacy", "type": "concept", "cluster": "Social-Ecological Systems", "node_size": 10, "label": "landscape scale efficacy"}, "social-ecological systems": {"concepts": "social-ecological systems", "type": "concept", "cluster": "Social-Ecological Systems", "node_size": 10, "label": "social-ecological systems"}, "management effectiveness": {"concepts": "management effectiveness", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "management effectiveness"}, "management activities": {"concepts": "management activities", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "management activities"}, "management interventions": {"concepts": "management interventions", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "management interventions"}, "regional managers": {"concepts": "regional managers", "type": "concept", "cluster": "Manager Behavior Change", "node_size": 10, "label": "regional managers"}, "behavior change": {"concepts": "behavior change", "type": "concept", "cluster": "Manager Behavior Change", "node_size": 10, "label": "behavior change"}};
        const interClusterEdges = [["dredge spoil creation", "Ecosystem Ecology", {"weight": 1.0, "confidence": 0.9299999999999999, "type": "inter_cluster", "style": "solid"}], ["dredge spoil creation", "Species Diversity & Conservation", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["dredge spoil creation", "Fishermen Property Rights", {"weight": 0.5, "confidence": 0.275, "type": "inter_cluster", "style": "solid"}], ["dredge spoil creation", "Estuary Water Dynamics", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Food Web Basics", "Environmental Research & Burning", {"weight": 0.5, "confidence": 0.2, "type": "inter_cluster", "style": "solid"}], ["Food Web Basics", "Nesting Conditions", {"weight": 0.5, "confidence": 0.2, "type": "inter_cluster", "style": "solid"}], ["Species Diversity & Conservation", "tourism operators", {"weight": 0.75, "confidence": 0.4875, "type": "inter_cluster", "style": "solid"}], ["Species Diversity & Conservation", "Water Management and Connectivity", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Salt Marsh Ecology", "Management Practices", {"weight": 1.0, "confidence": 0.7625, "type": "inter_cluster", "style": "solid"}], ["Environmental Research & Burning", "Coastal Ecosystem Management", {"weight": 1.0, "confidence": 0.7625, "type": "inter_cluster", "style": "solid"}], ["Environmental Research & Burning", "Nesting Conditions", {"weight": 1.0, "confidence": 0.6625, "type": "inter_cluster", "style": "solid"}], ["Environmental Research & Burning", "Waterfront Marshes", {"weight": 0.5, "confidence": 0.275, "type": "inter_cluster", "style": "solid"}], ["Coastal Marsh Management", "dredge spoil creation", {"weight": 0.75, "confidence": 0.48749999999999993, "type": "inter_cluster", "style": "solid"}], ["Coastal Marsh Management", "Farmland Restoration", {"weight": 0.5, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Coastal Marsh Management", "Ecosystem Ecology", {"weight": 0.3333333333333333, "confidence": 0.19999999999999998, "type": "inter_cluster", "style": "solid"}], ["Coastal Marsh Management", "Saltwater Intrusion", {"weight": 0.3333333333333333, "confidence": 0.21666666666666667, "type": "inter_cluster", "style": "solid"}], ["Tidal Marsh Ecology", "Chesapeake & Watersheds", {"weight": 0.6666666666666666, "confidence": 0.4333333333333333, "type": "inter_cluster", "style": "solid"}], ["Tidal Marsh Ecology", "Manager Behavior Change", {"weight": 0.6666666666666666, "confidence": 0.4166666666666667, "type": "inter_cluster", "style": "solid"}], ["Waterfront Marshes", "Stakeholders & Experts", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Climate Impact", "Water Management and Connectivity", {"weight": 0.6, "confidence": 0.7799999999999999, "type": "inter_cluster", "style": "solid"}], ["Climate Impact", "Salt Marsh Ecology", {"weight": -1.0, "confidence": 0.875, "type": "inter_cluster", "style": "solid"}], ["Climate Impact", "Ecosystem Ecology", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Climate Impact", "stress response", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Climate Impact", "Waterfront Marshes", {"weight": 0.3333333333333333, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Climate Impact", "Ecosystem Interactions", {"weight": -1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Climate Impact", "Coastal Marsh Management", {"weight": 0.6666666666666666, "confidence": 0.3333333333333333, "type": "inter_cluster", "style": "solid"}], ["Stakeholders & Experts", "Species Diversity & Conservation", {"weight": 1.0, "confidence": 0.6625, "type": "inter_cluster", "style": "solid"}], ["Saltwater Intrusion", "Salt Marsh Ecology", {"weight": -1.0, "confidence": 0.8625, "type": "inter_cluster", "style": "solid"}], ["Saltwater Intrusion", "Mental Modeling", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Coastal Ecosystem Management", "Chesapeake & Watersheds", {"weight": 0.6666666666666666, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Coastal Ecosystem Management", "Climate-Driven Habitat Loss", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Coastal Ecosystem Management", "Saltwater Intrusion", {"weight": -0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Estuary Water Dynamics", "Climate-Driven Habitat Loss", {"weight": 1.0, "confidence": 0.6300000000000001, "type": "inter_cluster", "style": "solid"}], ["Estuary Water Dynamics", "Water Management and Connectivity", {"weight": 0.75, "confidence": 0.475, "type": "inter_cluster", "style": "solid"}], ["Estuary Water Dynamics", "Coastal Ecosystem Management", {"weight": 0.25, "confidence": 0.4625, "type": "inter_cluster", "style": "solid"}], ["Fishermen Property Rights", "Salt Marsh Ecology", {"weight": 0.6666666666666666, "confidence": 0.43333333333333335, "type": "inter_cluster", "style": "solid"}], ["Water Management and Connectivity", "Salt Marsh Ecology", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Water Management and Connectivity", "Climate Impact", {"weight": 0.4, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Climate-Driven Habitat Loss", "Tidal Marsh Ecology", {"weight": 1.0, "confidence": 0.7833333333333333, "type": "inter_cluster", "style": "solid"}], ["Mental Modeling", "Social-Ecological Systems", {"weight": 1.0, "confidence": 0.7749999999999999, "type": "inter_cluster", "style": "solid"}], ["Global Change & Shorebirds", "Species Diversity & Conservation", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Global Change & Shorebirds", "Chesapeake & Watersheds", {"weight": 1.0, "confidence": 0.6333333333333333, "type": "inter_cluster", "style": "solid"}], ["Global Change & Shorebirds", "Coastal Marsh Management", {"weight": 0.5, "confidence": 0.325, "type": "inter_cluster", "style": "solid"}], ["Shorebird Biodiversity", "Tidal Marsh Ecology", {"weight": 1.0, "confidence": 0.74, "type": "inter_cluster", "style": "solid"}], ["Shorebird Biodiversity", "Species Diversity & Conservation", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Shorebird Biodiversity", "Climate-Driven Habitat Loss", {"weight": 1.0, "confidence": 0.675, "type": "inter_cluster", "style": "solid"}], ["Shorebird Biodiversity", "Stakeholders & Experts", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Shorebird Biodiversity", "Environmental Research & Burning", {"weight": 0.75, "confidence": 0.475, "type": "inter_cluster", "style": "solid"}], ["Nesting Conditions", "Stakeholders & Experts", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Food Web Basics": [["smithsonian environmental research center", {"concepts": "smithsonian environmental research center", "type": "concept", "cluster": "Food Web Basics", "node_size": 10, "label": "smithsonian environmental research center"}], ["prescribed burning", {"concepts": "prescribed burning", "type": "concept", "cluster": "Food Web Basics", "node_size": 10, "label": "prescribed burning"}]], "Species Diversity & Conservation": [["primary producers", {"concepts": "primary producers", "type": "concept", "cluster": "Species Diversity & Conservation", "node_size": 10, "label": "primary producers"}], ["food-web species", {"concepts": "food-web species", "type": "concept", "cluster": "Species Diversity & Conservation", "node_size": 10, "label": "food-web species"}]], "Salt Marsh Ecology": [["endangered species", {"concepts": "endangered species", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "endangered species"}], ["invasive species control", {"concepts": "invasive species control", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "invasive species control"}], ["plant community assembly", {"concepts": "plant community assembly", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "plant community assembly"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "biodiversity"}], ["associated organisms", {"concepts": "associated organisms", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "associated organisms"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "invasive species"}], ["species diversity", {"concepts": "species diversity", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "species diversity"}], ["genetic diversity", {"concepts": "genetic diversity", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "genetic diversity"}], ["population genetic diversity", {"concepts": "population genetic diversity", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "population genetic diversity"}], ["native species", {"concepts": "native species", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "native species"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "harmful organisms"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "species of conservation concern"}], ["population genetics", {"concepts": "population genetics", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "population genetics"}], ["biodiversity preservation", {"concepts": "biodiversity preservation", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "biodiversity preservation"}], ["rare species", {"concepts": "rare species", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "rare species"}], ["herbicide", {"concepts": "herbicide", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "herbicide"}], ["species biodiversity", {"concepts": "species biodiversity", "type": "concept", "cluster": "Salt Marsh Ecology", "node_size": 10, "label": "species biodiversity"}]], "Farmland Restoration": [["marsh loss", {"concepts": "marsh loss", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "marsh loss"}], ["high marsh", {"concepts": "high marsh", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "high marsh"}], ["marsh accretion", {"concepts": "marsh accretion", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "marsh accretion"}], ["oyster farmers", {"concepts": "oyster farmers", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "oyster farmers"}], ["salt marsh birds", {"concepts": "salt marsh birds", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "salt marsh birds"}], ["northern gulf of mexico", {"concepts": "northern gulf of mexico", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "northern gulf of mexico"}], ["low marsh", {"concepts": "low marsh", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "low marsh"}], ["salt marsh sparrow", {"concepts": "salt marsh sparrow", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "salt marsh sparrow"}]], "Environmental Research & Burning": [["farmlands", {"concepts": "farmlands", "type": "concept", "cluster": "Environmental Research & Burning", "node_size": 10, "label": "farmlands"}], ["farmland abandonment", {"concepts": "farmland abandonment", "type": "concept", "cluster": "Environmental Research & Burning", "node_size": 10, "label": "farmland abandonment"}], ["agricultural land management", {"concepts": "agricultural land management", "type": "concept", "cluster": "Environmental Research & Burning", "node_size": 10, "label": "agricultural land management"}], ["restoration planting", {"concepts": "restoration planting", "type": "concept", "cluster": "Environmental Research & Burning", "node_size": 10, "label": "restoration planting"}], ["restoration projects", {"concepts": "restoration projects", "type": "concept", "cluster": "Environmental Research & Burning", "node_size": 10, "label": "restoration projects"}], ["restoration activities", {"concepts": "restoration activities", "type": "concept", "cluster": "Environmental Research & Burning", "node_size": 10, "label": "restoration activities"}], ["land acquisition", {"concepts": "land acquisition", "type": "concept", "cluster": "Environmental Research & Burning", "node_size": 10, "label": "land acquisition"}]], "Coastal Marsh Management": [["researchers", {"concepts": "researchers", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "researchers"}], ["community members", {"concepts": "community members", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "community members"}], ["crabs", {"concepts": "crabs", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "crabs"}], ["academics", {"concepts": "academics", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "academics"}], ["sesync", {"concepts": "sesync", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "sesync"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "stakeholders"}], ["runneling", {"concepts": "runneling", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "runneling"}], ["knowledge capturing", {"concepts": "knowledge capturing", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "knowledge capturing"}], ["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "noaa"}], ["technical experts", {"concepts": "technical experts", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "technical experts"}], ["selective force", {"concepts": "selective force", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "selective force"}], ["incentive structures", {"concepts": "incentive structures", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "incentive structures"}], ["physiological stressors", {"concepts": "physiological stressors", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "physiological stressors"}], ["epa", {"concepts": "epa", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "epa"}], ["ditching", {"concepts": "ditching", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "ditching"}], ["research institutions", {"concepts": "research institutions", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "research institutions"}], ["permitting", {"concepts": "permitting", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "permitting"}], ["easements", {"concepts": "easements", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "easements"}], ["adaptive potential", {"concepts": "adaptive potential", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "adaptive potential"}], ["study system", {"concepts": "study system", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "study system"}], ["tradeoffs", {"concepts": "tradeoffs", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "tradeoffs"}], ["phragmites", {"concepts": "phragmites", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "phragmites"}], ["the nature conservancy", {"concepts": "the nature conservancy", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "the nature conservancy"}], ["new england", {"concepts": "new england", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "new england"}], ["drainage", {"concepts": "drainage", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "drainage"}], ["monitoring", {"concepts": "monitoring", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "monitoring"}], ["resource users", {"concepts": "resource users", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "resource users"}], ["regulatory power", {"concepts": "regulatory power", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "regulatory power"}], ["drowning", {"concepts": "drowning", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "drowning"}], ["environmental stressors", {"concepts": "environmental stressors", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "environmental stressors"}], ["stress", {"concepts": "stress", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "stress"}], ["northeastern university", {"concepts": "northeastern university", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "northeastern university"}], ["disturbance", {"concepts": "disturbance", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "disturbance"}], ["michigan state", {"concepts": "michigan state", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "michigan state"}], ["conservation", {"concepts": "conservation", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "conservation"}], ["stressors", {"concepts": "stressors", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "stressors"}], ["marsh creation", {"concepts": "marsh creation", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "marsh creation"}], ["watermen", {"concepts": "watermen", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "watermen"}], ["legacy effect", {"concepts": "legacy effect", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "legacy effect"}], ["legacy effects", {"concepts": "legacy effects", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "legacy effects"}]], "Tidal Marsh Ecology": [["intertidal marsh", {"concepts": "intertidal marsh", "type": "concept", "cluster": "Tidal Marsh Ecology", "node_size": 10, "label": "intertidal marsh"}], ["tidal marsh loss", {"concepts": "tidal marsh loss", "type": "concept", "cluster": "Tidal Marsh Ecology", "node_size": 10, "label": "tidal marsh loss"}], ["tidal creek extension", {"concepts": "tidal creek extension", "type": "concept", "cluster": "Tidal Marsh Ecology", "node_size": 10, "label": "tidal creek extension"}], ["microtidal marshes", {"concepts": "microtidal marshes", "type": "concept", "cluster": "Tidal Marsh Ecology", "node_size": 10, "label": "microtidal marshes"}], ["tidal marshes", {"concepts": "tidal marshes", "type": "concept", "cluster": "Tidal Marsh Ecology", "node_size": 10, "label": "tidal marshes"}], ["intertidal marshes", {"concepts": "intertidal marshes", "type": "concept", "cluster": "Tidal Marsh Ecology", "node_size": 10, "label": "intertidal marshes"}]], "Waterfront Marshes": [["waterfront homeowners", {"concepts": "waterfront homeowners", "type": "concept", "cluster": "Waterfront Marshes", "node_size": 10, "label": "waterfront homeowners"}], ["waffle marshes", {"concepts": "waffle marshes", "type": "concept", "cluster": "Waterfront Marshes", "node_size": 10, "label": "waffle marshes"}]], "Climate Impact": [["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Climate Impact", "node_size": 10, "label": "climate change"}], ["storms", {"concepts": "storms", "type": "concept", "cluster": "Climate Impact", "node_size": 10, "label": "storms"}]], "Stakeholders & Experts": [["coastal community", {"concepts": "coastal community", "type": "concept", "cluster": "Stakeholders & Experts", "node_size": 10, "label": "coastal community"}], ["coastal communities", {"concepts": "coastal communities", "type": "concept", "cluster": "Stakeholders & Experts", "node_size": 10, "label": "coastal communities"}], ["coastal ecosystems", {"concepts": "coastal ecosystems", "type": "concept", "cluster": "Stakeholders & Experts", "node_size": 10, "label": "coastal ecosystems"}]], "Saltwater Intrusion": [["saltwater intrusion report", {"concepts": "saltwater intrusion report", "type": "concept", "cluster": "Saltwater Intrusion", "node_size": 10, "label": "saltwater intrusion report"}], ["saltwater intrusion", {"concepts": "saltwater intrusion", "type": "concept", "cluster": "Saltwater Intrusion", "node_size": 10, "label": "saltwater intrusion"}], ["salinity intrusion", {"concepts": "salinity intrusion", "type": "concept", "cluster": "Saltwater Intrusion", "node_size": 10, "label": "salinity intrusion"}]], "Coastal Ecosystem Management": [["marsh migration corridors", {"concepts": "marsh migration corridors", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "marsh migration corridors"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "marine resource management"}], ["marine biodiversity", {"concepts": "marine biodiversity", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "marine biodiversity"}]], "Estuary Water Dynamics": [["estuary", {"concepts": "estuary", "type": "concept", "cluster": "Estuary Water Dynamics", "node_size": 10, "label": "estuary"}], ["eutrophication", {"concepts": "eutrophication", "type": "concept", "cluster": "Estuary Water Dynamics", "node_size": 10, "label": "eutrophication"}], ["hydrology", {"concepts": "hydrology", "type": "concept", "cluster": "Estuary Water Dynamics", "node_size": 10, "label": "hydrology"}]], "Ecosystem Ecology": [["wetland ecology", {"concepts": "wetland ecology", "type": "concept", "cluster": "Ecosystem Ecology", "node_size": 10, "label": "wetland ecology"}], ["food web", {"concepts": "food web", "type": "concept", "cluster": "Ecosystem Ecology", "node_size": 10, "label": "food web"}], ["community ecology", {"concepts": "community ecology", "type": "concept", "cluster": "Ecosystem Ecology", "node_size": 10, "label": "community ecology"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Ecosystem Ecology", "node_size": 10, "label": "habitat forming species"}], ["interaction webs", {"concepts": "interaction webs", "type": "concept", "cluster": "Ecosystem Ecology", "node_size": 10, "label": "interaction webs"}], ["food-web", {"concepts": "food-web", "type": "concept", "cluster": "Ecosystem Ecology", "node_size": 10, "label": "food-web"}], ["ecosystems", {"concepts": "ecosystems", "type": "concept", "cluster": "Ecosystem Ecology", "node_size": 10, "label": "ecosystems"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Ecosystem Ecology", "node_size": 10, "label": "ecosystem services"}]], "Chesapeake & Watersheds": [["chesapeake bay sentinel site cooperative", {"concepts": "chesapeake bay sentinel site cooperative", "type": "concept", "cluster": "Chesapeake & Watersheds", "node_size": 10, "label": "chesapeake bay sentinel site cooperative"}], ["chesapeake bay seminole site cooperative", {"concepts": "chesapeake bay seminole site cooperative", "type": "concept", "cluster": "Chesapeake & Watersheds", "node_size": 10, "label": "chesapeake bay seminole site cooperative"}], ["chesapeake", {"concepts": "chesapeake", "type": "concept", "cluster": "Chesapeake & Watersheds", "node_size": 10, "label": "chesapeake"}], ["chesapeake bay", {"concepts": "chesapeake bay", "type": "concept", "cluster": "Chesapeake & Watersheds", "node_size": 10, "label": "chesapeake bay"}], ["chesapeake bay program", {"concepts": "chesapeake bay program", "type": "concept", "cluster": "Chesapeake & Watersheds", "node_size": 10, "label": "chesapeake bay program"}], ["salish sea", {"concepts": "salish sea", "type": "concept", "cluster": "Chesapeake & Watersheds", "node_size": 10, "label": "salish sea"}], ["watershed", {"concepts": "watershed", "type": "concept", "cluster": "Chesapeake & Watersheds", "node_size": 10, "label": "watershed"}]], "Fishermen Property Rights": [["private property rights", {"concepts": "private property rights", "type": "concept", "cluster": "Fishermen Property Rights", "node_size": 10, "label": "private property rights"}], ["fishermen", {"concepts": "fishermen", "type": "concept", "cluster": "Fishermen Property Rights", "node_size": 10, "label": "fishermen"}]], "Water Management and Connectivity": [["dredge oil", {"concepts": "dredge oil", "type": "concept", "cluster": "Water Management and Connectivity", "node_size": 10, "label": "dredge oil"}], ["ponding", {"concepts": "ponding", "type": "concept", "cluster": "Water Management and Connectivity", "node_size": 10, "label": "ponding"}], ["hydrologic connectivity", {"concepts": "hydrologic connectivity", "type": "concept", "cluster": "Water Management and Connectivity", "node_size": 10, "label": "hydrologic connectivity"}], ["interior ponding", {"concepts": "interior ponding", "type": "concept", "cluster": "Water Management and Connectivity", "node_size": 10, "label": "interior ponding"}], ["water quality management", {"concepts": "water quality management", "type": "concept", "cluster": "Water Management and Connectivity", "node_size": 10, "label": "water quality management"}]], "Climate-Driven Habitat Loss": [["high elevation", {"concepts": "high elevation", "type": "concept", "cluster": "Climate-Driven Habitat Loss", "node_size": 10, "label": "high elevation"}], ["ghost forests", {"concepts": "ghost forests", "type": "concept", "cluster": "Climate-Driven Habitat Loss", "node_size": 10, "label": "ghost forests"}], ["flooding", {"concepts": "flooding", "type": "concept", "cluster": "Climate-Driven Habitat Loss", "node_size": 10, "label": "flooding"}], ["future habitat", {"concepts": "future habitat", "type": "concept", "cluster": "Climate-Driven Habitat Loss", "node_size": 10, "label": "future habitat"}], ["habitat loss", {"concepts": "habitat loss", "type": "concept", "cluster": "Climate-Driven Habitat Loss", "node_size": 10, "label": "habitat loss"}], ["fires", {"concepts": "fires", "type": "concept", "cluster": "Climate-Driven Habitat Loss", "node_size": 10, "label": "fires"}], ["forest mortality", {"concepts": "forest mortality", "type": "concept", "cluster": "Climate-Driven Habitat Loss", "node_size": 10, "label": "forest mortality"}], ["sea level rise", {"concepts": "sea level rise", "type": "concept", "cluster": "Climate-Driven Habitat Loss", "node_size": 10, "label": "sea level rise"}]], "Mental Modeling": [["mental models", {"concepts": "mental models", "type": "concept", "cluster": "Mental Modeling", "node_size": 10, "label": "mental models"}], ["mental modeling", {"concepts": "mental modeling", "type": "concept", "cluster": "Mental Modeling", "node_size": 10, "label": "mental modeling"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Mental Modeling", "node_size": 10, "label": "mental modeler"}], ["mental model", {"concepts": "mental model", "type": "concept", "cluster": "Mental Modeling", "node_size": 10, "label": "mental model"}]], "Global Change & Shorebirds": [["global change drivers", {"concepts": "global change drivers", "type": "concept", "cluster": "Global Change & Shorebirds", "node_size": 10, "label": "global change drivers"}], ["global change", {"concepts": "global change", "type": "concept", "cluster": "Global Change & Shorebirds", "node_size": 10, "label": "global change"}], ["shorebirds", {"concepts": "shorebirds", "type": "concept", "cluster": "Global Change & Shorebirds", "node_size": 10, "label": "shorebirds"}]], "Shorebird Biodiversity": [["coastal biodiversity", {"concepts": "coastal biodiversity", "type": "concept", "cluster": "Shorebird Biodiversity", "node_size": 10, "label": "coastal biodiversity"}], ["shorebird research", {"concepts": "shorebird research", "type": "concept", "cluster": "Shorebird Biodiversity", "node_size": 10, "label": "shorebird research"}]], "Ecosystem Interactions": [["ecological relationships", {"concepts": "ecological relationships", "type": "concept", "cluster": "Ecosystem Interactions", "node_size": 10, "label": "ecological relationships"}], ["ecosystem engineers", {"concepts": "ecosystem engineers", "type": "concept", "cluster": "Ecosystem Interactions", "node_size": 10, "label": "ecosystem engineers"}]], "Nesting Conditions": [["nest flooding", {"concepts": "nest flooding", "type": "concept", "cluster": "Nesting Conditions", "node_size": 10, "label": "nest flooding"}], ["nesting habitat", {"concepts": "nesting habitat", "type": "concept", "cluster": "Nesting Conditions", "node_size": 10, "label": "nesting habitat"}]], "Social-Ecological Systems": [["social ecology", {"concepts": "social ecology", "type": "concept", "cluster": "Social-Ecological Systems", "node_size": 10, "label": "social ecology"}], ["social ecological systems", {"concepts": "social ecological systems", "type": "concept", "cluster": "Social-Ecological Systems", "node_size": 10, "label": "social ecological systems"}], ["landscape scale efficacy", {"concepts": "landscape scale efficacy", "type": "concept", "cluster": "Social-Ecological Systems", "node_size": 10, "label": "landscape scale efficacy"}], ["social-ecological systems", {"concepts": "social-ecological systems", "type": "concept", "cluster": "Social-Ecological Systems", "node_size": 10, "label": "social-ecological systems"}]], "Management Practices": [["management effectiveness", {"concepts": "management effectiveness", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "management effectiveness"}], ["management activities", {"concepts": "management activities", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "management activities"}], ["management interventions", {"concepts": "management interventions", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "management interventions"}]], "Manager Behavior Change": [["regional managers", {"concepts": "regional managers", "type": "concept", "cluster": "Manager Behavior Change", "node_size": 10, "label": "regional managers"}], ["behavior change", {"concepts": "behavior change", "type": "concept", "cluster": "Manager Behavior Change", "node_size": 10, "label": "behavior change"}]]};
        const clusterEdges = {"Food Web Basics": [], "Species Diversity & Conservation": [], "Salt Marsh Ecology": [], "Farmland Restoration": [], "Environmental Research & Burning": [], "Coastal Marsh Management": [], "Tidal Marsh Ecology": [], "Waterfront Marshes": [], "Climate Impact": [], "Stakeholders & Experts": [], "Saltwater Intrusion": [], "Coastal Ecosystem Management": [], "Estuary Water Dynamics": [], "Ecosystem Ecology": [], "Chesapeake & Watersheds": [], "Fishermen Property Rights": [], "Water Management and Connectivity": [], "Climate-Driven Habitat Loss": [], "Mental Modeling": [], "Global Change & Shorebirds": [], "Shorebird Biodiversity": [], "Ecosystem Interactions": [], "Nesting Conditions": [], "Social-Ecological Systems": [], "Management Practices": [], "Manager Behavior Change": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
