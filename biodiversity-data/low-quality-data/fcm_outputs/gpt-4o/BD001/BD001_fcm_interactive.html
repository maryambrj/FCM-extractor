
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"community diversity": {"concepts": "community diversity", "concept_list": ["community diversity"], "type": "cluster", "node_size": 18, "label": "community diversity"}, "resilience": {"concepts": "resilience", "concept_list": ["resilience"], "type": "cluster", "node_size": 18, "label": "resilience"}, "Habitat Conservation": {"concepts": "habitat protection, coral areas, megafauna, coastal communities", "concept_list": ["habitat protection", "coral areas", "megafauna", "coastal communities"], "type": "cluster", "node_size": 27, "label": "Habitat Conservation"}, "Research Collaboration": {"concepts": "decision maker, thoughts, time, opinion, status quo, researchers, questions, input, collaboration, interactions, science side, science analysis, helpful, themes, data collection, adaptation, bye, immediate answer, priorities, perfect, baseline data, academic research, participant expertise, use cases, linkages, perturbations, study systems, organizational state, hour, concept creation, ladies, alaska, research needs, lack of understanding, distinct case studies, adaptation impact, conversations, practitioners, mental modeler, task force, case studies, societal preferences, good one, answers, barriers, fcms, quantifiable benefits, concept list, data gaps, specific study systems, social science research, global knowledge, scientific processes, framework, issues, theory, email, future research, feedback, functional role, run, non-task force members, gulf of mexico, re-engineered system, regional planning, functional society, gaps, societal benefit, gear types, function", "concept_list": ["decision maker", "thoughts", "time", "opinion", "status quo", "researchers", "questions", "input", "collaboration", "interactions", "science side", "science analysis", "helpful", "themes", "data collection", "adaptation", "bye", "immediate answer", "priorities", "perfect", "baseline data", "academic research", "participant expertise", "use cases", "linkages", "perturbations", "study systems", "organizational state", "hour", "concept creation", "ladies", "alaska", "research needs", "lack of understanding", "distinct case studies", "adaptation impact", "conversations", "practitioners", "mental modeler", "task force", "case studies", "societal preferences", "good one", "answers", "barriers", "fcms", "quantifiable benefits", "concept list", "data gaps", "specific study systems", "social science research", "global knowledge", "scientific processes", "framework", "issues", "theory", "email", "future research", "feedback", "functional role", "run", "non-task force members", "gulf of mexico", "re-engineered system", "regional planning", "functional society", "gaps", "societal benefit", "gear types", "function"], "type": "cluster", "node_size": 225, "label": "Research Collaboration"}, "Ecosystem Health": {"concepts": "ecological niche, ecosystem services, ecosystem resilience, ecosystem functioning, specific ecosystem services, baseline ecosystem state, ecosystem disturbance, ecosystem stressor, ecosystem health, ecosystem function", "concept_list": ["ecological niche", "ecosystem services", "ecosystem resilience", "ecosystem functioning", "specific ecosystem services", "baseline ecosystem state", "ecosystem disturbance", "ecosystem stressor", "ecosystem health", "ecosystem function"], "type": "cluster", "node_size": 45, "label": "Ecosystem Health"}, "Biodiversity Metrics": {"concepts": "biodiversity metrics, species numbers, species protection, target biodiversity, species biodiversity, species diversity, biodiversity data, community biodiversity, understanding of biodiversity, species, keystone species, biodiversity, genetic diversity, genetic biodiversity", "concept_list": ["biodiversity metrics", "species numbers", "species protection", "target biodiversity", "species biodiversity", "species diversity", "biodiversity data", "community biodiversity", "understanding of biodiversity", "species", "keystone species", "biodiversity", "genetic diversity", "genetic biodiversity"], "type": "cluster", "node_size": 57, "label": "Biodiversity Metrics"}, "Marine Management": {"concepts": "marine management, bycatch fisheries, fishing pressure, shrimp fisheries, us marine resources, us marine management, climate-ready fisheries, marine resource management, storm surge protection, high bycatch fisheries, marine resource regulations, right whales", "concept_list": ["marine management", "bycatch fisheries", "fishing pressure", "shrimp fisheries", "us marine resources", "us marine management", "climate-ready fisheries", "marine resource management", "storm surge protection", "high bycatch fisheries", "marine resource regulations", "right whales"], "type": "cluster", "node_size": 51, "label": "Marine Management"}, "Climate Stressors": {"concepts": "climate forces, climate stressors, well-being, acute stressors, stressors, climate stressor, climate change, chronic stressors", "concept_list": ["climate forces", "climate stressors", "well-being", "acute stressors", "stressors", "climate stressor", "climate change", "chronic stressors"], "type": "cluster", "node_size": 39, "label": "Climate Stressors"}, "Tribal Sanctuaries": {"concepts": "sanctuaries, tribal communities", "concept_list": ["sanctuaries", "tribal communities"], "type": "cluster", "node_size": 21, "label": "Tribal Sanctuaries"}, "User Subgroups": {"concepts": "subpopulation, distinct, user groups", "concept_list": ["subpopulation", "distinct", "user groups"], "type": "cluster", "node_size": 24, "label": "User Subgroups"}, "Community Health": {"concepts": "population persistence, human health, human communities, diversity", "concept_list": ["population persistence", "human health", "human communities", "diversity"], "type": "cluster", "node_size": 27, "label": "Community Health"}, "Management Strategies": {"concepts": "management policies, management actions, management issues, management processes, effective management", "concept_list": ["management policies", "management actions", "management issues", "management processes", "effective management"], "type": "cluster", "node_size": 30, "label": "Management Strategies"}, "Managerial Intervention": {"concepts": "management intervention, managers", "concept_list": ["management intervention", "managers"], "type": "cluster", "node_size": 21, "label": "Managerial Intervention"}, "Marine Biodiversity": {"concepts": "fish species, deep water corals", "concept_list": ["fish species", "deep water corals"], "type": "cluster", "node_size": 21, "label": "Marine Biodiversity"}, "Eco Resilience": {"concepts": "ecological theory, wind farming, coral habitat, community resilience", "concept_list": ["ecological theory", "wind farming", "coral habitat", "community resilience"], "type": "cluster", "node_size": 27, "label": "Eco Resilience"}};
        const conceptData = {"habitat protection": {"concepts": "habitat protection", "type": "concept", "cluster": "Habitat Conservation", "node_size": 10, "label": "habitat protection"}, "coral areas": {"concepts": "coral areas", "type": "concept", "cluster": "Habitat Conservation", "node_size": 10, "label": "coral areas"}, "megafauna": {"concepts": "megafauna", "type": "concept", "cluster": "Habitat Conservation", "node_size": 10, "label": "megafauna"}, "coastal communities": {"concepts": "coastal communities", "type": "concept", "cluster": "Habitat Conservation", "node_size": 10, "label": "coastal communities"}, "decision maker": {"concepts": "decision maker", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "decision maker"}, "thoughts": {"concepts": "thoughts", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "thoughts"}, "time": {"concepts": "time", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "time"}, "opinion": {"concepts": "opinion", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "opinion"}, "status quo": {"concepts": "status quo", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "status quo"}, "researchers": {"concepts": "researchers", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "researchers"}, "questions": {"concepts": "questions", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "questions"}, "input": {"concepts": "input", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "input"}, "collaboration": {"concepts": "collaboration", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "collaboration"}, "interactions": {"concepts": "interactions", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "interactions"}, "science side": {"concepts": "science side", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "science side"}, "science analysis": {"concepts": "science analysis", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "science analysis"}, "helpful": {"concepts": "helpful", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "helpful"}, "themes": {"concepts": "themes", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "themes"}, "data collection": {"concepts": "data collection", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "data collection"}, "adaptation": {"concepts": "adaptation", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "adaptation"}, "bye": {"concepts": "bye", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "bye"}, "immediate answer": {"concepts": "immediate answer", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "immediate answer"}, "priorities": {"concepts": "priorities", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "priorities"}, "perfect": {"concepts": "perfect", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "perfect"}, "baseline data": {"concepts": "baseline data", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "baseline data"}, "academic research": {"concepts": "academic research", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "academic research"}, "participant expertise": {"concepts": "participant expertise", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "participant expertise"}, "use cases": {"concepts": "use cases", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "use cases"}, "linkages": {"concepts": "linkages", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "linkages"}, "perturbations": {"concepts": "perturbations", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "perturbations"}, "study systems": {"concepts": "study systems", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "study systems"}, "organizational state": {"concepts": "organizational state", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "organizational state"}, "hour": {"concepts": "hour", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "hour"}, "concept creation": {"concepts": "concept creation", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "concept creation"}, "ladies": {"concepts": "ladies", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "ladies"}, "alaska": {"concepts": "alaska", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "alaska"}, "research needs": {"concepts": "research needs", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "research needs"}, "lack of understanding": {"concepts": "lack of understanding", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "lack of understanding"}, "distinct case studies": {"concepts": "distinct case studies", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "distinct case studies"}, "adaptation impact": {"concepts": "adaptation impact", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "adaptation impact"}, "conversations": {"concepts": "conversations", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "conversations"}, "practitioners": {"concepts": "practitioners", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "practitioners"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "mental modeler"}, "task force": {"concepts": "task force", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "task force"}, "case studies": {"concepts": "case studies", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "case studies"}, "societal preferences": {"concepts": "societal preferences", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "societal preferences"}, "good one": {"concepts": "good one", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "good one"}, "answers": {"concepts": "answers", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "answers"}, "barriers": {"concepts": "barriers", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "barriers"}, "fcms": {"concepts": "fcms", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "fcms"}, "quantifiable benefits": {"concepts": "quantifiable benefits", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "quantifiable benefits"}, "concept list": {"concepts": "concept list", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "concept list"}, "data gaps": {"concepts": "data gaps", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "data gaps"}, "specific study systems": {"concepts": "specific study systems", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "specific study systems"}, "social science research": {"concepts": "social science research", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "social science research"}, "global knowledge": {"concepts": "global knowledge", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "global knowledge"}, "scientific processes": {"concepts": "scientific processes", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "scientific processes"}, "framework": {"concepts": "framework", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "framework"}, "issues": {"concepts": "issues", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "issues"}, "theory": {"concepts": "theory", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "theory"}, "email": {"concepts": "email", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "email"}, "future research": {"concepts": "future research", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "future research"}, "feedback": {"concepts": "feedback", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "feedback"}, "functional role": {"concepts": "functional role", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "functional role"}, "run": {"concepts": "run", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "run"}, "non-task force members": {"concepts": "non-task force members", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "non-task force members"}, "gulf of mexico": {"concepts": "gulf of mexico", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "gulf of mexico"}, "re-engineered system": {"concepts": "re-engineered system", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "re-engineered system"}, "regional planning": {"concepts": "regional planning", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "regional planning"}, "functional society": {"concepts": "functional society", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "functional society"}, "gaps": {"concepts": "gaps", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "gaps"}, "societal benefit": {"concepts": "societal benefit", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "societal benefit"}, "gear types": {"concepts": "gear types", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "gear types"}, "function": {"concepts": "function", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "function"}, "ecological niche": {"concepts": "ecological niche", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "ecological niche"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "ecosystem services"}, "ecosystem resilience": {"concepts": "ecosystem resilience", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "ecosystem resilience"}, "ecosystem functioning": {"concepts": "ecosystem functioning", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "ecosystem functioning"}, "specific ecosystem services": {"concepts": "specific ecosystem services", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "specific ecosystem services"}, "baseline ecosystem state": {"concepts": "baseline ecosystem state", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "baseline ecosystem state"}, "ecosystem disturbance": {"concepts": "ecosystem disturbance", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "ecosystem disturbance"}, "ecosystem stressor": {"concepts": "ecosystem stressor", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "ecosystem stressor"}, "ecosystem health": {"concepts": "ecosystem health", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "ecosystem health"}, "ecosystem function": {"concepts": "ecosystem function", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "ecosystem function"}, "biodiversity metrics": {"concepts": "biodiversity metrics", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "biodiversity metrics"}, "species numbers": {"concepts": "species numbers", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "species numbers"}, "species protection": {"concepts": "species protection", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "species protection"}, "target biodiversity": {"concepts": "target biodiversity", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "target biodiversity"}, "species biodiversity": {"concepts": "species biodiversity", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "species biodiversity"}, "species diversity": {"concepts": "species diversity", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "species diversity"}, "biodiversity data": {"concepts": "biodiversity data", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "biodiversity data"}, "community biodiversity": {"concepts": "community biodiversity", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "community biodiversity"}, "understanding of biodiversity": {"concepts": "understanding of biodiversity", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "understanding of biodiversity"}, "species": {"concepts": "species", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "species"}, "keystone species": {"concepts": "keystone species", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "keystone species"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "biodiversity"}, "genetic diversity": {"concepts": "genetic diversity", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "genetic diversity"}, "genetic biodiversity": {"concepts": "genetic biodiversity", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "genetic biodiversity"}, "marine management": {"concepts": "marine management", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "marine management"}, "bycatch fisheries": {"concepts": "bycatch fisheries", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "bycatch fisheries"}, "fishing pressure": {"concepts": "fishing pressure", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "fishing pressure"}, "shrimp fisheries": {"concepts": "shrimp fisheries", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "shrimp fisheries"}, "us marine resources": {"concepts": "us marine resources", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "us marine resources"}, "us marine management": {"concepts": "us marine management", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "us marine management"}, "climate-ready fisheries": {"concepts": "climate-ready fisheries", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "climate-ready fisheries"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "marine resource management"}, "storm surge protection": {"concepts": "storm surge protection", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "storm surge protection"}, "high bycatch fisheries": {"concepts": "high bycatch fisheries", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "high bycatch fisheries"}, "marine resource regulations": {"concepts": "marine resource regulations", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "marine resource regulations"}, "right whales": {"concepts": "right whales", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "right whales"}, "climate forces": {"concepts": "climate forces", "type": "concept", "cluster": "Climate Stressors", "node_size": 10, "label": "climate forces"}, "climate stressors": {"concepts": "climate stressors", "type": "concept", "cluster": "Climate Stressors", "node_size": 10, "label": "climate stressors"}, "well-being": {"concepts": "well-being", "type": "concept", "cluster": "Climate Stressors", "node_size": 10, "label": "well-being"}, "acute stressors": {"concepts": "acute stressors", "type": "concept", "cluster": "Climate Stressors", "node_size": 10, "label": "acute stressors"}, "stressors": {"concepts": "stressors", "type": "concept", "cluster": "Climate Stressors", "node_size": 10, "label": "stressors"}, "climate stressor": {"concepts": "climate stressor", "type": "concept", "cluster": "Climate Stressors", "node_size": 10, "label": "climate stressor"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Climate Stressors", "node_size": 10, "label": "climate change"}, "chronic stressors": {"concepts": "chronic stressors", "type": "concept", "cluster": "Climate Stressors", "node_size": 10, "label": "chronic stressors"}, "sanctuaries": {"concepts": "sanctuaries", "type": "concept", "cluster": "Tribal Sanctuaries", "node_size": 10, "label": "sanctuaries"}, "tribal communities": {"concepts": "tribal communities", "type": "concept", "cluster": "Tribal Sanctuaries", "node_size": 10, "label": "tribal communities"}, "subpopulation": {"concepts": "subpopulation", "type": "concept", "cluster": "User Subgroups", "node_size": 10, "label": "subpopulation"}, "distinct": {"concepts": "distinct", "type": "concept", "cluster": "User Subgroups", "node_size": 10, "label": "distinct"}, "user groups": {"concepts": "user groups", "type": "concept", "cluster": "User Subgroups", "node_size": 10, "label": "user groups"}, "population persistence": {"concepts": "population persistence", "type": "concept", "cluster": "Community Health", "node_size": 10, "label": "population persistence"}, "human health": {"concepts": "human health", "type": "concept", "cluster": "Community Health", "node_size": 10, "label": "human health"}, "human communities": {"concepts": "human communities", "type": "concept", "cluster": "Community Health", "node_size": 10, "label": "human communities"}, "diversity": {"concepts": "diversity", "type": "concept", "cluster": "Community Health", "node_size": 10, "label": "diversity"}, "management policies": {"concepts": "management policies", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "management policies"}, "management actions": {"concepts": "management actions", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "management actions"}, "management issues": {"concepts": "management issues", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "management issues"}, "management processes": {"concepts": "management processes", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "management processes"}, "effective management": {"concepts": "effective management", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "effective management"}, "management intervention": {"concepts": "management intervention", "type": "concept", "cluster": "Managerial Intervention", "node_size": 10, "label": "management intervention"}, "managers": {"concepts": "managers", "type": "concept", "cluster": "Managerial Intervention", "node_size": 10, "label": "managers"}, "fish species": {"concepts": "fish species", "type": "concept", "cluster": "Marine Biodiversity", "node_size": 10, "label": "fish species"}, "deep water corals": {"concepts": "deep water corals", "type": "concept", "cluster": "Marine Biodiversity", "node_size": 10, "label": "deep water corals"}, "ecological theory": {"concepts": "ecological theory", "type": "concept", "cluster": "Eco Resilience", "node_size": 10, "label": "ecological theory"}, "wind farming": {"concepts": "wind farming", "type": "concept", "cluster": "Eco Resilience", "node_size": 10, "label": "wind farming"}, "coral habitat": {"concepts": "coral habitat", "type": "concept", "cluster": "Eco Resilience", "node_size": 10, "label": "coral habitat"}, "community resilience": {"concepts": "community resilience", "type": "concept", "cluster": "Eco Resilience", "node_size": 10, "label": "community resilience"}};
        const interClusterEdges = [["community diversity", "Biodiversity Metrics", {"weight": 1.0, "confidence": 0.7300000000000001, "type": "inter_cluster", "style": "solid"}], ["community diversity", "Eco Resilience", {"weight": 0.8, "confidence": 0.5700000000000001, "type": "inter_cluster", "style": "solid"}], ["community diversity", "Managerial Intervention", {"weight": 0.3333333333333333, "confidence": 0.21666666666666667, "type": "inter_cluster", "style": "solid"}], ["resilience", "Marine Management", {"weight": 1.0, "confidence": 0.7375, "type": "inter_cluster", "style": "solid"}], ["resilience", "Research Collaboration", {"weight": 0.6, "confidence": 0.39999999999999997, "type": "inter_cluster", "style": "solid"}], ["Habitat Conservation", "Ecosystem Health", {"weight": 1.0, "confidence": 0.8099999999999999, "type": "inter_cluster", "style": "solid"}], ["Habitat Conservation", "Biodiversity Metrics", {"weight": 1.0, "confidence": 0.7899999999999999, "type": "inter_cluster", "style": "solid"}], ["Habitat Conservation", "Research Collaboration", {"weight": 0.5, "confidence": 0.32499999999999996, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Health", "resilience", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Health", "Tribal Sanctuaries", {"weight": 0.6666666666666666, "confidence": 0.48333333333333334, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Health", "Community Health", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Metrics", "Ecosystem Health", {"weight": 0.8, "confidence": 0.6599999999999999, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Metrics", "resilience", {"weight": 0.75, "confidence": 0.625, "type": "inter_cluster", "style": "solid"}], ["Marine Management", "resilience", {"weight": 0.8, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Marine Management", "Climate Stressors", {"weight": -0.8, "confidence": 0.5700000000000001, "type": "inter_cluster", "style": "solid"}], ["Climate Stressors", "Marine Biodiversity", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Climate Stressors", "Management Strategies", {"weight": -0.8, "confidence": 0.5599999999999999, "type": "inter_cluster", "style": "solid"}], ["Climate Stressors", "Tribal Sanctuaries", {"weight": -0.25, "confidence": 0.5625, "type": "inter_cluster", "style": "solid"}], ["Climate Stressors", "Eco Resilience", {"weight": -0.5, "confidence": 0.36250000000000004, "type": "inter_cluster", "style": "solid"}], ["Climate Stressors", "Habitat Conservation", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["User Subgroups", "Climate Stressors", {"weight": -0.5, "confidence": 0.6624999999999999, "type": "inter_cluster", "style": "solid"}], ["User Subgroups", "Managerial Intervention", {"weight": 0.25, "confidence": 0.5125, "type": "inter_cluster", "style": "solid"}], ["User Subgroups", "Biodiversity Metrics", {"weight": 0.6, "confidence": 0.38, "type": "inter_cluster", "style": "solid"}], ["User Subgroups", "community diversity", {"weight": 0.6, "confidence": 0.37, "type": "inter_cluster", "style": "solid"}], ["User Subgroups", "Tribal Sanctuaries", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Community Health", "User Subgroups", {"weight": 0.8, "confidence": 0.5399999999999999, "type": "inter_cluster", "style": "solid"}], ["Community Health", "Research Collaboration", {"weight": 0.75, "confidence": 0.49999999999999994, "type": "inter_cluster", "style": "solid"}], ["Community Health", "community diversity", {"weight": 0.6, "confidence": 0.42000000000000004, "type": "inter_cluster", "style": "solid"}], ["Community Health", "Eco Resilience", {"weight": 0.6, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Community Health", "Management Strategies", {"weight": 0.6, "confidence": 0.39, "type": "inter_cluster", "style": "solid"}], ["Management Strategies", "Marine Management", {"weight": 1.0, "confidence": 0.8099999999999999, "type": "inter_cluster", "style": "solid"}], ["Management Strategies", "Habitat Conservation", {"weight": 0.6, "confidence": 0.7900000000000001, "type": "inter_cluster", "style": "solid"}], ["Management Strategies", "Eco Resilience", {"weight": 0.5, "confidence": 0.3625, "type": "inter_cluster", "style": "solid"}], ["Management Strategies", "User Subgroups", {"weight": 0.5, "confidence": 0.3375, "type": "inter_cluster", "style": "solid"}], ["Management Strategies", "Managerial Intervention", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Managerial Intervention", "Habitat Conservation", {"weight": 0.8, "confidence": 0.66, "type": "inter_cluster", "style": "solid"}], ["Managerial Intervention", "Marine Biodiversity", {"weight": 0.8, "confidence": 0.5800000000000001, "type": "inter_cluster", "style": "solid"}], ["Managerial Intervention", "User Subgroups", {"weight": 0.8, "confidence": 0.5700000000000001, "type": "inter_cluster", "style": "solid"}], ["Managerial Intervention", "Marine Management", {"weight": 0.75, "confidence": 0.575, "type": "inter_cluster", "style": "solid"}], ["Managerial Intervention", "Community Health", {"weight": 0.75, "confidence": 0.5375, "type": "inter_cluster", "style": "solid"}], ["Managerial Intervention", "community diversity", {"weight": 0.75, "confidence": 0.5125, "type": "inter_cluster", "style": "solid"}], ["Managerial Intervention", "Research Collaboration", {"weight": 0.6666666666666666, "confidence": 0.4333333333333333, "type": "inter_cluster", "style": "solid"}], ["Marine Biodiversity", "Biodiversity Metrics", {"weight": 0.8, "confidence": 0.62, "type": "inter_cluster", "style": "solid"}], ["Marine Biodiversity", "Habitat Conservation", {"weight": 0.8, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Marine Biodiversity", "Management Strategies", {"weight": 0.6, "confidence": 0.43, "type": "inter_cluster", "style": "solid"}], ["Marine Biodiversity", "Ecosystem Health", {"weight": 0.6, "confidence": 0.45999999999999996, "type": "inter_cluster", "style": "solid"}], ["Marine Biodiversity", "Managerial Intervention", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["Marine Biodiversity", "Eco Resilience", {"weight": 0.5, "confidence": 0.3625, "type": "inter_cluster", "style": "solid"}], ["Marine Biodiversity", "User Subgroups", {"weight": 0.4, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}], ["Eco Resilience", "Habitat Conservation", {"weight": 0.75, "confidence": 0.5874999999999999, "type": "inter_cluster", "style": "solid"}], ["Eco Resilience", "resilience", {"weight": 0.6, "confidence": 0.44000000000000006, "type": "inter_cluster", "style": "solid"}], ["Eco Resilience", "Marine Biodiversity", {"weight": 0.5, "confidence": 0.3375, "type": "inter_cluster", "style": "solid"}], ["Eco Resilience", "Ecosystem Health", {"weight": 0.3333333333333333, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Habitat Conservation": [["habitat protection", {"concepts": "habitat protection", "type": "concept", "cluster": "Habitat Conservation", "node_size": 10, "label": "habitat protection"}], ["coral areas", {"concepts": "coral areas", "type": "concept", "cluster": "Habitat Conservation", "node_size": 10, "label": "coral areas"}], ["megafauna", {"concepts": "megafauna", "type": "concept", "cluster": "Habitat Conservation", "node_size": 10, "label": "megafauna"}], ["coastal communities", {"concepts": "coastal communities", "type": "concept", "cluster": "Habitat Conservation", "node_size": 10, "label": "coastal communities"}]], "Research Collaboration": [["decision maker", {"concepts": "decision maker", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "decision maker"}], ["thoughts", {"concepts": "thoughts", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "thoughts"}], ["time", {"concepts": "time", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "time"}], ["opinion", {"concepts": "opinion", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "opinion"}], ["status quo", {"concepts": "status quo", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "status quo"}], ["researchers", {"concepts": "researchers", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "researchers"}], ["questions", {"concepts": "questions", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "questions"}], ["input", {"concepts": "input", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "input"}], ["collaboration", {"concepts": "collaboration", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "collaboration"}], ["interactions", {"concepts": "interactions", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "interactions"}], ["science side", {"concepts": "science side", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "science side"}], ["science analysis", {"concepts": "science analysis", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "science analysis"}], ["helpful", {"concepts": "helpful", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "helpful"}], ["themes", {"concepts": "themes", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "themes"}], ["data collection", {"concepts": "data collection", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "data collection"}], ["adaptation", {"concepts": "adaptation", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "adaptation"}], ["bye", {"concepts": "bye", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "bye"}], ["immediate answer", {"concepts": "immediate answer", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "immediate answer"}], ["priorities", {"concepts": "priorities", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "priorities"}], ["perfect", {"concepts": "perfect", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "perfect"}], ["baseline data", {"concepts": "baseline data", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "baseline data"}], ["academic research", {"concepts": "academic research", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "academic research"}], ["participant expertise", {"concepts": "participant expertise", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "participant expertise"}], ["use cases", {"concepts": "use cases", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "use cases"}], ["linkages", {"concepts": "linkages", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "linkages"}], ["perturbations", {"concepts": "perturbations", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "perturbations"}], ["study systems", {"concepts": "study systems", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "study systems"}], ["organizational state", {"concepts": "organizational state", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "organizational state"}], ["hour", {"concepts": "hour", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "hour"}], ["concept creation", {"concepts": "concept creation", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "concept creation"}], ["ladies", {"concepts": "ladies", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "ladies"}], ["alaska", {"concepts": "alaska", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "alaska"}], ["research needs", {"concepts": "research needs", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "research needs"}], ["lack of understanding", {"concepts": "lack of understanding", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "lack of understanding"}], ["distinct case studies", {"concepts": "distinct case studies", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "distinct case studies"}], ["adaptation impact", {"concepts": "adaptation impact", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "adaptation impact"}], ["conversations", {"concepts": "conversations", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "conversations"}], ["practitioners", {"concepts": "practitioners", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "practitioners"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "mental modeler"}], ["task force", {"concepts": "task force", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "task force"}], ["case studies", {"concepts": "case studies", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "case studies"}], ["societal preferences", {"concepts": "societal preferences", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "societal preferences"}], ["good one", {"concepts": "good one", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "good one"}], ["answers", {"concepts": "answers", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "answers"}], ["barriers", {"concepts": "barriers", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "barriers"}], ["fcms", {"concepts": "fcms", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "fcms"}], ["quantifiable benefits", {"concepts": "quantifiable benefits", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "quantifiable benefits"}], ["concept list", {"concepts": "concept list", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "concept list"}], ["data gaps", {"concepts": "data gaps", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "data gaps"}], ["specific study systems", {"concepts": "specific study systems", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "specific study systems"}], ["social science research", {"concepts": "social science research", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "social science research"}], ["global knowledge", {"concepts": "global knowledge", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "global knowledge"}], ["scientific processes", {"concepts": "scientific processes", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "scientific processes"}], ["framework", {"concepts": "framework", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "framework"}], ["issues", {"concepts": "issues", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "issues"}], ["theory", {"concepts": "theory", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "theory"}], ["email", {"concepts": "email", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "email"}], ["future research", {"concepts": "future research", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "future research"}], ["feedback", {"concepts": "feedback", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "feedback"}], ["functional role", {"concepts": "functional role", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "functional role"}], ["run", {"concepts": "run", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "run"}], ["non-task force members", {"concepts": "non-task force members", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "non-task force members"}], ["gulf of mexico", {"concepts": "gulf of mexico", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "gulf of mexico"}], ["re-engineered system", {"concepts": "re-engineered system", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "re-engineered system"}], ["regional planning", {"concepts": "regional planning", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "regional planning"}], ["functional society", {"concepts": "functional society", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "functional society"}], ["gaps", {"concepts": "gaps", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "gaps"}], ["societal benefit", {"concepts": "societal benefit", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "societal benefit"}], ["gear types", {"concepts": "gear types", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "gear types"}], ["function", {"concepts": "function", "type": "concept", "cluster": "Research Collaboration", "node_size": 10, "label": "function"}]], "Ecosystem Health": [["ecological niche", {"concepts": "ecological niche", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "ecological niche"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "ecosystem services"}], ["ecosystem resilience", {"concepts": "ecosystem resilience", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "ecosystem resilience"}], ["ecosystem functioning", {"concepts": "ecosystem functioning", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "ecosystem functioning"}], ["specific ecosystem services", {"concepts": "specific ecosystem services", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "specific ecosystem services"}], ["baseline ecosystem state", {"concepts": "baseline ecosystem state", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "baseline ecosystem state"}], ["ecosystem disturbance", {"concepts": "ecosystem disturbance", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "ecosystem disturbance"}], ["ecosystem stressor", {"concepts": "ecosystem stressor", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "ecosystem stressor"}], ["ecosystem health", {"concepts": "ecosystem health", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "ecosystem health"}], ["ecosystem function", {"concepts": "ecosystem function", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "ecosystem function"}]], "Biodiversity Metrics": [["biodiversity metrics", {"concepts": "biodiversity metrics", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "biodiversity metrics"}], ["species numbers", {"concepts": "species numbers", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "species numbers"}], ["species protection", {"concepts": "species protection", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "species protection"}], ["target biodiversity", {"concepts": "target biodiversity", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "target biodiversity"}], ["species biodiversity", {"concepts": "species biodiversity", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "species biodiversity"}], ["species diversity", {"concepts": "species diversity", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "species diversity"}], ["biodiversity data", {"concepts": "biodiversity data", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "biodiversity data"}], ["community biodiversity", {"concepts": "community biodiversity", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "community biodiversity"}], ["understanding of biodiversity", {"concepts": "understanding of biodiversity", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "understanding of biodiversity"}], ["species", {"concepts": "species", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "species"}], ["keystone species", {"concepts": "keystone species", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "keystone species"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "biodiversity"}], ["genetic diversity", {"concepts": "genetic diversity", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "genetic diversity"}], ["genetic biodiversity", {"concepts": "genetic biodiversity", "type": "concept", "cluster": "Biodiversity Metrics", "node_size": 10, "label": "genetic biodiversity"}]], "Marine Management": [["marine management", {"concepts": "marine management", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "marine management"}], ["bycatch fisheries", {"concepts": "bycatch fisheries", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "bycatch fisheries"}], ["fishing pressure", {"concepts": "fishing pressure", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "fishing pressure"}], ["shrimp fisheries", {"concepts": "shrimp fisheries", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "shrimp fisheries"}], ["us marine resources", {"concepts": "us marine resources", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "us marine resources"}], ["us marine management", {"concepts": "us marine management", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "us marine management"}], ["climate-ready fisheries", {"concepts": "climate-ready fisheries", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "climate-ready fisheries"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "marine resource management"}], ["storm surge protection", {"concepts": "storm surge protection", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "storm surge protection"}], ["high bycatch fisheries", {"concepts": "high bycatch fisheries", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "high bycatch fisheries"}], ["marine resource regulations", {"concepts": "marine resource regulations", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "marine resource regulations"}], ["right whales", {"concepts": "right whales", "type": "concept", "cluster": "Marine Management", "node_size": 10, "label": "right whales"}]], "Climate Stressors": [["climate forces", {"concepts": "climate forces", "type": "concept", "cluster": "Climate Stressors", "node_size": 10, "label": "climate forces"}], ["climate stressors", {"concepts": "climate stressors", "type": "concept", "cluster": "Climate Stressors", "node_size": 10, "label": "climate stressors"}], ["well-being", {"concepts": "well-being", "type": "concept", "cluster": "Climate Stressors", "node_size": 10, "label": "well-being"}], ["acute stressors", {"concepts": "acute stressors", "type": "concept", "cluster": "Climate Stressors", "node_size": 10, "label": "acute stressors"}], ["stressors", {"concepts": "stressors", "type": "concept", "cluster": "Climate Stressors", "node_size": 10, "label": "stressors"}], ["climate stressor", {"concepts": "climate stressor", "type": "concept", "cluster": "Climate Stressors", "node_size": 10, "label": "climate stressor"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Climate Stressors", "node_size": 10, "label": "climate change"}], ["chronic stressors", {"concepts": "chronic stressors", "type": "concept", "cluster": "Climate Stressors", "node_size": 10, "label": "chronic stressors"}]], "Tribal Sanctuaries": [["sanctuaries", {"concepts": "sanctuaries", "type": "concept", "cluster": "Tribal Sanctuaries", "node_size": 10, "label": "sanctuaries"}], ["tribal communities", {"concepts": "tribal communities", "type": "concept", "cluster": "Tribal Sanctuaries", "node_size": 10, "label": "tribal communities"}]], "User Subgroups": [["subpopulation", {"concepts": "subpopulation", "type": "concept", "cluster": "User Subgroups", "node_size": 10, "label": "subpopulation"}], ["distinct", {"concepts": "distinct", "type": "concept", "cluster": "User Subgroups", "node_size": 10, "label": "distinct"}], ["user groups", {"concepts": "user groups", "type": "concept", "cluster": "User Subgroups", "node_size": 10, "label": "user groups"}]], "Community Health": [["population persistence", {"concepts": "population persistence", "type": "concept", "cluster": "Community Health", "node_size": 10, "label": "population persistence"}], ["human health", {"concepts": "human health", "type": "concept", "cluster": "Community Health", "node_size": 10, "label": "human health"}], ["human communities", {"concepts": "human communities", "type": "concept", "cluster": "Community Health", "node_size": 10, "label": "human communities"}], ["diversity", {"concepts": "diversity", "type": "concept", "cluster": "Community Health", "node_size": 10, "label": "diversity"}]], "Management Strategies": [["management policies", {"concepts": "management policies", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "management policies"}], ["management actions", {"concepts": "management actions", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "management actions"}], ["management issues", {"concepts": "management issues", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "management issues"}], ["management processes", {"concepts": "management processes", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "management processes"}], ["effective management", {"concepts": "effective management", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "effective management"}]], "Managerial Intervention": [["management intervention", {"concepts": "management intervention", "type": "concept", "cluster": "Managerial Intervention", "node_size": 10, "label": "management intervention"}], ["managers", {"concepts": "managers", "type": "concept", "cluster": "Managerial Intervention", "node_size": 10, "label": "managers"}]], "Marine Biodiversity": [["fish species", {"concepts": "fish species", "type": "concept", "cluster": "Marine Biodiversity", "node_size": 10, "label": "fish species"}], ["deep water corals", {"concepts": "deep water corals", "type": "concept", "cluster": "Marine Biodiversity", "node_size": 10, "label": "deep water corals"}]], "Eco Resilience": [["ecological theory", {"concepts": "ecological theory", "type": "concept", "cluster": "Eco Resilience", "node_size": 10, "label": "ecological theory"}], ["wind farming", {"concepts": "wind farming", "type": "concept", "cluster": "Eco Resilience", "node_size": 10, "label": "wind farming"}], ["coral habitat", {"concepts": "coral habitat", "type": "concept", "cluster": "Eco Resilience", "node_size": 10, "label": "coral habitat"}], ["community resilience", {"concepts": "community resilience", "type": "concept", "cluster": "Eco Resilience", "node_size": 10, "label": "community resilience"}]]};
        const clusterEdges = {"Habitat Conservation": [], "Research Collaboration": [], "Ecosystem Health": [], "Biodiversity Metrics": [], "Marine Management": [], "Climate Stressors": [], "Tribal Sanctuaries": [], "User Subgroups": [], "Community Health": [], "Management Strategies": [], "Managerial Intervention": [], "Marine Biodiversity": [], "Eco Resilience": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
