
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Habitat Regulation Gaps": {"concepts": "species conservation concern, conservation species, biodiversity, conservation status, biodiversity management, key food web supporting species, sensitive species, harmful organisms, protected species, keystone species, biodiversity data, species listing, species interactions, species counts, supporting species, listed species, conservation concern, species protection", "concept_list": ["species conservation concern", "conservation species", "biodiversity", "conservation status", "biodiversity management", "key food web supporting species", "sensitive species", "harmful organisms", "protected species", "keystone species", "biodiversity data", "species listing", "species interactions", "species counts", "supporting species", "listed species", "conservation concern", "species protection"], "type": "cluster", "node_size": 69, "label": "Habitat Regulation Gaps"}, "Cross-Domain Modeling": {"concepts": "{\"concept_name\": \"after the fact permits\", \"significance\": \"regulatory gap for habitat protection\"}, \"significance\": \"citizen science data collection\"}, {\"concept_name\": \"clean water act\", {\"concept_name\": \"habitat fragmentation\", {\"concept_name\": \"species survey\", {\"concept_name\": \"sackett decision\", \"significance\": \"contested habitat compensation method\"}, \"significance\": \"reduced wetland jurisdiction\"}, {\"concept_name\": \"wetland permitting\", \"significance\": \"disrupts ecological connectivity\"}, {\"concept_name\": \"riparian buffer removal\", {\"concept_name\": \"water quality designation\"", "concept_list": ["{\"concept_name\": \"after the fact permits\"", "\"significance\": \"regulatory gap for habitat protection\"}", "\"significance\": \"citizen science data collection\"}", "{\"concept_name\": \"clean water act\"", "{\"concept_name\": \"habitat fragmentation\"", "{\"concept_name\": \"species survey\"", "{\"concept_name\": \"sackett decision\"", "\"significance\": \"contested habitat compensation method\"}", "\"significance\": \"reduced wetland jurisdiction\"}", "{\"concept_name\": \"wetland permitting\"", "\"significance\": \"disrupts ecological connectivity\"}", "{\"concept_name\": \"riparian buffer removal\"", "{\"concept_name\": \"water quality designation\""], "type": "cluster", "node_size": 54, "label": "Cross-Domain Modeling"}, "Ecosystem Governance": {"concepts": "us army corps of engineers, army corps, staff scientist, collaborators, workshop tool, improvement plans, management policies, team retreat, waterkeeper alliance, stakeholder perception", "concept_list": ["us army corps of engineers", "army corps", "staff scientist", "collaborators", "workshop tool", "improvement plans", "management policies", "team retreat", "waterkeeper alliance", "stakeholder perception"], "type": "cluster", "node_size": 45, "label": "Ecosystem Governance"}, "Species Protection": {"concepts": "ecosystem function, poster child species, environmental enforcement, native vegetation, environmental legislation, relationship weights, health safety, pollution management, regulatory agencies, pollution intervention, citizen science, invasive species, invasive vegetation, management concepts, food web, federal standards, public participation, {\"concept_name\": \"public engagement\", public access, court involvement, key food web, human impacts, environmental nonprofit, marine resource management, coastal ecosystems, food web support, ecosystem health", "concept_list": ["ecosystem function", "poster child species", "environmental enforcement", "native vegetation", "environmental legislation", "relationship weights", "health safety", "pollution management", "regulatory agencies", "pollution intervention", "citizen science", "invasive species", "invasive vegetation", "management concepts", "food web", "federal standards", "public participation", "{\"concept_name\": \"public engagement\"", "public access", "court involvement", "key food web", "human impacts", "environmental nonprofit", "marine resource management", "coastal ecosystems", "food web support", "ecosystem health"], "type": "cluster", "node_size": 96, "label": "Species Protection"}, "Regulatory Enforcement Issues": {"concepts": "], litigation power, development credits, {\"concept_name\": \"mitigation banking\", mitigation banks, \"significance\": \"enforcement failure\"}, litigation, regulatory enforcement, \"significance\": \"core regulatory framework\"}, mobile bay system, mobile bay, enforcement disconnect, \"significance\": \"determines protection eligibility\"}, state standards, federal enforcement, regulatory disconnect, [, regulatory processes, diversity of organisms, epa enforcement, ```json, \"significance\": \"sets protection thresholds\"}, preferred state, federal-state standards disconnect, visualization activity, ```, \"domain\": \"social\", \"category\": \"process\", \"domain\": \"organizational\", \"domain\": \"medical\", \"category\": \"relationship\", \"category\": \"challenge\", \"category\": \"entity\", mental modeler", "concept_list": ["]", "litigation power", "development credits", "{\"concept_name\": \"mitigation banking\"", "mitigation banks", "\"significance\": \"enforcement failure\"}", "litigation", "regulatory enforcement", "\"significance\": \"core regulatory framework\"}", "mobile bay system", "mobile bay", "enforcement disconnect", "\"significance\": \"determines protection eligibility\"}", "state standards", "federal enforcement", "regulatory disconnect", "[", "regulatory processes", "diversity of organisms", "epa enforcement", "```json", "\"significance\": \"sets protection thresholds\"}", "preferred state", "federal-state standards disconnect", "visualization activity", "```", "\"domain\": \"social\"", "\"category\": \"process\"", "\"domain\": \"organizational\"", "\"domain\": \"medical\"", "\"category\": \"relationship\"", "\"category\": \"challenge\"", "\"category\": \"entity\"", "mental modeler"], "type": "cluster", "node_size": 117, "label": "Regulatory Enforcement Issues"}, "Ecosystem Restoration Projects": {"concepts": "oyster restoration, wetland preservation, seagrass restoration, ecosystem restoration, fishery safety", "concept_list": ["oyster restoration", "wetland preservation", "seagrass restoration", "ecosystem restoration", "fishery safety"], "type": "cluster", "node_size": 30, "label": "Ecosystem Restoration Projects"}, "Habitat Conservation Focus": {"concepts": "habitat protection, protected species habitat, habitat functionality, recreational access, ecosystem habitat, habitat forming species, habitat conservation, urbanized wildlife, habitat access", "concept_list": ["habitat protection", "protected species habitat", "habitat functionality", "recreational access", "ecosystem habitat", "habitat forming species", "habitat conservation", "urbanized wildlife", "habitat access"], "type": "cluster", "node_size": 42, "label": "Habitat Conservation Focus"}, "Water Quality Management": {"concepts": "coastal waters, water quality improvement plans, water quality enforcement, water quality, water quality thresholds, water quality monitoring, impaired waterways, clean water act, \"significance\": \"degrades water filtration\"}, tributary waters, exceeding water quality thresholds, recreational waterways, water improvement plans", "concept_list": ["coastal waters", "water quality improvement plans", "water quality enforcement", "water quality", "water quality thresholds", "water quality monitoring", "impaired waterways", "clean water act", "\"significance\": \"degrades water filtration\"}", "tributary waters", "exceeding water quality thresholds", "recreational waterways", "water improvement plans"], "type": "cluster", "node_size": 54, "label": "Water Quality Management"}};
        const conceptData = {"species conservation concern": {"concepts": "species conservation concern", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "species conservation concern"}, "conservation species": {"concepts": "conservation species", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "conservation species"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "biodiversity"}, "conservation status": {"concepts": "conservation status", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "conservation status"}, "biodiversity management": {"concepts": "biodiversity management", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "biodiversity management"}, "key food web supporting species": {"concepts": "key food web supporting species", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "key food web supporting species"}, "sensitive species": {"concepts": "sensitive species", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "sensitive species"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "harmful organisms"}, "protected species": {"concepts": "protected species", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "protected species"}, "keystone species": {"concepts": "keystone species", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "keystone species"}, "biodiversity data": {"concepts": "biodiversity data", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "biodiversity data"}, "species listing": {"concepts": "species listing", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "species listing"}, "species interactions": {"concepts": "species interactions", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "species interactions"}, "species counts": {"concepts": "species counts", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "species counts"}, "supporting species": {"concepts": "supporting species", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "supporting species"}, "listed species": {"concepts": "listed species", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "listed species"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "conservation concern"}, "species protection": {"concepts": "species protection", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "species protection"}, "{\"concept_name\": \"after the fact permits\"": {"concepts": "{\"concept_name\": \"after the fact permits\"", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "{\"concept_name\": \"after the fact permits\""}, "\"significance\": \"regulatory gap for habitat protection\"}": {"concepts": "\"significance\": \"regulatory gap for habitat protection\"}", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "\"significance\": \"regulatory gap for habitat protection\"}"}, "\"significance\": \"citizen science data collection\"}": {"concepts": "\"significance\": \"citizen science data collection\"}", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "\"significance\": \"citizen science data collection\"}"}, "{\"concept_name\": \"clean water act\"": {"concepts": "{\"concept_name\": \"clean water act\"", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "{\"concept_name\": \"clean water act\""}, "{\"concept_name\": \"habitat fragmentation\"": {"concepts": "{\"concept_name\": \"habitat fragmentation\"", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "{\"concept_name\": \"habitat fragmentation\""}, "{\"concept_name\": \"species survey\"": {"concepts": "{\"concept_name\": \"species survey\"", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "{\"concept_name\": \"species survey\""}, "{\"concept_name\": \"sackett decision\"": {"concepts": "{\"concept_name\": \"sackett decision\"", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "{\"concept_name\": \"sackett decision\""}, "\"significance\": \"contested habitat compensation method\"}": {"concepts": "\"significance\": \"contested habitat compensation method\"}", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "\"significance\": \"contested habitat compensation method\"}"}, "\"significance\": \"reduced wetland jurisdiction\"}": {"concepts": "\"significance\": \"reduced wetland jurisdiction\"}", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "\"significance\": \"reduced wetland jurisdiction\"}"}, "{\"concept_name\": \"wetland permitting\"": {"concepts": "{\"concept_name\": \"wetland permitting\"", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "{\"concept_name\": \"wetland permitting\""}, "\"significance\": \"disrupts ecological connectivity\"}": {"concepts": "\"significance\": \"disrupts ecological connectivity\"}", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "\"significance\": \"disrupts ecological connectivity\"}"}, "{\"concept_name\": \"riparian buffer removal\"": {"concepts": "{\"concept_name\": \"riparian buffer removal\"", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "{\"concept_name\": \"riparian buffer removal\""}, "{\"concept_name\": \"water quality designation\"": {"concepts": "{\"concept_name\": \"water quality designation\"", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "{\"concept_name\": \"water quality designation\""}, "us army corps of engineers": {"concepts": "us army corps of engineers", "type": "concept", "cluster": "Ecosystem Governance", "node_size": 10, "label": "us army corps of engineers"}, "army corps": {"concepts": "army corps", "type": "concept", "cluster": "Ecosystem Governance", "node_size": 10, "label": "army corps"}, "staff scientist": {"concepts": "staff scientist", "type": "concept", "cluster": "Ecosystem Governance", "node_size": 10, "label": "staff scientist"}, "collaborators": {"concepts": "collaborators", "type": "concept", "cluster": "Ecosystem Governance", "node_size": 10, "label": "collaborators"}, "workshop tool": {"concepts": "workshop tool", "type": "concept", "cluster": "Ecosystem Governance", "node_size": 10, "label": "workshop tool"}, "improvement plans": {"concepts": "improvement plans", "type": "concept", "cluster": "Ecosystem Governance", "node_size": 10, "label": "improvement plans"}, "management policies": {"concepts": "management policies", "type": "concept", "cluster": "Ecosystem Governance", "node_size": 10, "label": "management policies"}, "team retreat": {"concepts": "team retreat", "type": "concept", "cluster": "Ecosystem Governance", "node_size": 10, "label": "team retreat"}, "waterkeeper alliance": {"concepts": "waterkeeper alliance", "type": "concept", "cluster": "Ecosystem Governance", "node_size": 10, "label": "waterkeeper alliance"}, "stakeholder perception": {"concepts": "stakeholder perception", "type": "concept", "cluster": "Ecosystem Governance", "node_size": 10, "label": "stakeholder perception"}, "ecosystem function": {"concepts": "ecosystem function", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "ecosystem function"}, "poster child species": {"concepts": "poster child species", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "poster child species"}, "environmental enforcement": {"concepts": "environmental enforcement", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "environmental enforcement"}, "native vegetation": {"concepts": "native vegetation", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "native vegetation"}, "environmental legislation": {"concepts": "environmental legislation", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "environmental legislation"}, "relationship weights": {"concepts": "relationship weights", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "relationship weights"}, "health safety": {"concepts": "health safety", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "health safety"}, "pollution management": {"concepts": "pollution management", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "pollution management"}, "regulatory agencies": {"concepts": "regulatory agencies", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "regulatory agencies"}, "pollution intervention": {"concepts": "pollution intervention", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "pollution intervention"}, "citizen science": {"concepts": "citizen science", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "citizen science"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "invasive species"}, "invasive vegetation": {"concepts": "invasive vegetation", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "invasive vegetation"}, "management concepts": {"concepts": "management concepts", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "management concepts"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "food web"}, "federal standards": {"concepts": "federal standards", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "federal standards"}, "public participation": {"concepts": "public participation", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "public participation"}, "{\"concept_name\": \"public engagement\"": {"concepts": "{\"concept_name\": \"public engagement\"", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "{\"concept_name\": \"public engagement\""}, "public access": {"concepts": "public access", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "public access"}, "court involvement": {"concepts": "court involvement", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "court involvement"}, "key food web": {"concepts": "key food web", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "key food web"}, "human impacts": {"concepts": "human impacts", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "human impacts"}, "environmental nonprofit": {"concepts": "environmental nonprofit", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "environmental nonprofit"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "marine resource management"}, "coastal ecosystems": {"concepts": "coastal ecosystems", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "coastal ecosystems"}, "food web support": {"concepts": "food web support", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "food web support"}, "ecosystem health": {"concepts": "ecosystem health", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "ecosystem health"}, "]": {"concepts": "]", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "]"}, "litigation power": {"concepts": "litigation power", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "litigation power"}, "development credits": {"concepts": "development credits", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "development credits"}, "{\"concept_name\": \"mitigation banking\"": {"concepts": "{\"concept_name\": \"mitigation banking\"", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "{\"concept_name\": \"mitigation banking\""}, "mitigation banks": {"concepts": "mitigation banks", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "mitigation banks"}, "\"significance\": \"enforcement failure\"}": {"concepts": "\"significance\": \"enforcement failure\"}", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "\"significance\": \"enforcement failure\"}"}, "litigation": {"concepts": "litigation", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "litigation"}, "regulatory enforcement": {"concepts": "regulatory enforcement", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "regulatory enforcement"}, "\"significance\": \"core regulatory framework\"}": {"concepts": "\"significance\": \"core regulatory framework\"}", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "\"significance\": \"core regulatory framework\"}"}, "mobile bay system": {"concepts": "mobile bay system", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "mobile bay system"}, "mobile bay": {"concepts": "mobile bay", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "mobile bay"}, "enforcement disconnect": {"concepts": "enforcement disconnect", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "enforcement disconnect"}, "\"significance\": \"determines protection eligibility\"}": {"concepts": "\"significance\": \"determines protection eligibility\"}", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "\"significance\": \"determines protection eligibility\"}"}, "state standards": {"concepts": "state standards", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "state standards"}, "federal enforcement": {"concepts": "federal enforcement", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "federal enforcement"}, "regulatory disconnect": {"concepts": "regulatory disconnect", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "regulatory disconnect"}, "[": {"concepts": "[", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "["}, "regulatory processes": {"concepts": "regulatory processes", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "regulatory processes"}, "diversity of organisms": {"concepts": "diversity of organisms", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "diversity of organisms"}, "epa enforcement": {"concepts": "epa enforcement", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "epa enforcement"}, "```json": {"concepts": "```json", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "```json"}, "\"significance\": \"sets protection thresholds\"}": {"concepts": "\"significance\": \"sets protection thresholds\"}", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "\"significance\": \"sets protection thresholds\"}"}, "preferred state": {"concepts": "preferred state", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "preferred state"}, "federal-state standards disconnect": {"concepts": "federal-state standards disconnect", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "federal-state standards disconnect"}, "visualization activity": {"concepts": "visualization activity", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "visualization activity"}, "```": {"concepts": "```", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "```"}, "\"domain\": \"social\"": {"concepts": "\"domain\": \"social\"", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "\"domain\": \"social\""}, "\"category\": \"process\"": {"concepts": "\"category\": \"process\"", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "\"category\": \"process\""}, "\"domain\": \"organizational\"": {"concepts": "\"domain\": \"organizational\"", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "\"domain\": \"organizational\""}, "\"domain\": \"medical\"": {"concepts": "\"domain\": \"medical\"", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "\"domain\": \"medical\""}, "\"category\": \"relationship\"": {"concepts": "\"category\": \"relationship\"", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "\"category\": \"relationship\""}, "\"category\": \"challenge\"": {"concepts": "\"category\": \"challenge\"", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "\"category\": \"challenge\""}, "\"category\": \"entity\"": {"concepts": "\"category\": \"entity\"", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "\"category\": \"entity\""}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "mental modeler"}, "oyster restoration": {"concepts": "oyster restoration", "type": "concept", "cluster": "Ecosystem Restoration Projects", "node_size": 10, "label": "oyster restoration"}, "wetland preservation": {"concepts": "wetland preservation", "type": "concept", "cluster": "Ecosystem Restoration Projects", "node_size": 10, "label": "wetland preservation"}, "seagrass restoration": {"concepts": "seagrass restoration", "type": "concept", "cluster": "Ecosystem Restoration Projects", "node_size": 10, "label": "seagrass restoration"}, "ecosystem restoration": {"concepts": "ecosystem restoration", "type": "concept", "cluster": "Ecosystem Restoration Projects", "node_size": 10, "label": "ecosystem restoration"}, "fishery safety": {"concepts": "fishery safety", "type": "concept", "cluster": "Ecosystem Restoration Projects", "node_size": 10, "label": "fishery safety"}, "habitat protection": {"concepts": "habitat protection", "type": "concept", "cluster": "Habitat Conservation Focus", "node_size": 10, "label": "habitat protection"}, "protected species habitat": {"concepts": "protected species habitat", "type": "concept", "cluster": "Habitat Conservation Focus", "node_size": 10, "label": "protected species habitat"}, "habitat functionality": {"concepts": "habitat functionality", "type": "concept", "cluster": "Habitat Conservation Focus", "node_size": 10, "label": "habitat functionality"}, "recreational access": {"concepts": "recreational access", "type": "concept", "cluster": "Habitat Conservation Focus", "node_size": 10, "label": "recreational access"}, "ecosystem habitat": {"concepts": "ecosystem habitat", "type": "concept", "cluster": "Habitat Conservation Focus", "node_size": 10, "label": "ecosystem habitat"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Habitat Conservation Focus", "node_size": 10, "label": "habitat forming species"}, "habitat conservation": {"concepts": "habitat conservation", "type": "concept", "cluster": "Habitat Conservation Focus", "node_size": 10, "label": "habitat conservation"}, "urbanized wildlife": {"concepts": "urbanized wildlife", "type": "concept", "cluster": "Habitat Conservation Focus", "node_size": 10, "label": "urbanized wildlife"}, "habitat access": {"concepts": "habitat access", "type": "concept", "cluster": "Habitat Conservation Focus", "node_size": 10, "label": "habitat access"}, "coastal waters": {"concepts": "coastal waters", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "coastal waters"}, "water quality improvement plans": {"concepts": "water quality improvement plans", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "water quality improvement plans"}, "water quality enforcement": {"concepts": "water quality enforcement", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "water quality enforcement"}, "water quality": {"concepts": "water quality", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "water quality"}, "water quality thresholds": {"concepts": "water quality thresholds", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "water quality thresholds"}, "water quality monitoring": {"concepts": "water quality monitoring", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "water quality monitoring"}, "impaired waterways": {"concepts": "impaired waterways", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "impaired waterways"}, "clean water act": {"concepts": "clean water act", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "clean water act"}, "\"significance\": \"degrades water filtration\"}": {"concepts": "\"significance\": \"degrades water filtration\"}", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "\"significance\": \"degrades water filtration\"}"}, "tributary waters": {"concepts": "tributary waters", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "tributary waters"}, "exceeding water quality thresholds": {"concepts": "exceeding water quality thresholds", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "exceeding water quality thresholds"}, "recreational waterways": {"concepts": "recreational waterways", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "recreational waterways"}, "water improvement plans": {"concepts": "water improvement plans", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "water improvement plans"}};
        const interClusterEdges = [["Habitat Regulation Gaps", "Habitat Conservation Focus", {"weight": 0.6, "confidence": 0.9200000000000002, "type": "inter_cluster", "style": "solid"}], ["Habitat Regulation Gaps", "Species Protection", {"weight": 1.0, "confidence": 0.9099999999999999, "type": "inter_cluster", "style": "solid"}], ["Habitat Regulation Gaps", "Water Quality Management", {"weight": -0.2, "confidence": 0.86, "type": "inter_cluster", "style": "solid"}], ["Habitat Regulation Gaps", "Cross-Domain Modeling", {"weight": 0.2, "confidence": 0.8300000000000001, "type": "inter_cluster", "style": "solid"}], ["Habitat Regulation Gaps", "Ecosystem Restoration Projects", {"weight": 1.0, "confidence": 0.8300000000000001, "type": "inter_cluster", "style": "solid"}], ["Habitat Regulation Gaps", "Regulatory Enforcement Issues", {"weight": -0.2, "confidence": 0.82, "type": "inter_cluster", "style": "solid"}], ["Habitat Regulation Gaps", "Ecosystem Governance", {"weight": 0.6, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Cross-Domain Modeling", "Ecosystem Restoration Projects", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Cross-Domain Modeling", "Habitat Conservation Focus", {"weight": -1.0, "confidence": 0.8600000000000001, "type": "inter_cluster", "style": "solid"}], ["Cross-Domain Modeling", "Water Quality Management", {"weight": 0.6, "confidence": 0.8300000000000001, "type": "inter_cluster", "style": "solid"}], ["Cross-Domain Modeling", "Species Protection", {"weight": 1.0, "confidence": 0.8300000000000001, "type": "inter_cluster", "style": "solid"}], ["Cross-Domain Modeling", "Regulatory Enforcement Issues", {"weight": 0.75, "confidence": 0.6375, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Governance", "Water Quality Management", {"weight": 0.6, "confidence": 0.8100000000000002, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Governance", "Species Protection", {"weight": 0.8, "confidence": 0.62, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Governance", "Habitat Conservation Focus", {"weight": 0.8, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Governance", "Ecosystem Restoration Projects", {"weight": 0.6, "confidence": 0.4800000000000001, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Governance", "Cross-Domain Modeling", {"weight": 0.6, "confidence": 0.4699999999999999, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Governance", "Habitat Regulation Gaps", {"weight": 0.6, "confidence": 0.45999999999999996, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Governance", "Regulatory Enforcement Issues", {"weight": 0.5, "confidence": 0.4125, "type": "inter_cluster", "style": "solid"}], ["Species Protection", "Habitat Regulation Gaps", {"weight": 0.6, "confidence": 0.9099999999999999, "type": "inter_cluster", "style": "solid"}], ["Species Protection", "Ecosystem Restoration Projects", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Species Protection", "Cross-Domain Modeling", {"weight": -0.2, "confidence": 0.8400000000000001, "type": "inter_cluster", "style": "solid"}], ["Species Protection", "Water Quality Management", {"weight": 0.8, "confidence": 0.6499999999999999, "type": "inter_cluster", "style": "solid"}], ["Species Protection", "Ecosystem Governance", {"weight": 0.8, "confidence": 0.63, "type": "inter_cluster", "style": "solid"}], ["Species Protection", "Regulatory Enforcement Issues", {"weight": 0.4, "confidence": 0.62, "type": "inter_cluster", "style": "solid"}], ["Regulatory Enforcement Issues", "Habitat Conservation Focus", {"weight": -1.0, "confidence": 0.9099999999999999, "type": "inter_cluster", "style": "solid"}], ["Regulatory Enforcement Issues", "Ecosystem Restoration Projects", {"weight": -0.5, "confidence": 0.8375, "type": "inter_cluster", "style": "solid"}], ["Regulatory Enforcement Issues", "Ecosystem Governance", {"weight": 0.6, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Restoration Projects", "Regulatory Enforcement Issues", {"weight": -1.0, "confidence": 0.8800000000000001, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Restoration Projects", "Habitat Conservation Focus", {"weight": 1.0, "confidence": 0.8699999999999999, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Restoration Projects", "Species Protection", {"weight": 1.0, "confidence": 0.8699999999999999, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Restoration Projects", "Habitat Regulation Gaps", {"weight": 0.6, "confidence": 0.8099999999999999, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Restoration Projects", "Water Quality Management", {"weight": 1.0, "confidence": 0.875, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Restoration Projects", "Ecosystem Governance", {"weight": 0.25, "confidence": 0.5875, "type": "inter_cluster", "style": "solid"}], ["Habitat Conservation Focus", "Habitat Regulation Gaps", {"weight": 0.6, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Habitat Conservation Focus", "Water Quality Management", {"weight": 1.0, "confidence": 0.89, "type": "inter_cluster", "style": "solid"}], ["Habitat Conservation Focus", "Ecosystem Restoration Projects", {"weight": 1.0, "confidence": 0.8699999999999999, "type": "inter_cluster", "style": "solid"}], ["Habitat Conservation Focus", "Cross-Domain Modeling", {"weight": -1.0, "confidence": 0.875, "type": "inter_cluster", "style": "solid"}], ["Habitat Conservation Focus", "Regulatory Enforcement Issues", {"weight": -1.0, "confidence": 0.8375, "type": "inter_cluster", "style": "solid"}], ["Habitat Conservation Focus", "Ecosystem Governance", {"weight": 0.8, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Water Quality Management", "Species Protection", {"weight": 1.0, "confidence": 0.89, "type": "inter_cluster", "style": "solid"}], ["Water Quality Management", "Habitat Regulation Gaps", {"weight": 0.2, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Water Quality Management", "Regulatory Enforcement Issues", {"weight": 0.6, "confidence": 0.8400000000000001, "type": "inter_cluster", "style": "solid"}], ["Water Quality Management", "Ecosystem Restoration Projects", {"weight": 1.0, "confidence": 0.8299999999999998, "type": "inter_cluster", "style": "solid"}], ["Water Quality Management", "Ecosystem Governance", {"weight": 1.0, "confidence": 0.8100000000000002, "type": "inter_cluster", "style": "solid"}], ["Water Quality Management", "Habitat Conservation Focus", {"weight": 0.5, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Habitat Regulation Gaps": [["species conservation concern", {"concepts": "species conservation concern", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "species conservation concern"}], ["conservation species", {"concepts": "conservation species", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "conservation species"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "biodiversity"}], ["conservation status", {"concepts": "conservation status", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "conservation status"}], ["biodiversity management", {"concepts": "biodiversity management", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "biodiversity management"}], ["key food web supporting species", {"concepts": "key food web supporting species", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "key food web supporting species"}], ["sensitive species", {"concepts": "sensitive species", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "sensitive species"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "harmful organisms"}], ["protected species", {"concepts": "protected species", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "protected species"}], ["keystone species", {"concepts": "keystone species", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "keystone species"}], ["biodiversity data", {"concepts": "biodiversity data", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "biodiversity data"}], ["species listing", {"concepts": "species listing", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "species listing"}], ["species interactions", {"concepts": "species interactions", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "species interactions"}], ["species counts", {"concepts": "species counts", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "species counts"}], ["supporting species", {"concepts": "supporting species", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "supporting species"}], ["listed species", {"concepts": "listed species", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "listed species"}], ["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "conservation concern"}], ["species protection", {"concepts": "species protection", "type": "concept", "cluster": "Habitat Regulation Gaps", "node_size": 10, "label": "species protection"}]], "Cross-Domain Modeling": [["{\"concept_name\": \"after the fact permits\"", {"concepts": "{\"concept_name\": \"after the fact permits\"", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "{\"concept_name\": \"after the fact permits\""}], ["\"significance\": \"regulatory gap for habitat protection\"}", {"concepts": "\"significance\": \"regulatory gap for habitat protection\"}", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "\"significance\": \"regulatory gap for habitat protection\"}"}], ["\"significance\": \"citizen science data collection\"}", {"concepts": "\"significance\": \"citizen science data collection\"}", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "\"significance\": \"citizen science data collection\"}"}], ["{\"concept_name\": \"clean water act\"", {"concepts": "{\"concept_name\": \"clean water act\"", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "{\"concept_name\": \"clean water act\""}], ["{\"concept_name\": \"habitat fragmentation\"", {"concepts": "{\"concept_name\": \"habitat fragmentation\"", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "{\"concept_name\": \"habitat fragmentation\""}], ["{\"concept_name\": \"species survey\"", {"concepts": "{\"concept_name\": \"species survey\"", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "{\"concept_name\": \"species survey\""}], ["{\"concept_name\": \"sackett decision\"", {"concepts": "{\"concept_name\": \"sackett decision\"", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "{\"concept_name\": \"sackett decision\""}], ["\"significance\": \"contested habitat compensation method\"}", {"concepts": "\"significance\": \"contested habitat compensation method\"}", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "\"significance\": \"contested habitat compensation method\"}"}], ["\"significance\": \"reduced wetland jurisdiction\"}", {"concepts": "\"significance\": \"reduced wetland jurisdiction\"}", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "\"significance\": \"reduced wetland jurisdiction\"}"}], ["{\"concept_name\": \"wetland permitting\"", {"concepts": "{\"concept_name\": \"wetland permitting\"", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "{\"concept_name\": \"wetland permitting\""}], ["\"significance\": \"disrupts ecological connectivity\"}", {"concepts": "\"significance\": \"disrupts ecological connectivity\"}", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "\"significance\": \"disrupts ecological connectivity\"}"}], ["{\"concept_name\": \"riparian buffer removal\"", {"concepts": "{\"concept_name\": \"riparian buffer removal\"", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "{\"concept_name\": \"riparian buffer removal\""}], ["{\"concept_name\": \"water quality designation\"", {"concepts": "{\"concept_name\": \"water quality designation\"", "type": "concept", "cluster": "Cross-Domain Modeling", "node_size": 10, "label": "{\"concept_name\": \"water quality designation\""}]], "Ecosystem Governance": [["us army corps of engineers", {"concepts": "us army corps of engineers", "type": "concept", "cluster": "Ecosystem Governance", "node_size": 10, "label": "us army corps of engineers"}], ["army corps", {"concepts": "army corps", "type": "concept", "cluster": "Ecosystem Governance", "node_size": 10, "label": "army corps"}], ["staff scientist", {"concepts": "staff scientist", "type": "concept", "cluster": "Ecosystem Governance", "node_size": 10, "label": "staff scientist"}], ["collaborators", {"concepts": "collaborators", "type": "concept", "cluster": "Ecosystem Governance", "node_size": 10, "label": "collaborators"}], ["workshop tool", {"concepts": "workshop tool", "type": "concept", "cluster": "Ecosystem Governance", "node_size": 10, "label": "workshop tool"}], ["improvement plans", {"concepts": "improvement plans", "type": "concept", "cluster": "Ecosystem Governance", "node_size": 10, "label": "improvement plans"}], ["management policies", {"concepts": "management policies", "type": "concept", "cluster": "Ecosystem Governance", "node_size": 10, "label": "management policies"}], ["team retreat", {"concepts": "team retreat", "type": "concept", "cluster": "Ecosystem Governance", "node_size": 10, "label": "team retreat"}], ["waterkeeper alliance", {"concepts": "waterkeeper alliance", "type": "concept", "cluster": "Ecosystem Governance", "node_size": 10, "label": "waterkeeper alliance"}], ["stakeholder perception", {"concepts": "stakeholder perception", "type": "concept", "cluster": "Ecosystem Governance", "node_size": 10, "label": "stakeholder perception"}]], "Species Protection": [["ecosystem function", {"concepts": "ecosystem function", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "ecosystem function"}], ["poster child species", {"concepts": "poster child species", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "poster child species"}], ["environmental enforcement", {"concepts": "environmental enforcement", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "environmental enforcement"}], ["native vegetation", {"concepts": "native vegetation", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "native vegetation"}], ["environmental legislation", {"concepts": "environmental legislation", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "environmental legislation"}], ["relationship weights", {"concepts": "relationship weights", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "relationship weights"}], ["health safety", {"concepts": "health safety", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "health safety"}], ["pollution management", {"concepts": "pollution management", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "pollution management"}], ["regulatory agencies", {"concepts": "regulatory agencies", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "regulatory agencies"}], ["pollution intervention", {"concepts": "pollution intervention", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "pollution intervention"}], ["citizen science", {"concepts": "citizen science", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "citizen science"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "invasive species"}], ["invasive vegetation", {"concepts": "invasive vegetation", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "invasive vegetation"}], ["management concepts", {"concepts": "management concepts", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "management concepts"}], ["food web", {"concepts": "food web", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "food web"}], ["federal standards", {"concepts": "federal standards", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "federal standards"}], ["public participation", {"concepts": "public participation", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "public participation"}], ["{\"concept_name\": \"public engagement\"", {"concepts": "{\"concept_name\": \"public engagement\"", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "{\"concept_name\": \"public engagement\""}], ["public access", {"concepts": "public access", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "public access"}], ["court involvement", {"concepts": "court involvement", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "court involvement"}], ["key food web", {"concepts": "key food web", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "key food web"}], ["human impacts", {"concepts": "human impacts", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "human impacts"}], ["environmental nonprofit", {"concepts": "environmental nonprofit", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "environmental nonprofit"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "marine resource management"}], ["coastal ecosystems", {"concepts": "coastal ecosystems", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "coastal ecosystems"}], ["food web support", {"concepts": "food web support", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "food web support"}], ["ecosystem health", {"concepts": "ecosystem health", "type": "concept", "cluster": "Species Protection", "node_size": 10, "label": "ecosystem health"}]], "Regulatory Enforcement Issues": [["]", {"concepts": "]", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "]"}], ["litigation power", {"concepts": "litigation power", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "litigation power"}], ["development credits", {"concepts": "development credits", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "development credits"}], ["{\"concept_name\": \"mitigation banking\"", {"concepts": "{\"concept_name\": \"mitigation banking\"", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "{\"concept_name\": \"mitigation banking\""}], ["mitigation banks", {"concepts": "mitigation banks", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "mitigation banks"}], ["\"significance\": \"enforcement failure\"}", {"concepts": "\"significance\": \"enforcement failure\"}", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "\"significance\": \"enforcement failure\"}"}], ["litigation", {"concepts": "litigation", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "litigation"}], ["regulatory enforcement", {"concepts": "regulatory enforcement", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "regulatory enforcement"}], ["\"significance\": \"core regulatory framework\"}", {"concepts": "\"significance\": \"core regulatory framework\"}", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "\"significance\": \"core regulatory framework\"}"}], ["mobile bay system", {"concepts": "mobile bay system", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "mobile bay system"}], ["mobile bay", {"concepts": "mobile bay", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "mobile bay"}], ["enforcement disconnect", {"concepts": "enforcement disconnect", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "enforcement disconnect"}], ["\"significance\": \"determines protection eligibility\"}", {"concepts": "\"significance\": \"determines protection eligibility\"}", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "\"significance\": \"determines protection eligibility\"}"}], ["state standards", {"concepts": "state standards", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "state standards"}], ["federal enforcement", {"concepts": "federal enforcement", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "federal enforcement"}], ["regulatory disconnect", {"concepts": "regulatory disconnect", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "regulatory disconnect"}], ["[", {"concepts": "[", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "["}], ["regulatory processes", {"concepts": "regulatory processes", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "regulatory processes"}], ["diversity of organisms", {"concepts": "diversity of organisms", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "diversity of organisms"}], ["epa enforcement", {"concepts": "epa enforcement", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "epa enforcement"}], ["```json", {"concepts": "```json", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "```json"}], ["\"significance\": \"sets protection thresholds\"}", {"concepts": "\"significance\": \"sets protection thresholds\"}", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "\"significance\": \"sets protection thresholds\"}"}], ["preferred state", {"concepts": "preferred state", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "preferred state"}], ["federal-state standards disconnect", {"concepts": "federal-state standards disconnect", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "federal-state standards disconnect"}], ["visualization activity", {"concepts": "visualization activity", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "visualization activity"}], ["```", {"concepts": "```", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "```"}], ["\"domain\": \"social\"", {"concepts": "\"domain\": \"social\"", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "\"domain\": \"social\""}], ["\"category\": \"process\"", {"concepts": "\"category\": \"process\"", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "\"category\": \"process\""}], ["\"domain\": \"organizational\"", {"concepts": "\"domain\": \"organizational\"", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "\"domain\": \"organizational\""}], ["\"domain\": \"medical\"", {"concepts": "\"domain\": \"medical\"", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "\"domain\": \"medical\""}], ["\"category\": \"relationship\"", {"concepts": "\"category\": \"relationship\"", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "\"category\": \"relationship\""}], ["\"category\": \"challenge\"", {"concepts": "\"category\": \"challenge\"", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "\"category\": \"challenge\""}], ["\"category\": \"entity\"", {"concepts": "\"category\": \"entity\"", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "\"category\": \"entity\""}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Regulatory Enforcement Issues", "node_size": 10, "label": "mental modeler"}]], "Ecosystem Restoration Projects": [["oyster restoration", {"concepts": "oyster restoration", "type": "concept", "cluster": "Ecosystem Restoration Projects", "node_size": 10, "label": "oyster restoration"}], ["wetland preservation", {"concepts": "wetland preservation", "type": "concept", "cluster": "Ecosystem Restoration Projects", "node_size": 10, "label": "wetland preservation"}], ["seagrass restoration", {"concepts": "seagrass restoration", "type": "concept", "cluster": "Ecosystem Restoration Projects", "node_size": 10, "label": "seagrass restoration"}], ["ecosystem restoration", {"concepts": "ecosystem restoration", "type": "concept", "cluster": "Ecosystem Restoration Projects", "node_size": 10, "label": "ecosystem restoration"}], ["fishery safety", {"concepts": "fishery safety", "type": "concept", "cluster": "Ecosystem Restoration Projects", "node_size": 10, "label": "fishery safety"}]], "Habitat Conservation Focus": [["habitat protection", {"concepts": "habitat protection", "type": "concept", "cluster": "Habitat Conservation Focus", "node_size": 10, "label": "habitat protection"}], ["protected species habitat", {"concepts": "protected species habitat", "type": "concept", "cluster": "Habitat Conservation Focus", "node_size": 10, "label": "protected species habitat"}], ["habitat functionality", {"concepts": "habitat functionality", "type": "concept", "cluster": "Habitat Conservation Focus", "node_size": 10, "label": "habitat functionality"}], ["recreational access", {"concepts": "recreational access", "type": "concept", "cluster": "Habitat Conservation Focus", "node_size": 10, "label": "recreational access"}], ["ecosystem habitat", {"concepts": "ecosystem habitat", "type": "concept", "cluster": "Habitat Conservation Focus", "node_size": 10, "label": "ecosystem habitat"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Habitat Conservation Focus", "node_size": 10, "label": "habitat forming species"}], ["habitat conservation", {"concepts": "habitat conservation", "type": "concept", "cluster": "Habitat Conservation Focus", "node_size": 10, "label": "habitat conservation"}], ["urbanized wildlife", {"concepts": "urbanized wildlife", "type": "concept", "cluster": "Habitat Conservation Focus", "node_size": 10, "label": "urbanized wildlife"}], ["habitat access", {"concepts": "habitat access", "type": "concept", "cluster": "Habitat Conservation Focus", "node_size": 10, "label": "habitat access"}]], "Water Quality Management": [["coastal waters", {"concepts": "coastal waters", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "coastal waters"}], ["water quality improvement plans", {"concepts": "water quality improvement plans", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "water quality improvement plans"}], ["water quality enforcement", {"concepts": "water quality enforcement", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "water quality enforcement"}], ["water quality", {"concepts": "water quality", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "water quality"}], ["water quality thresholds", {"concepts": "water quality thresholds", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "water quality thresholds"}], ["water quality monitoring", {"concepts": "water quality monitoring", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "water quality monitoring"}], ["impaired waterways", {"concepts": "impaired waterways", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "impaired waterways"}], ["clean water act", {"concepts": "clean water act", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "clean water act"}], ["\"significance\": \"degrades water filtration\"}", {"concepts": "\"significance\": \"degrades water filtration\"}", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "\"significance\": \"degrades water filtration\"}"}], ["tributary waters", {"concepts": "tributary waters", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "tributary waters"}], ["exceeding water quality thresholds", {"concepts": "exceeding water quality thresholds", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "exceeding water quality thresholds"}], ["recreational waterways", {"concepts": "recreational waterways", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "recreational waterways"}], ["water improvement plans", {"concepts": "water improvement plans", "type": "concept", "cluster": "Water Quality Management", "node_size": 10, "label": "water improvement plans"}]]};
        const clusterEdges = {"Habitat Regulation Gaps": [], "Cross-Domain Modeling": [], "Ecosystem Governance": [], "Species Protection": [], "Regulatory Enforcement Issues": [], "Ecosystem Restoration Projects": [], "Habitat Conservation Focus": [], "Water Quality Management": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
