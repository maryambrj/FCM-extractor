
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"research coordination": {"concepts": "research coordination", "concept_list": ["research coordination"], "type": "cluster", "node_size": 18, "label": "research coordination"}, "research funding allocation": {"concepts": "research funding allocation", "concept_list": ["research funding allocation"], "type": "cluster", "node_size": 18, "label": "research funding allocation"}, "research portfolio": {"concepts": "research portfolio", "concept_list": ["research portfolio"], "type": "cluster", "node_size": 18, "label": "research portfolio"}, "research expertise": {"concepts": "research expertise", "concept_list": ["research expertise"], "type": "cluster", "node_size": 18, "label": "research expertise"}, "vessel discharges": {"concepts": "vessel discharges", "concept_list": ["vessel discharges"], "type": "cluster", "node_size": 18, "label": "vessel discharges"}, "u.s. coral reef task force": {"concepts": "u.s. coral reef task force", "concept_list": ["u.s. coral reef task force"], "type": "cluster", "node_size": 18, "label": "u.s. coral reef task force"}, "environmental research": {"concepts": "environmental research", "concept_list": ["environmental research"], "type": "cluster", "node_size": 18, "label": "environmental research"}, "Health Resilience": {"concepts": "nutrient loads, food web dynamics, ecosystem services, sustainable use, endangered species, food web, nutrients, geochemistry, ecosystem protection, ecosystem management, calcium carbonate, water quality standards, biodiversity, ecosystem health, nutrition, water clarity, turbidity, sustainable farming, runoff, invasive species, water chemistry, polluted runoff, water quality, habitat, dissolved co2, waste management, ecosystem dynamics, habitats, conservation concern, habitat forming species", "concept_list": ["nutrient loads", "food web dynamics", "ecosystem services", "sustainable use", "endangered species", "food web", "nutrients", "geochemistry", "ecosystem protection", "ecosystem management", "calcium carbonate", "water quality standards", "biodiversity", "ecosystem health", "nutrition", "water clarity", "turbidity", "sustainable farming", "runoff", "invasive species", "water chemistry", "polluted runoff", "water quality", "habitat", "dissolved co2", "waste management", "ecosystem dynamics", "habitats", "conservation concern", "habitat forming species"], "type": "cluster", "node_size": 105, "label": "Health Resilience"}, "Interagency Collaboration": {"concepts": "disease vulnerability, healthcare systems, local stressors, global stressors, impact assessment, healthcare access, stress response, localized stressors, resilience, health impact, health impacts, work-life balance, patient outcomes, biological assessment, quality of life, disease outbreak, remote work, workforce dynamics, workplace adaptation, workplace flexibility, work environment, workforce adaptation, remote work policies, job security, workforce flexibility", "concept_list": ["disease vulnerability", "healthcare systems", "local stressors", "global stressors", "impact assessment", "healthcare access", "stress response", "localized stressors", "resilience", "health impact", "health impacts", "work-life balance", "patient outcomes", "biological assessment", "quality of life", "disease outbreak", "remote work", "workforce dynamics", "workplace adaptation", "workplace flexibility", "work environment", "workforce adaptation", "remote work policies", "job security", "workforce flexibility"], "type": "cluster", "node_size": 90, "label": "Interagency Collaboration"}, "Remote Workforce": {"concepts": "interdisciplinary work, interagency coordination, interagency collaboration, agency collaboration, collaboration, interagency meetings, interdomain connections, workshop participation", "concept_list": ["interdisciplinary work", "interagency coordination", "interagency collaboration", "agency collaboration", "collaboration", "interagency meetings", "interdomain connections", "workshop participation"], "type": "cluster", "node_size": 39, "label": "Remote Workforce"}, "Ecosystem Health": {"concepts": "growth rates, policy implementation, government resources, institutional support, local funds, rural communities, policy influence, social determinants, institutional structures, policy coordination, government employment, institutional barriers, regional offices, government collaboration, federal agencies, government agencies, social dynamics", "concept_list": ["growth rates", "policy implementation", "government resources", "institutional support", "local funds", "rural communities", "policy influence", "social determinants", "institutional structures", "policy coordination", "government employment", "institutional barriers", "regional offices", "government collaboration", "federal agencies", "government agencies", "social dynamics"], "type": "cluster", "node_size": 66, "label": "Ecosystem Health"}, "Coastal Ocean Issues": {"concepts": "ocean buffering, coastal acidification, marine ecosystems, marine resource management, ocean acidification, flood protection, coastal management, fishing communities, coastal issues, coastal protection, aquatic nuisance species", "concept_list": ["ocean buffering", "coastal acidification", "marine ecosystems", "marine resource management", "ocean acidification", "flood protection", "coastal management", "fishing communities", "coastal issues", "coastal protection", "aquatic nuisance species"], "type": "cluster", "node_size": 48, "label": "Coastal Ocean Issues"}, "US Island Territories": {"concepts": "puerto rico, virgin islands, hawaii, ph changes, guam, caribbean, american samoa, ph, bmps, epa, noaa", "concept_list": ["puerto rico", "virgin islands", "hawaii", "ph changes", "guam", "caribbean", "american samoa", "ph", "bmps", "epa", "noaa"], "type": "cluster", "node_size": 48, "label": "US Island Territories"}, "Regional Resource Management": {"concepts": "regions, infrastructure, department of the interior, resources, domain relevance, mental modeler, expert networks", "concept_list": ["regions", "infrastructure", "department of the interior", "resources", "domain relevance", "mental modeler", "expert networks"], "type": "cluster", "node_size": 36, "label": "Regional Resource Management"}, "Climate Change Impacts": {"concepts": "pacific, temperature change, case study, ancient climates, co2 levels, temperature rise, education, local communities, system relationships, permitting, coordination, sea level rise, headquarters, harmful organisms, organizational culture, land pollution, atmospheric co2, expert coordination, cultural services, regulatory challenges, co2, directives, system components, time allocation, organizational hierarchy, academic transition, professional background, concept list, regulatory work, task force, storm events, professional networks, professional development, relationships, mandates, priorities, local temperature, climate change, cultural significance, territories, pathogens", "concept_list": ["pacific", "temperature change", "case study", "ancient climates", "co2 levels", "temperature rise", "education", "local communities", "system relationships", "permitting", "coordination", "sea level rise", "headquarters", "harmful organisms", "organizational culture", "land pollution", "atmospheric co2", "expert coordination", "cultural services", "regulatory challenges", "co2", "directives", "system components", "time allocation", "organizational hierarchy", "academic transition", "professional background", "concept list", "regulatory work", "task force", "storm events", "professional networks", "professional development", "relationships", "mandates", "priorities", "local temperature", "climate change", "cultural significance", "territories", "pathogens"], "type": "cluster", "node_size": 138, "label": "Climate Change Impacts"}, "Program Best Practices": {"concepts": "best practices, best management practices, program coordination, program management, management practices, stakeholders", "concept_list": ["best practices", "best management practices", "program coordination", "program management", "management practices", "stakeholders"], "type": "cluster", "node_size": 33, "label": "Program Best Practices"}, "Research Management": {"concepts": "research management, research funding, peer research, work portfolio", "concept_list": ["research management", "research funding", "peer research", "work portfolio"], "type": "cluster", "node_size": 27, "label": "Research Management"}, "Coral Biology": {"concepts": "coral biologists, corals, coral reef ecosystems", "concept_list": ["coral biologists", "corals", "coral reef ecosystems"], "type": "cluster", "node_size": 24, "label": "Coral Biology"}, "Coral Threats": {"concepts": "bleaching events, stony coral tissue loss disease", "concept_list": ["bleaching events", "stony coral tissue loss disease"], "type": "cluster", "node_size": 21, "label": "Coral Threats"}, "Reef Conservation": {"concepts": "artificial reefs, dredging, zooxanthellae, coral reefs, coral protection", "concept_list": ["artificial reefs", "dredging", "zooxanthellae", "coral reefs", "coral protection"], "type": "cluster", "node_size": 30, "label": "Reef Conservation"}, "Environmental Policy": {"concepts": "environmental regulation, environmental policy", "concept_list": ["environmental regulation", "environmental policy"], "type": "cluster", "node_size": 21, "label": "Environmental Policy"}, "Environmental Awareness": {"concepts": "environmental education, environmental impact", "concept_list": ["environmental education", "environmental impact"], "type": "cluster", "node_size": 21, "label": "Environmental Awareness"}, "Environmental Wellbeing": {"concepts": "environmental social sciences, environmental protection, environmental health", "concept_list": ["environmental social sciences", "environmental protection", "environmental health"], "type": "cluster", "node_size": 24, "label": "Environmental Wellbeing"}};
        const conceptData = {"nutrient loads": {"concepts": "nutrient loads", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "nutrient loads"}, "food web dynamics": {"concepts": "food web dynamics", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "food web dynamics"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "ecosystem services"}, "sustainable use": {"concepts": "sustainable use", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "sustainable use"}, "endangered species": {"concepts": "endangered species", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "endangered species"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "food web"}, "nutrients": {"concepts": "nutrients", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "nutrients"}, "geochemistry": {"concepts": "geochemistry", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "geochemistry"}, "ecosystem protection": {"concepts": "ecosystem protection", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "ecosystem protection"}, "ecosystem management": {"concepts": "ecosystem management", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "ecosystem management"}, "calcium carbonate": {"concepts": "calcium carbonate", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "calcium carbonate"}, "water quality standards": {"concepts": "water quality standards", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "water quality standards"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "biodiversity"}, "ecosystem health": {"concepts": "ecosystem health", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "ecosystem health"}, "nutrition": {"concepts": "nutrition", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "nutrition"}, "water clarity": {"concepts": "water clarity", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "water clarity"}, "turbidity": {"concepts": "turbidity", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "turbidity"}, "sustainable farming": {"concepts": "sustainable farming", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "sustainable farming"}, "runoff": {"concepts": "runoff", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "runoff"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "invasive species"}, "water chemistry": {"concepts": "water chemistry", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "water chemistry"}, "polluted runoff": {"concepts": "polluted runoff", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "polluted runoff"}, "water quality": {"concepts": "water quality", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "water quality"}, "habitat": {"concepts": "habitat", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "habitat"}, "dissolved co2": {"concepts": "dissolved co2", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "dissolved co2"}, "waste management": {"concepts": "waste management", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "waste management"}, "ecosystem dynamics": {"concepts": "ecosystem dynamics", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "ecosystem dynamics"}, "habitats": {"concepts": "habitats", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "habitats"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "conservation concern"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "habitat forming species"}, "disease vulnerability": {"concepts": "disease vulnerability", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "disease vulnerability"}, "healthcare systems": {"concepts": "healthcare systems", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "healthcare systems"}, "local stressors": {"concepts": "local stressors", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "local stressors"}, "global stressors": {"concepts": "global stressors", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "global stressors"}, "impact assessment": {"concepts": "impact assessment", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "impact assessment"}, "healthcare access": {"concepts": "healthcare access", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "healthcare access"}, "stress response": {"concepts": "stress response", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "stress response"}, "localized stressors": {"concepts": "localized stressors", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "localized stressors"}, "resilience": {"concepts": "resilience", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "resilience"}, "health impact": {"concepts": "health impact", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "health impact"}, "health impacts": {"concepts": "health impacts", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "health impacts"}, "work-life balance": {"concepts": "work-life balance", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "work-life balance"}, "patient outcomes": {"concepts": "patient outcomes", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "patient outcomes"}, "biological assessment": {"concepts": "biological assessment", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "biological assessment"}, "quality of life": {"concepts": "quality of life", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "quality of life"}, "disease outbreak": {"concepts": "disease outbreak", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "disease outbreak"}, "remote work": {"concepts": "remote work", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "remote work"}, "workforce dynamics": {"concepts": "workforce dynamics", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "workforce dynamics"}, "workplace adaptation": {"concepts": "workplace adaptation", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "workplace adaptation"}, "workplace flexibility": {"concepts": "workplace flexibility", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "workplace flexibility"}, "work environment": {"concepts": "work environment", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "work environment"}, "workforce adaptation": {"concepts": "workforce adaptation", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "workforce adaptation"}, "remote work policies": {"concepts": "remote work policies", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "remote work policies"}, "job security": {"concepts": "job security", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "job security"}, "workforce flexibility": {"concepts": "workforce flexibility", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "workforce flexibility"}, "interdisciplinary work": {"concepts": "interdisciplinary work", "type": "concept", "cluster": "Remote Workforce", "node_size": 10, "label": "interdisciplinary work"}, "interagency coordination": {"concepts": "interagency coordination", "type": "concept", "cluster": "Remote Workforce", "node_size": 10, "label": "interagency coordination"}, "interagency collaboration": {"concepts": "interagency collaboration", "type": "concept", "cluster": "Remote Workforce", "node_size": 10, "label": "interagency collaboration"}, "agency collaboration": {"concepts": "agency collaboration", "type": "concept", "cluster": "Remote Workforce", "node_size": 10, "label": "agency collaboration"}, "collaboration": {"concepts": "collaboration", "type": "concept", "cluster": "Remote Workforce", "node_size": 10, "label": "collaboration"}, "interagency meetings": {"concepts": "interagency meetings", "type": "concept", "cluster": "Remote Workforce", "node_size": 10, "label": "interagency meetings"}, "interdomain connections": {"concepts": "interdomain connections", "type": "concept", "cluster": "Remote Workforce", "node_size": 10, "label": "interdomain connections"}, "workshop participation": {"concepts": "workshop participation", "type": "concept", "cluster": "Remote Workforce", "node_size": 10, "label": "workshop participation"}, "growth rates": {"concepts": "growth rates", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "growth rates"}, "policy implementation": {"concepts": "policy implementation", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "policy implementation"}, "government resources": {"concepts": "government resources", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "government resources"}, "institutional support": {"concepts": "institutional support", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "institutional support"}, "local funds": {"concepts": "local funds", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "local funds"}, "rural communities": {"concepts": "rural communities", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "rural communities"}, "policy influence": {"concepts": "policy influence", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "policy influence"}, "social determinants": {"concepts": "social determinants", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "social determinants"}, "institutional structures": {"concepts": "institutional structures", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "institutional structures"}, "policy coordination": {"concepts": "policy coordination", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "policy coordination"}, "government employment": {"concepts": "government employment", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "government employment"}, "institutional barriers": {"concepts": "institutional barriers", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "institutional barriers"}, "regional offices": {"concepts": "regional offices", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "regional offices"}, "government collaboration": {"concepts": "government collaboration", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "government collaboration"}, "federal agencies": {"concepts": "federal agencies", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "federal agencies"}, "government agencies": {"concepts": "government agencies", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "government agencies"}, "social dynamics": {"concepts": "social dynamics", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "social dynamics"}, "ocean buffering": {"concepts": "ocean buffering", "type": "concept", "cluster": "Coastal Ocean Issues", "node_size": 10, "label": "ocean buffering"}, "coastal acidification": {"concepts": "coastal acidification", "type": "concept", "cluster": "Coastal Ocean Issues", "node_size": 10, "label": "coastal acidification"}, "marine ecosystems": {"concepts": "marine ecosystems", "type": "concept", "cluster": "Coastal Ocean Issues", "node_size": 10, "label": "marine ecosystems"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Coastal Ocean Issues", "node_size": 10, "label": "marine resource management"}, "ocean acidification": {"concepts": "ocean acidification", "type": "concept", "cluster": "Coastal Ocean Issues", "node_size": 10, "label": "ocean acidification"}, "flood protection": {"concepts": "flood protection", "type": "concept", "cluster": "Coastal Ocean Issues", "node_size": 10, "label": "flood protection"}, "coastal management": {"concepts": "coastal management", "type": "concept", "cluster": "Coastal Ocean Issues", "node_size": 10, "label": "coastal management"}, "fishing communities": {"concepts": "fishing communities", "type": "concept", "cluster": "Coastal Ocean Issues", "node_size": 10, "label": "fishing communities"}, "coastal issues": {"concepts": "coastal issues", "type": "concept", "cluster": "Coastal Ocean Issues", "node_size": 10, "label": "coastal issues"}, "coastal protection": {"concepts": "coastal protection", "type": "concept", "cluster": "Coastal Ocean Issues", "node_size": 10, "label": "coastal protection"}, "aquatic nuisance species": {"concepts": "aquatic nuisance species", "type": "concept", "cluster": "Coastal Ocean Issues", "node_size": 10, "label": "aquatic nuisance species"}, "puerto rico": {"concepts": "puerto rico", "type": "concept", "cluster": "US Island Territories", "node_size": 10, "label": "puerto rico"}, "virgin islands": {"concepts": "virgin islands", "type": "concept", "cluster": "US Island Territories", "node_size": 10, "label": "virgin islands"}, "hawaii": {"concepts": "hawaii", "type": "concept", "cluster": "US Island Territories", "node_size": 10, "label": "hawaii"}, "ph changes": {"concepts": "ph changes", "type": "concept", "cluster": "US Island Territories", "node_size": 10, "label": "ph changes"}, "guam": {"concepts": "guam", "type": "concept", "cluster": "US Island Territories", "node_size": 10, "label": "guam"}, "caribbean": {"concepts": "caribbean", "type": "concept", "cluster": "US Island Territories", "node_size": 10, "label": "caribbean"}, "american samoa": {"concepts": "american samoa", "type": "concept", "cluster": "US Island Territories", "node_size": 10, "label": "american samoa"}, "ph": {"concepts": "ph", "type": "concept", "cluster": "US Island Territories", "node_size": 10, "label": "ph"}, "bmps": {"concepts": "bmps", "type": "concept", "cluster": "US Island Territories", "node_size": 10, "label": "bmps"}, "epa": {"concepts": "epa", "type": "concept", "cluster": "US Island Territories", "node_size": 10, "label": "epa"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "US Island Territories", "node_size": 10, "label": "noaa"}, "regions": {"concepts": "regions", "type": "concept", "cluster": "Regional Resource Management", "node_size": 10, "label": "regions"}, "infrastructure": {"concepts": "infrastructure", "type": "concept", "cluster": "Regional Resource Management", "node_size": 10, "label": "infrastructure"}, "department of the interior": {"concepts": "department of the interior", "type": "concept", "cluster": "Regional Resource Management", "node_size": 10, "label": "department of the interior"}, "resources": {"concepts": "resources", "type": "concept", "cluster": "Regional Resource Management", "node_size": 10, "label": "resources"}, "domain relevance": {"concepts": "domain relevance", "type": "concept", "cluster": "Regional Resource Management", "node_size": 10, "label": "domain relevance"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Regional Resource Management", "node_size": 10, "label": "mental modeler"}, "expert networks": {"concepts": "expert networks", "type": "concept", "cluster": "Regional Resource Management", "node_size": 10, "label": "expert networks"}, "pacific": {"concepts": "pacific", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "pacific"}, "temperature change": {"concepts": "temperature change", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "temperature change"}, "case study": {"concepts": "case study", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "case study"}, "ancient climates": {"concepts": "ancient climates", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "ancient climates"}, "co2 levels": {"concepts": "co2 levels", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "co2 levels"}, "temperature rise": {"concepts": "temperature rise", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "temperature rise"}, "education": {"concepts": "education", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "education"}, "local communities": {"concepts": "local communities", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "local communities"}, "system relationships": {"concepts": "system relationships", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "system relationships"}, "permitting": {"concepts": "permitting", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "permitting"}, "coordination": {"concepts": "coordination", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "coordination"}, "sea level rise": {"concepts": "sea level rise", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "sea level rise"}, "headquarters": {"concepts": "headquarters", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "headquarters"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "harmful organisms"}, "organizational culture": {"concepts": "organizational culture", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "organizational culture"}, "land pollution": {"concepts": "land pollution", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "land pollution"}, "atmospheric co2": {"concepts": "atmospheric co2", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "atmospheric co2"}, "expert coordination": {"concepts": "expert coordination", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "expert coordination"}, "cultural services": {"concepts": "cultural services", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "cultural services"}, "regulatory challenges": {"concepts": "regulatory challenges", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "regulatory challenges"}, "co2": {"concepts": "co2", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "co2"}, "directives": {"concepts": "directives", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "directives"}, "system components": {"concepts": "system components", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "system components"}, "time allocation": {"concepts": "time allocation", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "time allocation"}, "organizational hierarchy": {"concepts": "organizational hierarchy", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "organizational hierarchy"}, "academic transition": {"concepts": "academic transition", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "academic transition"}, "professional background": {"concepts": "professional background", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "professional background"}, "concept list": {"concepts": "concept list", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "concept list"}, "regulatory work": {"concepts": "regulatory work", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "regulatory work"}, "task force": {"concepts": "task force", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "task force"}, "storm events": {"concepts": "storm events", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "storm events"}, "professional networks": {"concepts": "professional networks", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "professional networks"}, "professional development": {"concepts": "professional development", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "professional development"}, "relationships": {"concepts": "relationships", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "relationships"}, "mandates": {"concepts": "mandates", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "mandates"}, "priorities": {"concepts": "priorities", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "priorities"}, "local temperature": {"concepts": "local temperature", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "local temperature"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "climate change"}, "cultural significance": {"concepts": "cultural significance", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "cultural significance"}, "territories": {"concepts": "territories", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "territories"}, "pathogens": {"concepts": "pathogens", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "pathogens"}, "best practices": {"concepts": "best practices", "type": "concept", "cluster": "Program Best Practices", "node_size": 10, "label": "best practices"}, "best management practices": {"concepts": "best management practices", "type": "concept", "cluster": "Program Best Practices", "node_size": 10, "label": "best management practices"}, "program coordination": {"concepts": "program coordination", "type": "concept", "cluster": "Program Best Practices", "node_size": 10, "label": "program coordination"}, "program management": {"concepts": "program management", "type": "concept", "cluster": "Program Best Practices", "node_size": 10, "label": "program management"}, "management practices": {"concepts": "management practices", "type": "concept", "cluster": "Program Best Practices", "node_size": 10, "label": "management practices"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Program Best Practices", "node_size": 10, "label": "stakeholders"}, "research management": {"concepts": "research management", "type": "concept", "cluster": "Research Management", "node_size": 10, "label": "research management"}, "research funding": {"concepts": "research funding", "type": "concept", "cluster": "Research Management", "node_size": 10, "label": "research funding"}, "peer research": {"concepts": "peer research", "type": "concept", "cluster": "Research Management", "node_size": 10, "label": "peer research"}, "work portfolio": {"concepts": "work portfolio", "type": "concept", "cluster": "Research Management", "node_size": 10, "label": "work portfolio"}, "coral biologists": {"concepts": "coral biologists", "type": "concept", "cluster": "Coral Biology", "node_size": 10, "label": "coral biologists"}, "corals": {"concepts": "corals", "type": "concept", "cluster": "Coral Biology", "node_size": 10, "label": "corals"}, "coral reef ecosystems": {"concepts": "coral reef ecosystems", "type": "concept", "cluster": "Coral Biology", "node_size": 10, "label": "coral reef ecosystems"}, "bleaching events": {"concepts": "bleaching events", "type": "concept", "cluster": "Coral Threats", "node_size": 10, "label": "bleaching events"}, "stony coral tissue loss disease": {"concepts": "stony coral tissue loss disease", "type": "concept", "cluster": "Coral Threats", "node_size": 10, "label": "stony coral tissue loss disease"}, "artificial reefs": {"concepts": "artificial reefs", "type": "concept", "cluster": "Reef Conservation", "node_size": 10, "label": "artificial reefs"}, "dredging": {"concepts": "dredging", "type": "concept", "cluster": "Reef Conservation", "node_size": 10, "label": "dredging"}, "zooxanthellae": {"concepts": "zooxanthellae", "type": "concept", "cluster": "Reef Conservation", "node_size": 10, "label": "zooxanthellae"}, "coral reefs": {"concepts": "coral reefs", "type": "concept", "cluster": "Reef Conservation", "node_size": 10, "label": "coral reefs"}, "coral protection": {"concepts": "coral protection", "type": "concept", "cluster": "Reef Conservation", "node_size": 10, "label": "coral protection"}, "environmental regulation": {"concepts": "environmental regulation", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "environmental regulation"}, "environmental policy": {"concepts": "environmental policy", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "environmental policy"}, "environmental education": {"concepts": "environmental education", "type": "concept", "cluster": "Environmental Awareness", "node_size": 10, "label": "environmental education"}, "environmental impact": {"concepts": "environmental impact", "type": "concept", "cluster": "Environmental Awareness", "node_size": 10, "label": "environmental impact"}, "environmental social sciences": {"concepts": "environmental social sciences", "type": "concept", "cluster": "Environmental Wellbeing", "node_size": 10, "label": "environmental social sciences"}, "environmental protection": {"concepts": "environmental protection", "type": "concept", "cluster": "Environmental Wellbeing", "node_size": 10, "label": "environmental protection"}, "environmental health": {"concepts": "environmental health", "type": "concept", "cluster": "Environmental Wellbeing", "node_size": 10, "label": "environmental health"}};
        const interClusterEdges = [["research coordination", "US Island Territories", {"weight": 1.0, "confidence": 0.72, "type": "inter_cluster", "style": "solid"}], ["research coordination", "Regional Resource Management", {"weight": 1.0, "confidence": 0.72, "type": "inter_cluster", "style": "solid"}], ["research coordination", "Remote Workforce", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["research funding allocation", "Research Management", {"weight": 1.0, "confidence": 0.79, "type": "inter_cluster", "style": "solid"}], ["research funding allocation", "research expertise", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["research funding allocation", "Coral Biology", {"weight": 1.0, "confidence": 0.7200000000000001, "type": "inter_cluster", "style": "solid"}], ["research funding allocation", "research coordination", {"weight": 1.0, "confidence": 0.7625, "type": "inter_cluster", "style": "solid"}], ["research funding allocation", "Interagency Collaboration", {"weight": 0.75, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["research funding allocation", "Remote Workforce", {"weight": 1.0, "confidence": 0.7166666666666667, "type": "inter_cluster", "style": "solid"}], ["research funding allocation", "environmental research", {"weight": 1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["research funding allocation", "vessel discharges", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["research portfolio", "environmental research", {"weight": 1.0, "confidence": 0.7699999999999999, "type": "inter_cluster", "style": "solid"}], ["research portfolio", "research coordination", {"weight": 1.0, "confidence": 0.72, "type": "inter_cluster", "style": "solid"}], ["research expertise", "research funding allocation", {"weight": 1.0, "confidence": 0.7124999999999999, "type": "inter_cluster", "style": "solid"}], ["research expertise", "Remote Workforce", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["vessel discharges", "Health Resilience", {"weight": -0.6, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["vessel discharges", "Ecosystem Health", {"weight": -0.5, "confidence": 0.675, "type": "inter_cluster", "style": "solid"}], ["vessel discharges", "Climate Change Impacts", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["u.s. coral reef task force", "Reef Conservation", {"weight": 1.0, "confidence": 0.8250000000000001, "type": "inter_cluster", "style": "solid"}], ["u.s. coral reef task force", "Research Management", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["u.s. coral reef task force", "Interagency Collaboration", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["environmental research", "Environmental Wellbeing", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Health Resilience", "vessel discharges", {"weight": -0.3333333333333333, "confidence": 0.7833333333333332, "type": "inter_cluster", "style": "solid"}], ["Interagency Collaboration", "Climate Change Impacts", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Remote Workforce", "Reef Conservation", {"weight": 1.0, "confidence": 0.76, "type": "inter_cluster", "style": "solid"}], ["Remote Workforce", "environmental research", {"weight": 1.0, "confidence": 0.76, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Health", "research funding allocation", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Health", "research expertise", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Coastal Ocean Issues", "Health Resilience", {"weight": 0.2, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Coastal Ocean Issues", "Remote Workforce", {"weight": 1.0, "confidence": 0.7699999999999999, "type": "inter_cluster", "style": "solid"}], ["Coastal Ocean Issues", "research expertise", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["US Island Territories", "research funding allocation", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["Regional Resource Management", "Coral Threats", {"weight": -0.4, "confidence": 0.53, "type": "inter_cluster", "style": "solid"}], ["Regional Resource Management", "US Island Territories", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Climate Change Impacts", "US Island Territories", {"weight": 0.8, "confidence": 0.6199999999999999, "type": "inter_cluster", "style": "solid"}], ["Climate Change Impacts", "Reef Conservation", {"weight": 0.5, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Climate Change Impacts", "u.s. coral reef task force", {"weight": 1.0, "confidence": 0.7625, "type": "inter_cluster", "style": "solid"}], ["Program Best Practices", "Remote Workforce", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Research Management", "research portfolio", {"weight": 1.0, "confidence": 0.82, "type": "inter_cluster", "style": "solid"}], ["Research Management", "Regional Resource Management", {"weight": 1.0, "confidence": 0.7333333333333334, "type": "inter_cluster", "style": "solid"}], ["Coral Biology", "Coral Threats", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Coral Biology", "Coastal Ocean Issues", {"weight": 1.0, "confidence": 0.875, "type": "inter_cluster", "style": "solid"}], ["Coral Biology", "research coordination", {"weight": 1.0, "confidence": 0.7124999999999999, "type": "inter_cluster", "style": "solid"}], ["Coral Biology", "Remote Workforce", {"weight": 0.6666666666666666, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Coral Threats", "Coral Biology", {"weight": -1.0, "confidence": 0.8875000000000001, "type": "inter_cluster", "style": "solid"}], ["Coral Threats", "Interagency Collaboration", {"weight": 1.0, "confidence": 0.8333333333333334, "type": "inter_cluster", "style": "solid"}], ["Coral Threats", "Program Best Practices", {"weight": 0.3333333333333333, "confidence": 0.7833333333333333, "type": "inter_cluster", "style": "solid"}], ["Coral Threats", "Environmental Policy", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Reef Conservation", "Environmental Policy", {"weight": 1.0, "confidence": 0.76, "type": "inter_cluster", "style": "solid"}], ["Reef Conservation", "u.s. coral reef task force", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Reef Conservation", "Program Best Practices", {"weight": 1.0, "confidence": 0.7833333333333333, "type": "inter_cluster", "style": "solid"}], ["Reef Conservation", "research expertise", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["Environmental Policy", "environmental research", {"weight": 1.0, "confidence": 0.7833333333333333, "type": "inter_cluster", "style": "solid"}], ["Environmental Awareness", "Reef Conservation", {"weight": 1.0, "confidence": 0.74, "type": "inter_cluster", "style": "solid"}], ["Environmental Awareness", "vessel discharges", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Environmental Awareness", "Regional Resource Management", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Health Resilience": [["nutrient loads", {"concepts": "nutrient loads", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "nutrient loads"}], ["food web dynamics", {"concepts": "food web dynamics", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "food web dynamics"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "ecosystem services"}], ["sustainable use", {"concepts": "sustainable use", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "sustainable use"}], ["endangered species", {"concepts": "endangered species", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "endangered species"}], ["food web", {"concepts": "food web", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "food web"}], ["nutrients", {"concepts": "nutrients", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "nutrients"}], ["geochemistry", {"concepts": "geochemistry", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "geochemistry"}], ["ecosystem protection", {"concepts": "ecosystem protection", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "ecosystem protection"}], ["ecosystem management", {"concepts": "ecosystem management", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "ecosystem management"}], ["calcium carbonate", {"concepts": "calcium carbonate", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "calcium carbonate"}], ["water quality standards", {"concepts": "water quality standards", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "water quality standards"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "biodiversity"}], ["ecosystem health", {"concepts": "ecosystem health", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "ecosystem health"}], ["nutrition", {"concepts": "nutrition", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "nutrition"}], ["water clarity", {"concepts": "water clarity", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "water clarity"}], ["turbidity", {"concepts": "turbidity", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "turbidity"}], ["sustainable farming", {"concepts": "sustainable farming", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "sustainable farming"}], ["runoff", {"concepts": "runoff", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "runoff"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "invasive species"}], ["water chemistry", {"concepts": "water chemistry", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "water chemistry"}], ["polluted runoff", {"concepts": "polluted runoff", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "polluted runoff"}], ["water quality", {"concepts": "water quality", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "water quality"}], ["habitat", {"concepts": "habitat", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "habitat"}], ["dissolved co2", {"concepts": "dissolved co2", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "dissolved co2"}], ["waste management", {"concepts": "waste management", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "waste management"}], ["ecosystem dynamics", {"concepts": "ecosystem dynamics", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "ecosystem dynamics"}], ["habitats", {"concepts": "habitats", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "habitats"}], ["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "conservation concern"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Health Resilience", "node_size": 10, "label": "habitat forming species"}]], "Interagency Collaboration": [["disease vulnerability", {"concepts": "disease vulnerability", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "disease vulnerability"}], ["healthcare systems", {"concepts": "healthcare systems", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "healthcare systems"}], ["local stressors", {"concepts": "local stressors", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "local stressors"}], ["global stressors", {"concepts": "global stressors", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "global stressors"}], ["impact assessment", {"concepts": "impact assessment", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "impact assessment"}], ["healthcare access", {"concepts": "healthcare access", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "healthcare access"}], ["stress response", {"concepts": "stress response", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "stress response"}], ["localized stressors", {"concepts": "localized stressors", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "localized stressors"}], ["resilience", {"concepts": "resilience", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "resilience"}], ["health impact", {"concepts": "health impact", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "health impact"}], ["health impacts", {"concepts": "health impacts", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "health impacts"}], ["work-life balance", {"concepts": "work-life balance", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "work-life balance"}], ["patient outcomes", {"concepts": "patient outcomes", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "patient outcomes"}], ["biological assessment", {"concepts": "biological assessment", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "biological assessment"}], ["quality of life", {"concepts": "quality of life", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "quality of life"}], ["disease outbreak", {"concepts": "disease outbreak", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "disease outbreak"}], ["remote work", {"concepts": "remote work", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "remote work"}], ["workforce dynamics", {"concepts": "workforce dynamics", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "workforce dynamics"}], ["workplace adaptation", {"concepts": "workplace adaptation", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "workplace adaptation"}], ["workplace flexibility", {"concepts": "workplace flexibility", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "workplace flexibility"}], ["work environment", {"concepts": "work environment", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "work environment"}], ["workforce adaptation", {"concepts": "workforce adaptation", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "workforce adaptation"}], ["remote work policies", {"concepts": "remote work policies", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "remote work policies"}], ["job security", {"concepts": "job security", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "job security"}], ["workforce flexibility", {"concepts": "workforce flexibility", "type": "concept", "cluster": "Interagency Collaboration", "node_size": 10, "label": "workforce flexibility"}]], "Remote Workforce": [["interdisciplinary work", {"concepts": "interdisciplinary work", "type": "concept", "cluster": "Remote Workforce", "node_size": 10, "label": "interdisciplinary work"}], ["interagency coordination", {"concepts": "interagency coordination", "type": "concept", "cluster": "Remote Workforce", "node_size": 10, "label": "interagency coordination"}], ["interagency collaboration", {"concepts": "interagency collaboration", "type": "concept", "cluster": "Remote Workforce", "node_size": 10, "label": "interagency collaboration"}], ["agency collaboration", {"concepts": "agency collaboration", "type": "concept", "cluster": "Remote Workforce", "node_size": 10, "label": "agency collaboration"}], ["collaboration", {"concepts": "collaboration", "type": "concept", "cluster": "Remote Workforce", "node_size": 10, "label": "collaboration"}], ["interagency meetings", {"concepts": "interagency meetings", "type": "concept", "cluster": "Remote Workforce", "node_size": 10, "label": "interagency meetings"}], ["interdomain connections", {"concepts": "interdomain connections", "type": "concept", "cluster": "Remote Workforce", "node_size": 10, "label": "interdomain connections"}], ["workshop participation", {"concepts": "workshop participation", "type": "concept", "cluster": "Remote Workforce", "node_size": 10, "label": "workshop participation"}]], "Ecosystem Health": [["growth rates", {"concepts": "growth rates", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "growth rates"}], ["policy implementation", {"concepts": "policy implementation", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "policy implementation"}], ["government resources", {"concepts": "government resources", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "government resources"}], ["institutional support", {"concepts": "institutional support", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "institutional support"}], ["local funds", {"concepts": "local funds", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "local funds"}], ["rural communities", {"concepts": "rural communities", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "rural communities"}], ["policy influence", {"concepts": "policy influence", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "policy influence"}], ["social determinants", {"concepts": "social determinants", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "social determinants"}], ["institutional structures", {"concepts": "institutional structures", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "institutional structures"}], ["policy coordination", {"concepts": "policy coordination", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "policy coordination"}], ["government employment", {"concepts": "government employment", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "government employment"}], ["institutional barriers", {"concepts": "institutional barriers", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "institutional barriers"}], ["regional offices", {"concepts": "regional offices", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "regional offices"}], ["government collaboration", {"concepts": "government collaboration", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "government collaboration"}], ["federal agencies", {"concepts": "federal agencies", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "federal agencies"}], ["government agencies", {"concepts": "government agencies", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "government agencies"}], ["social dynamics", {"concepts": "social dynamics", "type": "concept", "cluster": "Ecosystem Health", "node_size": 10, "label": "social dynamics"}]], "Coastal Ocean Issues": [["ocean buffering", {"concepts": "ocean buffering", "type": "concept", "cluster": "Coastal Ocean Issues", "node_size": 10, "label": "ocean buffering"}], ["coastal acidification", {"concepts": "coastal acidification", "type": "concept", "cluster": "Coastal Ocean Issues", "node_size": 10, "label": "coastal acidification"}], ["marine ecosystems", {"concepts": "marine ecosystems", "type": "concept", "cluster": "Coastal Ocean Issues", "node_size": 10, "label": "marine ecosystems"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Coastal Ocean Issues", "node_size": 10, "label": "marine resource management"}], ["ocean acidification", {"concepts": "ocean acidification", "type": "concept", "cluster": "Coastal Ocean Issues", "node_size": 10, "label": "ocean acidification"}], ["flood protection", {"concepts": "flood protection", "type": "concept", "cluster": "Coastal Ocean Issues", "node_size": 10, "label": "flood protection"}], ["coastal management", {"concepts": "coastal management", "type": "concept", "cluster": "Coastal Ocean Issues", "node_size": 10, "label": "coastal management"}], ["fishing communities", {"concepts": "fishing communities", "type": "concept", "cluster": "Coastal Ocean Issues", "node_size": 10, "label": "fishing communities"}], ["coastal issues", {"concepts": "coastal issues", "type": "concept", "cluster": "Coastal Ocean Issues", "node_size": 10, "label": "coastal issues"}], ["coastal protection", {"concepts": "coastal protection", "type": "concept", "cluster": "Coastal Ocean Issues", "node_size": 10, "label": "coastal protection"}], ["aquatic nuisance species", {"concepts": "aquatic nuisance species", "type": "concept", "cluster": "Coastal Ocean Issues", "node_size": 10, "label": "aquatic nuisance species"}]], "US Island Territories": [["puerto rico", {"concepts": "puerto rico", "type": "concept", "cluster": "US Island Territories", "node_size": 10, "label": "puerto rico"}], ["virgin islands", {"concepts": "virgin islands", "type": "concept", "cluster": "US Island Territories", "node_size": 10, "label": "virgin islands"}], ["hawaii", {"concepts": "hawaii", "type": "concept", "cluster": "US Island Territories", "node_size": 10, "label": "hawaii"}], ["ph changes", {"concepts": "ph changes", "type": "concept", "cluster": "US Island Territories", "node_size": 10, "label": "ph changes"}], ["guam", {"concepts": "guam", "type": "concept", "cluster": "US Island Territories", "node_size": 10, "label": "guam"}], ["caribbean", {"concepts": "caribbean", "type": "concept", "cluster": "US Island Territories", "node_size": 10, "label": "caribbean"}], ["american samoa", {"concepts": "american samoa", "type": "concept", "cluster": "US Island Territories", "node_size": 10, "label": "american samoa"}], ["ph", {"concepts": "ph", "type": "concept", "cluster": "US Island Territories", "node_size": 10, "label": "ph"}], ["bmps", {"concepts": "bmps", "type": "concept", "cluster": "US Island Territories", "node_size": 10, "label": "bmps"}], ["epa", {"concepts": "epa", "type": "concept", "cluster": "US Island Territories", "node_size": 10, "label": "epa"}], ["noaa", {"concepts": "noaa", "type": "concept", "cluster": "US Island Territories", "node_size": 10, "label": "noaa"}]], "Regional Resource Management": [["regions", {"concepts": "regions", "type": "concept", "cluster": "Regional Resource Management", "node_size": 10, "label": "regions"}], ["infrastructure", {"concepts": "infrastructure", "type": "concept", "cluster": "Regional Resource Management", "node_size": 10, "label": "infrastructure"}], ["department of the interior", {"concepts": "department of the interior", "type": "concept", "cluster": "Regional Resource Management", "node_size": 10, "label": "department of the interior"}], ["resources", {"concepts": "resources", "type": "concept", "cluster": "Regional Resource Management", "node_size": 10, "label": "resources"}], ["domain relevance", {"concepts": "domain relevance", "type": "concept", "cluster": "Regional Resource Management", "node_size": 10, "label": "domain relevance"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Regional Resource Management", "node_size": 10, "label": "mental modeler"}], ["expert networks", {"concepts": "expert networks", "type": "concept", "cluster": "Regional Resource Management", "node_size": 10, "label": "expert networks"}]], "Climate Change Impacts": [["pacific", {"concepts": "pacific", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "pacific"}], ["temperature change", {"concepts": "temperature change", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "temperature change"}], ["case study", {"concepts": "case study", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "case study"}], ["ancient climates", {"concepts": "ancient climates", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "ancient climates"}], ["co2 levels", {"concepts": "co2 levels", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "co2 levels"}], ["temperature rise", {"concepts": "temperature rise", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "temperature rise"}], ["education", {"concepts": "education", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "education"}], ["local communities", {"concepts": "local communities", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "local communities"}], ["system relationships", {"concepts": "system relationships", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "system relationships"}], ["permitting", {"concepts": "permitting", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "permitting"}], ["coordination", {"concepts": "coordination", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "coordination"}], ["sea level rise", {"concepts": "sea level rise", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "sea level rise"}], ["headquarters", {"concepts": "headquarters", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "headquarters"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "harmful organisms"}], ["organizational culture", {"concepts": "organizational culture", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "organizational culture"}], ["land pollution", {"concepts": "land pollution", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "land pollution"}], ["atmospheric co2", {"concepts": "atmospheric co2", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "atmospheric co2"}], ["expert coordination", {"concepts": "expert coordination", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "expert coordination"}], ["cultural services", {"concepts": "cultural services", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "cultural services"}], ["regulatory challenges", {"concepts": "regulatory challenges", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "regulatory challenges"}], ["co2", {"concepts": "co2", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "co2"}], ["directives", {"concepts": "directives", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "directives"}], ["system components", {"concepts": "system components", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "system components"}], ["time allocation", {"concepts": "time allocation", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "time allocation"}], ["organizational hierarchy", {"concepts": "organizational hierarchy", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "organizational hierarchy"}], ["academic transition", {"concepts": "academic transition", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "academic transition"}], ["professional background", {"concepts": "professional background", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "professional background"}], ["concept list", {"concepts": "concept list", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "concept list"}], ["regulatory work", {"concepts": "regulatory work", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "regulatory work"}], ["task force", {"concepts": "task force", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "task force"}], ["storm events", {"concepts": "storm events", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "storm events"}], ["professional networks", {"concepts": "professional networks", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "professional networks"}], ["professional development", {"concepts": "professional development", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "professional development"}], ["relationships", {"concepts": "relationships", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "relationships"}], ["mandates", {"concepts": "mandates", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "mandates"}], ["priorities", {"concepts": "priorities", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "priorities"}], ["local temperature", {"concepts": "local temperature", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "local temperature"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "climate change"}], ["cultural significance", {"concepts": "cultural significance", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "cultural significance"}], ["territories", {"concepts": "territories", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "territories"}], ["pathogens", {"concepts": "pathogens", "type": "concept", "cluster": "Climate Change Impacts", "node_size": 10, "label": "pathogens"}]], "Program Best Practices": [["best practices", {"concepts": "best practices", "type": "concept", "cluster": "Program Best Practices", "node_size": 10, "label": "best practices"}], ["best management practices", {"concepts": "best management practices", "type": "concept", "cluster": "Program Best Practices", "node_size": 10, "label": "best management practices"}], ["program coordination", {"concepts": "program coordination", "type": "concept", "cluster": "Program Best Practices", "node_size": 10, "label": "program coordination"}], ["program management", {"concepts": "program management", "type": "concept", "cluster": "Program Best Practices", "node_size": 10, "label": "program management"}], ["management practices", {"concepts": "management practices", "type": "concept", "cluster": "Program Best Practices", "node_size": 10, "label": "management practices"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Program Best Practices", "node_size": 10, "label": "stakeholders"}]], "Research Management": [["research management", {"concepts": "research management", "type": "concept", "cluster": "Research Management", "node_size": 10, "label": "research management"}], ["research funding", {"concepts": "research funding", "type": "concept", "cluster": "Research Management", "node_size": 10, "label": "research funding"}], ["peer research", {"concepts": "peer research", "type": "concept", "cluster": "Research Management", "node_size": 10, "label": "peer research"}], ["work portfolio", {"concepts": "work portfolio", "type": "concept", "cluster": "Research Management", "node_size": 10, "label": "work portfolio"}]], "Coral Biology": [["coral biologists", {"concepts": "coral biologists", "type": "concept", "cluster": "Coral Biology", "node_size": 10, "label": "coral biologists"}], ["corals", {"concepts": "corals", "type": "concept", "cluster": "Coral Biology", "node_size": 10, "label": "corals"}], ["coral reef ecosystems", {"concepts": "coral reef ecosystems", "type": "concept", "cluster": "Coral Biology", "node_size": 10, "label": "coral reef ecosystems"}]], "Coral Threats": [["bleaching events", {"concepts": "bleaching events", "type": "concept", "cluster": "Coral Threats", "node_size": 10, "label": "bleaching events"}], ["stony coral tissue loss disease", {"concepts": "stony coral tissue loss disease", "type": "concept", "cluster": "Coral Threats", "node_size": 10, "label": "stony coral tissue loss disease"}]], "Reef Conservation": [["artificial reefs", {"concepts": "artificial reefs", "type": "concept", "cluster": "Reef Conservation", "node_size": 10, "label": "artificial reefs"}], ["dredging", {"concepts": "dredging", "type": "concept", "cluster": "Reef Conservation", "node_size": 10, "label": "dredging"}], ["zooxanthellae", {"concepts": "zooxanthellae", "type": "concept", "cluster": "Reef Conservation", "node_size": 10, "label": "zooxanthellae"}], ["coral reefs", {"concepts": "coral reefs", "type": "concept", "cluster": "Reef Conservation", "node_size": 10, "label": "coral reefs"}], ["coral protection", {"concepts": "coral protection", "type": "concept", "cluster": "Reef Conservation", "node_size": 10, "label": "coral protection"}]], "Environmental Policy": [["environmental regulation", {"concepts": "environmental regulation", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "environmental regulation"}], ["environmental policy", {"concepts": "environmental policy", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "environmental policy"}]], "Environmental Awareness": [["environmental education", {"concepts": "environmental education", "type": "concept", "cluster": "Environmental Awareness", "node_size": 10, "label": "environmental education"}], ["environmental impact", {"concepts": "environmental impact", "type": "concept", "cluster": "Environmental Awareness", "node_size": 10, "label": "environmental impact"}]], "Environmental Wellbeing": [["environmental social sciences", {"concepts": "environmental social sciences", "type": "concept", "cluster": "Environmental Wellbeing", "node_size": 10, "label": "environmental social sciences"}], ["environmental protection", {"concepts": "environmental protection", "type": "concept", "cluster": "Environmental Wellbeing", "node_size": 10, "label": "environmental protection"}], ["environmental health", {"concepts": "environmental health", "type": "concept", "cluster": "Environmental Wellbeing", "node_size": 10, "label": "environmental health"}]]};
        const clusterEdges = {"Health Resilience": [], "Interagency Collaboration": [], "Remote Workforce": [], "Ecosystem Health": [], "Coastal Ocean Issues": [], "US Island Territories": [], "Regional Resource Management": [], "Climate Change Impacts": [], "Program Best Practices": [], "Research Management": [], "Coral Biology": [], "Coral Threats": [], "Reef Conservation": [], "Environmental Policy": [], "Environmental Awareness": [], "Environmental Wellbeing": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
