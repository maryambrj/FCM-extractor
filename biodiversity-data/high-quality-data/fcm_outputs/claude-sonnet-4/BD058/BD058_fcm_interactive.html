
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"ecosystem approach": {"concepts": "ecosystem approach", "concept_list": ["ecosystem approach"], "type": "cluster", "node_size": 18, "label": "ecosystem approach"}, "coral resilience": {"concepts": "coral resilience", "concept_list": ["coral resilience"], "type": "cluster", "node_size": 18, "label": "coral resilience"}, "stakeholder education": {"concepts": "stakeholder education", "concept_list": ["stakeholder education"], "type": "cluster", "node_size": 18, "label": "stakeholder education"}, "Water Quality": {"concepts": "turbidity, water clarity, water chemistry, sediment, nutrients, water quality, nutrient loads", "concept_list": ["turbidity", "water clarity", "water chemistry", "sediment", "nutrients", "water quality", "nutrient loads"], "type": "cluster", "node_size": 36, "label": "Water Quality"}, "Climate Impacts": {"concepts": "thermal stress, water temperature, climate change, ocean acidification, atmospheric co2, temperature rise, global warming, temperature change, sea level rise", "concept_list": ["thermal stress", "water temperature", "climate change", "ocean acidification", "atmospheric co2", "temperature rise", "global warming", "temperature change", "sea level rise"], "type": "cluster", "node_size": 42, "label": "Climate Impacts"}, "Conservation Management": {"concepts": "climate resilience, conservation concern, conservation efforts, ecosystem robustness, endangered species, biodiversity protection, marine conservation, ecosystem health, ecosystem management, environmental management", "concept_list": ["climate resilience", "conservation concern", "conservation efforts", "ecosystem robustness", "endangered species", "biodiversity protection", "marine conservation", "ecosystem health", "ecosystem management", "environmental management"], "type": "cluster", "node_size": 45, "label": "Conservation Management"}, "Geological Research": {"concepts": "geology phd, geochemistry, ancient soils, ancient climates", "concept_list": ["geology phd", "geochemistry", "ancient soils", "ancient climates"], "type": "cluster", "node_size": 27, "label": "Geological Research"}, "Environmental Protection": {"concepts": "flood protection, sustainable farming, waste management, runoff management, pollution control, sustainable harvesting, coastal management, coastal protection, agricultural runoff, runoff control, polluted runoff", "concept_list": ["flood protection", "sustainable farming", "waste management", "runoff management", "pollution control", "sustainable harvesting", "coastal management", "coastal protection", "agricultural runoff", "runoff control", "polluted runoff"], "type": "cluster", "node_size": 48, "label": "Environmental Protection"}, "Marine Ecosystem Health": {"concepts": "marine biodiversity, pathogens, environmental monitoring, ecosystem services, outbreak control, habitat forming species, cultural significance, cultural services, nutrition, fishing communities, harmful organisms, bioassessments, bacterial pathogens, invasive species, aquatic nuisance species, viral pathogens, food web dynamics, marine ecosystems, food webs, food web, caribbean ecosystems, biodiversity, ecosystem dynamics", "concept_list": ["marine biodiversity", "pathogens", "environmental monitoring", "ecosystem services", "outbreak control", "habitat forming species", "cultural significance", "cultural services", "nutrition", "fishing communities", "harmful organisms", "bioassessments", "bacterial pathogens", "invasive species", "aquatic nuisance species", "viral pathogens", "food web dynamics", "marine ecosystems", "food webs", "food web", "caribbean ecosystems", "biodiversity", "ecosystem dynamics"], "type": "cluster", "node_size": 84, "label": "Marine Ecosystem Health"}, "Environmental Stressors": {"concepts": "habitat provision, environmental stressors, land-based pollution, calcium carbonate, vessel discharges, storm events, global stressors, local temperature, coast guard, local stressors", "concept_list": ["habitat provision", "environmental stressors", "land-based pollution", "calcium carbonate", "vessel discharges", "storm events", "global stressors", "local temperature", "coast guard", "local stressors"], "type": "cluster", "node_size": 45, "label": "Environmental Stressors"}, "Coral Growth": {"concepts": "coral growth, reef building corals, coral survival, coral physiology, coral adaptation, coral protection", "concept_list": ["coral growth", "reef building corals", "coral survival", "coral physiology", "coral adaptation", "coral protection"], "type": "cluster", "node_size": 33, "label": "Coral Growth"}, "Coral Disease": {"concepts": "coral disease, coral health, coral stress, coral bleaching, stony coral tissue disease, coral mortality, coral vulnerability", "concept_list": ["coral disease", "coral health", "coral stress", "coral bleaching", "stony coral tissue disease", "coral mortality", "coral vulnerability"], "type": "cluster", "node_size": 36, "label": "Coral Disease"}, "Coral Task Force": {"concepts": "coral reef task force, u.s. coral reef task force, coral reef ecosystems, corals program, coral biologists, coral team meetings", "concept_list": ["coral reef task force", "u.s. coral reef task force", "coral reef ecosystems", "corals program", "coral biologists", "coral team meetings"], "type": "cluster", "node_size": 33, "label": "Coral Task Force"}, "Reef Ecosystems": {"concepts": "artificial reefs, coral reefs, zooxanthellae", "concept_list": ["artificial reefs", "coral reefs", "zooxanthellae"], "type": "cluster", "node_size": 24, "label": "Reef Ecosystems"}, "Research Personnel": {"concepts": "susan jackson, hudson slay, aaas fellowship, hawaii office, mobile alabama, postdoc, naval academy, galen koffman, vims professor", "concept_list": ["susan jackson", "hudson slay", "aaas fellowship", "hawaii office", "mobile alabama", "postdoc", "naval academy", "galen koffman", "vims professor"], "type": "cluster", "node_size": 42, "label": "Research Personnel"}, "Agency Coordination": {"concepts": "army corps, interagency coordination, interrelated systems, federal agencies, follow-up communication, interagency meetings, government agencies, stakeholder engagement", "concept_list": ["army corps", "interagency coordination", "interrelated systems", "federal agencies", "follow-up communication", "interagency meetings", "government agencies", "stakeholder engagement"], "type": "cluster", "node_size": 39, "label": "Agency Coordination"}, "Bay Management": {"concepts": "chesapeake bay program, epa headquarters, regulatory frameworks, case study, epa regions, territorial governments, management practices, dredging regulation, regional offices, permitting processes, biological condition gradient, chesapeake bay", "concept_list": ["chesapeake bay program", "epa headquarters", "regulatory frameworks", "case study", "epa regions", "territorial governments", "management practices", "dredging regulation", "regional offices", "permitting processes", "biological condition gradient", "chesapeake bay"], "type": "cluster", "node_size": 51, "label": "Bay Management"}, "Regional Research Coordination": {"concepts": "manassas virginia, regions, research development, expert judgment, regulatory work, regional coordination, covid impact, ph changes, workshop participants, remote work, best management practices, government collaboration, department of defense, infrastructure development, tissue loss, military agencies, job security, resource allocation, clarifying questions, resource leveraging, disease management, time constraints, spatial distribution, implementation practices, noaa funding, soft tissue loss, biocriteria, co2 levels, connection strength", "concept_list": ["manassas virginia", "regions", "research development", "expert judgment", "regulatory work", "regional coordination", "covid impact", "ph changes", "workshop participants", "remote work", "best management practices", "government collaboration", "department of defense", "infrastructure development", "tissue loss", "military agencies", "job security", "resource allocation", "clarifying questions", "resource leveraging", "disease management", "time constraints", "spatial distribution", "implementation practices", "noaa funding", "soft tissue loss", "biocriteria", "co2 levels", "connection strength"], "type": "cluster", "node_size": 102, "label": "Regional Research Coordination"}, "Community Outreach": {"concepts": "responsible use, local communities, rural populations, community outreach, community education, community reliance, local funds, epa connections", "concept_list": ["responsible use", "local communities", "rural populations", "community outreach", "community education", "community reliance", "local funds", "epa connections"], "type": "cluster", "node_size": 39, "label": "Community Outreach"}};
        const conceptData = {"turbidity": {"concepts": "turbidity", "type": "concept", "cluster": "Water Quality", "node_size": 10, "label": "turbidity"}, "water clarity": {"concepts": "water clarity", "type": "concept", "cluster": "Water Quality", "node_size": 10, "label": "water clarity"}, "water chemistry": {"concepts": "water chemistry", "type": "concept", "cluster": "Water Quality", "node_size": 10, "label": "water chemistry"}, "sediment": {"concepts": "sediment", "type": "concept", "cluster": "Water Quality", "node_size": 10, "label": "sediment"}, "nutrients": {"concepts": "nutrients", "type": "concept", "cluster": "Water Quality", "node_size": 10, "label": "nutrients"}, "water quality": {"concepts": "water quality", "type": "concept", "cluster": "Water Quality", "node_size": 10, "label": "water quality"}, "nutrient loads": {"concepts": "nutrient loads", "type": "concept", "cluster": "Water Quality", "node_size": 10, "label": "nutrient loads"}, "thermal stress": {"concepts": "thermal stress", "type": "concept", "cluster": "Climate Impacts", "node_size": 10, "label": "thermal stress"}, "water temperature": {"concepts": "water temperature", "type": "concept", "cluster": "Climate Impacts", "node_size": 10, "label": "water temperature"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Climate Impacts", "node_size": 10, "label": "climate change"}, "ocean acidification": {"concepts": "ocean acidification", "type": "concept", "cluster": "Climate Impacts", "node_size": 10, "label": "ocean acidification"}, "atmospheric co2": {"concepts": "atmospheric co2", "type": "concept", "cluster": "Climate Impacts", "node_size": 10, "label": "atmospheric co2"}, "temperature rise": {"concepts": "temperature rise", "type": "concept", "cluster": "Climate Impacts", "node_size": 10, "label": "temperature rise"}, "global warming": {"concepts": "global warming", "type": "concept", "cluster": "Climate Impacts", "node_size": 10, "label": "global warming"}, "temperature change": {"concepts": "temperature change", "type": "concept", "cluster": "Climate Impacts", "node_size": 10, "label": "temperature change"}, "sea level rise": {"concepts": "sea level rise", "type": "concept", "cluster": "Climate Impacts", "node_size": 10, "label": "sea level rise"}, "climate resilience": {"concepts": "climate resilience", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "climate resilience"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "conservation concern"}, "conservation efforts": {"concepts": "conservation efforts", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "conservation efforts"}, "ecosystem robustness": {"concepts": "ecosystem robustness", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "ecosystem robustness"}, "endangered species": {"concepts": "endangered species", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "endangered species"}, "biodiversity protection": {"concepts": "biodiversity protection", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "biodiversity protection"}, "marine conservation": {"concepts": "marine conservation", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "marine conservation"}, "ecosystem health": {"concepts": "ecosystem health", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "ecosystem health"}, "ecosystem management": {"concepts": "ecosystem management", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "ecosystem management"}, "environmental management": {"concepts": "environmental management", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "environmental management"}, "geology phd": {"concepts": "geology phd", "type": "concept", "cluster": "Geological Research", "node_size": 10, "label": "geology phd"}, "geochemistry": {"concepts": "geochemistry", "type": "concept", "cluster": "Geological Research", "node_size": 10, "label": "geochemistry"}, "ancient soils": {"concepts": "ancient soils", "type": "concept", "cluster": "Geological Research", "node_size": 10, "label": "ancient soils"}, "ancient climates": {"concepts": "ancient climates", "type": "concept", "cluster": "Geological Research", "node_size": 10, "label": "ancient climates"}, "flood protection": {"concepts": "flood protection", "type": "concept", "cluster": "Environmental Protection", "node_size": 10, "label": "flood protection"}, "sustainable farming": {"concepts": "sustainable farming", "type": "concept", "cluster": "Environmental Protection", "node_size": 10, "label": "sustainable farming"}, "waste management": {"concepts": "waste management", "type": "concept", "cluster": "Environmental Protection", "node_size": 10, "label": "waste management"}, "runoff management": {"concepts": "runoff management", "type": "concept", "cluster": "Environmental Protection", "node_size": 10, "label": "runoff management"}, "pollution control": {"concepts": "pollution control", "type": "concept", "cluster": "Environmental Protection", "node_size": 10, "label": "pollution control"}, "sustainable harvesting": {"concepts": "sustainable harvesting", "type": "concept", "cluster": "Environmental Protection", "node_size": 10, "label": "sustainable harvesting"}, "coastal management": {"concepts": "coastal management", "type": "concept", "cluster": "Environmental Protection", "node_size": 10, "label": "coastal management"}, "coastal protection": {"concepts": "coastal protection", "type": "concept", "cluster": "Environmental Protection", "node_size": 10, "label": "coastal protection"}, "agricultural runoff": {"concepts": "agricultural runoff", "type": "concept", "cluster": "Environmental Protection", "node_size": 10, "label": "agricultural runoff"}, "runoff control": {"concepts": "runoff control", "type": "concept", "cluster": "Environmental Protection", "node_size": 10, "label": "runoff control"}, "polluted runoff": {"concepts": "polluted runoff", "type": "concept", "cluster": "Environmental Protection", "node_size": 10, "label": "polluted runoff"}, "marine biodiversity": {"concepts": "marine biodiversity", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "marine biodiversity"}, "pathogens": {"concepts": "pathogens", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "pathogens"}, "environmental monitoring": {"concepts": "environmental monitoring", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "environmental monitoring"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "ecosystem services"}, "outbreak control": {"concepts": "outbreak control", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "outbreak control"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "habitat forming species"}, "cultural significance": {"concepts": "cultural significance", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "cultural significance"}, "cultural services": {"concepts": "cultural services", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "cultural services"}, "nutrition": {"concepts": "nutrition", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "nutrition"}, "fishing communities": {"concepts": "fishing communities", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "fishing communities"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "harmful organisms"}, "bioassessments": {"concepts": "bioassessments", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "bioassessments"}, "bacterial pathogens": {"concepts": "bacterial pathogens", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "bacterial pathogens"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "invasive species"}, "aquatic nuisance species": {"concepts": "aquatic nuisance species", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "aquatic nuisance species"}, "viral pathogens": {"concepts": "viral pathogens", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "viral pathogens"}, "food web dynamics": {"concepts": "food web dynamics", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "food web dynamics"}, "marine ecosystems": {"concepts": "marine ecosystems", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "marine ecosystems"}, "food webs": {"concepts": "food webs", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "food webs"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "food web"}, "caribbean ecosystems": {"concepts": "caribbean ecosystems", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "caribbean ecosystems"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "biodiversity"}, "ecosystem dynamics": {"concepts": "ecosystem dynamics", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "ecosystem dynamics"}, "habitat provision": {"concepts": "habitat provision", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "habitat provision"}, "environmental stressors": {"concepts": "environmental stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "environmental stressors"}, "land-based pollution": {"concepts": "land-based pollution", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "land-based pollution"}, "calcium carbonate": {"concepts": "calcium carbonate", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "calcium carbonate"}, "vessel discharges": {"concepts": "vessel discharges", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "vessel discharges"}, "storm events": {"concepts": "storm events", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "storm events"}, "global stressors": {"concepts": "global stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "global stressors"}, "local temperature": {"concepts": "local temperature", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "local temperature"}, "coast guard": {"concepts": "coast guard", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "coast guard"}, "local stressors": {"concepts": "local stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "local stressors"}, "coral growth": {"concepts": "coral growth", "type": "concept", "cluster": "Coral Growth", "node_size": 10, "label": "coral growth"}, "reef building corals": {"concepts": "reef building corals", "type": "concept", "cluster": "Coral Growth", "node_size": 10, "label": "reef building corals"}, "coral survival": {"concepts": "coral survival", "type": "concept", "cluster": "Coral Growth", "node_size": 10, "label": "coral survival"}, "coral physiology": {"concepts": "coral physiology", "type": "concept", "cluster": "Coral Growth", "node_size": 10, "label": "coral physiology"}, "coral adaptation": {"concepts": "coral adaptation", "type": "concept", "cluster": "Coral Growth", "node_size": 10, "label": "coral adaptation"}, "coral protection": {"concepts": "coral protection", "type": "concept", "cluster": "Coral Growth", "node_size": 10, "label": "coral protection"}, "coral disease": {"concepts": "coral disease", "type": "concept", "cluster": "Coral Disease", "node_size": 10, "label": "coral disease"}, "coral health": {"concepts": "coral health", "type": "concept", "cluster": "Coral Disease", "node_size": 10, "label": "coral health"}, "coral stress": {"concepts": "coral stress", "type": "concept", "cluster": "Coral Disease", "node_size": 10, "label": "coral stress"}, "coral bleaching": {"concepts": "coral bleaching", "type": "concept", "cluster": "Coral Disease", "node_size": 10, "label": "coral bleaching"}, "stony coral tissue disease": {"concepts": "stony coral tissue disease", "type": "concept", "cluster": "Coral Disease", "node_size": 10, "label": "stony coral tissue disease"}, "coral mortality": {"concepts": "coral mortality", "type": "concept", "cluster": "Coral Disease", "node_size": 10, "label": "coral mortality"}, "coral vulnerability": {"concepts": "coral vulnerability", "type": "concept", "cluster": "Coral Disease", "node_size": 10, "label": "coral vulnerability"}, "coral reef task force": {"concepts": "coral reef task force", "type": "concept", "cluster": "Coral Task Force", "node_size": 10, "label": "coral reef task force"}, "u.s. coral reef task force": {"concepts": "u.s. coral reef task force", "type": "concept", "cluster": "Coral Task Force", "node_size": 10, "label": "u.s. coral reef task force"}, "coral reef ecosystems": {"concepts": "coral reef ecosystems", "type": "concept", "cluster": "Coral Task Force", "node_size": 10, "label": "coral reef ecosystems"}, "corals program": {"concepts": "corals program", "type": "concept", "cluster": "Coral Task Force", "node_size": 10, "label": "corals program"}, "coral biologists": {"concepts": "coral biologists", "type": "concept", "cluster": "Coral Task Force", "node_size": 10, "label": "coral biologists"}, "coral team meetings": {"concepts": "coral team meetings", "type": "concept", "cluster": "Coral Task Force", "node_size": 10, "label": "coral team meetings"}, "artificial reefs": {"concepts": "artificial reefs", "type": "concept", "cluster": "Reef Ecosystems", "node_size": 10, "label": "artificial reefs"}, "coral reefs": {"concepts": "coral reefs", "type": "concept", "cluster": "Reef Ecosystems", "node_size": 10, "label": "coral reefs"}, "zooxanthellae": {"concepts": "zooxanthellae", "type": "concept", "cluster": "Reef Ecosystems", "node_size": 10, "label": "zooxanthellae"}, "susan jackson": {"concepts": "susan jackson", "type": "concept", "cluster": "Research Personnel", "node_size": 10, "label": "susan jackson"}, "hudson slay": {"concepts": "hudson slay", "type": "concept", "cluster": "Research Personnel", "node_size": 10, "label": "hudson slay"}, "aaas fellowship": {"concepts": "aaas fellowship", "type": "concept", "cluster": "Research Personnel", "node_size": 10, "label": "aaas fellowship"}, "hawaii office": {"concepts": "hawaii office", "type": "concept", "cluster": "Research Personnel", "node_size": 10, "label": "hawaii office"}, "mobile alabama": {"concepts": "mobile alabama", "type": "concept", "cluster": "Research Personnel", "node_size": 10, "label": "mobile alabama"}, "postdoc": {"concepts": "postdoc", "type": "concept", "cluster": "Research Personnel", "node_size": 10, "label": "postdoc"}, "naval academy": {"concepts": "naval academy", "type": "concept", "cluster": "Research Personnel", "node_size": 10, "label": "naval academy"}, "galen koffman": {"concepts": "galen koffman", "type": "concept", "cluster": "Research Personnel", "node_size": 10, "label": "galen koffman"}, "vims professor": {"concepts": "vims professor", "type": "concept", "cluster": "Research Personnel", "node_size": 10, "label": "vims professor"}, "army corps": {"concepts": "army corps", "type": "concept", "cluster": "Agency Coordination", "node_size": 10, "label": "army corps"}, "interagency coordination": {"concepts": "interagency coordination", "type": "concept", "cluster": "Agency Coordination", "node_size": 10, "label": "interagency coordination"}, "interrelated systems": {"concepts": "interrelated systems", "type": "concept", "cluster": "Agency Coordination", "node_size": 10, "label": "interrelated systems"}, "federal agencies": {"concepts": "federal agencies", "type": "concept", "cluster": "Agency Coordination", "node_size": 10, "label": "federal agencies"}, "follow-up communication": {"concepts": "follow-up communication", "type": "concept", "cluster": "Agency Coordination", "node_size": 10, "label": "follow-up communication"}, "interagency meetings": {"concepts": "interagency meetings", "type": "concept", "cluster": "Agency Coordination", "node_size": 10, "label": "interagency meetings"}, "government agencies": {"concepts": "government agencies", "type": "concept", "cluster": "Agency Coordination", "node_size": 10, "label": "government agencies"}, "stakeholder engagement": {"concepts": "stakeholder engagement", "type": "concept", "cluster": "Agency Coordination", "node_size": 10, "label": "stakeholder engagement"}, "chesapeake bay program": {"concepts": "chesapeake bay program", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "chesapeake bay program"}, "epa headquarters": {"concepts": "epa headquarters", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "epa headquarters"}, "regulatory frameworks": {"concepts": "regulatory frameworks", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "regulatory frameworks"}, "case study": {"concepts": "case study", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "case study"}, "epa regions": {"concepts": "epa regions", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "epa regions"}, "territorial governments": {"concepts": "territorial governments", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "territorial governments"}, "management practices": {"concepts": "management practices", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "management practices"}, "dredging regulation": {"concepts": "dredging regulation", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "dredging regulation"}, "regional offices": {"concepts": "regional offices", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "regional offices"}, "permitting processes": {"concepts": "permitting processes", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "permitting processes"}, "biological condition gradient": {"concepts": "biological condition gradient", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "biological condition gradient"}, "chesapeake bay": {"concepts": "chesapeake bay", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "chesapeake bay"}, "manassas virginia": {"concepts": "manassas virginia", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "manassas virginia"}, "regions": {"concepts": "regions", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "regions"}, "research development": {"concepts": "research development", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "research development"}, "expert judgment": {"concepts": "expert judgment", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "expert judgment"}, "regulatory work": {"concepts": "regulatory work", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "regulatory work"}, "regional coordination": {"concepts": "regional coordination", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "regional coordination"}, "covid impact": {"concepts": "covid impact", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "covid impact"}, "ph changes": {"concepts": "ph changes", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "ph changes"}, "workshop participants": {"concepts": "workshop participants", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "workshop participants"}, "remote work": {"concepts": "remote work", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "remote work"}, "best management practices": {"concepts": "best management practices", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "best management practices"}, "government collaboration": {"concepts": "government collaboration", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "government collaboration"}, "department of defense": {"concepts": "department of defense", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "department of defense"}, "infrastructure development": {"concepts": "infrastructure development", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "infrastructure development"}, "tissue loss": {"concepts": "tissue loss", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "tissue loss"}, "military agencies": {"concepts": "military agencies", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "military agencies"}, "job security": {"concepts": "job security", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "job security"}, "resource allocation": {"concepts": "resource allocation", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "resource allocation"}, "clarifying questions": {"concepts": "clarifying questions", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "clarifying questions"}, "resource leveraging": {"concepts": "resource leveraging", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "resource leveraging"}, "disease management": {"concepts": "disease management", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "disease management"}, "time constraints": {"concepts": "time constraints", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "time constraints"}, "spatial distribution": {"concepts": "spatial distribution", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "spatial distribution"}, "implementation practices": {"concepts": "implementation practices", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "implementation practices"}, "noaa funding": {"concepts": "noaa funding", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "noaa funding"}, "soft tissue loss": {"concepts": "soft tissue loss", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "soft tissue loss"}, "biocriteria": {"concepts": "biocriteria", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "biocriteria"}, "co2 levels": {"concepts": "co2 levels", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "co2 levels"}, "connection strength": {"concepts": "connection strength", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "connection strength"}, "responsible use": {"concepts": "responsible use", "type": "concept", "cluster": "Community Outreach", "node_size": 10, "label": "responsible use"}, "local communities": {"concepts": "local communities", "type": "concept", "cluster": "Community Outreach", "node_size": 10, "label": "local communities"}, "rural populations": {"concepts": "rural populations", "type": "concept", "cluster": "Community Outreach", "node_size": 10, "label": "rural populations"}, "community outreach": {"concepts": "community outreach", "type": "concept", "cluster": "Community Outreach", "node_size": 10, "label": "community outreach"}, "community education": {"concepts": "community education", "type": "concept", "cluster": "Community Outreach", "node_size": 10, "label": "community education"}, "community reliance": {"concepts": "community reliance", "type": "concept", "cluster": "Community Outreach", "node_size": 10, "label": "community reliance"}, "local funds": {"concepts": "local funds", "type": "concept", "cluster": "Community Outreach", "node_size": 10, "label": "local funds"}, "epa connections": {"concepts": "epa connections", "type": "concept", "cluster": "Community Outreach", "node_size": 10, "label": "epa connections"}};
        const interClusterEdges = [["ecosystem approach", "Geological Research", {"weight": -0.2, "confidence": 0.4699999999999999, "type": "inter_cluster", "style": "solid"}], ["ecosystem approach", "Regional Research Coordination", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["coral resilience", "Conservation Management", {"weight": 0.75, "confidence": 0.6125, "type": "inter_cluster", "style": "solid"}], ["coral resilience", "Environmental Protection", {"weight": 0.6666666666666666, "confidence": 0.5333333333333333, "type": "inter_cluster", "style": "solid"}], ["coral resilience", "Climate Impacts", {"weight": 0.3333333333333333, "confidence": 0.26666666666666666, "type": "inter_cluster", "style": "solid"}], ["stakeholder education", "Regional Research Coordination", {"weight": -0.5, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["stakeholder education", "Reef Ecosystems", {"weight": 0.3333333333333333, "confidence": 0.2833333333333333, "type": "inter_cluster", "style": "solid"}], ["stakeholder education", "Environmental Stressors", {"weight": 0.3333333333333333, "confidence": 0.2333333333333333, "type": "inter_cluster", "style": "solid"}], ["Water Quality", "stakeholder education", {"weight": 0.75, "confidence": 0.5874999999999999, "type": "inter_cluster", "style": "solid"}], ["Climate Impacts", "Agency Coordination", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Climate Impacts", "stakeholder education", {"weight": 0.25, "confidence": 0.1625, "type": "inter_cluster", "style": "solid"}], ["Conservation Management", "Bay Management", {"weight": 1.0, "confidence": 0.7625, "type": "inter_cluster", "style": "solid"}], ["Conservation Management", "Reef Ecosystems", {"weight": 0.6, "confidence": 0.4800000000000001, "type": "inter_cluster", "style": "solid"}], ["Conservation Management", "Coral Disease", {"weight": 0.5, "confidence": 0.425, "type": "inter_cluster", "style": "solid"}], ["Conservation Management", "coral resilience", {"weight": 0.25, "confidence": 0.225, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystem Health", "Geological Research", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Environmental Stressors", "ecosystem approach", {"weight": 0.6, "confidence": 0.44000000000000006, "type": "inter_cluster", "style": "solid"}], ["Environmental Stressors", "stakeholder education", {"weight": 0.2, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Environmental Stressors", "Water Quality", {"weight": -0.3333333333333333, "confidence": 0.31666666666666665, "type": "inter_cluster", "style": "solid"}], ["Environmental Stressors", "Coral Disease", {"weight": 0.25, "confidence": 0.175, "type": "inter_cluster", "style": "solid"}], ["Coral Growth", "coral resilience", {"weight": 0.25, "confidence": 0.2125, "type": "inter_cluster", "style": "solid"}], ["Coral Disease", "Research Personnel", {"weight": 0.3333333333333333, "confidence": 0.7666666666666666, "type": "inter_cluster", "style": "solid"}], ["Coral Disease", "Regional Research Coordination", {"weight": 0.75, "confidence": 0.5625, "type": "inter_cluster", "style": "solid"}], ["Coral Disease", "Climate Impacts", {"weight": 0.25, "confidence": 0.175, "type": "inter_cluster", "style": "solid"}], ["Coral Task Force", "Marine Ecosystem Health", {"weight": 0.5, "confidence": 0.42500000000000004, "type": "inter_cluster", "style": "solid"}], ["Coral Task Force", "Environmental Protection", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Coral Task Force", "Coral Disease", {"weight": 0.25, "confidence": 0.175, "type": "inter_cluster", "style": "solid"}], ["Research Personnel", "ecosystem approach", {"weight": 0.4, "confidence": 0.6599999999999999, "type": "inter_cluster", "style": "solid"}], ["Research Personnel", "Agency Coordination", {"weight": 1.0, "confidence": 0.8000000000000002, "type": "inter_cluster", "style": "solid"}], ["Research Personnel", "Marine Ecosystem Health", {"weight": 0.75, "confidence": 0.6125, "type": "inter_cluster", "style": "solid"}], ["Research Personnel", "Bay Management", {"weight": -0.2, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["Research Personnel", "Geological Research", {"weight": 0.6666666666666666, "confidence": 0.4666666666666666, "type": "inter_cluster", "style": "solid"}], ["Agency Coordination", "stakeholder education", {"weight": 0.8, "confidence": 0.6199999999999999, "type": "inter_cluster", "style": "solid"}], ["Agency Coordination", "Water Quality", {"weight": 0.5, "confidence": 0.4375, "type": "inter_cluster", "style": "solid"}], ["Regional Research Coordination", "Bay Management", {"weight": 0.2, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Regional Research Coordination", "Geological Research", {"weight": 0.6, "confidence": 0.45999999999999996, "type": "inter_cluster", "style": "solid"}], ["Regional Research Coordination", "Community Outreach", {"weight": 0.4, "confidence": 0.31, "type": "inter_cluster", "style": "solid"}], ["Regional Research Coordination", "Coral Disease", {"weight": 0.25, "confidence": 0.2, "type": "inter_cluster", "style": "solid"}], ["Community Outreach", "Climate Impacts", {"weight": 0.4, "confidence": 0.6199999999999999, "type": "inter_cluster", "style": "solid"}], ["Community Outreach", "Conservation Management", {"weight": 0.5, "confidence": 0.36250000000000004, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Water Quality": [["turbidity", {"concepts": "turbidity", "type": "concept", "cluster": "Water Quality", "node_size": 10, "label": "turbidity"}], ["water clarity", {"concepts": "water clarity", "type": "concept", "cluster": "Water Quality", "node_size": 10, "label": "water clarity"}], ["water chemistry", {"concepts": "water chemistry", "type": "concept", "cluster": "Water Quality", "node_size": 10, "label": "water chemistry"}], ["sediment", {"concepts": "sediment", "type": "concept", "cluster": "Water Quality", "node_size": 10, "label": "sediment"}], ["nutrients", {"concepts": "nutrients", "type": "concept", "cluster": "Water Quality", "node_size": 10, "label": "nutrients"}], ["water quality", {"concepts": "water quality", "type": "concept", "cluster": "Water Quality", "node_size": 10, "label": "water quality"}], ["nutrient loads", {"concepts": "nutrient loads", "type": "concept", "cluster": "Water Quality", "node_size": 10, "label": "nutrient loads"}]], "Climate Impacts": [["thermal stress", {"concepts": "thermal stress", "type": "concept", "cluster": "Climate Impacts", "node_size": 10, "label": "thermal stress"}], ["water temperature", {"concepts": "water temperature", "type": "concept", "cluster": "Climate Impacts", "node_size": 10, "label": "water temperature"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Climate Impacts", "node_size": 10, "label": "climate change"}], ["ocean acidification", {"concepts": "ocean acidification", "type": "concept", "cluster": "Climate Impacts", "node_size": 10, "label": "ocean acidification"}], ["atmospheric co2", {"concepts": "atmospheric co2", "type": "concept", "cluster": "Climate Impacts", "node_size": 10, "label": "atmospheric co2"}], ["temperature rise", {"concepts": "temperature rise", "type": "concept", "cluster": "Climate Impacts", "node_size": 10, "label": "temperature rise"}], ["global warming", {"concepts": "global warming", "type": "concept", "cluster": "Climate Impacts", "node_size": 10, "label": "global warming"}], ["temperature change", {"concepts": "temperature change", "type": "concept", "cluster": "Climate Impacts", "node_size": 10, "label": "temperature change"}], ["sea level rise", {"concepts": "sea level rise", "type": "concept", "cluster": "Climate Impacts", "node_size": 10, "label": "sea level rise"}]], "Conservation Management": [["climate resilience", {"concepts": "climate resilience", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "climate resilience"}], ["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "conservation concern"}], ["conservation efforts", {"concepts": "conservation efforts", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "conservation efforts"}], ["ecosystem robustness", {"concepts": "ecosystem robustness", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "ecosystem robustness"}], ["endangered species", {"concepts": "endangered species", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "endangered species"}], ["biodiversity protection", {"concepts": "biodiversity protection", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "biodiversity protection"}], ["marine conservation", {"concepts": "marine conservation", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "marine conservation"}], ["ecosystem health", {"concepts": "ecosystem health", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "ecosystem health"}], ["ecosystem management", {"concepts": "ecosystem management", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "ecosystem management"}], ["environmental management", {"concepts": "environmental management", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "environmental management"}]], "Geological Research": [["geology phd", {"concepts": "geology phd", "type": "concept", "cluster": "Geological Research", "node_size": 10, "label": "geology phd"}], ["geochemistry", {"concepts": "geochemistry", "type": "concept", "cluster": "Geological Research", "node_size": 10, "label": "geochemistry"}], ["ancient soils", {"concepts": "ancient soils", "type": "concept", "cluster": "Geological Research", "node_size": 10, "label": "ancient soils"}], ["ancient climates", {"concepts": "ancient climates", "type": "concept", "cluster": "Geological Research", "node_size": 10, "label": "ancient climates"}]], "Environmental Protection": [["flood protection", {"concepts": "flood protection", "type": "concept", "cluster": "Environmental Protection", "node_size": 10, "label": "flood protection"}], ["sustainable farming", {"concepts": "sustainable farming", "type": "concept", "cluster": "Environmental Protection", "node_size": 10, "label": "sustainable farming"}], ["waste management", {"concepts": "waste management", "type": "concept", "cluster": "Environmental Protection", "node_size": 10, "label": "waste management"}], ["runoff management", {"concepts": "runoff management", "type": "concept", "cluster": "Environmental Protection", "node_size": 10, "label": "runoff management"}], ["pollution control", {"concepts": "pollution control", "type": "concept", "cluster": "Environmental Protection", "node_size": 10, "label": "pollution control"}], ["sustainable harvesting", {"concepts": "sustainable harvesting", "type": "concept", "cluster": "Environmental Protection", "node_size": 10, "label": "sustainable harvesting"}], ["coastal management", {"concepts": "coastal management", "type": "concept", "cluster": "Environmental Protection", "node_size": 10, "label": "coastal management"}], ["coastal protection", {"concepts": "coastal protection", "type": "concept", "cluster": "Environmental Protection", "node_size": 10, "label": "coastal protection"}], ["agricultural runoff", {"concepts": "agricultural runoff", "type": "concept", "cluster": "Environmental Protection", "node_size": 10, "label": "agricultural runoff"}], ["runoff control", {"concepts": "runoff control", "type": "concept", "cluster": "Environmental Protection", "node_size": 10, "label": "runoff control"}], ["polluted runoff", {"concepts": "polluted runoff", "type": "concept", "cluster": "Environmental Protection", "node_size": 10, "label": "polluted runoff"}]], "Marine Ecosystem Health": [["marine biodiversity", {"concepts": "marine biodiversity", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "marine biodiversity"}], ["pathogens", {"concepts": "pathogens", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "pathogens"}], ["environmental monitoring", {"concepts": "environmental monitoring", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "environmental monitoring"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "ecosystem services"}], ["outbreak control", {"concepts": "outbreak control", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "outbreak control"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "habitat forming species"}], ["cultural significance", {"concepts": "cultural significance", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "cultural significance"}], ["cultural services", {"concepts": "cultural services", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "cultural services"}], ["nutrition", {"concepts": "nutrition", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "nutrition"}], ["fishing communities", {"concepts": "fishing communities", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "fishing communities"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "harmful organisms"}], ["bioassessments", {"concepts": "bioassessments", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "bioassessments"}], ["bacterial pathogens", {"concepts": "bacterial pathogens", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "bacterial pathogens"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "invasive species"}], ["aquatic nuisance species", {"concepts": "aquatic nuisance species", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "aquatic nuisance species"}], ["viral pathogens", {"concepts": "viral pathogens", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "viral pathogens"}], ["food web dynamics", {"concepts": "food web dynamics", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "food web dynamics"}], ["marine ecosystems", {"concepts": "marine ecosystems", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "marine ecosystems"}], ["food webs", {"concepts": "food webs", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "food webs"}], ["food web", {"concepts": "food web", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "food web"}], ["caribbean ecosystems", {"concepts": "caribbean ecosystems", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "caribbean ecosystems"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "biodiversity"}], ["ecosystem dynamics", {"concepts": "ecosystem dynamics", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "ecosystem dynamics"}]], "Environmental Stressors": [["habitat provision", {"concepts": "habitat provision", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "habitat provision"}], ["environmental stressors", {"concepts": "environmental stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "environmental stressors"}], ["land-based pollution", {"concepts": "land-based pollution", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "land-based pollution"}], ["calcium carbonate", {"concepts": "calcium carbonate", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "calcium carbonate"}], ["vessel discharges", {"concepts": "vessel discharges", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "vessel discharges"}], ["storm events", {"concepts": "storm events", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "storm events"}], ["global stressors", {"concepts": "global stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "global stressors"}], ["local temperature", {"concepts": "local temperature", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "local temperature"}], ["coast guard", {"concepts": "coast guard", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "coast guard"}], ["local stressors", {"concepts": "local stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "local stressors"}]], "Coral Growth": [["coral growth", {"concepts": "coral growth", "type": "concept", "cluster": "Coral Growth", "node_size": 10, "label": "coral growth"}], ["reef building corals", {"concepts": "reef building corals", "type": "concept", "cluster": "Coral Growth", "node_size": 10, "label": "reef building corals"}], ["coral survival", {"concepts": "coral survival", "type": "concept", "cluster": "Coral Growth", "node_size": 10, "label": "coral survival"}], ["coral physiology", {"concepts": "coral physiology", "type": "concept", "cluster": "Coral Growth", "node_size": 10, "label": "coral physiology"}], ["coral adaptation", {"concepts": "coral adaptation", "type": "concept", "cluster": "Coral Growth", "node_size": 10, "label": "coral adaptation"}], ["coral protection", {"concepts": "coral protection", "type": "concept", "cluster": "Coral Growth", "node_size": 10, "label": "coral protection"}]], "Coral Disease": [["coral disease", {"concepts": "coral disease", "type": "concept", "cluster": "Coral Disease", "node_size": 10, "label": "coral disease"}], ["coral health", {"concepts": "coral health", "type": "concept", "cluster": "Coral Disease", "node_size": 10, "label": "coral health"}], ["coral stress", {"concepts": "coral stress", "type": "concept", "cluster": "Coral Disease", "node_size": 10, "label": "coral stress"}], ["coral bleaching", {"concepts": "coral bleaching", "type": "concept", "cluster": "Coral Disease", "node_size": 10, "label": "coral bleaching"}], ["stony coral tissue disease", {"concepts": "stony coral tissue disease", "type": "concept", "cluster": "Coral Disease", "node_size": 10, "label": "stony coral tissue disease"}], ["coral mortality", {"concepts": "coral mortality", "type": "concept", "cluster": "Coral Disease", "node_size": 10, "label": "coral mortality"}], ["coral vulnerability", {"concepts": "coral vulnerability", "type": "concept", "cluster": "Coral Disease", "node_size": 10, "label": "coral vulnerability"}]], "Coral Task Force": [["coral reef task force", {"concepts": "coral reef task force", "type": "concept", "cluster": "Coral Task Force", "node_size": 10, "label": "coral reef task force"}], ["u.s. coral reef task force", {"concepts": "u.s. coral reef task force", "type": "concept", "cluster": "Coral Task Force", "node_size": 10, "label": "u.s. coral reef task force"}], ["coral reef ecosystems", {"concepts": "coral reef ecosystems", "type": "concept", "cluster": "Coral Task Force", "node_size": 10, "label": "coral reef ecosystems"}], ["corals program", {"concepts": "corals program", "type": "concept", "cluster": "Coral Task Force", "node_size": 10, "label": "corals program"}], ["coral biologists", {"concepts": "coral biologists", "type": "concept", "cluster": "Coral Task Force", "node_size": 10, "label": "coral biologists"}], ["coral team meetings", {"concepts": "coral team meetings", "type": "concept", "cluster": "Coral Task Force", "node_size": 10, "label": "coral team meetings"}]], "Reef Ecosystems": [["artificial reefs", {"concepts": "artificial reefs", "type": "concept", "cluster": "Reef Ecosystems", "node_size": 10, "label": "artificial reefs"}], ["coral reefs", {"concepts": "coral reefs", "type": "concept", "cluster": "Reef Ecosystems", "node_size": 10, "label": "coral reefs"}], ["zooxanthellae", {"concepts": "zooxanthellae", "type": "concept", "cluster": "Reef Ecosystems", "node_size": 10, "label": "zooxanthellae"}]], "Research Personnel": [["susan jackson", {"concepts": "susan jackson", "type": "concept", "cluster": "Research Personnel", "node_size": 10, "label": "susan jackson"}], ["hudson slay", {"concepts": "hudson slay", "type": "concept", "cluster": "Research Personnel", "node_size": 10, "label": "hudson slay"}], ["aaas fellowship", {"concepts": "aaas fellowship", "type": "concept", "cluster": "Research Personnel", "node_size": 10, "label": "aaas fellowship"}], ["hawaii office", {"concepts": "hawaii office", "type": "concept", "cluster": "Research Personnel", "node_size": 10, "label": "hawaii office"}], ["mobile alabama", {"concepts": "mobile alabama", "type": "concept", "cluster": "Research Personnel", "node_size": 10, "label": "mobile alabama"}], ["postdoc", {"concepts": "postdoc", "type": "concept", "cluster": "Research Personnel", "node_size": 10, "label": "postdoc"}], ["naval academy", {"concepts": "naval academy", "type": "concept", "cluster": "Research Personnel", "node_size": 10, "label": "naval academy"}], ["galen koffman", {"concepts": "galen koffman", "type": "concept", "cluster": "Research Personnel", "node_size": 10, "label": "galen koffman"}], ["vims professor", {"concepts": "vims professor", "type": "concept", "cluster": "Research Personnel", "node_size": 10, "label": "vims professor"}]], "Agency Coordination": [["army corps", {"concepts": "army corps", "type": "concept", "cluster": "Agency Coordination", "node_size": 10, "label": "army corps"}], ["interagency coordination", {"concepts": "interagency coordination", "type": "concept", "cluster": "Agency Coordination", "node_size": 10, "label": "interagency coordination"}], ["interrelated systems", {"concepts": "interrelated systems", "type": "concept", "cluster": "Agency Coordination", "node_size": 10, "label": "interrelated systems"}], ["federal agencies", {"concepts": "federal agencies", "type": "concept", "cluster": "Agency Coordination", "node_size": 10, "label": "federal agencies"}], ["follow-up communication", {"concepts": "follow-up communication", "type": "concept", "cluster": "Agency Coordination", "node_size": 10, "label": "follow-up communication"}], ["interagency meetings", {"concepts": "interagency meetings", "type": "concept", "cluster": "Agency Coordination", "node_size": 10, "label": "interagency meetings"}], ["government agencies", {"concepts": "government agencies", "type": "concept", "cluster": "Agency Coordination", "node_size": 10, "label": "government agencies"}], ["stakeholder engagement", {"concepts": "stakeholder engagement", "type": "concept", "cluster": "Agency Coordination", "node_size": 10, "label": "stakeholder engagement"}]], "Bay Management": [["chesapeake bay program", {"concepts": "chesapeake bay program", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "chesapeake bay program"}], ["epa headquarters", {"concepts": "epa headquarters", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "epa headquarters"}], ["regulatory frameworks", {"concepts": "regulatory frameworks", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "regulatory frameworks"}], ["case study", {"concepts": "case study", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "case study"}], ["epa regions", {"concepts": "epa regions", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "epa regions"}], ["territorial governments", {"concepts": "territorial governments", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "territorial governments"}], ["management practices", {"concepts": "management practices", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "management practices"}], ["dredging regulation", {"concepts": "dredging regulation", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "dredging regulation"}], ["regional offices", {"concepts": "regional offices", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "regional offices"}], ["permitting processes", {"concepts": "permitting processes", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "permitting processes"}], ["biological condition gradient", {"concepts": "biological condition gradient", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "biological condition gradient"}], ["chesapeake bay", {"concepts": "chesapeake bay", "type": "concept", "cluster": "Bay Management", "node_size": 10, "label": "chesapeake bay"}]], "Regional Research Coordination": [["manassas virginia", {"concepts": "manassas virginia", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "manassas virginia"}], ["regions", {"concepts": "regions", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "regions"}], ["research development", {"concepts": "research development", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "research development"}], ["expert judgment", {"concepts": "expert judgment", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "expert judgment"}], ["regulatory work", {"concepts": "regulatory work", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "regulatory work"}], ["regional coordination", {"concepts": "regional coordination", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "regional coordination"}], ["covid impact", {"concepts": "covid impact", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "covid impact"}], ["ph changes", {"concepts": "ph changes", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "ph changes"}], ["workshop participants", {"concepts": "workshop participants", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "workshop participants"}], ["remote work", {"concepts": "remote work", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "remote work"}], ["best management practices", {"concepts": "best management practices", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "best management practices"}], ["government collaboration", {"concepts": "government collaboration", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "government collaboration"}], ["department of defense", {"concepts": "department of defense", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "department of defense"}], ["infrastructure development", {"concepts": "infrastructure development", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "infrastructure development"}], ["tissue loss", {"concepts": "tissue loss", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "tissue loss"}], ["military agencies", {"concepts": "military agencies", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "military agencies"}], ["job security", {"concepts": "job security", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "job security"}], ["resource allocation", {"concepts": "resource allocation", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "resource allocation"}], ["clarifying questions", {"concepts": "clarifying questions", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "clarifying questions"}], ["resource leveraging", {"concepts": "resource leveraging", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "resource leveraging"}], ["disease management", {"concepts": "disease management", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "disease management"}], ["time constraints", {"concepts": "time constraints", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "time constraints"}], ["spatial distribution", {"concepts": "spatial distribution", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "spatial distribution"}], ["implementation practices", {"concepts": "implementation practices", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "implementation practices"}], ["noaa funding", {"concepts": "noaa funding", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "noaa funding"}], ["soft tissue loss", {"concepts": "soft tissue loss", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "soft tissue loss"}], ["biocriteria", {"concepts": "biocriteria", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "biocriteria"}], ["co2 levels", {"concepts": "co2 levels", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "co2 levels"}], ["connection strength", {"concepts": "connection strength", "type": "concept", "cluster": "Regional Research Coordination", "node_size": 10, "label": "connection strength"}]], "Community Outreach": [["responsible use", {"concepts": "responsible use", "type": "concept", "cluster": "Community Outreach", "node_size": 10, "label": "responsible use"}], ["local communities", {"concepts": "local communities", "type": "concept", "cluster": "Community Outreach", "node_size": 10, "label": "local communities"}], ["rural populations", {"concepts": "rural populations", "type": "concept", "cluster": "Community Outreach", "node_size": 10, "label": "rural populations"}], ["community outreach", {"concepts": "community outreach", "type": "concept", "cluster": "Community Outreach", "node_size": 10, "label": "community outreach"}], ["community education", {"concepts": "community education", "type": "concept", "cluster": "Community Outreach", "node_size": 10, "label": "community education"}], ["community reliance", {"concepts": "community reliance", "type": "concept", "cluster": "Community Outreach", "node_size": 10, "label": "community reliance"}], ["local funds", {"concepts": "local funds", "type": "concept", "cluster": "Community Outreach", "node_size": 10, "label": "local funds"}], ["epa connections", {"concepts": "epa connections", "type": "concept", "cluster": "Community Outreach", "node_size": 10, "label": "epa connections"}]]};
        const clusterEdges = {"Water Quality": [], "Climate Impacts": [], "Conservation Management": [], "Geological Research": [], "Environmental Protection": [], "Marine Ecosystem Health": [], "Environmental Stressors": [], "Coral Growth": [], "Coral Disease": [], "Coral Task Force": [], "Reef Ecosystems": [], "Research Personnel": [], "Agency Coordination": [], "Bay Management": [], "Regional Research Coordination": [], "Community Outreach": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
