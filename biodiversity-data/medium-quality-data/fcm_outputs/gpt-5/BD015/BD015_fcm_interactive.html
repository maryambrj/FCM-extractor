
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Fishing Regulations & Policy": {"concepts": "fishery dataset, fishing regulations, marine resource management, halibut commercial fishery, marine recreational activities, subsistence fisheries, sablefish, fisheries allocation, fishery data, yelloweye rockfish, groundfish fisheries, fishery quotas, fishery dependent data, commercial fishery closures, sport fishery, fishery closures, sport fisheries, recreational fishing, crab fisheries, charter fisheries, groundfish management, fisheries researcher, groundfish, closed fishery, board of fisheries, fishing openings, fishery openings, fishing game department, fishing game, fishing closures, halibut fishery, scallop fisheries, directed fisheries, commercial fisheries, fishermen, shellfish fisheries, fishery management, fisheries science, commercial fishery openings, demersal-shelf rockfish, targeted fishery, directed fishery", "concept_list": ["fishery dataset", "fishing regulations", "marine resource management", "halibut commercial fishery", "marine recreational activities", "subsistence fisheries", "sablefish", "fisheries allocation", "fishery data", "yelloweye rockfish", "groundfish fisheries", "fishery quotas", "fishery dependent data", "commercial fishery closures", "sport fishery", "fishery closures", "sport fisheries", "recreational fishing", "crab fisheries", "charter fisheries", "groundfish management", "fisheries researcher", "groundfish", "closed fishery", "board of fisheries", "fishing openings", "fishery openings", "fishing game department", "fishing game", "fishing closures", "halibut fishery", "scallop fisheries", "directed fisheries", "commercial fisheries", "fishermen", "shellfish fisheries", "fishery management", "fisheries science", "commercial fishery openings", "demersal-shelf rockfish", "targeted fishery", "directed fishery"], "type": "cluster", "node_size": 141, "label": "Fishing Regulations & Policy"}, "Habitat & Conservation": {"concepts": "hook and line gear, participants, regulation changes, regulation change, charter interaction, system components, tanner crab, feedback, gear change, descender device, lingcod, public comment, state government, conflict, charter fleets, maturity age, budget overview, escape ring policy, golden king crab, mental models, support side, hagfish, gear design, system dynamics, data interpretation, bycatch regulations, public proposals, conservative approach, access loss, lingcod fishery, rovc survey biomass, regulation, council voting member, decision making, natural sciences, beam trawl, bycatch, industry meetings, policy meetings, advisory committees, recruitment, slinky pots, substance users, halibut quota, quotas, quota increase, gear changes, bag limits, dungeness crab, rod line regulations, restrictive management, hook and line, relationship weights, survey biomass, possession limits, policy impact, pot gear, food web, topping off behavior, regulatory process, policy change, alaska residents, commercial users, ground line regulations, data analysis, crab research, policy, user groups, personal use, rov survey, survey, platform, hook and line survey, quota setting, communication, localized depletion, years of experience, king crab, trend analysis, model outputs", "concept_list": ["hook and line gear", "participants", "regulation changes", "regulation change", "charter interaction", "system components", "tanner crab", "feedback", "gear change", "descender device", "lingcod", "public comment", "state government", "conflict", "charter fleets", "maturity age", "budget overview", "escape ring policy", "golden king crab", "mental models", "support side", "hagfish", "gear design", "system dynamics", "data interpretation", "bycatch regulations", "public proposals", "conservative approach", "access loss", "lingcod fishery", "rovc survey biomass", "regulation", "council voting member", "decision making", "natural sciences", "beam trawl", "bycatch", "industry meetings", "policy meetings", "advisory committees", "recruitment", "slinky pots", "substance users", "halibut quota", "quotas", "quota increase", "gear changes", "bag limits", "dungeness crab", "rod line regulations", "restrictive management", "hook and line", "relationship weights", "survey biomass", "possession limits", "policy impact", "pot gear", "food web", "topping off behavior", "regulatory process", "policy change", "alaska residents", "commercial users", "ground line regulations", "data analysis", "crab research", "policy", "user groups", "personal use", "rov survey", "survey", "platform", "hook and line survey", "quota setting", "communication", "localized depletion", "years of experience", "king crab", "trend analysis", "model outputs"], "type": "cluster", "node_size": 255, "label": "Habitat & Conservation"}, "Biomass & Harvest Trends": {"concepts": "habitat, conservation concerns, invertebrate species, rocky habitat, ecosystem management, food web supporting species, distance sampling, closures, single species management, long-lived species, habitat-forming species, species maturity, southeast alaska, biodiversity impact, species of conservation concern, species rotation, harmful organisms, species closure, biodiversity, spatial area, species closures, species assemblage, habitat forming species, habitat overlap", "concept_list": ["habitat", "conservation concerns", "invertebrate species", "rocky habitat", "ecosystem management", "food web supporting species", "distance sampling", "closures", "single species management", "long-lived species", "habitat-forming species", "species maturity", "southeast alaska", "biodiversity impact", "species of conservation concern", "species rotation", "harmful organisms", "species closure", "biodiversity", "spatial area", "species closures", "species assemblage", "habitat forming species", "habitat overlap"], "type": "cluster", "node_size": 87, "label": "Biomass & Harvest Trends"}, "Stakeholder Engagement": {"concepts": "stock abundance, biomass decline, biomass, biomass declines, harvest opportunity, declines in biomass, harvest strategy", "concept_list": ["stock abundance", "biomass decline", "biomass", "biomass declines", "harvest opportunity", "declines in biomass", "harvest strategy"], "type": "cluster", "node_size": 36, "label": "Stakeholder Engagement"}, "Fishery Management": {"concepts": "yelloweye bycatch, recreational users, stakeholder feedback, yelloweye biomass, subsistence users, stakeholder engagement, sport users, stakeholders, stakeholder groups", "concept_list": ["yelloweye bycatch", "recreational users", "stakeholder feedback", "yelloweye biomass", "subsistence users", "stakeholder engagement", "sport users", "stakeholders", "stakeholder groups"], "type": "cluster", "node_size": 42, "label": "Fishery Management"}, "Management Planning": {"concepts": "management protocols, operational plans, allocative management, management plan, management decision", "concept_list": ["management protocols", "operational plans", "allocative management", "management plan", "management decision"], "type": "cluster", "node_size": 30, "label": "Management Planning"}, "Management Studies": {"concepts": "management research, management biologist, management challenges", "concept_list": ["management research", "management biologist", "management challenges"], "type": "cluster", "node_size": 24, "label": "Management Studies"}, "Stock Management": {"concepts": "stock assessments, stock recovery", "concept_list": ["stock assessments", "stock recovery"], "type": "cluster", "node_size": 21, "label": "Stock Management"}};
        const conceptData = {"fishery dataset": {"concepts": "fishery dataset", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishery dataset"}, "fishing regulations": {"concepts": "fishing regulations", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishing regulations"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "marine resource management"}, "halibut commercial fishery": {"concepts": "halibut commercial fishery", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "halibut commercial fishery"}, "marine recreational activities": {"concepts": "marine recreational activities", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "marine recreational activities"}, "subsistence fisheries": {"concepts": "subsistence fisheries", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "subsistence fisheries"}, "sablefish": {"concepts": "sablefish", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "sablefish"}, "fisheries allocation": {"concepts": "fisheries allocation", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fisheries allocation"}, "fishery data": {"concepts": "fishery data", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishery data"}, "yelloweye rockfish": {"concepts": "yelloweye rockfish", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "yelloweye rockfish"}, "groundfish fisheries": {"concepts": "groundfish fisheries", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "groundfish fisheries"}, "fishery quotas": {"concepts": "fishery quotas", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishery quotas"}, "fishery dependent data": {"concepts": "fishery dependent data", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishery dependent data"}, "commercial fishery closures": {"concepts": "commercial fishery closures", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "commercial fishery closures"}, "sport fishery": {"concepts": "sport fishery", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "sport fishery"}, "fishery closures": {"concepts": "fishery closures", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishery closures"}, "sport fisheries": {"concepts": "sport fisheries", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "sport fisheries"}, "recreational fishing": {"concepts": "recreational fishing", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "recreational fishing"}, "crab fisheries": {"concepts": "crab fisheries", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "crab fisheries"}, "charter fisheries": {"concepts": "charter fisheries", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "charter fisheries"}, "groundfish management": {"concepts": "groundfish management", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "groundfish management"}, "fisheries researcher": {"concepts": "fisheries researcher", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fisheries researcher"}, "groundfish": {"concepts": "groundfish", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "groundfish"}, "closed fishery": {"concepts": "closed fishery", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "closed fishery"}, "board of fisheries": {"concepts": "board of fisheries", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "board of fisheries"}, "fishing openings": {"concepts": "fishing openings", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishing openings"}, "fishery openings": {"concepts": "fishery openings", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishery openings"}, "fishing game department": {"concepts": "fishing game department", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishing game department"}, "fishing game": {"concepts": "fishing game", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishing game"}, "fishing closures": {"concepts": "fishing closures", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishing closures"}, "halibut fishery": {"concepts": "halibut fishery", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "halibut fishery"}, "scallop fisheries": {"concepts": "scallop fisheries", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "scallop fisheries"}, "directed fisheries": {"concepts": "directed fisheries", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "directed fisheries"}, "commercial fisheries": {"concepts": "commercial fisheries", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "commercial fisheries"}, "fishermen": {"concepts": "fishermen", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishermen"}, "shellfish fisheries": {"concepts": "shellfish fisheries", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "shellfish fisheries"}, "fishery management": {"concepts": "fishery management", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishery management"}, "fisheries science": {"concepts": "fisheries science", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fisheries science"}, "commercial fishery openings": {"concepts": "commercial fishery openings", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "commercial fishery openings"}, "demersal-shelf rockfish": {"concepts": "demersal-shelf rockfish", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "demersal-shelf rockfish"}, "targeted fishery": {"concepts": "targeted fishery", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "targeted fishery"}, "directed fishery": {"concepts": "directed fishery", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "directed fishery"}, "hook and line gear": {"concepts": "hook and line gear", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "hook and line gear"}, "participants": {"concepts": "participants", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "participants"}, "regulation changes": {"concepts": "regulation changes", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "regulation changes"}, "regulation change": {"concepts": "regulation change", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "regulation change"}, "charter interaction": {"concepts": "charter interaction", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "charter interaction"}, "system components": {"concepts": "system components", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "system components"}, "tanner crab": {"concepts": "tanner crab", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "tanner crab"}, "feedback": {"concepts": "feedback", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "feedback"}, "gear change": {"concepts": "gear change", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "gear change"}, "descender device": {"concepts": "descender device", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "descender device"}, "lingcod": {"concepts": "lingcod", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "lingcod"}, "public comment": {"concepts": "public comment", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "public comment"}, "state government": {"concepts": "state government", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "state government"}, "conflict": {"concepts": "conflict", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "conflict"}, "charter fleets": {"concepts": "charter fleets", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "charter fleets"}, "maturity age": {"concepts": "maturity age", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "maturity age"}, "budget overview": {"concepts": "budget overview", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "budget overview"}, "escape ring policy": {"concepts": "escape ring policy", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "escape ring policy"}, "golden king crab": {"concepts": "golden king crab", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "golden king crab"}, "mental models": {"concepts": "mental models", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "mental models"}, "support side": {"concepts": "support side", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "support side"}, "hagfish": {"concepts": "hagfish", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "hagfish"}, "gear design": {"concepts": "gear design", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "gear design"}, "system dynamics": {"concepts": "system dynamics", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "system dynamics"}, "data interpretation": {"concepts": "data interpretation", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "data interpretation"}, "bycatch regulations": {"concepts": "bycatch regulations", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "bycatch regulations"}, "public proposals": {"concepts": "public proposals", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "public proposals"}, "conservative approach": {"concepts": "conservative approach", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "conservative approach"}, "access loss": {"concepts": "access loss", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "access loss"}, "lingcod fishery": {"concepts": "lingcod fishery", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "lingcod fishery"}, "rovc survey biomass": {"concepts": "rovc survey biomass", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "rovc survey biomass"}, "regulation": {"concepts": "regulation", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "regulation"}, "council voting member": {"concepts": "council voting member", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "council voting member"}, "decision making": {"concepts": "decision making", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "decision making"}, "natural sciences": {"concepts": "natural sciences", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "natural sciences"}, "beam trawl": {"concepts": "beam trawl", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "beam trawl"}, "bycatch": {"concepts": "bycatch", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "bycatch"}, "industry meetings": {"concepts": "industry meetings", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "industry meetings"}, "policy meetings": {"concepts": "policy meetings", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "policy meetings"}, "advisory committees": {"concepts": "advisory committees", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "advisory committees"}, "recruitment": {"concepts": "recruitment", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "recruitment"}, "slinky pots": {"concepts": "slinky pots", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "slinky pots"}, "substance users": {"concepts": "substance users", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "substance users"}, "halibut quota": {"concepts": "halibut quota", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "halibut quota"}, "quotas": {"concepts": "quotas", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "quotas"}, "quota increase": {"concepts": "quota increase", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "quota increase"}, "gear changes": {"concepts": "gear changes", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "gear changes"}, "bag limits": {"concepts": "bag limits", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "bag limits"}, "dungeness crab": {"concepts": "dungeness crab", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "dungeness crab"}, "rod line regulations": {"concepts": "rod line regulations", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "rod line regulations"}, "restrictive management": {"concepts": "restrictive management", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "restrictive management"}, "hook and line": {"concepts": "hook and line", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "hook and line"}, "relationship weights": {"concepts": "relationship weights", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "relationship weights"}, "survey biomass": {"concepts": "survey biomass", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "survey biomass"}, "possession limits": {"concepts": "possession limits", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "possession limits"}, "policy impact": {"concepts": "policy impact", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "policy impact"}, "pot gear": {"concepts": "pot gear", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "pot gear"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "food web"}, "topping off behavior": {"concepts": "topping off behavior", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "topping off behavior"}, "regulatory process": {"concepts": "regulatory process", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "regulatory process"}, "policy change": {"concepts": "policy change", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "policy change"}, "alaska residents": {"concepts": "alaska residents", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "alaska residents"}, "commercial users": {"concepts": "commercial users", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "commercial users"}, "ground line regulations": {"concepts": "ground line regulations", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "ground line regulations"}, "data analysis": {"concepts": "data analysis", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "data analysis"}, "crab research": {"concepts": "crab research", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "crab research"}, "policy": {"concepts": "policy", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "policy"}, "user groups": {"concepts": "user groups", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "user groups"}, "personal use": {"concepts": "personal use", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "personal use"}, "rov survey": {"concepts": "rov survey", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "rov survey"}, "survey": {"concepts": "survey", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "survey"}, "platform": {"concepts": "platform", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "platform"}, "hook and line survey": {"concepts": "hook and line survey", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "hook and line survey"}, "quota setting": {"concepts": "quota setting", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "quota setting"}, "communication": {"concepts": "communication", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "communication"}, "localized depletion": {"concepts": "localized depletion", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "localized depletion"}, "years of experience": {"concepts": "years of experience", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "years of experience"}, "king crab": {"concepts": "king crab", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "king crab"}, "trend analysis": {"concepts": "trend analysis", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "trend analysis"}, "model outputs": {"concepts": "model outputs", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "model outputs"}, "habitat": {"concepts": "habitat", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "habitat"}, "conservation concerns": {"concepts": "conservation concerns", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "conservation concerns"}, "invertebrate species": {"concepts": "invertebrate species", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "invertebrate species"}, "rocky habitat": {"concepts": "rocky habitat", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "rocky habitat"}, "ecosystem management": {"concepts": "ecosystem management", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "ecosystem management"}, "food web supporting species": {"concepts": "food web supporting species", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "food web supporting species"}, "distance sampling": {"concepts": "distance sampling", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "distance sampling"}, "closures": {"concepts": "closures", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "closures"}, "single species management": {"concepts": "single species management", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "single species management"}, "long-lived species": {"concepts": "long-lived species", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "long-lived species"}, "habitat-forming species": {"concepts": "habitat-forming species", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "habitat-forming species"}, "species maturity": {"concepts": "species maturity", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "species maturity"}, "southeast alaska": {"concepts": "southeast alaska", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "southeast alaska"}, "biodiversity impact": {"concepts": "biodiversity impact", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "biodiversity impact"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "species of conservation concern"}, "species rotation": {"concepts": "species rotation", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "species rotation"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "harmful organisms"}, "species closure": {"concepts": "species closure", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "species closure"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "biodiversity"}, "spatial area": {"concepts": "spatial area", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "spatial area"}, "species closures": {"concepts": "species closures", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "species closures"}, "species assemblage": {"concepts": "species assemblage", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "species assemblage"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "habitat forming species"}, "habitat overlap": {"concepts": "habitat overlap", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "habitat overlap"}, "stock abundance": {"concepts": "stock abundance", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "stock abundance"}, "biomass decline": {"concepts": "biomass decline", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "biomass decline"}, "biomass": {"concepts": "biomass", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "biomass"}, "biomass declines": {"concepts": "biomass declines", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "biomass declines"}, "harvest opportunity": {"concepts": "harvest opportunity", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "harvest opportunity"}, "declines in biomass": {"concepts": "declines in biomass", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "declines in biomass"}, "harvest strategy": {"concepts": "harvest strategy", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "harvest strategy"}, "yelloweye bycatch": {"concepts": "yelloweye bycatch", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "yelloweye bycatch"}, "recreational users": {"concepts": "recreational users", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "recreational users"}, "stakeholder feedback": {"concepts": "stakeholder feedback", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "stakeholder feedback"}, "yelloweye biomass": {"concepts": "yelloweye biomass", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "yelloweye biomass"}, "subsistence users": {"concepts": "subsistence users", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "subsistence users"}, "stakeholder engagement": {"concepts": "stakeholder engagement", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "stakeholder engagement"}, "sport users": {"concepts": "sport users", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "sport users"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "stakeholders"}, "stakeholder groups": {"concepts": "stakeholder groups", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "stakeholder groups"}, "management protocols": {"concepts": "management protocols", "type": "concept", "cluster": "Management Planning", "node_size": 10, "label": "management protocols"}, "operational plans": {"concepts": "operational plans", "type": "concept", "cluster": "Management Planning", "node_size": 10, "label": "operational plans"}, "allocative management": {"concepts": "allocative management", "type": "concept", "cluster": "Management Planning", "node_size": 10, "label": "allocative management"}, "management plan": {"concepts": "management plan", "type": "concept", "cluster": "Management Planning", "node_size": 10, "label": "management plan"}, "management decision": {"concepts": "management decision", "type": "concept", "cluster": "Management Planning", "node_size": 10, "label": "management decision"}, "management research": {"concepts": "management research", "type": "concept", "cluster": "Management Studies", "node_size": 10, "label": "management research"}, "management biologist": {"concepts": "management biologist", "type": "concept", "cluster": "Management Studies", "node_size": 10, "label": "management biologist"}, "management challenges": {"concepts": "management challenges", "type": "concept", "cluster": "Management Studies", "node_size": 10, "label": "management challenges"}, "stock assessments": {"concepts": "stock assessments", "type": "concept", "cluster": "Stock Management", "node_size": 10, "label": "stock assessments"}, "stock recovery": {"concepts": "stock recovery", "type": "concept", "cluster": "Stock Management", "node_size": 10, "label": "stock recovery"}};
        const interClusterEdges = [["Fishing Regulations & Policy", "Stakeholder Engagement", {"weight": 1.0, "confidence": 0.8799999999999999, "type": "inter_cluster", "style": "solid"}], ["Fishing Regulations & Policy", "Biomass & Harvest Trends", {"weight": 1.0, "confidence": 0.78, "type": "inter_cluster", "style": "solid"}], ["Fishing Regulations & Policy", "Stock Management", {"weight": 1.0, "confidence": 0.8666666666666667, "type": "inter_cluster", "style": "solid"}], ["Fishing Regulations & Policy", "Fishery Management", {"weight": 1.0, "confidence": 0.8500000000000001, "type": "inter_cluster", "style": "solid"}], ["Fishing Regulations & Policy", "Management Planning", {"weight": 1.0, "confidence": 0.8333333333333334, "type": "inter_cluster", "style": "solid"}], ["Fishing Regulations & Policy", "Management Studies", {"weight": 1.0, "confidence": 0.8166666666666668, "type": "inter_cluster", "style": "solid"}], ["Fishing Regulations & Policy", "Habitat & Conservation", {"weight": 1.0, "confidence": 0.7666666666666666, "type": "inter_cluster", "style": "solid"}], ["Habitat & Conservation", "Fishing Regulations & Policy", {"weight": 1.0, "confidence": 0.82, "type": "inter_cluster", "style": "solid"}], ["Habitat & Conservation", "Biomass & Harvest Trends", {"weight": 1.0, "confidence": 0.72, "type": "inter_cluster", "style": "solid"}], ["Habitat & Conservation", "Management Planning", {"weight": 0.75, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Habitat & Conservation", "Stock Management", {"weight": 1.0, "confidence": 0.7999999999999999, "type": "inter_cluster", "style": "solid"}], ["Habitat & Conservation", "Management Studies", {"weight": 1.0, "confidence": 0.7666666666666666, "type": "inter_cluster", "style": "solid"}], ["Habitat & Conservation", "Fishery Management", {"weight": 1.0, "confidence": 0.7666666666666666, "type": "inter_cluster", "style": "solid"}], ["Habitat & Conservation", "Stakeholder Engagement", {"weight": 1.0, "confidence": 0.7666666666666666, "type": "inter_cluster", "style": "solid"}], ["Biomass & Harvest Trends", "Stakeholder Engagement", {"weight": 1.0, "confidence": 0.8099999999999999, "type": "inter_cluster", "style": "solid"}], ["Biomass & Harvest Trends", "Fishing Regulations & Policy", {"weight": 1.0, "confidence": 0.79, "type": "inter_cluster", "style": "solid"}], ["Biomass & Harvest Trends", "Fishery Management", {"weight": 1.0, "confidence": 0.7333333333333334, "type": "inter_cluster", "style": "solid"}], ["Biomass & Harvest Trends", "Management Planning", {"weight": 1.0, "confidence": 0.7333333333333334, "type": "inter_cluster", "style": "solid"}], ["Biomass & Harvest Trends", "Stock Management", {"weight": 1.0, "confidence": 0.7166666666666667, "type": "inter_cluster", "style": "solid"}], ["Biomass & Harvest Trends", "Management Studies", {"weight": 1.0, "confidence": 0.7000000000000001, "type": "inter_cluster", "style": "solid"}], ["Biomass & Harvest Trends", "Habitat & Conservation", {"weight": 1.0, "confidence": 0.6833333333333332, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Engagement", "Management Studies", {"weight": 0.8, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Engagement", "Stock Management", {"weight": 1.0, "confidence": 0.8666666666666667, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Engagement", "Fishery Management", {"weight": 1.0, "confidence": 0.8166666666666668, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Engagement", "Habitat & Conservation", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Engagement", "Biomass & Harvest Trends", {"weight": 1.0, "confidence": 0.7166666666666667, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Engagement", "Fishing Regulations & Policy", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Fishery Management", "Stakeholder Engagement", {"weight": -1.0, "confidence": 0.8666666666666667, "type": "inter_cluster", "style": "solid"}], ["Fishery Management", "Management Planning", {"weight": 1.0, "confidence": 0.8166666666666668, "type": "inter_cluster", "style": "solid"}], ["Fishery Management", "Fishing Regulations & Policy", {"weight": 1.0, "confidence": 0.7833333333333333, "type": "inter_cluster", "style": "solid"}], ["Fishery Management", "Stock Management", {"weight": -0.3333333333333333, "confidence": 0.7833333333333333, "type": "inter_cluster", "style": "solid"}], ["Fishery Management", "Management Studies", {"weight": 1.0, "confidence": 0.7666666666666666, "type": "inter_cluster", "style": "solid"}], ["Fishery Management", "Biomass & Harvest Trends", {"weight": 0.3333333333333333, "confidence": 0.6833333333333332, "type": "inter_cluster", "style": "solid"}], ["Management Planning", "Habitat & Conservation", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Management Planning", "Stakeholder Engagement", {"weight": 1.0, "confidence": 0.8333333333333334, "type": "inter_cluster", "style": "solid"}], ["Management Planning", "Fishery Management", {"weight": 1.0, "confidence": 0.8166666666666668, "type": "inter_cluster", "style": "solid"}], ["Management Planning", "Stock Management", {"weight": 1.0, "confidence": 0.7999999999999999, "type": "inter_cluster", "style": "solid"}], ["Management Planning", "Biomass & Harvest Trends", {"weight": 1.0, "confidence": 0.7166666666666667, "type": "inter_cluster", "style": "solid"}], ["Management Planning", "Fishing Regulations & Policy", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Management Studies", "Management Planning", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Management Studies", "Fishing Regulations & Policy", {"weight": 1.0, "confidence": 0.8166666666666668, "type": "inter_cluster", "style": "solid"}], ["Management Studies", "Stock Management", {"weight": 1.0, "confidence": 0.8166666666666668, "type": "inter_cluster", "style": "solid"}], ["Management Studies", "Fishery Management", {"weight": 1.0, "confidence": 0.7999999999999999, "type": "inter_cluster", "style": "solid"}], ["Management Studies", "Stakeholder Engagement", {"weight": 1.0, "confidence": 0.7833333333333333, "type": "inter_cluster", "style": "solid"}], ["Management Studies", "Habitat & Conservation", {"weight": 1.0, "confidence": 0.7833333333333333, "type": "inter_cluster", "style": "solid"}], ["Management Studies", "Biomass & Harvest Trends", {"weight": 1.0, "confidence": 0.7333333333333334, "type": "inter_cluster", "style": "solid"}], ["Stock Management", "Biomass & Harvest Trends", {"weight": 1.0, "confidence": 0.72, "type": "inter_cluster", "style": "solid"}], ["Stock Management", "Stakeholder Engagement", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Stock Management", "Fishing Regulations & Policy", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Stock Management", "Management Studies", {"weight": 1.0, "confidence": 0.7833333333333333, "type": "inter_cluster", "style": "solid"}], ["Stock Management", "Habitat & Conservation", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Fishing Regulations & Policy": [["fishery dataset", {"concepts": "fishery dataset", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishery dataset"}], ["fishing regulations", {"concepts": "fishing regulations", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishing regulations"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "marine resource management"}], ["halibut commercial fishery", {"concepts": "halibut commercial fishery", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "halibut commercial fishery"}], ["marine recreational activities", {"concepts": "marine recreational activities", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "marine recreational activities"}], ["subsistence fisheries", {"concepts": "subsistence fisheries", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "subsistence fisheries"}], ["sablefish", {"concepts": "sablefish", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "sablefish"}], ["fisheries allocation", {"concepts": "fisheries allocation", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fisheries allocation"}], ["fishery data", {"concepts": "fishery data", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishery data"}], ["yelloweye rockfish", {"concepts": "yelloweye rockfish", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "yelloweye rockfish"}], ["groundfish fisheries", {"concepts": "groundfish fisheries", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "groundfish fisheries"}], ["fishery quotas", {"concepts": "fishery quotas", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishery quotas"}], ["fishery dependent data", {"concepts": "fishery dependent data", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishery dependent data"}], ["commercial fishery closures", {"concepts": "commercial fishery closures", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "commercial fishery closures"}], ["sport fishery", {"concepts": "sport fishery", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "sport fishery"}], ["fishery closures", {"concepts": "fishery closures", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishery closures"}], ["sport fisheries", {"concepts": "sport fisheries", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "sport fisheries"}], ["recreational fishing", {"concepts": "recreational fishing", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "recreational fishing"}], ["crab fisheries", {"concepts": "crab fisheries", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "crab fisheries"}], ["charter fisheries", {"concepts": "charter fisheries", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "charter fisheries"}], ["groundfish management", {"concepts": "groundfish management", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "groundfish management"}], ["fisheries researcher", {"concepts": "fisheries researcher", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fisheries researcher"}], ["groundfish", {"concepts": "groundfish", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "groundfish"}], ["closed fishery", {"concepts": "closed fishery", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "closed fishery"}], ["board of fisheries", {"concepts": "board of fisheries", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "board of fisheries"}], ["fishing openings", {"concepts": "fishing openings", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishing openings"}], ["fishery openings", {"concepts": "fishery openings", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishery openings"}], ["fishing game department", {"concepts": "fishing game department", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishing game department"}], ["fishing game", {"concepts": "fishing game", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishing game"}], ["fishing closures", {"concepts": "fishing closures", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishing closures"}], ["halibut fishery", {"concepts": "halibut fishery", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "halibut fishery"}], ["scallop fisheries", {"concepts": "scallop fisheries", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "scallop fisheries"}], ["directed fisheries", {"concepts": "directed fisheries", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "directed fisheries"}], ["commercial fisheries", {"concepts": "commercial fisheries", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "commercial fisheries"}], ["fishermen", {"concepts": "fishermen", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishermen"}], ["shellfish fisheries", {"concepts": "shellfish fisheries", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "shellfish fisheries"}], ["fishery management", {"concepts": "fishery management", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fishery management"}], ["fisheries science", {"concepts": "fisheries science", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "fisheries science"}], ["commercial fishery openings", {"concepts": "commercial fishery openings", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "commercial fishery openings"}], ["demersal-shelf rockfish", {"concepts": "demersal-shelf rockfish", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "demersal-shelf rockfish"}], ["targeted fishery", {"concepts": "targeted fishery", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "targeted fishery"}], ["directed fishery", {"concepts": "directed fishery", "type": "concept", "cluster": "Fishing Regulations & Policy", "node_size": 10, "label": "directed fishery"}]], "Habitat & Conservation": [["hook and line gear", {"concepts": "hook and line gear", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "hook and line gear"}], ["participants", {"concepts": "participants", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "participants"}], ["regulation changes", {"concepts": "regulation changes", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "regulation changes"}], ["regulation change", {"concepts": "regulation change", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "regulation change"}], ["charter interaction", {"concepts": "charter interaction", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "charter interaction"}], ["system components", {"concepts": "system components", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "system components"}], ["tanner crab", {"concepts": "tanner crab", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "tanner crab"}], ["feedback", {"concepts": "feedback", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "feedback"}], ["gear change", {"concepts": "gear change", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "gear change"}], ["descender device", {"concepts": "descender device", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "descender device"}], ["lingcod", {"concepts": "lingcod", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "lingcod"}], ["public comment", {"concepts": "public comment", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "public comment"}], ["state government", {"concepts": "state government", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "state government"}], ["conflict", {"concepts": "conflict", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "conflict"}], ["charter fleets", {"concepts": "charter fleets", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "charter fleets"}], ["maturity age", {"concepts": "maturity age", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "maturity age"}], ["budget overview", {"concepts": "budget overview", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "budget overview"}], ["escape ring policy", {"concepts": "escape ring policy", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "escape ring policy"}], ["golden king crab", {"concepts": "golden king crab", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "golden king crab"}], ["mental models", {"concepts": "mental models", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "mental models"}], ["support side", {"concepts": "support side", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "support side"}], ["hagfish", {"concepts": "hagfish", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "hagfish"}], ["gear design", {"concepts": "gear design", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "gear design"}], ["system dynamics", {"concepts": "system dynamics", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "system dynamics"}], ["data interpretation", {"concepts": "data interpretation", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "data interpretation"}], ["bycatch regulations", {"concepts": "bycatch regulations", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "bycatch regulations"}], ["public proposals", {"concepts": "public proposals", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "public proposals"}], ["conservative approach", {"concepts": "conservative approach", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "conservative approach"}], ["access loss", {"concepts": "access loss", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "access loss"}], ["lingcod fishery", {"concepts": "lingcod fishery", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "lingcod fishery"}], ["rovc survey biomass", {"concepts": "rovc survey biomass", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "rovc survey biomass"}], ["regulation", {"concepts": "regulation", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "regulation"}], ["council voting member", {"concepts": "council voting member", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "council voting member"}], ["decision making", {"concepts": "decision making", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "decision making"}], ["natural sciences", {"concepts": "natural sciences", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "natural sciences"}], ["beam trawl", {"concepts": "beam trawl", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "beam trawl"}], ["bycatch", {"concepts": "bycatch", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "bycatch"}], ["industry meetings", {"concepts": "industry meetings", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "industry meetings"}], ["policy meetings", {"concepts": "policy meetings", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "policy meetings"}], ["advisory committees", {"concepts": "advisory committees", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "advisory committees"}], ["recruitment", {"concepts": "recruitment", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "recruitment"}], ["slinky pots", {"concepts": "slinky pots", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "slinky pots"}], ["substance users", {"concepts": "substance users", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "substance users"}], ["halibut quota", {"concepts": "halibut quota", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "halibut quota"}], ["quotas", {"concepts": "quotas", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "quotas"}], ["quota increase", {"concepts": "quota increase", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "quota increase"}], ["gear changes", {"concepts": "gear changes", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "gear changes"}], ["bag limits", {"concepts": "bag limits", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "bag limits"}], ["dungeness crab", {"concepts": "dungeness crab", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "dungeness crab"}], ["rod line regulations", {"concepts": "rod line regulations", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "rod line regulations"}], ["restrictive management", {"concepts": "restrictive management", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "restrictive management"}], ["hook and line", {"concepts": "hook and line", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "hook and line"}], ["relationship weights", {"concepts": "relationship weights", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "relationship weights"}], ["survey biomass", {"concepts": "survey biomass", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "survey biomass"}], ["possession limits", {"concepts": "possession limits", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "possession limits"}], ["policy impact", {"concepts": "policy impact", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "policy impact"}], ["pot gear", {"concepts": "pot gear", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "pot gear"}], ["food web", {"concepts": "food web", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "food web"}], ["topping off behavior", {"concepts": "topping off behavior", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "topping off behavior"}], ["regulatory process", {"concepts": "regulatory process", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "regulatory process"}], ["policy change", {"concepts": "policy change", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "policy change"}], ["alaska residents", {"concepts": "alaska residents", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "alaska residents"}], ["commercial users", {"concepts": "commercial users", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "commercial users"}], ["ground line regulations", {"concepts": "ground line regulations", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "ground line regulations"}], ["data analysis", {"concepts": "data analysis", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "data analysis"}], ["crab research", {"concepts": "crab research", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "crab research"}], ["policy", {"concepts": "policy", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "policy"}], ["user groups", {"concepts": "user groups", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "user groups"}], ["personal use", {"concepts": "personal use", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "personal use"}], ["rov survey", {"concepts": "rov survey", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "rov survey"}], ["survey", {"concepts": "survey", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "survey"}], ["platform", {"concepts": "platform", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "platform"}], ["hook and line survey", {"concepts": "hook and line survey", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "hook and line survey"}], ["quota setting", {"concepts": "quota setting", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "quota setting"}], ["communication", {"concepts": "communication", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "communication"}], ["localized depletion", {"concepts": "localized depletion", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "localized depletion"}], ["years of experience", {"concepts": "years of experience", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "years of experience"}], ["king crab", {"concepts": "king crab", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "king crab"}], ["trend analysis", {"concepts": "trend analysis", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "trend analysis"}], ["model outputs", {"concepts": "model outputs", "type": "concept", "cluster": "Habitat & Conservation", "node_size": 10, "label": "model outputs"}]], "Biomass & Harvest Trends": [["habitat", {"concepts": "habitat", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "habitat"}], ["conservation concerns", {"concepts": "conservation concerns", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "conservation concerns"}], ["invertebrate species", {"concepts": "invertebrate species", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "invertebrate species"}], ["rocky habitat", {"concepts": "rocky habitat", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "rocky habitat"}], ["ecosystem management", {"concepts": "ecosystem management", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "ecosystem management"}], ["food web supporting species", {"concepts": "food web supporting species", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "food web supporting species"}], ["distance sampling", {"concepts": "distance sampling", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "distance sampling"}], ["closures", {"concepts": "closures", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "closures"}], ["single species management", {"concepts": "single species management", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "single species management"}], ["long-lived species", {"concepts": "long-lived species", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "long-lived species"}], ["habitat-forming species", {"concepts": "habitat-forming species", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "habitat-forming species"}], ["species maturity", {"concepts": "species maturity", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "species maturity"}], ["southeast alaska", {"concepts": "southeast alaska", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "southeast alaska"}], ["biodiversity impact", {"concepts": "biodiversity impact", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "biodiversity impact"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "species of conservation concern"}], ["species rotation", {"concepts": "species rotation", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "species rotation"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "harmful organisms"}], ["species closure", {"concepts": "species closure", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "species closure"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "biodiversity"}], ["spatial area", {"concepts": "spatial area", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "spatial area"}], ["species closures", {"concepts": "species closures", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "species closures"}], ["species assemblage", {"concepts": "species assemblage", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "species assemblage"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "habitat forming species"}], ["habitat overlap", {"concepts": "habitat overlap", "type": "concept", "cluster": "Biomass & Harvest Trends", "node_size": 10, "label": "habitat overlap"}]], "Stakeholder Engagement": [["stock abundance", {"concepts": "stock abundance", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "stock abundance"}], ["biomass decline", {"concepts": "biomass decline", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "biomass decline"}], ["biomass", {"concepts": "biomass", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "biomass"}], ["biomass declines", {"concepts": "biomass declines", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "biomass declines"}], ["harvest opportunity", {"concepts": "harvest opportunity", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "harvest opportunity"}], ["declines in biomass", {"concepts": "declines in biomass", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "declines in biomass"}], ["harvest strategy", {"concepts": "harvest strategy", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "harvest strategy"}]], "Fishery Management": [["yelloweye bycatch", {"concepts": "yelloweye bycatch", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "yelloweye bycatch"}], ["recreational users", {"concepts": "recreational users", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "recreational users"}], ["stakeholder feedback", {"concepts": "stakeholder feedback", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "stakeholder feedback"}], ["yelloweye biomass", {"concepts": "yelloweye biomass", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "yelloweye biomass"}], ["subsistence users", {"concepts": "subsistence users", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "subsistence users"}], ["stakeholder engagement", {"concepts": "stakeholder engagement", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "stakeholder engagement"}], ["sport users", {"concepts": "sport users", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "sport users"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "stakeholders"}], ["stakeholder groups", {"concepts": "stakeholder groups", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "stakeholder groups"}]], "Management Planning": [["management protocols", {"concepts": "management protocols", "type": "concept", "cluster": "Management Planning", "node_size": 10, "label": "management protocols"}], ["operational plans", {"concepts": "operational plans", "type": "concept", "cluster": "Management Planning", "node_size": 10, "label": "operational plans"}], ["allocative management", {"concepts": "allocative management", "type": "concept", "cluster": "Management Planning", "node_size": 10, "label": "allocative management"}], ["management plan", {"concepts": "management plan", "type": "concept", "cluster": "Management Planning", "node_size": 10, "label": "management plan"}], ["management decision", {"concepts": "management decision", "type": "concept", "cluster": "Management Planning", "node_size": 10, "label": "management decision"}]], "Management Studies": [["management research", {"concepts": "management research", "type": "concept", "cluster": "Management Studies", "node_size": 10, "label": "management research"}], ["management biologist", {"concepts": "management biologist", "type": "concept", "cluster": "Management Studies", "node_size": 10, "label": "management biologist"}], ["management challenges", {"concepts": "management challenges", "type": "concept", "cluster": "Management Studies", "node_size": 10, "label": "management challenges"}]], "Stock Management": [["stock assessments", {"concepts": "stock assessments", "type": "concept", "cluster": "Stock Management", "node_size": 10, "label": "stock assessments"}], ["stock recovery", {"concepts": "stock recovery", "type": "concept", "cluster": "Stock Management", "node_size": 10, "label": "stock recovery"}]]};
        const clusterEdges = {"Fishing Regulations & Policy": [], "Habitat & Conservation": [], "Biomass & Harvest Trends": [], "Stakeholder Engagement": [], "Fishery Management": [], "Management Planning": [], "Management Studies": [], "Stock Management": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
