
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Ecological Concerns": {"concepts": "university architect, stressor, obstacles, removal, fcms, interviewer, system impact, management, interview, second day, systems perspective, audubon society, design build, noaa, detail level, tourism, join, wave attenuation, thursday, implementation, group cohesion, framework, committee, decision processes, funding obstacles, project planning, funding, adaptive changes, access, decision-making, permitting hurdles, juncus, management approaches, local dynamics, mitigation, traditions, compromise, mental modeler, dates, military perspective, monday, political dynamics, engineering perspective, environmental attitudes, mental models, half day, waterfront residents, feedback loop, positive impact, tourists, policies, wednesday, regulations, mandates, conservation, dnr, methodologies, businesses, context specificity, stakeholder groups, policy implementation, negative impact, co-benefits, spartina, site challenges, st. mary\u2019s church, impact weights, tuesday, interview transcriptions, teach, stakeholder engagement, stakeholders, policy impact, restoration, flooding, pro-bulkhead attitudes, community, educational workshop, noaa chesapeake bay office, psychological constructs, engineering literature, emotional regulation, underwood associates, management strategy, individual interviews, workshop invitation, system dynamics, model building, workshop, uncertainty, note taking, phragmites, educational scheduling, conflict, leadership style, adaptation, facilitation, engineering community, beneficial use, implementation guidelines, negative impacts, management decisions, naval academy, enforcement, resident scale, environmental benefits, bulkheads, watermen, waterfront businesses, social dynamics, ecotourism", "concept_list": ["university architect", "stressor", "obstacles", "removal", "fcms", "interviewer", "system impact", "management", "interview", "second day", "systems perspective", "audubon society", "design build", "noaa", "detail level", "tourism", "join", "wave attenuation", "thursday", "implementation", "group cohesion", "framework", "committee", "decision processes", "funding obstacles", "project planning", "funding", "adaptive changes", "access", "decision-making", "permitting hurdles", "juncus", "management approaches", "local dynamics", "mitigation", "traditions", "compromise", "mental modeler", "dates", "military perspective", "monday", "political dynamics", "engineering perspective", "environmental attitudes", "mental models", "half day", "waterfront residents", "feedback loop", "positive impact", "tourists", "policies", "wednesday", "regulations", "mandates", "conservation", "dnr", "methodologies", "businesses", "context specificity", "stakeholder groups", "policy implementation", "negative impact", "co-benefits", "spartina", "site challenges", "st. mary\u2019s church", "impact weights", "tuesday", "interview transcriptions", "teach", "stakeholder engagement", "stakeholders", "policy impact", "restoration", "flooding", "pro-bulkhead attitudes", "community", "educational workshop", "noaa chesapeake bay office", "psychological constructs", "engineering literature", "emotional regulation", "underwood associates", "management strategy", "individual interviews", "workshop invitation", "system dynamics", "model building", "workshop", "uncertainty", "note taking", "phragmites", "educational scheduling", "conflict", "leadership style", "adaptation", "facilitation", "engineering community", "beneficial use", "implementation guidelines", "negative impacts", "management decisions", "naval academy", "enforcement", "resident scale", "environmental benefits", "bulkheads", "watermen", "waterfront businesses", "social dynamics", "ecotourism"], "type": "cluster", "node_size": 348, "label": "Ecological Concerns"}, "Organizational Structure": {"concepts": "conservation concern, shoreline erosion, ecology, marine resource management, harmful organisms, habitat creation, marshes, spatial scale, marsh grass, fish habitat, coastal engineering, living shorelines act, seawall, shoreline archetypes, native species, species of conservation concern, oyster farms, habitat forming species, water quality, plant diversity, food web support, biodiversity, carbon storage, habitat, living shorelines, dredge material, species diversity, sea level risk, historic preservation, climate change impacts, oyster reef, ecosystem services, invasive species, food web supporting species, seawalls, animal diversity, sea level rise advisory council, sea level rise, erosion control, food web, mangroves, shoreline protection, habitat division, climate change, climate marching", "concept_list": ["conservation concern", "shoreline erosion", "ecology", "marine resource management", "harmful organisms", "habitat creation", "marshes", "spatial scale", "marsh grass", "fish habitat", "coastal engineering", "living shorelines act", "seawall", "shoreline archetypes", "native species", "species of conservation concern", "oyster farms", "habitat forming species", "water quality", "plant diversity", "food web support", "biodiversity", "carbon storage", "habitat", "living shorelines", "dredge material", "species diversity", "sea level risk", "historic preservation", "climate change impacts", "oyster reef", "ecosystem services", "invasive species", "food web supporting species", "seawalls", "animal diversity", "sea level rise advisory council", "sea level rise", "erosion control", "food web", "mangroves", "shoreline protection", "habitat division", "climate change", "climate marching"], "type": "cluster", "node_size": 150, "label": "Organizational Structure"}, "Stakeholder Engagement": {"concepts": "organizational roles, organizational domains, organizational structure, organizational processes, organizational system", "concept_list": ["organizational roles", "organizational domains", "organizational structure", "organizational processes", "organizational system"], "type": "cluster", "node_size": 30, "label": "Stakeholder Engagement"}};
        const conceptData = {"university architect": {"concepts": "university architect", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "university architect"}, "stressor": {"concepts": "stressor", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "stressor"}, "obstacles": {"concepts": "obstacles", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "obstacles"}, "removal": {"concepts": "removal", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "removal"}, "fcms": {"concepts": "fcms", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "fcms"}, "interviewer": {"concepts": "interviewer", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "interviewer"}, "system impact": {"concepts": "system impact", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "system impact"}, "management": {"concepts": "management", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "management"}, "interview": {"concepts": "interview", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "interview"}, "second day": {"concepts": "second day", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "second day"}, "systems perspective": {"concepts": "systems perspective", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "systems perspective"}, "audubon society": {"concepts": "audubon society", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "audubon society"}, "design build": {"concepts": "design build", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "design build"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "noaa"}, "detail level": {"concepts": "detail level", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "detail level"}, "tourism": {"concepts": "tourism", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "tourism"}, "join": {"concepts": "join", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "join"}, "wave attenuation": {"concepts": "wave attenuation", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "wave attenuation"}, "thursday": {"concepts": "thursday", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "thursday"}, "implementation": {"concepts": "implementation", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "implementation"}, "group cohesion": {"concepts": "group cohesion", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "group cohesion"}, "framework": {"concepts": "framework", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "framework"}, "committee": {"concepts": "committee", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "committee"}, "decision processes": {"concepts": "decision processes", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "decision processes"}, "funding obstacles": {"concepts": "funding obstacles", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "funding obstacles"}, "project planning": {"concepts": "project planning", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "project planning"}, "funding": {"concepts": "funding", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "funding"}, "adaptive changes": {"concepts": "adaptive changes", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "adaptive changes"}, "access": {"concepts": "access", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "access"}, "decision-making": {"concepts": "decision-making", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "decision-making"}, "permitting hurdles": {"concepts": "permitting hurdles", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "permitting hurdles"}, "juncus": {"concepts": "juncus", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "juncus"}, "management approaches": {"concepts": "management approaches", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "management approaches"}, "local dynamics": {"concepts": "local dynamics", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "local dynamics"}, "mitigation": {"concepts": "mitigation", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "mitigation"}, "traditions": {"concepts": "traditions", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "traditions"}, "compromise": {"concepts": "compromise", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "compromise"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "mental modeler"}, "dates": {"concepts": "dates", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "dates"}, "military perspective": {"concepts": "military perspective", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "military perspective"}, "monday": {"concepts": "monday", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "monday"}, "political dynamics": {"concepts": "political dynamics", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "political dynamics"}, "engineering perspective": {"concepts": "engineering perspective", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "engineering perspective"}, "environmental attitudes": {"concepts": "environmental attitudes", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "environmental attitudes"}, "mental models": {"concepts": "mental models", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "mental models"}, "half day": {"concepts": "half day", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "half day"}, "waterfront residents": {"concepts": "waterfront residents", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "waterfront residents"}, "feedback loop": {"concepts": "feedback loop", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "feedback loop"}, "positive impact": {"concepts": "positive impact", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "positive impact"}, "tourists": {"concepts": "tourists", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "tourists"}, "policies": {"concepts": "policies", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "policies"}, "wednesday": {"concepts": "wednesday", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "wednesday"}, "regulations": {"concepts": "regulations", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "regulations"}, "mandates": {"concepts": "mandates", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "mandates"}, "conservation": {"concepts": "conservation", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "conservation"}, "dnr": {"concepts": "dnr", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "dnr"}, "methodologies": {"concepts": "methodologies", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "methodologies"}, "businesses": {"concepts": "businesses", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "businesses"}, "context specificity": {"concepts": "context specificity", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "context specificity"}, "stakeholder groups": {"concepts": "stakeholder groups", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "stakeholder groups"}, "policy implementation": {"concepts": "policy implementation", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "policy implementation"}, "negative impact": {"concepts": "negative impact", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "negative impact"}, "co-benefits": {"concepts": "co-benefits", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "co-benefits"}, "spartina": {"concepts": "spartina", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "spartina"}, "site challenges": {"concepts": "site challenges", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "site challenges"}, "st. mary\u2019s church": {"concepts": "st. mary\u2019s church", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "st. mary\u2019s church"}, "impact weights": {"concepts": "impact weights", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "impact weights"}, "tuesday": {"concepts": "tuesday", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "tuesday"}, "interview transcriptions": {"concepts": "interview transcriptions", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "interview transcriptions"}, "teach": {"concepts": "teach", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "teach"}, "stakeholder engagement": {"concepts": "stakeholder engagement", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "stakeholder engagement"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "stakeholders"}, "policy impact": {"concepts": "policy impact", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "policy impact"}, "restoration": {"concepts": "restoration", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "restoration"}, "flooding": {"concepts": "flooding", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "flooding"}, "pro-bulkhead attitudes": {"concepts": "pro-bulkhead attitudes", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "pro-bulkhead attitudes"}, "community": {"concepts": "community", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "community"}, "educational workshop": {"concepts": "educational workshop", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "educational workshop"}, "noaa chesapeake bay office": {"concepts": "noaa chesapeake bay office", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "noaa chesapeake bay office"}, "psychological constructs": {"concepts": "psychological constructs", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "psychological constructs"}, "engineering literature": {"concepts": "engineering literature", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "engineering literature"}, "emotional regulation": {"concepts": "emotional regulation", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "emotional regulation"}, "underwood associates": {"concepts": "underwood associates", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "underwood associates"}, "management strategy": {"concepts": "management strategy", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "management strategy"}, "individual interviews": {"concepts": "individual interviews", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "individual interviews"}, "workshop invitation": {"concepts": "workshop invitation", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "workshop invitation"}, "system dynamics": {"concepts": "system dynamics", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "system dynamics"}, "model building": {"concepts": "model building", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "model building"}, "workshop": {"concepts": "workshop", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "workshop"}, "uncertainty": {"concepts": "uncertainty", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "uncertainty"}, "note taking": {"concepts": "note taking", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "note taking"}, "phragmites": {"concepts": "phragmites", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "phragmites"}, "educational scheduling": {"concepts": "educational scheduling", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "educational scheduling"}, "conflict": {"concepts": "conflict", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "conflict"}, "leadership style": {"concepts": "leadership style", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "leadership style"}, "adaptation": {"concepts": "adaptation", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "adaptation"}, "facilitation": {"concepts": "facilitation", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "facilitation"}, "engineering community": {"concepts": "engineering community", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "engineering community"}, "beneficial use": {"concepts": "beneficial use", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "beneficial use"}, "implementation guidelines": {"concepts": "implementation guidelines", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "implementation guidelines"}, "negative impacts": {"concepts": "negative impacts", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "negative impacts"}, "management decisions": {"concepts": "management decisions", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "management decisions"}, "naval academy": {"concepts": "naval academy", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "naval academy"}, "enforcement": {"concepts": "enforcement", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "enforcement"}, "resident scale": {"concepts": "resident scale", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "resident scale"}, "environmental benefits": {"concepts": "environmental benefits", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "environmental benefits"}, "bulkheads": {"concepts": "bulkheads", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "bulkheads"}, "watermen": {"concepts": "watermen", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "watermen"}, "waterfront businesses": {"concepts": "waterfront businesses", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "waterfront businesses"}, "social dynamics": {"concepts": "social dynamics", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "social dynamics"}, "ecotourism": {"concepts": "ecotourism", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "ecotourism"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "conservation concern"}, "shoreline erosion": {"concepts": "shoreline erosion", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "shoreline erosion"}, "ecology": {"concepts": "ecology", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "ecology"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "marine resource management"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "harmful organisms"}, "habitat creation": {"concepts": "habitat creation", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "habitat creation"}, "marshes": {"concepts": "marshes", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "marshes"}, "spatial scale": {"concepts": "spatial scale", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "spatial scale"}, "marsh grass": {"concepts": "marsh grass", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "marsh grass"}, "fish habitat": {"concepts": "fish habitat", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "fish habitat"}, "coastal engineering": {"concepts": "coastal engineering", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "coastal engineering"}, "living shorelines act": {"concepts": "living shorelines act", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "living shorelines act"}, "seawall": {"concepts": "seawall", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "seawall"}, "shoreline archetypes": {"concepts": "shoreline archetypes", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "shoreline archetypes"}, "native species": {"concepts": "native species", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "native species"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "species of conservation concern"}, "oyster farms": {"concepts": "oyster farms", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "oyster farms"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "habitat forming species"}, "water quality": {"concepts": "water quality", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "water quality"}, "plant diversity": {"concepts": "plant diversity", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "plant diversity"}, "food web support": {"concepts": "food web support", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "food web support"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "biodiversity"}, "carbon storage": {"concepts": "carbon storage", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "carbon storage"}, "habitat": {"concepts": "habitat", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "habitat"}, "living shorelines": {"concepts": "living shorelines", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "living shorelines"}, "dredge material": {"concepts": "dredge material", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "dredge material"}, "species diversity": {"concepts": "species diversity", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "species diversity"}, "sea level risk": {"concepts": "sea level risk", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "sea level risk"}, "historic preservation": {"concepts": "historic preservation", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "historic preservation"}, "climate change impacts": {"concepts": "climate change impacts", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "climate change impacts"}, "oyster reef": {"concepts": "oyster reef", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "oyster reef"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "ecosystem services"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "invasive species"}, "food web supporting species": {"concepts": "food web supporting species", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "food web supporting species"}, "seawalls": {"concepts": "seawalls", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "seawalls"}, "animal diversity": {"concepts": "animal diversity", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "animal diversity"}, "sea level rise advisory council": {"concepts": "sea level rise advisory council", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "sea level rise advisory council"}, "sea level rise": {"concepts": "sea level rise", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "sea level rise"}, "erosion control": {"concepts": "erosion control", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "erosion control"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "food web"}, "mangroves": {"concepts": "mangroves", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "mangroves"}, "shoreline protection": {"concepts": "shoreline protection", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "shoreline protection"}, "habitat division": {"concepts": "habitat division", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "habitat division"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "climate change"}, "climate marching": {"concepts": "climate marching", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "climate marching"}, "organizational roles": {"concepts": "organizational roles", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "organizational roles"}, "organizational domains": {"concepts": "organizational domains", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "organizational domains"}, "organizational structure": {"concepts": "organizational structure", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "organizational structure"}, "organizational processes": {"concepts": "organizational processes", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "organizational processes"}, "organizational system": {"concepts": "organizational system", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "organizational system"}};
        const interClusterEdges = [["Ecological Concerns", "Stakeholder Engagement", {"weight": 0.8, "confidence": 0.61, "type": "inter_cluster", "style": "solid"}], ["Ecological Concerns", "Organizational Structure", {"weight": 0.6, "confidence": 0.45999999999999996, "type": "inter_cluster", "style": "solid"}], ["Organizational Structure", "Ecological Concerns", {"weight": 0.8, "confidence": 0.6100000000000001, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Engagement", "Organizational Structure", {"weight": 0.8, "confidence": 0.5900000000000001, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Engagement", "Ecological Concerns", {"weight": 0.4, "confidence": 0.30999999999999994, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Ecological Concerns": [["university architect", {"concepts": "university architect", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "university architect"}], ["stressor", {"concepts": "stressor", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "stressor"}], ["obstacles", {"concepts": "obstacles", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "obstacles"}], ["removal", {"concepts": "removal", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "removal"}], ["fcms", {"concepts": "fcms", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "fcms"}], ["interviewer", {"concepts": "interviewer", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "interviewer"}], ["system impact", {"concepts": "system impact", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "system impact"}], ["management", {"concepts": "management", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "management"}], ["interview", {"concepts": "interview", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "interview"}], ["second day", {"concepts": "second day", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "second day"}], ["systems perspective", {"concepts": "systems perspective", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "systems perspective"}], ["audubon society", {"concepts": "audubon society", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "audubon society"}], ["design build", {"concepts": "design build", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "design build"}], ["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "noaa"}], ["detail level", {"concepts": "detail level", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "detail level"}], ["tourism", {"concepts": "tourism", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "tourism"}], ["join", {"concepts": "join", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "join"}], ["wave attenuation", {"concepts": "wave attenuation", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "wave attenuation"}], ["thursday", {"concepts": "thursday", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "thursday"}], ["implementation", {"concepts": "implementation", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "implementation"}], ["group cohesion", {"concepts": "group cohesion", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "group cohesion"}], ["framework", {"concepts": "framework", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "framework"}], ["committee", {"concepts": "committee", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "committee"}], ["decision processes", {"concepts": "decision processes", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "decision processes"}], ["funding obstacles", {"concepts": "funding obstacles", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "funding obstacles"}], ["project planning", {"concepts": "project planning", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "project planning"}], ["funding", {"concepts": "funding", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "funding"}], ["adaptive changes", {"concepts": "adaptive changes", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "adaptive changes"}], ["access", {"concepts": "access", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "access"}], ["decision-making", {"concepts": "decision-making", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "decision-making"}], ["permitting hurdles", {"concepts": "permitting hurdles", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "permitting hurdles"}], ["juncus", {"concepts": "juncus", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "juncus"}], ["management approaches", {"concepts": "management approaches", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "management approaches"}], ["local dynamics", {"concepts": "local dynamics", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "local dynamics"}], ["mitigation", {"concepts": "mitigation", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "mitigation"}], ["traditions", {"concepts": "traditions", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "traditions"}], ["compromise", {"concepts": "compromise", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "compromise"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "mental modeler"}], ["dates", {"concepts": "dates", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "dates"}], ["military perspective", {"concepts": "military perspective", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "military perspective"}], ["monday", {"concepts": "monday", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "monday"}], ["political dynamics", {"concepts": "political dynamics", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "political dynamics"}], ["engineering perspective", {"concepts": "engineering perspective", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "engineering perspective"}], ["environmental attitudes", {"concepts": "environmental attitudes", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "environmental attitudes"}], ["mental models", {"concepts": "mental models", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "mental models"}], ["half day", {"concepts": "half day", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "half day"}], ["waterfront residents", {"concepts": "waterfront residents", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "waterfront residents"}], ["feedback loop", {"concepts": "feedback loop", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "feedback loop"}], ["positive impact", {"concepts": "positive impact", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "positive impact"}], ["tourists", {"concepts": "tourists", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "tourists"}], ["policies", {"concepts": "policies", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "policies"}], ["wednesday", {"concepts": "wednesday", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "wednesday"}], ["regulations", {"concepts": "regulations", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "regulations"}], ["mandates", {"concepts": "mandates", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "mandates"}], ["conservation", {"concepts": "conservation", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "conservation"}], ["dnr", {"concepts": "dnr", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "dnr"}], ["methodologies", {"concepts": "methodologies", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "methodologies"}], ["businesses", {"concepts": "businesses", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "businesses"}], ["context specificity", {"concepts": "context specificity", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "context specificity"}], ["stakeholder groups", {"concepts": "stakeholder groups", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "stakeholder groups"}], ["policy implementation", {"concepts": "policy implementation", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "policy implementation"}], ["negative impact", {"concepts": "negative impact", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "negative impact"}], ["co-benefits", {"concepts": "co-benefits", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "co-benefits"}], ["spartina", {"concepts": "spartina", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "spartina"}], ["site challenges", {"concepts": "site challenges", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "site challenges"}], ["st. mary\u2019s church", {"concepts": "st. mary\u2019s church", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "st. mary\u2019s church"}], ["impact weights", {"concepts": "impact weights", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "impact weights"}], ["tuesday", {"concepts": "tuesday", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "tuesday"}], ["interview transcriptions", {"concepts": "interview transcriptions", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "interview transcriptions"}], ["teach", {"concepts": "teach", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "teach"}], ["stakeholder engagement", {"concepts": "stakeholder engagement", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "stakeholder engagement"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "stakeholders"}], ["policy impact", {"concepts": "policy impact", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "policy impact"}], ["restoration", {"concepts": "restoration", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "restoration"}], ["flooding", {"concepts": "flooding", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "flooding"}], ["pro-bulkhead attitudes", {"concepts": "pro-bulkhead attitudes", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "pro-bulkhead attitudes"}], ["community", {"concepts": "community", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "community"}], ["educational workshop", {"concepts": "educational workshop", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "educational workshop"}], ["noaa chesapeake bay office", {"concepts": "noaa chesapeake bay office", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "noaa chesapeake bay office"}], ["psychological constructs", {"concepts": "psychological constructs", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "psychological constructs"}], ["engineering literature", {"concepts": "engineering literature", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "engineering literature"}], ["emotional regulation", {"concepts": "emotional regulation", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "emotional regulation"}], ["underwood associates", {"concepts": "underwood associates", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "underwood associates"}], ["management strategy", {"concepts": "management strategy", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "management strategy"}], ["individual interviews", {"concepts": "individual interviews", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "individual interviews"}], ["workshop invitation", {"concepts": "workshop invitation", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "workshop invitation"}], ["system dynamics", {"concepts": "system dynamics", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "system dynamics"}], ["model building", {"concepts": "model building", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "model building"}], ["workshop", {"concepts": "workshop", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "workshop"}], ["uncertainty", {"concepts": "uncertainty", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "uncertainty"}], ["note taking", {"concepts": "note taking", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "note taking"}], ["phragmites", {"concepts": "phragmites", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "phragmites"}], ["educational scheduling", {"concepts": "educational scheduling", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "educational scheduling"}], ["conflict", {"concepts": "conflict", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "conflict"}], ["leadership style", {"concepts": "leadership style", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "leadership style"}], ["adaptation", {"concepts": "adaptation", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "adaptation"}], ["facilitation", {"concepts": "facilitation", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "facilitation"}], ["engineering community", {"concepts": "engineering community", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "engineering community"}], ["beneficial use", {"concepts": "beneficial use", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "beneficial use"}], ["implementation guidelines", {"concepts": "implementation guidelines", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "implementation guidelines"}], ["negative impacts", {"concepts": "negative impacts", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "negative impacts"}], ["management decisions", {"concepts": "management decisions", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "management decisions"}], ["naval academy", {"concepts": "naval academy", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "naval academy"}], ["enforcement", {"concepts": "enforcement", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "enforcement"}], ["resident scale", {"concepts": "resident scale", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "resident scale"}], ["environmental benefits", {"concepts": "environmental benefits", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "environmental benefits"}], ["bulkheads", {"concepts": "bulkheads", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "bulkheads"}], ["watermen", {"concepts": "watermen", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "watermen"}], ["waterfront businesses", {"concepts": "waterfront businesses", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "waterfront businesses"}], ["social dynamics", {"concepts": "social dynamics", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "social dynamics"}], ["ecotourism", {"concepts": "ecotourism", "type": "concept", "cluster": "Ecological Concerns", "node_size": 10, "label": "ecotourism"}]], "Organizational Structure": [["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "conservation concern"}], ["shoreline erosion", {"concepts": "shoreline erosion", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "shoreline erosion"}], ["ecology", {"concepts": "ecology", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "ecology"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "marine resource management"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "harmful organisms"}], ["habitat creation", {"concepts": "habitat creation", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "habitat creation"}], ["marshes", {"concepts": "marshes", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "marshes"}], ["spatial scale", {"concepts": "spatial scale", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "spatial scale"}], ["marsh grass", {"concepts": "marsh grass", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "marsh grass"}], ["fish habitat", {"concepts": "fish habitat", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "fish habitat"}], ["coastal engineering", {"concepts": "coastal engineering", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "coastal engineering"}], ["living shorelines act", {"concepts": "living shorelines act", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "living shorelines act"}], ["seawall", {"concepts": "seawall", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "seawall"}], ["shoreline archetypes", {"concepts": "shoreline archetypes", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "shoreline archetypes"}], ["native species", {"concepts": "native species", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "native species"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "species of conservation concern"}], ["oyster farms", {"concepts": "oyster farms", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "oyster farms"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "habitat forming species"}], ["water quality", {"concepts": "water quality", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "water quality"}], ["plant diversity", {"concepts": "plant diversity", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "plant diversity"}], ["food web support", {"concepts": "food web support", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "food web support"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "biodiversity"}], ["carbon storage", {"concepts": "carbon storage", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "carbon storage"}], ["habitat", {"concepts": "habitat", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "habitat"}], ["living shorelines", {"concepts": "living shorelines", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "living shorelines"}], ["dredge material", {"concepts": "dredge material", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "dredge material"}], ["species diversity", {"concepts": "species diversity", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "species diversity"}], ["sea level risk", {"concepts": "sea level risk", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "sea level risk"}], ["historic preservation", {"concepts": "historic preservation", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "historic preservation"}], ["climate change impacts", {"concepts": "climate change impacts", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "climate change impacts"}], ["oyster reef", {"concepts": "oyster reef", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "oyster reef"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "ecosystem services"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "invasive species"}], ["food web supporting species", {"concepts": "food web supporting species", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "food web supporting species"}], ["seawalls", {"concepts": "seawalls", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "seawalls"}], ["animal diversity", {"concepts": "animal diversity", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "animal diversity"}], ["sea level rise advisory council", {"concepts": "sea level rise advisory council", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "sea level rise advisory council"}], ["sea level rise", {"concepts": "sea level rise", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "sea level rise"}], ["erosion control", {"concepts": "erosion control", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "erosion control"}], ["food web", {"concepts": "food web", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "food web"}], ["mangroves", {"concepts": "mangroves", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "mangroves"}], ["shoreline protection", {"concepts": "shoreline protection", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "shoreline protection"}], ["habitat division", {"concepts": "habitat division", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "habitat division"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "climate change"}], ["climate marching", {"concepts": "climate marching", "type": "concept", "cluster": "Organizational Structure", "node_size": 10, "label": "climate marching"}]], "Stakeholder Engagement": [["organizational roles", {"concepts": "organizational roles", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "organizational roles"}], ["organizational domains", {"concepts": "organizational domains", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "organizational domains"}], ["organizational structure", {"concepts": "organizational structure", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "organizational structure"}], ["organizational processes", {"concepts": "organizational processes", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "organizational processes"}], ["organizational system", {"concepts": "organizational system", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "organizational system"}]]};
        const clusterEdges = {"Ecological Concerns": [], "Organizational Structure": [], "Stakeholder Engagement": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
