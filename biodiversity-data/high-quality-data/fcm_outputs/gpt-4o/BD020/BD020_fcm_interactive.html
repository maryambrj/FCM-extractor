
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Species Decline": {"concepts": "biodiversity, specific species, reduced abundance", "concept_list": ["biodiversity", "specific species", "reduced abundance"], "type": "cluster", "node_size": 24, "label": "Species Decline"}, "Pollution Impact": {"concepts": "pollution, ecosystem, ecosystem services", "concept_list": ["pollution", "ecosystem", "ecosystem services"], "type": "cluster", "node_size": 24, "label": "Pollution Impact"}, "Species Presence": {"concepts": "species presence, halophila ovalis", "concept_list": ["species presence", "halophila ovalis"], "type": "cluster", "node_size": 21, "label": "Species Presence"}, "Population Analysis": {"concepts": "demographic criteria, genetic techniques, diversity, demographic standpoint, population viability analysis, population consequences, statistical models, population model, population trajectory", "concept_list": ["demographic criteria", "genetic techniques", "diversity", "demographic standpoint", "population viability analysis", "population consequences", "statistical models", "population model", "population trajectory"], "type": "cluster", "node_size": 42, "label": "Population Analysis"}, "Conservation Challenges": {"concepts": "invasive species, species of conservation concern, habitat conservation, habitat destruction, species abundance, introduced species, species recovery plans, conservation concern, species resilience", "concept_list": ["invasive species", "species of conservation concern", "habitat conservation", "habitat destruction", "species abundance", "introduced species", "species recovery plans", "conservation concern", "species resilience"], "type": "cluster", "node_size": 42, "label": "Conservation Challenges"}, "Regulatory Compliance": {"concepts": "human activities, historical overutilization, section 7 consultation, section 7, esa, productivity, poor compliance, msa, bycatch, mental modeler, multiple stressors, social domain, caribbean, knowledge gaps, conceptual model, temperature range, research question, stressors, mmpa, qualitative tool, esa listed, k selected, educational domain, regional collaboration, listing factors, compliance, framework, seismic airguns, qualitative conceptual tool, queen conch, semi-quantitative, observer coverage, esa regulations, psychological domain, nassau grouper", "concept_list": ["human activities", "historical overutilization", "section 7 consultation", "section 7", "esa", "productivity", "poor compliance", "msa", "bycatch", "mental modeler", "multiple stressors", "social domain", "caribbean", "knowledge gaps", "conceptual model", "temperature range", "research question", "stressors", "mmpa", "qualitative tool", "esa listed", "k selected", "educational domain", "regional collaboration", "listing factors", "compliance", "framework", "seismic airguns", "qualitative conceptual tool", "queen conch", "semi-quantitative", "observer coverage", "esa regulations", "psychological domain", "nassau grouper"], "type": "cluster", "node_size": 120, "label": "Regulatory Compliance"}, "Marine Threats": {"concepts": "marine mammals, spawning habitats, parrot fish, fishing pressure, johnson\u2019s seagrass, marine debris, shrimp fishery, cetacean morbillivirus, cetaceans, spawning aggregations, illegal fishing, poaching, lionfish invasions, smalltooth sawfish, lionfish, fishery management", "concept_list": ["marine mammals", "spawning habitats", "parrot fish", "fishing pressure", "johnson\u2019s seagrass", "marine debris", "shrimp fishery", "cetacean morbillivirus", "cetaceans", "spawning aggregations", "illegal fishing", "poaching", "lionfish invasions", "smalltooth sawfish", "lionfish", "fishery management"], "type": "cluster", "node_size": 63, "label": "Marine Threats"}, "Ecosystem Dynamics": {"concepts": "reproductive output, regime shifts, calving rates, spatial system, harmful organisms, inadequacy of management measures, genetic diversity, odds ratios, disease, ecosystem plans, giant manta ray, vessel strikes, river ecosystems, ecosystem function, coral settlement, oil spills, reproductive fitness, ship strikes, stony coral tissue loss disease, regional community composition, adaptive management, weighting adjustments, coral, gene flow, reproductive species, management measures, resilience, hormonal cycle, habitat forming species, manta ray, sturgeon, historical over utilization, reproductive cycle, climate change, dynamic management, ship speed rules, abundance", "concept_list": ["reproductive output", "regime shifts", "calving rates", "spatial system", "harmful organisms", "inadequacy of management measures", "genetic diversity", "odds ratios", "disease", "ecosystem plans", "giant manta ray", "vessel strikes", "river ecosystems", "ecosystem function", "coral settlement", "oil spills", "reproductive fitness", "ship strikes", "stony coral tissue loss disease", "regional community composition", "adaptive management", "weighting adjustments", "coral", "gene flow", "reproductive species", "management measures", "resilience", "hormonal cycle", "habitat forming species", "manta ray", "sturgeon", "historical over utilization", "reproductive cycle", "climate change", "dynamic management", "ship speed rules", "abundance"], "type": "cluster", "node_size": 126, "label": "Ecosystem Dynamics"}, "Entanglement Issues": {"concepts": "entanglement risk, connectivity disruptions, entanglement, connectivity, gear entanglements, gear entanglement", "concept_list": ["entanglement risk", "connectivity disruptions", "entanglement", "connectivity", "gear entanglements", "gear entanglement"], "type": "cluster", "node_size": 33, "label": "Entanglement Issues"}, "Food Web Dynamics": {"concepts": "bioenergetics, prey location, key food web species, food base, local prey abundance, large predators, key food webs, prey distribution, predation", "concept_list": ["bioenergetics", "prey location", "key food web species", "food base", "local prey abundance", "large predators", "key food webs", "prey distribution", "predation"], "type": "cluster", "node_size": 42, "label": "Food Web Dynamics"}, "Reproductive Outcomes": {"concepts": "mate finding, dams, mortalities, unusual mortality events, birth rates, mortality events, categorical weights", "concept_list": ["mate finding", "dams", "mortalities", "unusual mortality events", "birth rates", "mortality events", "categorical weights"], "type": "cluster", "node_size": 36, "label": "Reproductive Outcomes"}};
        const conceptData = {"biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Species Decline", "node_size": 10, "label": "biodiversity"}, "specific species": {"concepts": "specific species", "type": "concept", "cluster": "Species Decline", "node_size": 10, "label": "specific species"}, "reduced abundance": {"concepts": "reduced abundance", "type": "concept", "cluster": "Species Decline", "node_size": 10, "label": "reduced abundance"}, "pollution": {"concepts": "pollution", "type": "concept", "cluster": "Pollution Impact", "node_size": 10, "label": "pollution"}, "ecosystem": {"concepts": "ecosystem", "type": "concept", "cluster": "Pollution Impact", "node_size": 10, "label": "ecosystem"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Pollution Impact", "node_size": 10, "label": "ecosystem services"}, "species presence": {"concepts": "species presence", "type": "concept", "cluster": "Species Presence", "node_size": 10, "label": "species presence"}, "halophila ovalis": {"concepts": "halophila ovalis", "type": "concept", "cluster": "Species Presence", "node_size": 10, "label": "halophila ovalis"}, "demographic criteria": {"concepts": "demographic criteria", "type": "concept", "cluster": "Population Analysis", "node_size": 10, "label": "demographic criteria"}, "genetic techniques": {"concepts": "genetic techniques", "type": "concept", "cluster": "Population Analysis", "node_size": 10, "label": "genetic techniques"}, "diversity": {"concepts": "diversity", "type": "concept", "cluster": "Population Analysis", "node_size": 10, "label": "diversity"}, "demographic standpoint": {"concepts": "demographic standpoint", "type": "concept", "cluster": "Population Analysis", "node_size": 10, "label": "demographic standpoint"}, "population viability analysis": {"concepts": "population viability analysis", "type": "concept", "cluster": "Population Analysis", "node_size": 10, "label": "population viability analysis"}, "population consequences": {"concepts": "population consequences", "type": "concept", "cluster": "Population Analysis", "node_size": 10, "label": "population consequences"}, "statistical models": {"concepts": "statistical models", "type": "concept", "cluster": "Population Analysis", "node_size": 10, "label": "statistical models"}, "population model": {"concepts": "population model", "type": "concept", "cluster": "Population Analysis", "node_size": 10, "label": "population model"}, "population trajectory": {"concepts": "population trajectory", "type": "concept", "cluster": "Population Analysis", "node_size": 10, "label": "population trajectory"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Conservation Challenges", "node_size": 10, "label": "invasive species"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Conservation Challenges", "node_size": 10, "label": "species of conservation concern"}, "habitat conservation": {"concepts": "habitat conservation", "type": "concept", "cluster": "Conservation Challenges", "node_size": 10, "label": "habitat conservation"}, "habitat destruction": {"concepts": "habitat destruction", "type": "concept", "cluster": "Conservation Challenges", "node_size": 10, "label": "habitat destruction"}, "species abundance": {"concepts": "species abundance", "type": "concept", "cluster": "Conservation Challenges", "node_size": 10, "label": "species abundance"}, "introduced species": {"concepts": "introduced species", "type": "concept", "cluster": "Conservation Challenges", "node_size": 10, "label": "introduced species"}, "species recovery plans": {"concepts": "species recovery plans", "type": "concept", "cluster": "Conservation Challenges", "node_size": 10, "label": "species recovery plans"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Conservation Challenges", "node_size": 10, "label": "conservation concern"}, "species resilience": {"concepts": "species resilience", "type": "concept", "cluster": "Conservation Challenges", "node_size": 10, "label": "species resilience"}, "human activities": {"concepts": "human activities", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "human activities"}, "historical overutilization": {"concepts": "historical overutilization", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "historical overutilization"}, "section 7 consultation": {"concepts": "section 7 consultation", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "section 7 consultation"}, "section 7": {"concepts": "section 7", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "section 7"}, "esa": {"concepts": "esa", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "esa"}, "productivity": {"concepts": "productivity", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "productivity"}, "poor compliance": {"concepts": "poor compliance", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "poor compliance"}, "msa": {"concepts": "msa", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "msa"}, "bycatch": {"concepts": "bycatch", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "bycatch"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "mental modeler"}, "multiple stressors": {"concepts": "multiple stressors", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "multiple stressors"}, "social domain": {"concepts": "social domain", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "social domain"}, "caribbean": {"concepts": "caribbean", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "caribbean"}, "knowledge gaps": {"concepts": "knowledge gaps", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "knowledge gaps"}, "conceptual model": {"concepts": "conceptual model", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "conceptual model"}, "temperature range": {"concepts": "temperature range", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "temperature range"}, "research question": {"concepts": "research question", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "research question"}, "stressors": {"concepts": "stressors", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "stressors"}, "mmpa": {"concepts": "mmpa", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "mmpa"}, "qualitative tool": {"concepts": "qualitative tool", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "qualitative tool"}, "esa listed": {"concepts": "esa listed", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "esa listed"}, "k selected": {"concepts": "k selected", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "k selected"}, "educational domain": {"concepts": "educational domain", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "educational domain"}, "regional collaboration": {"concepts": "regional collaboration", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "regional collaboration"}, "listing factors": {"concepts": "listing factors", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "listing factors"}, "compliance": {"concepts": "compliance", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "compliance"}, "framework": {"concepts": "framework", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "framework"}, "seismic airguns": {"concepts": "seismic airguns", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "seismic airguns"}, "qualitative conceptual tool": {"concepts": "qualitative conceptual tool", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "qualitative conceptual tool"}, "queen conch": {"concepts": "queen conch", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "queen conch"}, "semi-quantitative": {"concepts": "semi-quantitative", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "semi-quantitative"}, "observer coverage": {"concepts": "observer coverage", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "observer coverage"}, "esa regulations": {"concepts": "esa regulations", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "esa regulations"}, "psychological domain": {"concepts": "psychological domain", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "psychological domain"}, "nassau grouper": {"concepts": "nassau grouper", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "nassau grouper"}, "marine mammals": {"concepts": "marine mammals", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "marine mammals"}, "spawning habitats": {"concepts": "spawning habitats", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "spawning habitats"}, "parrot fish": {"concepts": "parrot fish", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "parrot fish"}, "fishing pressure": {"concepts": "fishing pressure", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "fishing pressure"}, "johnson\u2019s seagrass": {"concepts": "johnson\u2019s seagrass", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "johnson\u2019s seagrass"}, "marine debris": {"concepts": "marine debris", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "marine debris"}, "shrimp fishery": {"concepts": "shrimp fishery", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "shrimp fishery"}, "cetacean morbillivirus": {"concepts": "cetacean morbillivirus", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "cetacean morbillivirus"}, "cetaceans": {"concepts": "cetaceans", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "cetaceans"}, "spawning aggregations": {"concepts": "spawning aggregations", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "spawning aggregations"}, "illegal fishing": {"concepts": "illegal fishing", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "illegal fishing"}, "poaching": {"concepts": "poaching", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "poaching"}, "lionfish invasions": {"concepts": "lionfish invasions", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "lionfish invasions"}, "smalltooth sawfish": {"concepts": "smalltooth sawfish", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "smalltooth sawfish"}, "lionfish": {"concepts": "lionfish", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "lionfish"}, "fishery management": {"concepts": "fishery management", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "fishery management"}, "reproductive output": {"concepts": "reproductive output", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "reproductive output"}, "regime shifts": {"concepts": "regime shifts", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "regime shifts"}, "calving rates": {"concepts": "calving rates", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "calving rates"}, "spatial system": {"concepts": "spatial system", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "spatial system"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "harmful organisms"}, "inadequacy of management measures": {"concepts": "inadequacy of management measures", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "inadequacy of management measures"}, "genetic diversity": {"concepts": "genetic diversity", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "genetic diversity"}, "odds ratios": {"concepts": "odds ratios", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "odds ratios"}, "disease": {"concepts": "disease", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "disease"}, "ecosystem plans": {"concepts": "ecosystem plans", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem plans"}, "giant manta ray": {"concepts": "giant manta ray", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "giant manta ray"}, "vessel strikes": {"concepts": "vessel strikes", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "vessel strikes"}, "river ecosystems": {"concepts": "river ecosystems", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "river ecosystems"}, "ecosystem function": {"concepts": "ecosystem function", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem function"}, "coral settlement": {"concepts": "coral settlement", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "coral settlement"}, "oil spills": {"concepts": "oil spills", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "oil spills"}, "reproductive fitness": {"concepts": "reproductive fitness", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "reproductive fitness"}, "ship strikes": {"concepts": "ship strikes", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ship strikes"}, "stony coral tissue loss disease": {"concepts": "stony coral tissue loss disease", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "stony coral tissue loss disease"}, "regional community composition": {"concepts": "regional community composition", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "regional community composition"}, "adaptive management": {"concepts": "adaptive management", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "adaptive management"}, "weighting adjustments": {"concepts": "weighting adjustments", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "weighting adjustments"}, "coral": {"concepts": "coral", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "coral"}, "gene flow": {"concepts": "gene flow", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "gene flow"}, "reproductive species": {"concepts": "reproductive species", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "reproductive species"}, "management measures": {"concepts": "management measures", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "management measures"}, "resilience": {"concepts": "resilience", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "resilience"}, "hormonal cycle": {"concepts": "hormonal cycle", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "hormonal cycle"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "habitat forming species"}, "manta ray": {"concepts": "manta ray", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "manta ray"}, "sturgeon": {"concepts": "sturgeon", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "sturgeon"}, "historical over utilization": {"concepts": "historical over utilization", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "historical over utilization"}, "reproductive cycle": {"concepts": "reproductive cycle", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "reproductive cycle"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "climate change"}, "dynamic management": {"concepts": "dynamic management", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "dynamic management"}, "ship speed rules": {"concepts": "ship speed rules", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ship speed rules"}, "abundance": {"concepts": "abundance", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "abundance"}, "entanglement risk": {"concepts": "entanglement risk", "type": "concept", "cluster": "Entanglement Issues", "node_size": 10, "label": "entanglement risk"}, "connectivity disruptions": {"concepts": "connectivity disruptions", "type": "concept", "cluster": "Entanglement Issues", "node_size": 10, "label": "connectivity disruptions"}, "entanglement": {"concepts": "entanglement", "type": "concept", "cluster": "Entanglement Issues", "node_size": 10, "label": "entanglement"}, "connectivity": {"concepts": "connectivity", "type": "concept", "cluster": "Entanglement Issues", "node_size": 10, "label": "connectivity"}, "gear entanglements": {"concepts": "gear entanglements", "type": "concept", "cluster": "Entanglement Issues", "node_size": 10, "label": "gear entanglements"}, "gear entanglement": {"concepts": "gear entanglement", "type": "concept", "cluster": "Entanglement Issues", "node_size": 10, "label": "gear entanglement"}, "bioenergetics": {"concepts": "bioenergetics", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "bioenergetics"}, "prey location": {"concepts": "prey location", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "prey location"}, "key food web species": {"concepts": "key food web species", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "key food web species"}, "food base": {"concepts": "food base", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "food base"}, "local prey abundance": {"concepts": "local prey abundance", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "local prey abundance"}, "large predators": {"concepts": "large predators", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "large predators"}, "key food webs": {"concepts": "key food webs", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "key food webs"}, "prey distribution": {"concepts": "prey distribution", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "prey distribution"}, "predation": {"concepts": "predation", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "predation"}, "mate finding": {"concepts": "mate finding", "type": "concept", "cluster": "Reproductive Outcomes", "node_size": 10, "label": "mate finding"}, "dams": {"concepts": "dams", "type": "concept", "cluster": "Reproductive Outcomes", "node_size": 10, "label": "dams"}, "mortalities": {"concepts": "mortalities", "type": "concept", "cluster": "Reproductive Outcomes", "node_size": 10, "label": "mortalities"}, "unusual mortality events": {"concepts": "unusual mortality events", "type": "concept", "cluster": "Reproductive Outcomes", "node_size": 10, "label": "unusual mortality events"}, "birth rates": {"concepts": "birth rates", "type": "concept", "cluster": "Reproductive Outcomes", "node_size": 10, "label": "birth rates"}, "mortality events": {"concepts": "mortality events", "type": "concept", "cluster": "Reproductive Outcomes", "node_size": 10, "label": "mortality events"}, "categorical weights": {"concepts": "categorical weights", "type": "concept", "cluster": "Reproductive Outcomes", "node_size": 10, "label": "categorical weights"}};
        const interClusterEdges = [["Species Decline", "Population Analysis", {"weight": -0.2, "confidence": 0.77, "type": "inter_cluster", "style": "solid"}], ["Species Decline", "Marine Threats", {"weight": -0.5, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Species Decline", "Regulatory Compliance", {"weight": -1.0, "confidence": 0.7833333333333332, "type": "inter_cluster", "style": "solid"}], ["Species Decline", "Food Web Dynamics", {"weight": 0.3333333333333333, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Species Decline", "Reproductive Outcomes", {"weight": 0.3333333333333333, "confidence": 0.7833333333333332, "type": "inter_cluster", "style": "solid"}], ["Species Decline", "Entanglement Issues", {"weight": -0.25, "confidence": 0.5625, "type": "inter_cluster", "style": "solid"}], ["Species Decline", "Pollution Impact", {"weight": -1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Pollution Impact", "Population Analysis", {"weight": -0.6, "confidence": 0.7300000000000001, "type": "inter_cluster", "style": "solid"}], ["Pollution Impact", "Species Decline", {"weight": -0.8, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Pollution Impact", "Ecosystem Dynamics", {"weight": -1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Pollution Impact", "Conservation Challenges", {"weight": -1.0, "confidence": 0.7875, "type": "inter_cluster", "style": "solid"}], ["Species Presence", "Conservation Challenges", {"weight": -0.25, "confidence": 0.5375, "type": "inter_cluster", "style": "solid"}], ["Species Presence", "Species Decline", {"weight": 0.5, "confidence": 0.3625, "type": "inter_cluster", "style": "solid"}], ["Population Analysis", "Entanglement Issues", {"weight": -1.0, "confidence": 0.7300000000000001, "type": "inter_cluster", "style": "solid"}], ["Population Analysis", "Pollution Impact", {"weight": -1.0, "confidence": 0.72, "type": "inter_cluster", "style": "solid"}], ["Conservation Challenges", "Regulatory Compliance", {"weight": -1.0, "confidence": 0.7749999999999999, "type": "inter_cluster", "style": "solid"}], ["Conservation Challenges", "Population Analysis", {"weight": -0.8, "confidence": 0.5900000000000001, "type": "inter_cluster", "style": "solid"}], ["Conservation Challenges", "Ecosystem Dynamics", {"weight": -0.8, "confidence": 0.59, "type": "inter_cluster", "style": "solid"}], ["Regulatory Compliance", "Marine Threats", {"weight": -0.6, "confidence": 0.7699999999999999, "type": "inter_cluster", "style": "solid"}], ["Regulatory Compliance", "Entanglement Issues", {"weight": 0.2, "confidence": 0.76, "type": "inter_cluster", "style": "solid"}], ["Regulatory Compliance", "Pollution Impact", {"weight": -0.4, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Regulatory Compliance", "Species Presence", {"weight": -1.0, "confidence": 0.7625, "type": "inter_cluster", "style": "solid"}], ["Regulatory Compliance", "Food Web Dynamics", {"weight": -1.0, "confidence": 0.7333333333333334, "type": "inter_cluster", "style": "solid"}], ["Regulatory Compliance", "Species Decline", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Marine Threats", "Conservation Challenges", {"weight": -0.6, "confidence": 0.7300000000000001, "type": "inter_cluster", "style": "solid"}], ["Marine Threats", "Pollution Impact", {"weight": -0.8, "confidence": 0.5900000000000001, "type": "inter_cluster", "style": "solid"}], ["Marine Threats", "Regulatory Compliance", {"weight": -0.75, "confidence": 0.5874999999999999, "type": "inter_cluster", "style": "solid"}], ["Marine Threats", "Population Analysis", {"weight": 0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Marine Threats", "Ecosystem Dynamics", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Entanglement Issues", "Conservation Challenges", {"weight": -1.0, "confidence": 0.7666666666666666, "type": "inter_cluster", "style": "solid"}], ["Entanglement Issues", "Ecosystem Dynamics", {"weight": -1.0, "confidence": 0.7833333333333332, "type": "inter_cluster", "style": "solid"}], ["Entanglement Issues", "Species Decline", {"weight": -1.0, "confidence": 0.7749999999999999, "type": "inter_cluster", "style": "solid"}], ["Food Web Dynamics", "Pollution Impact", {"weight": -0.8, "confidence": 0.58, "type": "inter_cluster", "style": "solid"}], ["Food Web Dynamics", "Population Analysis", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Food Web Dynamics", "Entanglement Issues", {"weight": -0.6666666666666666, "confidence": 0.4666666666666666, "type": "inter_cluster", "style": "solid"}], ["Food Web Dynamics", "Species Decline", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Reproductive Outcomes", "Entanglement Issues", {"weight": -0.3333333333333333, "confidence": 0.7333333333333334, "type": "inter_cluster", "style": "solid"}], ["Reproductive Outcomes", "Species Decline", {"weight": -0.25, "confidence": 0.5249999999999999, "type": "inter_cluster", "style": "solid"}], ["Reproductive Outcomes", "Pollution Impact", {"weight": -0.75, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Reproductive Outcomes", "Ecosystem Dynamics", {"weight": 1.0, "confidence": 0.7749999999999999, "type": "inter_cluster", "style": "solid"}], ["Reproductive Outcomes", "Population Analysis", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Species Decline": [["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Species Decline", "node_size": 10, "label": "biodiversity"}], ["specific species", {"concepts": "specific species", "type": "concept", "cluster": "Species Decline", "node_size": 10, "label": "specific species"}], ["reduced abundance", {"concepts": "reduced abundance", "type": "concept", "cluster": "Species Decline", "node_size": 10, "label": "reduced abundance"}]], "Pollution Impact": [["pollution", {"concepts": "pollution", "type": "concept", "cluster": "Pollution Impact", "node_size": 10, "label": "pollution"}], ["ecosystem", {"concepts": "ecosystem", "type": "concept", "cluster": "Pollution Impact", "node_size": 10, "label": "ecosystem"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Pollution Impact", "node_size": 10, "label": "ecosystem services"}]], "Species Presence": [["species presence", {"concepts": "species presence", "type": "concept", "cluster": "Species Presence", "node_size": 10, "label": "species presence"}], ["halophila ovalis", {"concepts": "halophila ovalis", "type": "concept", "cluster": "Species Presence", "node_size": 10, "label": "halophila ovalis"}]], "Population Analysis": [["demographic criteria", {"concepts": "demographic criteria", "type": "concept", "cluster": "Population Analysis", "node_size": 10, "label": "demographic criteria"}], ["genetic techniques", {"concepts": "genetic techniques", "type": "concept", "cluster": "Population Analysis", "node_size": 10, "label": "genetic techniques"}], ["diversity", {"concepts": "diversity", "type": "concept", "cluster": "Population Analysis", "node_size": 10, "label": "diversity"}], ["demographic standpoint", {"concepts": "demographic standpoint", "type": "concept", "cluster": "Population Analysis", "node_size": 10, "label": "demographic standpoint"}], ["population viability analysis", {"concepts": "population viability analysis", "type": "concept", "cluster": "Population Analysis", "node_size": 10, "label": "population viability analysis"}], ["population consequences", {"concepts": "population consequences", "type": "concept", "cluster": "Population Analysis", "node_size": 10, "label": "population consequences"}], ["statistical models", {"concepts": "statistical models", "type": "concept", "cluster": "Population Analysis", "node_size": 10, "label": "statistical models"}], ["population model", {"concepts": "population model", "type": "concept", "cluster": "Population Analysis", "node_size": 10, "label": "population model"}], ["population trajectory", {"concepts": "population trajectory", "type": "concept", "cluster": "Population Analysis", "node_size": 10, "label": "population trajectory"}]], "Conservation Challenges": [["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Conservation Challenges", "node_size": 10, "label": "invasive species"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Conservation Challenges", "node_size": 10, "label": "species of conservation concern"}], ["habitat conservation", {"concepts": "habitat conservation", "type": "concept", "cluster": "Conservation Challenges", "node_size": 10, "label": "habitat conservation"}], ["habitat destruction", {"concepts": "habitat destruction", "type": "concept", "cluster": "Conservation Challenges", "node_size": 10, "label": "habitat destruction"}], ["species abundance", {"concepts": "species abundance", "type": "concept", "cluster": "Conservation Challenges", "node_size": 10, "label": "species abundance"}], ["introduced species", {"concepts": "introduced species", "type": "concept", "cluster": "Conservation Challenges", "node_size": 10, "label": "introduced species"}], ["species recovery plans", {"concepts": "species recovery plans", "type": "concept", "cluster": "Conservation Challenges", "node_size": 10, "label": "species recovery plans"}], ["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Conservation Challenges", "node_size": 10, "label": "conservation concern"}], ["species resilience", {"concepts": "species resilience", "type": "concept", "cluster": "Conservation Challenges", "node_size": 10, "label": "species resilience"}]], "Regulatory Compliance": [["human activities", {"concepts": "human activities", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "human activities"}], ["historical overutilization", {"concepts": "historical overutilization", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "historical overutilization"}], ["section 7 consultation", {"concepts": "section 7 consultation", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "section 7 consultation"}], ["section 7", {"concepts": "section 7", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "section 7"}], ["esa", {"concepts": "esa", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "esa"}], ["productivity", {"concepts": "productivity", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "productivity"}], ["poor compliance", {"concepts": "poor compliance", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "poor compliance"}], ["msa", {"concepts": "msa", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "msa"}], ["bycatch", {"concepts": "bycatch", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "bycatch"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "mental modeler"}], ["multiple stressors", {"concepts": "multiple stressors", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "multiple stressors"}], ["social domain", {"concepts": "social domain", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "social domain"}], ["caribbean", {"concepts": "caribbean", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "caribbean"}], ["knowledge gaps", {"concepts": "knowledge gaps", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "knowledge gaps"}], ["conceptual model", {"concepts": "conceptual model", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "conceptual model"}], ["temperature range", {"concepts": "temperature range", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "temperature range"}], ["research question", {"concepts": "research question", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "research question"}], ["stressors", {"concepts": "stressors", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "stressors"}], ["mmpa", {"concepts": "mmpa", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "mmpa"}], ["qualitative tool", {"concepts": "qualitative tool", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "qualitative tool"}], ["esa listed", {"concepts": "esa listed", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "esa listed"}], ["k selected", {"concepts": "k selected", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "k selected"}], ["educational domain", {"concepts": "educational domain", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "educational domain"}], ["regional collaboration", {"concepts": "regional collaboration", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "regional collaboration"}], ["listing factors", {"concepts": "listing factors", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "listing factors"}], ["compliance", {"concepts": "compliance", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "compliance"}], ["framework", {"concepts": "framework", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "framework"}], ["seismic airguns", {"concepts": "seismic airguns", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "seismic airguns"}], ["qualitative conceptual tool", {"concepts": "qualitative conceptual tool", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "qualitative conceptual tool"}], ["queen conch", {"concepts": "queen conch", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "queen conch"}], ["semi-quantitative", {"concepts": "semi-quantitative", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "semi-quantitative"}], ["observer coverage", {"concepts": "observer coverage", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "observer coverage"}], ["esa regulations", {"concepts": "esa regulations", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "esa regulations"}], ["psychological domain", {"concepts": "psychological domain", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "psychological domain"}], ["nassau grouper", {"concepts": "nassau grouper", "type": "concept", "cluster": "Regulatory Compliance", "node_size": 10, "label": "nassau grouper"}]], "Marine Threats": [["marine mammals", {"concepts": "marine mammals", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "marine mammals"}], ["spawning habitats", {"concepts": "spawning habitats", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "spawning habitats"}], ["parrot fish", {"concepts": "parrot fish", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "parrot fish"}], ["fishing pressure", {"concepts": "fishing pressure", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "fishing pressure"}], ["johnson\u2019s seagrass", {"concepts": "johnson\u2019s seagrass", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "johnson\u2019s seagrass"}], ["marine debris", {"concepts": "marine debris", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "marine debris"}], ["shrimp fishery", {"concepts": "shrimp fishery", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "shrimp fishery"}], ["cetacean morbillivirus", {"concepts": "cetacean morbillivirus", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "cetacean morbillivirus"}], ["cetaceans", {"concepts": "cetaceans", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "cetaceans"}], ["spawning aggregations", {"concepts": "spawning aggregations", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "spawning aggregations"}], ["illegal fishing", {"concepts": "illegal fishing", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "illegal fishing"}], ["poaching", {"concepts": "poaching", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "poaching"}], ["lionfish invasions", {"concepts": "lionfish invasions", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "lionfish invasions"}], ["smalltooth sawfish", {"concepts": "smalltooth sawfish", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "smalltooth sawfish"}], ["lionfish", {"concepts": "lionfish", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "lionfish"}], ["fishery management", {"concepts": "fishery management", "type": "concept", "cluster": "Marine Threats", "node_size": 10, "label": "fishery management"}]], "Ecosystem Dynamics": [["reproductive output", {"concepts": "reproductive output", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "reproductive output"}], ["regime shifts", {"concepts": "regime shifts", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "regime shifts"}], ["calving rates", {"concepts": "calving rates", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "calving rates"}], ["spatial system", {"concepts": "spatial system", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "spatial system"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "harmful organisms"}], ["inadequacy of management measures", {"concepts": "inadequacy of management measures", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "inadequacy of management measures"}], ["genetic diversity", {"concepts": "genetic diversity", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "genetic diversity"}], ["odds ratios", {"concepts": "odds ratios", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "odds ratios"}], ["disease", {"concepts": "disease", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "disease"}], ["ecosystem plans", {"concepts": "ecosystem plans", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem plans"}], ["giant manta ray", {"concepts": "giant manta ray", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "giant manta ray"}], ["vessel strikes", {"concepts": "vessel strikes", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "vessel strikes"}], ["river ecosystems", {"concepts": "river ecosystems", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "river ecosystems"}], ["ecosystem function", {"concepts": "ecosystem function", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem function"}], ["coral settlement", {"concepts": "coral settlement", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "coral settlement"}], ["oil spills", {"concepts": "oil spills", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "oil spills"}], ["reproductive fitness", {"concepts": "reproductive fitness", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "reproductive fitness"}], ["ship strikes", {"concepts": "ship strikes", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ship strikes"}], ["stony coral tissue loss disease", {"concepts": "stony coral tissue loss disease", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "stony coral tissue loss disease"}], ["regional community composition", {"concepts": "regional community composition", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "regional community composition"}], ["adaptive management", {"concepts": "adaptive management", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "adaptive management"}], ["weighting adjustments", {"concepts": "weighting adjustments", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "weighting adjustments"}], ["coral", {"concepts": "coral", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "coral"}], ["gene flow", {"concepts": "gene flow", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "gene flow"}], ["reproductive species", {"concepts": "reproductive species", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "reproductive species"}], ["management measures", {"concepts": "management measures", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "management measures"}], ["resilience", {"concepts": "resilience", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "resilience"}], ["hormonal cycle", {"concepts": "hormonal cycle", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "hormonal cycle"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "habitat forming species"}], ["manta ray", {"concepts": "manta ray", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "manta ray"}], ["sturgeon", {"concepts": "sturgeon", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "sturgeon"}], ["historical over utilization", {"concepts": "historical over utilization", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "historical over utilization"}], ["reproductive cycle", {"concepts": "reproductive cycle", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "reproductive cycle"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "climate change"}], ["dynamic management", {"concepts": "dynamic management", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "dynamic management"}], ["ship speed rules", {"concepts": "ship speed rules", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ship speed rules"}], ["abundance", {"concepts": "abundance", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "abundance"}]], "Entanglement Issues": [["entanglement risk", {"concepts": "entanglement risk", "type": "concept", "cluster": "Entanglement Issues", "node_size": 10, "label": "entanglement risk"}], ["connectivity disruptions", {"concepts": "connectivity disruptions", "type": "concept", "cluster": "Entanglement Issues", "node_size": 10, "label": "connectivity disruptions"}], ["entanglement", {"concepts": "entanglement", "type": "concept", "cluster": "Entanglement Issues", "node_size": 10, "label": "entanglement"}], ["connectivity", {"concepts": "connectivity", "type": "concept", "cluster": "Entanglement Issues", "node_size": 10, "label": "connectivity"}], ["gear entanglements", {"concepts": "gear entanglements", "type": "concept", "cluster": "Entanglement Issues", "node_size": 10, "label": "gear entanglements"}], ["gear entanglement", {"concepts": "gear entanglement", "type": "concept", "cluster": "Entanglement Issues", "node_size": 10, "label": "gear entanglement"}]], "Food Web Dynamics": [["bioenergetics", {"concepts": "bioenergetics", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "bioenergetics"}], ["prey location", {"concepts": "prey location", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "prey location"}], ["key food web species", {"concepts": "key food web species", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "key food web species"}], ["food base", {"concepts": "food base", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "food base"}], ["local prey abundance", {"concepts": "local prey abundance", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "local prey abundance"}], ["large predators", {"concepts": "large predators", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "large predators"}], ["key food webs", {"concepts": "key food webs", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "key food webs"}], ["prey distribution", {"concepts": "prey distribution", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "prey distribution"}], ["predation", {"concepts": "predation", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "predation"}]], "Reproductive Outcomes": [["mate finding", {"concepts": "mate finding", "type": "concept", "cluster": "Reproductive Outcomes", "node_size": 10, "label": "mate finding"}], ["dams", {"concepts": "dams", "type": "concept", "cluster": "Reproductive Outcomes", "node_size": 10, "label": "dams"}], ["mortalities", {"concepts": "mortalities", "type": "concept", "cluster": "Reproductive Outcomes", "node_size": 10, "label": "mortalities"}], ["unusual mortality events", {"concepts": "unusual mortality events", "type": "concept", "cluster": "Reproductive Outcomes", "node_size": 10, "label": "unusual mortality events"}], ["birth rates", {"concepts": "birth rates", "type": "concept", "cluster": "Reproductive Outcomes", "node_size": 10, "label": "birth rates"}], ["mortality events", {"concepts": "mortality events", "type": "concept", "cluster": "Reproductive Outcomes", "node_size": 10, "label": "mortality events"}], ["categorical weights", {"concepts": "categorical weights", "type": "concept", "cluster": "Reproductive Outcomes", "node_size": 10, "label": "categorical weights"}]]};
        const clusterEdges = {"Species Decline": [], "Pollution Impact": [], "Species Presence": [], "Population Analysis": [], "Conservation Challenges": [], "Regulatory Compliance": [], "Marine Threats": [], "Ecosystem Dynamics": [], "Entanglement Issues": [], "Food Web Dynamics": [], "Reproductive Outcomes": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
