
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"harvest policies": {"concepts": "harvest policies", "concept_list": ["harvest policies"], "type": "cluster", "node_size": 18, "label": "harvest policies"}, "river environment": {"concepts": "river environment", "concept_list": ["river environment"], "type": "cluster", "node_size": 18, "label": "river environment"}, "columbia river": {"concepts": "columbia river, whitewater rafting", "concept_list": ["columbia river", "whitewater rafting"], "type": "cluster", "node_size": 21, "label": "columbia river"}, "watersheds": {"concepts": "watersheds", "concept_list": ["watersheds"], "type": "cluster", "node_size": 18, "label": "watersheds"}, "Overharvesting": {"concepts": "industrial pollution, chemical exposure", "concept_list": ["industrial pollution", "chemical exposure"], "type": "cluster", "node_size": 21, "label": "Overharvesting"}, "Overharvest Control": {"concepts": "overharvesting, overharvest reduction, overharvest", "concept_list": ["overharvesting", "overharvest reduction", "overharvest"], "type": "cluster", "node_size": 24, "label": "Overharvest Control"}, "Resource Impact Management": {"concepts": "environmental harm, commercial overharvest, harvest management, chemical pollution", "concept_list": ["environmental harm", "commercial overharvest", "harvest management", "chemical pollution"], "type": "cluster", "node_size": 27, "label": "Resource Impact Management"}, "Environmental Impact": {"concepts": "species conservation, endangered species, conservation concern, biodiversity, species extinction", "concept_list": ["species conservation", "endangered species", "conservation concern", "biodiversity", "species extinction"], "type": "cluster", "node_size": 30, "label": "Environmental Impact"}, "Species Conservation": {"concepts": "food web species, food web supporting species, food web, maximum sustainable yield", "concept_list": ["food web species", "food web supporting species", "food web", "maximum sustainable yield"], "type": "cluster", "node_size": 27, "label": "Species Conservation"}, "Fisheries Conservation Management": {"concepts": "single-species management, ecosystem-based management, commercial harvest, population sustainability, multi-species management, conservation policy, conservation efforts, ecosystem services", "concept_list": ["single-species management", "ecosystem-based management", "commercial harvest", "population sustainability", "multi-species management", "conservation policy", "conservation efforts", "ecosystem services"], "type": "cluster", "node_size": 39, "label": "Fisheries Conservation Management"}, "Ecosystem Sustainability": {"concepts": "sustainable numbers, ecological impact, population decline, nutrient load, ecosystem impact, ecosystem", "concept_list": ["sustainable numbers", "ecological impact", "population decline", "nutrient load", "ecosystem impact", "ecosystem"], "type": "cluster", "node_size": 33, "label": "Ecosystem Sustainability"}, "Wildlife Nutrient Management": {"concepts": "department of fish and wildlife, marine derived nutrients, species of conservation concern, wildlife management, nutrient enhancement", "concept_list": ["department of fish and wildlife", "marine derived nutrients", "species of conservation concern", "wildlife management", "nutrient enhancement"], "type": "cluster", "node_size": 30, "label": "Wildlife Nutrient Management"}, "Overfishing Impact": {"concepts": "fishing pressure, overfishing, ocean harvest, pollock fisheries, squid fisheries", "concept_list": ["fishing pressure", "overfishing", "ocean harvest", "pollock fisheries", "squid fisheries"], "type": "cluster", "node_size": 30, "label": "Overfishing Impact"}, "Sustainable Ocean Fishing": {"concepts": "ocean fishing, selective fishing, recreational fishing", "concept_list": ["ocean fishing", "selective fishing", "recreational fishing"], "type": "cluster", "node_size": 24, "label": "Sustainable Ocean Fishing"}, "Pacific Commercial Fishing": {"concepts": "pacific ocean, commercial fishing, nonselective fishing", "concept_list": ["pacific ocean", "commercial fishing", "nonselective fishing"], "type": "cluster", "node_size": 24, "label": "Pacific Commercial Fishing"}, "Coastal & Marine Systems": {"concepts": "chesapeake bay, gulf of mexico, tributaries, chesapeake bay workshop, mobile bay, puget sound, pacific northwest, oregon, olympic peninsula, maryland, canada, alaska, bonneville dam, hydro, soft structures, hard structures", "concept_list": ["chesapeake bay", "gulf of mexico", "tributaries", "chesapeake bay workshop", "mobile bay", "puget sound", "pacific northwest", "oregon", "olympic peninsula", "maryland", "canada", "alaska", "bonneville dam", "hydro", "soft structures", "hard structures"], "type": "cluster", "node_size": 63, "label": "Coastal & Marine Systems"}, "Policy and Legal Reform": {"concepts": "national lawsuits, policy management, status quo advocates, cca, policy change, management policy, development, management, policy intervention", "concept_list": ["national lawsuits", "policy management", "status quo advocates", "cca", "policy change", "management policy", "development", "management", "policy intervention"], "type": "cluster", "node_size": 42, "label": "Policy and Legal Reform"}, "Environmental Threats": {"concepts": "harmful organisms, environmental stressors, stressors, environmental factors, whirling disease, bacteria", "concept_list": ["harmful organisms", "environmental stressors", "stressors", "environmental factors", "whirling disease", "bacteria"], "type": "cluster", "node_size": 33, "label": "Environmental Threats"}, "Fish Reproduction & Bycatch": {"concepts": "smelt, steelhead, herring, reproduction, bycatch", "concept_list": ["smelt", "steelhead", "herring", "reproduction", "bycatch"], "type": "cluster", "node_size": 30, "label": "Fish Reproduction & Bycatch"}, "Fisheries Stakeholder Groups": {"concepts": "tribal layer, tag alabama program, blakely ellis, cca alabama, washington, treaty tribes, tribal communities, forward-thinking commissioners, consumptive user groups, non-tribal communities, commercial sector, david sikorsky, resource users", "concept_list": ["tribal layer", "tag alabama program", "blakely ellis", "cca alabama", "washington", "treaty tribes", "tribal communities", "forward-thinking commissioners", "consumptive user groups", "non-tribal communities", "commercial sector", "david sikorsky", "resource users"], "type": "cluster", "node_size": 54, "label": "Fisheries Stakeholder Groups"}, "Fisheries Management Challenges": {"concepts": "technical difficulties, university, human considerations, resource allocation, gill netting, managers, outcompeting, non-tribal gill netting, researchers", "concept_list": ["technical difficulties", "university", "human considerations", "resource allocation", "gill netting", "managers", "outcompeting", "non-tribal gill netting", "researchers"], "type": "cluster", "node_size": 42, "label": "Fisheries Management Challenges"}, "Fisheries Management Practices": {"concepts": "executive director, carcass placement, national parks, docks, sedimentation, cca washington, harvest, non-tribal gillnetting, case study", "concept_list": ["executive director", "carcass placement", "national parks", "docks", "sedimentation", "cca washington", "harvest", "non-tribal gillnetting", "case study"], "type": "cluster", "node_size": 42, "label": "Fisheries Management Practices"}, "Flow Alteration": {"concepts": "river flow variation, altered hydrology", "concept_list": ["river flow variation", "altered hydrology"], "type": "cluster", "node_size": 21, "label": "Flow Alteration"}, "River Restoration": {"concepts": "river flow alteration, dam removal, nooksack river, shoreline alteration", "concept_list": ["river flow alteration", "dam removal", "nooksack river", "shoreline alteration"], "type": "cluster", "node_size": 27, "label": "River Restoration"}, "Fisheries Management": {"concepts": "commercial fisheries, fisheries commission", "concept_list": ["commercial fisheries", "fisheries commission"], "type": "cluster", "node_size": 21, "label": "Fisheries Management"}, "Salmon Population Conservation": {"concepts": "juvenile salmon mortality, returning salmon populations, salmon population decline, salmon conservation, salmon, salmon habitat", "concept_list": ["juvenile salmon mortality", "returning salmon populations", "salmon population decline", "salmon conservation", "salmon", "salmon habitat"], "type": "cluster", "node_size": 33, "label": "Salmon Population Conservation"}, "Hatchery vs Wild Salmon": {"concepts": "juvenile salmon, anti-hatchery groups, hatchery reproduction, hatcheries, hatchery fish, wild salmon advocates, natural reproduction, wild salmon", "concept_list": ["juvenile salmon", "anti-hatchery groups", "hatchery reproduction", "hatcheries", "hatchery fish", "wild salmon advocates", "natural reproduction", "wild salmon"], "type": "cluster", "node_size": 39, "label": "Hatchery vs Wild Salmon"}, "Fish Spawning & Habitat": {"concepts": "forage fish, spawning grounds, wild fish, spawning gravel, wild populations, fish spawning, fish mortality, spawning habitat, fish analogs", "concept_list": ["forage fish", "spawning grounds", "wild fish", "spawning gravel", "wild populations", "fish spawning", "fish mortality", "spawning habitat", "fish analogs"], "type": "cluster", "node_size": 42, "label": "Fish Spawning & Habitat"}, "Salmon Restoration": {"concepts": "salmon analogs, fish carcasses, hatchery salmon, salmon recovery", "concept_list": ["salmon analogs", "fish carcasses", "hatchery salmon", "salmon recovery"], "type": "cluster", "node_size": 27, "label": "Salmon Restoration"}, "Runoff Pollution": {"concepts": "road runoff, chemical runoff, runoff, runoff pollution, water pollution", "concept_list": ["road runoff", "chemical runoff", "runoff", "runoff pollution", "water pollution"], "type": "cluster", "node_size": 30, "label": "Runoff Pollution"}, "Hydropower and Climate": {"concepts": "warmer water, hydro projects", "concept_list": ["warmer water", "hydro projects"], "type": "cluster", "node_size": 21, "label": "Hydropower and Climate"}, "Water Resource Impact": {"concepts": "watershed nutrients, industrial runoff, irrigation", "concept_list": ["watershed nutrients", "industrial runoff", "irrigation"], "type": "cluster", "node_size": 24, "label": "Water Resource Impact"}, "Habitat Conservation": {"concepts": "habitat protection, habitat restoration, coastal habitat, habitat projects", "concept_list": ["habitat protection", "habitat restoration", "coastal habitat", "habitat projects"], "type": "cluster", "node_size": 27, "label": "Habitat Conservation"}, "Habitat Context": {"concepts": "habitat forming species, habitat background", "concept_list": ["habitat forming species", "habitat background"], "type": "cluster", "node_size": 21, "label": "Habitat Context"}, "Habitat Utilization": {"concepts": "underutilized habitat, natal streams, pristine habitat, habitat, impervious surfaces", "concept_list": ["underutilized habitat", "natal streams", "pristine habitat", "habitat", "impervious surfaces"], "type": "cluster", "node_size": 30, "label": "Habitat Utilization"}};
        const conceptData = {"whitewater rafting": {"concepts": "whitewater rafting", "type": "concept", "cluster": "columbia river", "node_size": 10, "label": "whitewater rafting"}, "industrial pollution": {"concepts": "industrial pollution", "type": "concept", "cluster": "Overharvesting", "node_size": 10, "label": "industrial pollution"}, "chemical exposure": {"concepts": "chemical exposure", "type": "concept", "cluster": "Overharvesting", "node_size": 10, "label": "chemical exposure"}, "overharvesting": {"concepts": "overharvesting", "type": "concept", "cluster": "Overharvest Control", "node_size": 10, "label": "overharvesting"}, "overharvest reduction": {"concepts": "overharvest reduction", "type": "concept", "cluster": "Overharvest Control", "node_size": 10, "label": "overharvest reduction"}, "overharvest": {"concepts": "overharvest", "type": "concept", "cluster": "Overharvest Control", "node_size": 10, "label": "overharvest"}, "environmental harm": {"concepts": "environmental harm", "type": "concept", "cluster": "Resource Impact Management", "node_size": 10, "label": "environmental harm"}, "commercial overharvest": {"concepts": "commercial overharvest", "type": "concept", "cluster": "Resource Impact Management", "node_size": 10, "label": "commercial overharvest"}, "harvest management": {"concepts": "harvest management", "type": "concept", "cluster": "Resource Impact Management", "node_size": 10, "label": "harvest management"}, "chemical pollution": {"concepts": "chemical pollution", "type": "concept", "cluster": "Resource Impact Management", "node_size": 10, "label": "chemical pollution"}, "species conservation": {"concepts": "species conservation", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "species conservation"}, "endangered species": {"concepts": "endangered species", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "endangered species"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "conservation concern"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "biodiversity"}, "species extinction": {"concepts": "species extinction", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "species extinction"}, "food web species": {"concepts": "food web species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "food web species"}, "food web supporting species": {"concepts": "food web supporting species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "food web supporting species"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "food web"}, "maximum sustainable yield": {"concepts": "maximum sustainable yield", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "maximum sustainable yield"}, "single-species management": {"concepts": "single-species management", "type": "concept", "cluster": "Fisheries Conservation Management", "node_size": 10, "label": "single-species management"}, "ecosystem-based management": {"concepts": "ecosystem-based management", "type": "concept", "cluster": "Fisheries Conservation Management", "node_size": 10, "label": "ecosystem-based management"}, "commercial harvest": {"concepts": "commercial harvest", "type": "concept", "cluster": "Fisheries Conservation Management", "node_size": 10, "label": "commercial harvest"}, "population sustainability": {"concepts": "population sustainability", "type": "concept", "cluster": "Fisheries Conservation Management", "node_size": 10, "label": "population sustainability"}, "multi-species management": {"concepts": "multi-species management", "type": "concept", "cluster": "Fisheries Conservation Management", "node_size": 10, "label": "multi-species management"}, "conservation policy": {"concepts": "conservation policy", "type": "concept", "cluster": "Fisheries Conservation Management", "node_size": 10, "label": "conservation policy"}, "conservation efforts": {"concepts": "conservation efforts", "type": "concept", "cluster": "Fisheries Conservation Management", "node_size": 10, "label": "conservation efforts"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Fisheries Conservation Management", "node_size": 10, "label": "ecosystem services"}, "sustainable numbers": {"concepts": "sustainable numbers", "type": "concept", "cluster": "Ecosystem Sustainability", "node_size": 10, "label": "sustainable numbers"}, "ecological impact": {"concepts": "ecological impact", "type": "concept", "cluster": "Ecosystem Sustainability", "node_size": 10, "label": "ecological impact"}, "population decline": {"concepts": "population decline", "type": "concept", "cluster": "Ecosystem Sustainability", "node_size": 10, "label": "population decline"}, "nutrient load": {"concepts": "nutrient load", "type": "concept", "cluster": "Ecosystem Sustainability", "node_size": 10, "label": "nutrient load"}, "ecosystem impact": {"concepts": "ecosystem impact", "type": "concept", "cluster": "Ecosystem Sustainability", "node_size": 10, "label": "ecosystem impact"}, "ecosystem": {"concepts": "ecosystem", "type": "concept", "cluster": "Ecosystem Sustainability", "node_size": 10, "label": "ecosystem"}, "department of fish and wildlife": {"concepts": "department of fish and wildlife", "type": "concept", "cluster": "Wildlife Nutrient Management", "node_size": 10, "label": "department of fish and wildlife"}, "marine derived nutrients": {"concepts": "marine derived nutrients", "type": "concept", "cluster": "Wildlife Nutrient Management", "node_size": 10, "label": "marine derived nutrients"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Wildlife Nutrient Management", "node_size": 10, "label": "species of conservation concern"}, "wildlife management": {"concepts": "wildlife management", "type": "concept", "cluster": "Wildlife Nutrient Management", "node_size": 10, "label": "wildlife management"}, "nutrient enhancement": {"concepts": "nutrient enhancement", "type": "concept", "cluster": "Wildlife Nutrient Management", "node_size": 10, "label": "nutrient enhancement"}, "fishing pressure": {"concepts": "fishing pressure", "type": "concept", "cluster": "Overfishing Impact", "node_size": 10, "label": "fishing pressure"}, "overfishing": {"concepts": "overfishing", "type": "concept", "cluster": "Overfishing Impact", "node_size": 10, "label": "overfishing"}, "ocean harvest": {"concepts": "ocean harvest", "type": "concept", "cluster": "Overfishing Impact", "node_size": 10, "label": "ocean harvest"}, "pollock fisheries": {"concepts": "pollock fisheries", "type": "concept", "cluster": "Overfishing Impact", "node_size": 10, "label": "pollock fisheries"}, "squid fisheries": {"concepts": "squid fisheries", "type": "concept", "cluster": "Overfishing Impact", "node_size": 10, "label": "squid fisheries"}, "ocean fishing": {"concepts": "ocean fishing", "type": "concept", "cluster": "Sustainable Ocean Fishing", "node_size": 10, "label": "ocean fishing"}, "selective fishing": {"concepts": "selective fishing", "type": "concept", "cluster": "Sustainable Ocean Fishing", "node_size": 10, "label": "selective fishing"}, "recreational fishing": {"concepts": "recreational fishing", "type": "concept", "cluster": "Sustainable Ocean Fishing", "node_size": 10, "label": "recreational fishing"}, "pacific ocean": {"concepts": "pacific ocean", "type": "concept", "cluster": "Pacific Commercial Fishing", "node_size": 10, "label": "pacific ocean"}, "commercial fishing": {"concepts": "commercial fishing", "type": "concept", "cluster": "Pacific Commercial Fishing", "node_size": 10, "label": "commercial fishing"}, "nonselective fishing": {"concepts": "nonselective fishing", "type": "concept", "cluster": "Pacific Commercial Fishing", "node_size": 10, "label": "nonselective fishing"}, "chesapeake bay": {"concepts": "chesapeake bay", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "chesapeake bay"}, "gulf of mexico": {"concepts": "gulf of mexico", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "gulf of mexico"}, "tributaries": {"concepts": "tributaries", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "tributaries"}, "chesapeake bay workshop": {"concepts": "chesapeake bay workshop", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "chesapeake bay workshop"}, "mobile bay": {"concepts": "mobile bay", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "mobile bay"}, "puget sound": {"concepts": "puget sound", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "puget sound"}, "pacific northwest": {"concepts": "pacific northwest", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "pacific northwest"}, "oregon": {"concepts": "oregon", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "oregon"}, "olympic peninsula": {"concepts": "olympic peninsula", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "olympic peninsula"}, "maryland": {"concepts": "maryland", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "maryland"}, "canada": {"concepts": "canada", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "canada"}, "alaska": {"concepts": "alaska", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "alaska"}, "bonneville dam": {"concepts": "bonneville dam", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "bonneville dam"}, "hydro": {"concepts": "hydro", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "hydro"}, "soft structures": {"concepts": "soft structures", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "soft structures"}, "hard structures": {"concepts": "hard structures", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "hard structures"}, "national lawsuits": {"concepts": "national lawsuits", "type": "concept", "cluster": "Policy and Legal Reform", "node_size": 10, "label": "national lawsuits"}, "policy management": {"concepts": "policy management", "type": "concept", "cluster": "Policy and Legal Reform", "node_size": 10, "label": "policy management"}, "status quo advocates": {"concepts": "status quo advocates", "type": "concept", "cluster": "Policy and Legal Reform", "node_size": 10, "label": "status quo advocates"}, "cca": {"concepts": "cca", "type": "concept", "cluster": "Policy and Legal Reform", "node_size": 10, "label": "cca"}, "policy change": {"concepts": "policy change", "type": "concept", "cluster": "Policy and Legal Reform", "node_size": 10, "label": "policy change"}, "management policy": {"concepts": "management policy", "type": "concept", "cluster": "Policy and Legal Reform", "node_size": 10, "label": "management policy"}, "development": {"concepts": "development", "type": "concept", "cluster": "Policy and Legal Reform", "node_size": 10, "label": "development"}, "management": {"concepts": "management", "type": "concept", "cluster": "Policy and Legal Reform", "node_size": 10, "label": "management"}, "policy intervention": {"concepts": "policy intervention", "type": "concept", "cluster": "Policy and Legal Reform", "node_size": 10, "label": "policy intervention"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Environmental Threats", "node_size": 10, "label": "harmful organisms"}, "environmental stressors": {"concepts": "environmental stressors", "type": "concept", "cluster": "Environmental Threats", "node_size": 10, "label": "environmental stressors"}, "stressors": {"concepts": "stressors", "type": "concept", "cluster": "Environmental Threats", "node_size": 10, "label": "stressors"}, "environmental factors": {"concepts": "environmental factors", "type": "concept", "cluster": "Environmental Threats", "node_size": 10, "label": "environmental factors"}, "whirling disease": {"concepts": "whirling disease", "type": "concept", "cluster": "Environmental Threats", "node_size": 10, "label": "whirling disease"}, "bacteria": {"concepts": "bacteria", "type": "concept", "cluster": "Environmental Threats", "node_size": 10, "label": "bacteria"}, "smelt": {"concepts": "smelt", "type": "concept", "cluster": "Fish Reproduction & Bycatch", "node_size": 10, "label": "smelt"}, "steelhead": {"concepts": "steelhead", "type": "concept", "cluster": "Fish Reproduction & Bycatch", "node_size": 10, "label": "steelhead"}, "herring": {"concepts": "herring", "type": "concept", "cluster": "Fish Reproduction & Bycatch", "node_size": 10, "label": "herring"}, "reproduction": {"concepts": "reproduction", "type": "concept", "cluster": "Fish Reproduction & Bycatch", "node_size": 10, "label": "reproduction"}, "bycatch": {"concepts": "bycatch", "type": "concept", "cluster": "Fish Reproduction & Bycatch", "node_size": 10, "label": "bycatch"}, "tribal layer": {"concepts": "tribal layer", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "tribal layer"}, "tag alabama program": {"concepts": "tag alabama program", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "tag alabama program"}, "blakely ellis": {"concepts": "blakely ellis", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "blakely ellis"}, "cca alabama": {"concepts": "cca alabama", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "cca alabama"}, "washington": {"concepts": "washington", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "washington"}, "treaty tribes": {"concepts": "treaty tribes", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "treaty tribes"}, "tribal communities": {"concepts": "tribal communities", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "tribal communities"}, "forward-thinking commissioners": {"concepts": "forward-thinking commissioners", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "forward-thinking commissioners"}, "consumptive user groups": {"concepts": "consumptive user groups", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "consumptive user groups"}, "non-tribal communities": {"concepts": "non-tribal communities", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "non-tribal communities"}, "commercial sector": {"concepts": "commercial sector", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "commercial sector"}, "david sikorsky": {"concepts": "david sikorsky", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "david sikorsky"}, "resource users": {"concepts": "resource users", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "resource users"}, "technical difficulties": {"concepts": "technical difficulties", "type": "concept", "cluster": "Fisheries Management Challenges", "node_size": 10, "label": "technical difficulties"}, "university": {"concepts": "university", "type": "concept", "cluster": "Fisheries Management Challenges", "node_size": 10, "label": "university"}, "human considerations": {"concepts": "human considerations", "type": "concept", "cluster": "Fisheries Management Challenges", "node_size": 10, "label": "human considerations"}, "resource allocation": {"concepts": "resource allocation", "type": "concept", "cluster": "Fisheries Management Challenges", "node_size": 10, "label": "resource allocation"}, "gill netting": {"concepts": "gill netting", "type": "concept", "cluster": "Fisheries Management Challenges", "node_size": 10, "label": "gill netting"}, "managers": {"concepts": "managers", "type": "concept", "cluster": "Fisheries Management Challenges", "node_size": 10, "label": "managers"}, "outcompeting": {"concepts": "outcompeting", "type": "concept", "cluster": "Fisheries Management Challenges", "node_size": 10, "label": "outcompeting"}, "non-tribal gill netting": {"concepts": "non-tribal gill netting", "type": "concept", "cluster": "Fisheries Management Challenges", "node_size": 10, "label": "non-tribal gill netting"}, "researchers": {"concepts": "researchers", "type": "concept", "cluster": "Fisheries Management Challenges", "node_size": 10, "label": "researchers"}, "executive director": {"concepts": "executive director", "type": "concept", "cluster": "Fisheries Management Practices", "node_size": 10, "label": "executive director"}, "carcass placement": {"concepts": "carcass placement", "type": "concept", "cluster": "Fisheries Management Practices", "node_size": 10, "label": "carcass placement"}, "national parks": {"concepts": "national parks", "type": "concept", "cluster": "Fisheries Management Practices", "node_size": 10, "label": "national parks"}, "docks": {"concepts": "docks", "type": "concept", "cluster": "Fisheries Management Practices", "node_size": 10, "label": "docks"}, "sedimentation": {"concepts": "sedimentation", "type": "concept", "cluster": "Fisheries Management Practices", "node_size": 10, "label": "sedimentation"}, "cca washington": {"concepts": "cca washington", "type": "concept", "cluster": "Fisheries Management Practices", "node_size": 10, "label": "cca washington"}, "harvest": {"concepts": "harvest", "type": "concept", "cluster": "Fisheries Management Practices", "node_size": 10, "label": "harvest"}, "non-tribal gillnetting": {"concepts": "non-tribal gillnetting", "type": "concept", "cluster": "Fisheries Management Practices", "node_size": 10, "label": "non-tribal gillnetting"}, "case study": {"concepts": "case study", "type": "concept", "cluster": "Fisheries Management Practices", "node_size": 10, "label": "case study"}, "river flow variation": {"concepts": "river flow variation", "type": "concept", "cluster": "Flow Alteration", "node_size": 10, "label": "river flow variation"}, "altered hydrology": {"concepts": "altered hydrology", "type": "concept", "cluster": "Flow Alteration", "node_size": 10, "label": "altered hydrology"}, "river flow alteration": {"concepts": "river flow alteration", "type": "concept", "cluster": "River Restoration", "node_size": 10, "label": "river flow alteration"}, "dam removal": {"concepts": "dam removal", "type": "concept", "cluster": "River Restoration", "node_size": 10, "label": "dam removal"}, "nooksack river": {"concepts": "nooksack river", "type": "concept", "cluster": "River Restoration", "node_size": 10, "label": "nooksack river"}, "shoreline alteration": {"concepts": "shoreline alteration", "type": "concept", "cluster": "River Restoration", "node_size": 10, "label": "shoreline alteration"}, "commercial fisheries": {"concepts": "commercial fisheries", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "commercial fisheries"}, "fisheries commission": {"concepts": "fisheries commission", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fisheries commission"}, "juvenile salmon mortality": {"concepts": "juvenile salmon mortality", "type": "concept", "cluster": "Salmon Population Conservation", "node_size": 10, "label": "juvenile salmon mortality"}, "returning salmon populations": {"concepts": "returning salmon populations", "type": "concept", "cluster": "Salmon Population Conservation", "node_size": 10, "label": "returning salmon populations"}, "salmon population decline": {"concepts": "salmon population decline", "type": "concept", "cluster": "Salmon Population Conservation", "node_size": 10, "label": "salmon population decline"}, "salmon conservation": {"concepts": "salmon conservation", "type": "concept", "cluster": "Salmon Population Conservation", "node_size": 10, "label": "salmon conservation"}, "salmon": {"concepts": "salmon", "type": "concept", "cluster": "Salmon Population Conservation", "node_size": 10, "label": "salmon"}, "salmon habitat": {"concepts": "salmon habitat", "type": "concept", "cluster": "Salmon Population Conservation", "node_size": 10, "label": "salmon habitat"}, "juvenile salmon": {"concepts": "juvenile salmon", "type": "concept", "cluster": "Hatchery vs Wild Salmon", "node_size": 10, "label": "juvenile salmon"}, "anti-hatchery groups": {"concepts": "anti-hatchery groups", "type": "concept", "cluster": "Hatchery vs Wild Salmon", "node_size": 10, "label": "anti-hatchery groups"}, "hatchery reproduction": {"concepts": "hatchery reproduction", "type": "concept", "cluster": "Hatchery vs Wild Salmon", "node_size": 10, "label": "hatchery reproduction"}, "hatcheries": {"concepts": "hatcheries", "type": "concept", "cluster": "Hatchery vs Wild Salmon", "node_size": 10, "label": "hatcheries"}, "hatchery fish": {"concepts": "hatchery fish", "type": "concept", "cluster": "Hatchery vs Wild Salmon", "node_size": 10, "label": "hatchery fish"}, "wild salmon advocates": {"concepts": "wild salmon advocates", "type": "concept", "cluster": "Hatchery vs Wild Salmon", "node_size": 10, "label": "wild salmon advocates"}, "natural reproduction": {"concepts": "natural reproduction", "type": "concept", "cluster": "Hatchery vs Wild Salmon", "node_size": 10, "label": "natural reproduction"}, "wild salmon": {"concepts": "wild salmon", "type": "concept", "cluster": "Hatchery vs Wild Salmon", "node_size": 10, "label": "wild salmon"}, "forage fish": {"concepts": "forage fish", "type": "concept", "cluster": "Fish Spawning & Habitat", "node_size": 10, "label": "forage fish"}, "spawning grounds": {"concepts": "spawning grounds", "type": "concept", "cluster": "Fish Spawning & Habitat", "node_size": 10, "label": "spawning grounds"}, "wild fish": {"concepts": "wild fish", "type": "concept", "cluster": "Fish Spawning & Habitat", "node_size": 10, "label": "wild fish"}, "spawning gravel": {"concepts": "spawning gravel", "type": "concept", "cluster": "Fish Spawning & Habitat", "node_size": 10, "label": "spawning gravel"}, "wild populations": {"concepts": "wild populations", "type": "concept", "cluster": "Fish Spawning & Habitat", "node_size": 10, "label": "wild populations"}, "fish spawning": {"concepts": "fish spawning", "type": "concept", "cluster": "Fish Spawning & Habitat", "node_size": 10, "label": "fish spawning"}, "fish mortality": {"concepts": "fish mortality", "type": "concept", "cluster": "Fish Spawning & Habitat", "node_size": 10, "label": "fish mortality"}, "spawning habitat": {"concepts": "spawning habitat", "type": "concept", "cluster": "Fish Spawning & Habitat", "node_size": 10, "label": "spawning habitat"}, "fish analogs": {"concepts": "fish analogs", "type": "concept", "cluster": "Fish Spawning & Habitat", "node_size": 10, "label": "fish analogs"}, "salmon analogs": {"concepts": "salmon analogs", "type": "concept", "cluster": "Salmon Restoration", "node_size": 10, "label": "salmon analogs"}, "fish carcasses": {"concepts": "fish carcasses", "type": "concept", "cluster": "Salmon Restoration", "node_size": 10, "label": "fish carcasses"}, "hatchery salmon": {"concepts": "hatchery salmon", "type": "concept", "cluster": "Salmon Restoration", "node_size": 10, "label": "hatchery salmon"}, "salmon recovery": {"concepts": "salmon recovery", "type": "concept", "cluster": "Salmon Restoration", "node_size": 10, "label": "salmon recovery"}, "road runoff": {"concepts": "road runoff", "type": "concept", "cluster": "Runoff Pollution", "node_size": 10, "label": "road runoff"}, "chemical runoff": {"concepts": "chemical runoff", "type": "concept", "cluster": "Runoff Pollution", "node_size": 10, "label": "chemical runoff"}, "runoff": {"concepts": "runoff", "type": "concept", "cluster": "Runoff Pollution", "node_size": 10, "label": "runoff"}, "runoff pollution": {"concepts": "runoff pollution", "type": "concept", "cluster": "Runoff Pollution", "node_size": 10, "label": "runoff pollution"}, "water pollution": {"concepts": "water pollution", "type": "concept", "cluster": "Runoff Pollution", "node_size": 10, "label": "water pollution"}, "warmer water": {"concepts": "warmer water", "type": "concept", "cluster": "Hydropower and Climate", "node_size": 10, "label": "warmer water"}, "hydro projects": {"concepts": "hydro projects", "type": "concept", "cluster": "Hydropower and Climate", "node_size": 10, "label": "hydro projects"}, "watershed nutrients": {"concepts": "watershed nutrients", "type": "concept", "cluster": "Water Resource Impact", "node_size": 10, "label": "watershed nutrients"}, "industrial runoff": {"concepts": "industrial runoff", "type": "concept", "cluster": "Water Resource Impact", "node_size": 10, "label": "industrial runoff"}, "irrigation": {"concepts": "irrigation", "type": "concept", "cluster": "Water Resource Impact", "node_size": 10, "label": "irrigation"}, "habitat protection": {"concepts": "habitat protection", "type": "concept", "cluster": "Habitat Conservation", "node_size": 10, "label": "habitat protection"}, "habitat restoration": {"concepts": "habitat restoration", "type": "concept", "cluster": "Habitat Conservation", "node_size": 10, "label": "habitat restoration"}, "coastal habitat": {"concepts": "coastal habitat", "type": "concept", "cluster": "Habitat Conservation", "node_size": 10, "label": "coastal habitat"}, "habitat projects": {"concepts": "habitat projects", "type": "concept", "cluster": "Habitat Conservation", "node_size": 10, "label": "habitat projects"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Habitat Context", "node_size": 10, "label": "habitat forming species"}, "habitat background": {"concepts": "habitat background", "type": "concept", "cluster": "Habitat Context", "node_size": 10, "label": "habitat background"}, "underutilized habitat": {"concepts": "underutilized habitat", "type": "concept", "cluster": "Habitat Utilization", "node_size": 10, "label": "underutilized habitat"}, "natal streams": {"concepts": "natal streams", "type": "concept", "cluster": "Habitat Utilization", "node_size": 10, "label": "natal streams"}, "pristine habitat": {"concepts": "pristine habitat", "type": "concept", "cluster": "Habitat Utilization", "node_size": 10, "label": "pristine habitat"}, "habitat": {"concepts": "habitat", "type": "concept", "cluster": "Habitat Utilization", "node_size": 10, "label": "habitat"}, "impervious surfaces": {"concepts": "impervious surfaces", "type": "concept", "cluster": "Habitat Utilization", "node_size": 10, "label": "impervious surfaces"}};
        const interClusterEdges = [["harvest policies", "Overharvest Control", {"weight": 1.0, "confidence": 0.9125, "type": "inter_cluster", "style": "solid"}], ["columbia river", "Ecosystem Sustainability", {"weight": -1.0, "confidence": 0.6833333333333332, "type": "inter_cluster", "style": "solid"}], ["watersheds", "Water Resource Impact", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["watersheds", "Runoff Pollution", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Overharvest Control", "Salmon Population Conservation", {"weight": -1.0, "confidence": 0.95, "type": "inter_cluster", "style": "solid"}], ["Resource Impact Management", "Environmental Threats", {"weight": 1.0, "confidence": 0.6749999999999999, "type": "inter_cluster", "style": "solid"}], ["Resource Impact Management", "harvest policies", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Environmental Impact", "Policy and Legal Reform", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Environmental Impact", "Ecosystem Sustainability", {"weight": 1.0, "confidence": 0.8500000000000001, "type": "inter_cluster", "style": "solid"}], ["Environmental Impact", "Fish Reproduction & Bycatch", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Species Conservation", "Fish Spawning & Habitat", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Species Conservation", "Overharvest Control", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Fisheries Conservation Management", "Fish Spawning & Habitat", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Sustainability", "Overharvest Control", {"weight": -1.0, "confidence": 0.8800000000000001, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Sustainability", "watersheds", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Wildlife Nutrient Management", "Ecosystem Sustainability", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Overfishing Impact", "river environment", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Overfishing Impact", "Habitat Context", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Sustainable Ocean Fishing", "river environment", {"weight": -1.0, "confidence": 0.6666666666666666, "type": "inter_cluster", "style": "solid"}], ["Sustainable Ocean Fishing", "Fish Spawning & Habitat", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Sustainable Ocean Fishing", "Fish Reproduction & Bycatch", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Pacific Commercial Fishing", "Fish Spawning & Habitat", {"weight": -1.0, "confidence": 0.8600000000000001, "type": "inter_cluster", "style": "solid"}], ["Pacific Commercial Fishing", "Habitat Context", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Pacific Commercial Fishing", "Flow Alteration", {"weight": -1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["Coastal & Marine Systems", "Fisheries Conservation Management", {"weight": 0.6, "confidence": 0.6599999999999999, "type": "inter_cluster", "style": "solid"}], ["Coastal & Marine Systems", "Overharvesting", {"weight": 0.6, "confidence": 0.62, "type": "inter_cluster", "style": "solid"}], ["Coastal & Marine Systems", "Environmental Threats", {"weight": 1.0, "confidence": 0.5800000000000001, "type": "inter_cluster", "style": "solid"}], ["Coastal & Marine Systems", "Overfishing Impact", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Coastal & Marine Systems", "Fisheries Management", {"weight": 1.0, "confidence": 0.6499999999999999, "type": "inter_cluster", "style": "solid"}], ["Coastal & Marine Systems", "Sustainable Ocean Fishing", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Policy and Legal Reform", "Fisheries Conservation Management", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Policy and Legal Reform", "watersheds", {"weight": 1.0, "confidence": 0.6333333333333333, "type": "inter_cluster", "style": "solid"}], ["Policy and Legal Reform", "columbia river", {"weight": 1.0, "confidence": 0.6666666666666666, "type": "inter_cluster", "style": "solid"}], ["Fisheries Stakeholder Groups", "Pacific Commercial Fishing", {"weight": 0.5, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management Challenges", "river environment", {"weight": -0.5, "confidence": 0.325, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management Challenges", "Fish Spawning & Habitat", {"weight": -0.5, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management Challenges", "Habitat Conservation", {"weight": -0.5, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management Practices", "Salmon Restoration", {"weight": 1.0, "confidence": 0.7899999999999998, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management Practices", "River Restoration", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management Practices", "Fish Spawning & Habitat", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management Practices", "Pacific Commercial Fishing", {"weight": 1.0, "confidence": 0.675, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management Practices", "Runoff Pollution", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Species Conservation", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Fisheries Management Practices", {"weight": 1.0, "confidence": 0.675, "type": "inter_cluster", "style": "solid"}], ["Salmon Population Conservation", "columbia river", {"weight": -0.5, "confidence": 0.6749999999999999, "type": "inter_cluster", "style": "solid"}], ["Salmon Population Conservation", "Habitat Utilization", {"weight": -0.3333333333333333, "confidence": 0.7666666666666666, "type": "inter_cluster", "style": "solid"}], ["Salmon Population Conservation", "Environmental Threats", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Hatchery vs Wild Salmon", "Runoff Pollution", {"weight": -0.6666666666666666, "confidence": 0.5333333333333333, "type": "inter_cluster", "style": "solid"}], ["Hatchery vs Wild Salmon", "Habitat Utilization", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Salmon Restoration", "Hatchery vs Wild Salmon", {"weight": 0.75, "confidence": 0.5875, "type": "inter_cluster", "style": "solid"}], ["Salmon Restoration", "Habitat Conservation", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["Runoff Pollution", "Coastal & Marine Systems", {"weight": -0.5, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["Runoff Pollution", "Hydropower and Climate", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Hydropower and Climate", "Salmon Population Conservation", {"weight": -1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Hydropower and Climate", "Wildlife Nutrient Management", {"weight": -0.3333333333333333, "confidence": 0.5666666666666667, "type": "inter_cluster", "style": "solid"}], ["Hydropower and Climate", "River Restoration", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Water Resource Impact", "Habitat Context", {"weight": 0.2, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Water Resource Impact", "Fisheries Management", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Habitat Conservation", "Flow Alteration", {"weight": -1.0, "confidence": 0.6799999999999999, "type": "inter_cluster", "style": "solid"}], ["Habitat Conservation", "Policy and Legal Reform", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Habitat Context", "Overfishing Impact", {"weight": -0.5, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"columbia river": [["whitewater rafting", {"concepts": "whitewater rafting", "type": "concept", "cluster": "columbia river", "node_size": 10, "label": "whitewater rafting"}]], "Overharvesting": [["industrial pollution", {"concepts": "industrial pollution", "type": "concept", "cluster": "Overharvesting", "node_size": 10, "label": "industrial pollution"}], ["chemical exposure", {"concepts": "chemical exposure", "type": "concept", "cluster": "Overharvesting", "node_size": 10, "label": "chemical exposure"}]], "Overharvest Control": [["overharvesting", {"concepts": "overharvesting", "type": "concept", "cluster": "Overharvest Control", "node_size": 10, "label": "overharvesting"}], ["overharvest reduction", {"concepts": "overharvest reduction", "type": "concept", "cluster": "Overharvest Control", "node_size": 10, "label": "overharvest reduction"}], ["overharvest", {"concepts": "overharvest", "type": "concept", "cluster": "Overharvest Control", "node_size": 10, "label": "overharvest"}]], "Resource Impact Management": [["environmental harm", {"concepts": "environmental harm", "type": "concept", "cluster": "Resource Impact Management", "node_size": 10, "label": "environmental harm"}], ["commercial overharvest", {"concepts": "commercial overharvest", "type": "concept", "cluster": "Resource Impact Management", "node_size": 10, "label": "commercial overharvest"}], ["harvest management", {"concepts": "harvest management", "type": "concept", "cluster": "Resource Impact Management", "node_size": 10, "label": "harvest management"}], ["chemical pollution", {"concepts": "chemical pollution", "type": "concept", "cluster": "Resource Impact Management", "node_size": 10, "label": "chemical pollution"}]], "Environmental Impact": [["species conservation", {"concepts": "species conservation", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "species conservation"}], ["endangered species", {"concepts": "endangered species", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "endangered species"}], ["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "conservation concern"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "biodiversity"}], ["species extinction", {"concepts": "species extinction", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "species extinction"}]], "Species Conservation": [["food web species", {"concepts": "food web species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "food web species"}], ["food web supporting species", {"concepts": "food web supporting species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "food web supporting species"}], ["food web", {"concepts": "food web", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "food web"}], ["maximum sustainable yield", {"concepts": "maximum sustainable yield", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "maximum sustainable yield"}]], "Fisheries Conservation Management": [["single-species management", {"concepts": "single-species management", "type": "concept", "cluster": "Fisheries Conservation Management", "node_size": 10, "label": "single-species management"}], ["ecosystem-based management", {"concepts": "ecosystem-based management", "type": "concept", "cluster": "Fisheries Conservation Management", "node_size": 10, "label": "ecosystem-based management"}], ["commercial harvest", {"concepts": "commercial harvest", "type": "concept", "cluster": "Fisheries Conservation Management", "node_size": 10, "label": "commercial harvest"}], ["population sustainability", {"concepts": "population sustainability", "type": "concept", "cluster": "Fisheries Conservation Management", "node_size": 10, "label": "population sustainability"}], ["multi-species management", {"concepts": "multi-species management", "type": "concept", "cluster": "Fisheries Conservation Management", "node_size": 10, "label": "multi-species management"}], ["conservation policy", {"concepts": "conservation policy", "type": "concept", "cluster": "Fisheries Conservation Management", "node_size": 10, "label": "conservation policy"}], ["conservation efforts", {"concepts": "conservation efforts", "type": "concept", "cluster": "Fisheries Conservation Management", "node_size": 10, "label": "conservation efforts"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Fisheries Conservation Management", "node_size": 10, "label": "ecosystem services"}]], "Ecosystem Sustainability": [["sustainable numbers", {"concepts": "sustainable numbers", "type": "concept", "cluster": "Ecosystem Sustainability", "node_size": 10, "label": "sustainable numbers"}], ["ecological impact", {"concepts": "ecological impact", "type": "concept", "cluster": "Ecosystem Sustainability", "node_size": 10, "label": "ecological impact"}], ["population decline", {"concepts": "population decline", "type": "concept", "cluster": "Ecosystem Sustainability", "node_size": 10, "label": "population decline"}], ["nutrient load", {"concepts": "nutrient load", "type": "concept", "cluster": "Ecosystem Sustainability", "node_size": 10, "label": "nutrient load"}], ["ecosystem impact", {"concepts": "ecosystem impact", "type": "concept", "cluster": "Ecosystem Sustainability", "node_size": 10, "label": "ecosystem impact"}], ["ecosystem", {"concepts": "ecosystem", "type": "concept", "cluster": "Ecosystem Sustainability", "node_size": 10, "label": "ecosystem"}]], "Wildlife Nutrient Management": [["department of fish and wildlife", {"concepts": "department of fish and wildlife", "type": "concept", "cluster": "Wildlife Nutrient Management", "node_size": 10, "label": "department of fish and wildlife"}], ["marine derived nutrients", {"concepts": "marine derived nutrients", "type": "concept", "cluster": "Wildlife Nutrient Management", "node_size": 10, "label": "marine derived nutrients"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Wildlife Nutrient Management", "node_size": 10, "label": "species of conservation concern"}], ["wildlife management", {"concepts": "wildlife management", "type": "concept", "cluster": "Wildlife Nutrient Management", "node_size": 10, "label": "wildlife management"}], ["nutrient enhancement", {"concepts": "nutrient enhancement", "type": "concept", "cluster": "Wildlife Nutrient Management", "node_size": 10, "label": "nutrient enhancement"}]], "Overfishing Impact": [["fishing pressure", {"concepts": "fishing pressure", "type": "concept", "cluster": "Overfishing Impact", "node_size": 10, "label": "fishing pressure"}], ["overfishing", {"concepts": "overfishing", "type": "concept", "cluster": "Overfishing Impact", "node_size": 10, "label": "overfishing"}], ["ocean harvest", {"concepts": "ocean harvest", "type": "concept", "cluster": "Overfishing Impact", "node_size": 10, "label": "ocean harvest"}], ["pollock fisheries", {"concepts": "pollock fisheries", "type": "concept", "cluster": "Overfishing Impact", "node_size": 10, "label": "pollock fisheries"}], ["squid fisheries", {"concepts": "squid fisheries", "type": "concept", "cluster": "Overfishing Impact", "node_size": 10, "label": "squid fisheries"}]], "Sustainable Ocean Fishing": [["ocean fishing", {"concepts": "ocean fishing", "type": "concept", "cluster": "Sustainable Ocean Fishing", "node_size": 10, "label": "ocean fishing"}], ["selective fishing", {"concepts": "selective fishing", "type": "concept", "cluster": "Sustainable Ocean Fishing", "node_size": 10, "label": "selective fishing"}], ["recreational fishing", {"concepts": "recreational fishing", "type": "concept", "cluster": "Sustainable Ocean Fishing", "node_size": 10, "label": "recreational fishing"}]], "Pacific Commercial Fishing": [["pacific ocean", {"concepts": "pacific ocean", "type": "concept", "cluster": "Pacific Commercial Fishing", "node_size": 10, "label": "pacific ocean"}], ["commercial fishing", {"concepts": "commercial fishing", "type": "concept", "cluster": "Pacific Commercial Fishing", "node_size": 10, "label": "commercial fishing"}], ["nonselective fishing", {"concepts": "nonselective fishing", "type": "concept", "cluster": "Pacific Commercial Fishing", "node_size": 10, "label": "nonselective fishing"}]], "Coastal & Marine Systems": [["chesapeake bay", {"concepts": "chesapeake bay", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "chesapeake bay"}], ["gulf of mexico", {"concepts": "gulf of mexico", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "gulf of mexico"}], ["tributaries", {"concepts": "tributaries", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "tributaries"}], ["chesapeake bay workshop", {"concepts": "chesapeake bay workshop", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "chesapeake bay workshop"}], ["mobile bay", {"concepts": "mobile bay", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "mobile bay"}], ["puget sound", {"concepts": "puget sound", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "puget sound"}], ["pacific northwest", {"concepts": "pacific northwest", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "pacific northwest"}], ["oregon", {"concepts": "oregon", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "oregon"}], ["olympic peninsula", {"concepts": "olympic peninsula", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "olympic peninsula"}], ["maryland", {"concepts": "maryland", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "maryland"}], ["canada", {"concepts": "canada", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "canada"}], ["alaska", {"concepts": "alaska", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "alaska"}], ["bonneville dam", {"concepts": "bonneville dam", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "bonneville dam"}], ["hydro", {"concepts": "hydro", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "hydro"}], ["soft structures", {"concepts": "soft structures", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "soft structures"}], ["hard structures", {"concepts": "hard structures", "type": "concept", "cluster": "Coastal & Marine Systems", "node_size": 10, "label": "hard structures"}]], "Policy and Legal Reform": [["national lawsuits", {"concepts": "national lawsuits", "type": "concept", "cluster": "Policy and Legal Reform", "node_size": 10, "label": "national lawsuits"}], ["policy management", {"concepts": "policy management", "type": "concept", "cluster": "Policy and Legal Reform", "node_size": 10, "label": "policy management"}], ["status quo advocates", {"concepts": "status quo advocates", "type": "concept", "cluster": "Policy and Legal Reform", "node_size": 10, "label": "status quo advocates"}], ["cca", {"concepts": "cca", "type": "concept", "cluster": "Policy and Legal Reform", "node_size": 10, "label": "cca"}], ["policy change", {"concepts": "policy change", "type": "concept", "cluster": "Policy and Legal Reform", "node_size": 10, "label": "policy change"}], ["management policy", {"concepts": "management policy", "type": "concept", "cluster": "Policy and Legal Reform", "node_size": 10, "label": "management policy"}], ["development", {"concepts": "development", "type": "concept", "cluster": "Policy and Legal Reform", "node_size": 10, "label": "development"}], ["management", {"concepts": "management", "type": "concept", "cluster": "Policy and Legal Reform", "node_size": 10, "label": "management"}], ["policy intervention", {"concepts": "policy intervention", "type": "concept", "cluster": "Policy and Legal Reform", "node_size": 10, "label": "policy intervention"}]], "Environmental Threats": [["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Environmental Threats", "node_size": 10, "label": "harmful organisms"}], ["environmental stressors", {"concepts": "environmental stressors", "type": "concept", "cluster": "Environmental Threats", "node_size": 10, "label": "environmental stressors"}], ["stressors", {"concepts": "stressors", "type": "concept", "cluster": "Environmental Threats", "node_size": 10, "label": "stressors"}], ["environmental factors", {"concepts": "environmental factors", "type": "concept", "cluster": "Environmental Threats", "node_size": 10, "label": "environmental factors"}], ["whirling disease", {"concepts": "whirling disease", "type": "concept", "cluster": "Environmental Threats", "node_size": 10, "label": "whirling disease"}], ["bacteria", {"concepts": "bacteria", "type": "concept", "cluster": "Environmental Threats", "node_size": 10, "label": "bacteria"}]], "Fish Reproduction & Bycatch": [["smelt", {"concepts": "smelt", "type": "concept", "cluster": "Fish Reproduction & Bycatch", "node_size": 10, "label": "smelt"}], ["steelhead", {"concepts": "steelhead", "type": "concept", "cluster": "Fish Reproduction & Bycatch", "node_size": 10, "label": "steelhead"}], ["herring", {"concepts": "herring", "type": "concept", "cluster": "Fish Reproduction & Bycatch", "node_size": 10, "label": "herring"}], ["reproduction", {"concepts": "reproduction", "type": "concept", "cluster": "Fish Reproduction & Bycatch", "node_size": 10, "label": "reproduction"}], ["bycatch", {"concepts": "bycatch", "type": "concept", "cluster": "Fish Reproduction & Bycatch", "node_size": 10, "label": "bycatch"}]], "Fisheries Stakeholder Groups": [["tribal layer", {"concepts": "tribal layer", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "tribal layer"}], ["tag alabama program", {"concepts": "tag alabama program", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "tag alabama program"}], ["blakely ellis", {"concepts": "blakely ellis", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "blakely ellis"}], ["cca alabama", {"concepts": "cca alabama", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "cca alabama"}], ["washington", {"concepts": "washington", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "washington"}], ["treaty tribes", {"concepts": "treaty tribes", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "treaty tribes"}], ["tribal communities", {"concepts": "tribal communities", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "tribal communities"}], ["forward-thinking commissioners", {"concepts": "forward-thinking commissioners", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "forward-thinking commissioners"}], ["consumptive user groups", {"concepts": "consumptive user groups", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "consumptive user groups"}], ["non-tribal communities", {"concepts": "non-tribal communities", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "non-tribal communities"}], ["commercial sector", {"concepts": "commercial sector", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "commercial sector"}], ["david sikorsky", {"concepts": "david sikorsky", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "david sikorsky"}], ["resource users", {"concepts": "resource users", "type": "concept", "cluster": "Fisheries Stakeholder Groups", "node_size": 10, "label": "resource users"}]], "Fisheries Management Challenges": [["technical difficulties", {"concepts": "technical difficulties", "type": "concept", "cluster": "Fisheries Management Challenges", "node_size": 10, "label": "technical difficulties"}], ["university", {"concepts": "university", "type": "concept", "cluster": "Fisheries Management Challenges", "node_size": 10, "label": "university"}], ["human considerations", {"concepts": "human considerations", "type": "concept", "cluster": "Fisheries Management Challenges", "node_size": 10, "label": "human considerations"}], ["resource allocation", {"concepts": "resource allocation", "type": "concept", "cluster": "Fisheries Management Challenges", "node_size": 10, "label": "resource allocation"}], ["gill netting", {"concepts": "gill netting", "type": "concept", "cluster": "Fisheries Management Challenges", "node_size": 10, "label": "gill netting"}], ["managers", {"concepts": "managers", "type": "concept", "cluster": "Fisheries Management Challenges", "node_size": 10, "label": "managers"}], ["outcompeting", {"concepts": "outcompeting", "type": "concept", "cluster": "Fisheries Management Challenges", "node_size": 10, "label": "outcompeting"}], ["non-tribal gill netting", {"concepts": "non-tribal gill netting", "type": "concept", "cluster": "Fisheries Management Challenges", "node_size": 10, "label": "non-tribal gill netting"}], ["researchers", {"concepts": "researchers", "type": "concept", "cluster": "Fisheries Management Challenges", "node_size": 10, "label": "researchers"}]], "Fisheries Management Practices": [["executive director", {"concepts": "executive director", "type": "concept", "cluster": "Fisheries Management Practices", "node_size": 10, "label": "executive director"}], ["carcass placement", {"concepts": "carcass placement", "type": "concept", "cluster": "Fisheries Management Practices", "node_size": 10, "label": "carcass placement"}], ["national parks", {"concepts": "national parks", "type": "concept", "cluster": "Fisheries Management Practices", "node_size": 10, "label": "national parks"}], ["docks", {"concepts": "docks", "type": "concept", "cluster": "Fisheries Management Practices", "node_size": 10, "label": "docks"}], ["sedimentation", {"concepts": "sedimentation", "type": "concept", "cluster": "Fisheries Management Practices", "node_size": 10, "label": "sedimentation"}], ["cca washington", {"concepts": "cca washington", "type": "concept", "cluster": "Fisheries Management Practices", "node_size": 10, "label": "cca washington"}], ["harvest", {"concepts": "harvest", "type": "concept", "cluster": "Fisheries Management Practices", "node_size": 10, "label": "harvest"}], ["non-tribal gillnetting", {"concepts": "non-tribal gillnetting", "type": "concept", "cluster": "Fisheries Management Practices", "node_size": 10, "label": "non-tribal gillnetting"}], ["case study", {"concepts": "case study", "type": "concept", "cluster": "Fisheries Management Practices", "node_size": 10, "label": "case study"}]], "Flow Alteration": [["river flow variation", {"concepts": "river flow variation", "type": "concept", "cluster": "Flow Alteration", "node_size": 10, "label": "river flow variation"}], ["altered hydrology", {"concepts": "altered hydrology", "type": "concept", "cluster": "Flow Alteration", "node_size": 10, "label": "altered hydrology"}]], "River Restoration": [["river flow alteration", {"concepts": "river flow alteration", "type": "concept", "cluster": "River Restoration", "node_size": 10, "label": "river flow alteration"}], ["dam removal", {"concepts": "dam removal", "type": "concept", "cluster": "River Restoration", "node_size": 10, "label": "dam removal"}], ["nooksack river", {"concepts": "nooksack river", "type": "concept", "cluster": "River Restoration", "node_size": 10, "label": "nooksack river"}], ["shoreline alteration", {"concepts": "shoreline alteration", "type": "concept", "cluster": "River Restoration", "node_size": 10, "label": "shoreline alteration"}]], "Fisheries Management": [["commercial fisheries", {"concepts": "commercial fisheries", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "commercial fisheries"}], ["fisheries commission", {"concepts": "fisheries commission", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fisheries commission"}]], "Salmon Population Conservation": [["juvenile salmon mortality", {"concepts": "juvenile salmon mortality", "type": "concept", "cluster": "Salmon Population Conservation", "node_size": 10, "label": "juvenile salmon mortality"}], ["returning salmon populations", {"concepts": "returning salmon populations", "type": "concept", "cluster": "Salmon Population Conservation", "node_size": 10, "label": "returning salmon populations"}], ["salmon population decline", {"concepts": "salmon population decline", "type": "concept", "cluster": "Salmon Population Conservation", "node_size": 10, "label": "salmon population decline"}], ["salmon conservation", {"concepts": "salmon conservation", "type": "concept", "cluster": "Salmon Population Conservation", "node_size": 10, "label": "salmon conservation"}], ["salmon", {"concepts": "salmon", "type": "concept", "cluster": "Salmon Population Conservation", "node_size": 10, "label": "salmon"}], ["salmon habitat", {"concepts": "salmon habitat", "type": "concept", "cluster": "Salmon Population Conservation", "node_size": 10, "label": "salmon habitat"}]], "Hatchery vs Wild Salmon": [["juvenile salmon", {"concepts": "juvenile salmon", "type": "concept", "cluster": "Hatchery vs Wild Salmon", "node_size": 10, "label": "juvenile salmon"}], ["anti-hatchery groups", {"concepts": "anti-hatchery groups", "type": "concept", "cluster": "Hatchery vs Wild Salmon", "node_size": 10, "label": "anti-hatchery groups"}], ["hatchery reproduction", {"concepts": "hatchery reproduction", "type": "concept", "cluster": "Hatchery vs Wild Salmon", "node_size": 10, "label": "hatchery reproduction"}], ["hatcheries", {"concepts": "hatcheries", "type": "concept", "cluster": "Hatchery vs Wild Salmon", "node_size": 10, "label": "hatcheries"}], ["hatchery fish", {"concepts": "hatchery fish", "type": "concept", "cluster": "Hatchery vs Wild Salmon", "node_size": 10, "label": "hatchery fish"}], ["wild salmon advocates", {"concepts": "wild salmon advocates", "type": "concept", "cluster": "Hatchery vs Wild Salmon", "node_size": 10, "label": "wild salmon advocates"}], ["natural reproduction", {"concepts": "natural reproduction", "type": "concept", "cluster": "Hatchery vs Wild Salmon", "node_size": 10, "label": "natural reproduction"}], ["wild salmon", {"concepts": "wild salmon", "type": "concept", "cluster": "Hatchery vs Wild Salmon", "node_size": 10, "label": "wild salmon"}]], "Fish Spawning & Habitat": [["forage fish", {"concepts": "forage fish", "type": "concept", "cluster": "Fish Spawning & Habitat", "node_size": 10, "label": "forage fish"}], ["spawning grounds", {"concepts": "spawning grounds", "type": "concept", "cluster": "Fish Spawning & Habitat", "node_size": 10, "label": "spawning grounds"}], ["wild fish", {"concepts": "wild fish", "type": "concept", "cluster": "Fish Spawning & Habitat", "node_size": 10, "label": "wild fish"}], ["spawning gravel", {"concepts": "spawning gravel", "type": "concept", "cluster": "Fish Spawning & Habitat", "node_size": 10, "label": "spawning gravel"}], ["wild populations", {"concepts": "wild populations", "type": "concept", "cluster": "Fish Spawning & Habitat", "node_size": 10, "label": "wild populations"}], ["fish spawning", {"concepts": "fish spawning", "type": "concept", "cluster": "Fish Spawning & Habitat", "node_size": 10, "label": "fish spawning"}], ["fish mortality", {"concepts": "fish mortality", "type": "concept", "cluster": "Fish Spawning & Habitat", "node_size": 10, "label": "fish mortality"}], ["spawning habitat", {"concepts": "spawning habitat", "type": "concept", "cluster": "Fish Spawning & Habitat", "node_size": 10, "label": "spawning habitat"}], ["fish analogs", {"concepts": "fish analogs", "type": "concept", "cluster": "Fish Spawning & Habitat", "node_size": 10, "label": "fish analogs"}]], "Salmon Restoration": [["salmon analogs", {"concepts": "salmon analogs", "type": "concept", "cluster": "Salmon Restoration", "node_size": 10, "label": "salmon analogs"}], ["fish carcasses", {"concepts": "fish carcasses", "type": "concept", "cluster": "Salmon Restoration", "node_size": 10, "label": "fish carcasses"}], ["hatchery salmon", {"concepts": "hatchery salmon", "type": "concept", "cluster": "Salmon Restoration", "node_size": 10, "label": "hatchery salmon"}], ["salmon recovery", {"concepts": "salmon recovery", "type": "concept", "cluster": "Salmon Restoration", "node_size": 10, "label": "salmon recovery"}]], "Runoff Pollution": [["road runoff", {"concepts": "road runoff", "type": "concept", "cluster": "Runoff Pollution", "node_size": 10, "label": "road runoff"}], ["chemical runoff", {"concepts": "chemical runoff", "type": "concept", "cluster": "Runoff Pollution", "node_size": 10, "label": "chemical runoff"}], ["runoff", {"concepts": "runoff", "type": "concept", "cluster": "Runoff Pollution", "node_size": 10, "label": "runoff"}], ["runoff pollution", {"concepts": "runoff pollution", "type": "concept", "cluster": "Runoff Pollution", "node_size": 10, "label": "runoff pollution"}], ["water pollution", {"concepts": "water pollution", "type": "concept", "cluster": "Runoff Pollution", "node_size": 10, "label": "water pollution"}]], "Hydropower and Climate": [["warmer water", {"concepts": "warmer water", "type": "concept", "cluster": "Hydropower and Climate", "node_size": 10, "label": "warmer water"}], ["hydro projects", {"concepts": "hydro projects", "type": "concept", "cluster": "Hydropower and Climate", "node_size": 10, "label": "hydro projects"}]], "Water Resource Impact": [["watershed nutrients", {"concepts": "watershed nutrients", "type": "concept", "cluster": "Water Resource Impact", "node_size": 10, "label": "watershed nutrients"}], ["industrial runoff", {"concepts": "industrial runoff", "type": "concept", "cluster": "Water Resource Impact", "node_size": 10, "label": "industrial runoff"}], ["irrigation", {"concepts": "irrigation", "type": "concept", "cluster": "Water Resource Impact", "node_size": 10, "label": "irrigation"}]], "Habitat Conservation": [["habitat protection", {"concepts": "habitat protection", "type": "concept", "cluster": "Habitat Conservation", "node_size": 10, "label": "habitat protection"}], ["habitat restoration", {"concepts": "habitat restoration", "type": "concept", "cluster": "Habitat Conservation", "node_size": 10, "label": "habitat restoration"}], ["coastal habitat", {"concepts": "coastal habitat", "type": "concept", "cluster": "Habitat Conservation", "node_size": 10, "label": "coastal habitat"}], ["habitat projects", {"concepts": "habitat projects", "type": "concept", "cluster": "Habitat Conservation", "node_size": 10, "label": "habitat projects"}]], "Habitat Context": [["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Habitat Context", "node_size": 10, "label": "habitat forming species"}], ["habitat background", {"concepts": "habitat background", "type": "concept", "cluster": "Habitat Context", "node_size": 10, "label": "habitat background"}]], "Habitat Utilization": [["underutilized habitat", {"concepts": "underutilized habitat", "type": "concept", "cluster": "Habitat Utilization", "node_size": 10, "label": "underutilized habitat"}], ["natal streams", {"concepts": "natal streams", "type": "concept", "cluster": "Habitat Utilization", "node_size": 10, "label": "natal streams"}], ["pristine habitat", {"concepts": "pristine habitat", "type": "concept", "cluster": "Habitat Utilization", "node_size": 10, "label": "pristine habitat"}], ["habitat", {"concepts": "habitat", "type": "concept", "cluster": "Habitat Utilization", "node_size": 10, "label": "habitat"}], ["impervious surfaces", {"concepts": "impervious surfaces", "type": "concept", "cluster": "Habitat Utilization", "node_size": 10, "label": "impervious surfaces"}]]};
        const clusterEdges = {"columbia river": [], "Overharvesting": [], "Overharvest Control": [], "Resource Impact Management": [], "Environmental Impact": [], "Species Conservation": [], "Fisheries Conservation Management": [], "Ecosystem Sustainability": [], "Wildlife Nutrient Management": [], "Overfishing Impact": [], "Sustainable Ocean Fishing": [], "Pacific Commercial Fishing": [], "Coastal & Marine Systems": [], "Policy and Legal Reform": [], "Environmental Threats": [], "Fish Reproduction & Bycatch": [], "Fisheries Stakeholder Groups": [], "Fisheries Management Challenges": [], "Fisheries Management Practices": [], "Flow Alteration": [], "River Restoration": [], "Fisheries Management": [], "Salmon Population Conservation": [], "Hatchery vs Wild Salmon": [], "Fish Spawning & Habitat": [], "Salmon Restoration": [], "Runoff Pollution": [], "Hydropower and Climate": [], "Water Resource Impact": [], "Habitat Conservation": [], "Habitat Context": [], "Habitat Utilization": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
