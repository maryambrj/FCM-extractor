
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Habitat Ecology": {"concepts": "noaa fisheries, marine resource management, fisheries management, fishery research, ecosystem based fisheries management, fisheries management plan, fishing regulations, fishing behavior, fishery policy, ecosystem-based fisheries management, fisheries collapse, marine resources management", "concept_list": ["noaa fisheries", "marine resource management", "fisheries management", "fishery research", "ecosystem based fisheries management", "fisheries management plan", "fishing regulations", "fishing behavior", "fishery policy", "ecosystem-based fisheries management", "fisheries collapse", "marine resources management"], "type": "cluster", "node_size": 51, "label": "Habitat Ecology"}, "Species Diversity": {"concepts": "habitat structure, long-term habitat, short-term habitat, habitat limitation, habitat ecology, habitat forming species, habitat stability, habitats, habitat-forming species, conservation policies, ecological monitoring", "concept_list": ["habitat structure", "long-term habitat", "short-term habitat", "habitat limitation", "habitat ecology", "habitat forming species", "habitat stability", "habitats", "habitat-forming species", "conservation policies", "ecological monitoring"], "type": "cluster", "node_size": 48, "label": "Species Diversity"}, "Ecosystem Dynamics": {"concepts": "prey abundance, shrimp genetics, genetic resiliency, abundance, omnivorous fish, keystone species, invasive species, overfishing, fishes, species abundance, prey species abundance, genetic variability, threatened species, population distribution, biodiversity, genetic diversity, species of conservation concern, species introduction, species scale, prey selection", "concept_list": ["prey abundance", "shrimp genetics", "genetic resiliency", "abundance", "omnivorous fish", "keystone species", "invasive species", "overfishing", "fishes", "species abundance", "prey species abundance", "genetic variability", "threatened species", "population distribution", "biodiversity", "genetic diversity", "species of conservation concern", "species introduction", "species scale", "prey selection"], "type": "cluster", "node_size": 75, "label": "Ecosystem Dynamics"}, "Resource Management": {"concepts": "monoculture, monoculture environment, ecosystem approach, ecosystem shifts, ecosystem models, ecosystem level effects, top-down ecosystem approach, ecosystem function, ecosystem management, stable ecosystem, ecosystems", "concept_list": ["monoculture", "monoculture environment", "ecosystem approach", "ecosystem shifts", "ecosystem models", "ecosystem level effects", "top-down ecosystem approach", "ecosystem function", "ecosystem management", "stable ecosystem", "ecosystems"], "type": "cluster", "node_size": 48, "label": "Resource Management"}, "Fisheries Management": {"concepts": "trade-offs, omnivorous generalists, harmful to people, hart research institute, long term monitoring, standardization, science centers, gulf islands national seashore, management decisions, commercial industry, nepa, clean conch, resource extraction, human behavior, croaker, pythons, implementation challenges, virgin islands, noaa, extracted species, oral history, anchovies, nepa process, national park service, human dimensions, dauphin island, cumulative effects, gulf of mexico, data gathering, management group, regional office, offshore, regulations, consequences, midshore, california current, fuzzy cognitive mapping, black grouper, management plan, management policies, nims, codification, mental models, foam, everglades restoration, decision makers, conflicting policies, long-term effects, measurement, organizational process, gulf council, decision making, sero, pacific coast, management scale, ebfm, sardines, policy triggers, spatial scale, policy, mental modeling, queen conch, scale definition, east coast, opportunism, omnivory, data collection", "concept_list": ["trade-offs", "omnivorous generalists", "harmful to people", "hart research institute", "long term monitoring", "standardization", "science centers", "gulf islands national seashore", "management decisions", "commercial industry", "nepa", "clean conch", "resource extraction", "human behavior", "croaker", "pythons", "implementation challenges", "virgin islands", "noaa", "extracted species", "oral history", "anchovies", "nepa process", "national park service", "human dimensions", "dauphin island", "cumulative effects", "gulf of mexico", "data gathering", "management group", "regional office", "offshore", "regulations", "consequences", "midshore", "california current", "fuzzy cognitive mapping", "black grouper", "management plan", "management policies", "nims", "codification", "mental models", "foam", "everglades restoration", "decision makers", "conflicting policies", "long-term effects", "measurement", "organizational process", "gulf council", "decision making", "sero", "pacific coast", "management scale", "ebfm", "sardines", "policy triggers", "spatial scale", "policy", "mental modeling", "queen conch", "scale definition", "east coast", "opportunism", "omnivory", "data collection"], "type": "cluster", "node_size": 216, "label": "Fisheries Management"}, "Coral Harvest Management": {"concepts": "commercial harvest, coral harvest measures, florida reef tract, coral ecology, coral reef monitoring, commercially harvested species, harvest measures, coral reef, hard corals, harvesting practices, soft corals, coral disease, deep-water corals", "concept_list": ["commercial harvest", "coral harvest measures", "florida reef tract", "coral ecology", "coral reef monitoring", "commercially harvested species", "harvest measures", "coral reef", "hard corals", "harvesting practices", "soft corals", "coral disease", "deep-water corals"], "type": "cluster", "node_size": 54, "label": "Coral Harvest Management"}, "Marine Ecosystem Health": {"concepts": "seagrass, harmful organisms, essential fish habitat, green algae, harmful algal blooms, harmful algal bloom, marine biodiversity", "concept_list": ["seagrass", "harmful organisms", "essential fish habitat", "green algae", "harmful algal blooms", "harmful algal bloom", "marine biodiversity"], "type": "cluster", "node_size": 36, "label": "Marine Ecosystem Health"}, "Coastal Ecosystem Dynamics": {"concepts": "harmful species, ecology, marshes, carbon production, phytoplankton, nutrient production", "concept_list": ["harmful species", "ecology", "marshes", "carbon production", "phytoplankton", "nutrient production"], "type": "cluster", "node_size": 33, "label": "Coastal Ecosystem Dynamics"}, "Food Web Management": {"concepts": "multi-species management, single-species management, food-web supporting species, flower gardens, key food-web supporting species, food web, food limitation, abundance of prey, key food-web species", "concept_list": ["multi-species management", "single-species management", "food-web supporting species", "flower gardens", "key food-web supporting species", "food web", "food limitation", "abundance of prey", "key food-web species"], "type": "cluster", "node_size": 42, "label": "Food Web Management"}};
        const conceptData = {"noaa fisheries": {"concepts": "noaa fisheries", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "noaa fisheries"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "marine resource management"}, "fisheries management": {"concepts": "fisheries management", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "fisheries management"}, "fishery research": {"concepts": "fishery research", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "fishery research"}, "ecosystem based fisheries management": {"concepts": "ecosystem based fisheries management", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "ecosystem based fisheries management"}, "fisheries management plan": {"concepts": "fisheries management plan", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "fisheries management plan"}, "fishing regulations": {"concepts": "fishing regulations", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "fishing regulations"}, "fishing behavior": {"concepts": "fishing behavior", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "fishing behavior"}, "fishery policy": {"concepts": "fishery policy", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "fishery policy"}, "ecosystem-based fisheries management": {"concepts": "ecosystem-based fisheries management", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "ecosystem-based fisheries management"}, "fisheries collapse": {"concepts": "fisheries collapse", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "fisheries collapse"}, "marine resources management": {"concepts": "marine resources management", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "marine resources management"}, "habitat structure": {"concepts": "habitat structure", "type": "concept", "cluster": "Species Diversity", "node_size": 10, "label": "habitat structure"}, "long-term habitat": {"concepts": "long-term habitat", "type": "concept", "cluster": "Species Diversity", "node_size": 10, "label": "long-term habitat"}, "short-term habitat": {"concepts": "short-term habitat", "type": "concept", "cluster": "Species Diversity", "node_size": 10, "label": "short-term habitat"}, "habitat limitation": {"concepts": "habitat limitation", "type": "concept", "cluster": "Species Diversity", "node_size": 10, "label": "habitat limitation"}, "habitat ecology": {"concepts": "habitat ecology", "type": "concept", "cluster": "Species Diversity", "node_size": 10, "label": "habitat ecology"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Species Diversity", "node_size": 10, "label": "habitat forming species"}, "habitat stability": {"concepts": "habitat stability", "type": "concept", "cluster": "Species Diversity", "node_size": 10, "label": "habitat stability"}, "habitats": {"concepts": "habitats", "type": "concept", "cluster": "Species Diversity", "node_size": 10, "label": "habitats"}, "habitat-forming species": {"concepts": "habitat-forming species", "type": "concept", "cluster": "Species Diversity", "node_size": 10, "label": "habitat-forming species"}, "conservation policies": {"concepts": "conservation policies", "type": "concept", "cluster": "Species Diversity", "node_size": 10, "label": "conservation policies"}, "ecological monitoring": {"concepts": "ecological monitoring", "type": "concept", "cluster": "Species Diversity", "node_size": 10, "label": "ecological monitoring"}, "prey abundance": {"concepts": "prey abundance", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "prey abundance"}, "shrimp genetics": {"concepts": "shrimp genetics", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "shrimp genetics"}, "genetic resiliency": {"concepts": "genetic resiliency", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "genetic resiliency"}, "abundance": {"concepts": "abundance", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "abundance"}, "omnivorous fish": {"concepts": "omnivorous fish", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "omnivorous fish"}, "keystone species": {"concepts": "keystone species", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "keystone species"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "invasive species"}, "overfishing": {"concepts": "overfishing", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "overfishing"}, "fishes": {"concepts": "fishes", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "fishes"}, "species abundance": {"concepts": "species abundance", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "species abundance"}, "prey species abundance": {"concepts": "prey species abundance", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "prey species abundance"}, "genetic variability": {"concepts": "genetic variability", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "genetic variability"}, "threatened species": {"concepts": "threatened species", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "threatened species"}, "population distribution": {"concepts": "population distribution", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "population distribution"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "biodiversity"}, "genetic diversity": {"concepts": "genetic diversity", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "genetic diversity"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "species of conservation concern"}, "species introduction": {"concepts": "species introduction", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "species introduction"}, "species scale": {"concepts": "species scale", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "species scale"}, "prey selection": {"concepts": "prey selection", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "prey selection"}, "monoculture": {"concepts": "monoculture", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "monoculture"}, "monoculture environment": {"concepts": "monoculture environment", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "monoculture environment"}, "ecosystem approach": {"concepts": "ecosystem approach", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "ecosystem approach"}, "ecosystem shifts": {"concepts": "ecosystem shifts", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "ecosystem shifts"}, "ecosystem models": {"concepts": "ecosystem models", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "ecosystem models"}, "ecosystem level effects": {"concepts": "ecosystem level effects", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "ecosystem level effects"}, "top-down ecosystem approach": {"concepts": "top-down ecosystem approach", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "top-down ecosystem approach"}, "ecosystem function": {"concepts": "ecosystem function", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "ecosystem function"}, "ecosystem management": {"concepts": "ecosystem management", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "ecosystem management"}, "stable ecosystem": {"concepts": "stable ecosystem", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "stable ecosystem"}, "ecosystems": {"concepts": "ecosystems", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "ecosystems"}, "trade-offs": {"concepts": "trade-offs", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "trade-offs"}, "omnivorous generalists": {"concepts": "omnivorous generalists", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "omnivorous generalists"}, "harmful to people": {"concepts": "harmful to people", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "harmful to people"}, "hart research institute": {"concepts": "hart research institute", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "hart research institute"}, "long term monitoring": {"concepts": "long term monitoring", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "long term monitoring"}, "standardization": {"concepts": "standardization", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "standardization"}, "science centers": {"concepts": "science centers", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "science centers"}, "gulf islands national seashore": {"concepts": "gulf islands national seashore", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "gulf islands national seashore"}, "management decisions": {"concepts": "management decisions", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "management decisions"}, "commercial industry": {"concepts": "commercial industry", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "commercial industry"}, "nepa": {"concepts": "nepa", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "nepa"}, "clean conch": {"concepts": "clean conch", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "clean conch"}, "resource extraction": {"concepts": "resource extraction", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "resource extraction"}, "human behavior": {"concepts": "human behavior", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "human behavior"}, "croaker": {"concepts": "croaker", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "croaker"}, "pythons": {"concepts": "pythons", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "pythons"}, "implementation challenges": {"concepts": "implementation challenges", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "implementation challenges"}, "virgin islands": {"concepts": "virgin islands", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "virgin islands"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "noaa"}, "extracted species": {"concepts": "extracted species", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "extracted species"}, "oral history": {"concepts": "oral history", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "oral history"}, "anchovies": {"concepts": "anchovies", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "anchovies"}, "nepa process": {"concepts": "nepa process", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "nepa process"}, "national park service": {"concepts": "national park service", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "national park service"}, "human dimensions": {"concepts": "human dimensions", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "human dimensions"}, "dauphin island": {"concepts": "dauphin island", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "dauphin island"}, "cumulative effects": {"concepts": "cumulative effects", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "cumulative effects"}, "gulf of mexico": {"concepts": "gulf of mexico", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "gulf of mexico"}, "data gathering": {"concepts": "data gathering", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "data gathering"}, "management group": {"concepts": "management group", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "management group"}, "regional office": {"concepts": "regional office", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "regional office"}, "offshore": {"concepts": "offshore", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "offshore"}, "regulations": {"concepts": "regulations", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "regulations"}, "consequences": {"concepts": "consequences", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "consequences"}, "midshore": {"concepts": "midshore", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "midshore"}, "california current": {"concepts": "california current", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "california current"}, "fuzzy cognitive mapping": {"concepts": "fuzzy cognitive mapping", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fuzzy cognitive mapping"}, "black grouper": {"concepts": "black grouper", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "black grouper"}, "management plan": {"concepts": "management plan", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "management plan"}, "management policies": {"concepts": "management policies", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "management policies"}, "nims": {"concepts": "nims", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "nims"}, "codification": {"concepts": "codification", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "codification"}, "mental models": {"concepts": "mental models", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "mental models"}, "foam": {"concepts": "foam", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "foam"}, "everglades restoration": {"concepts": "everglades restoration", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "everglades restoration"}, "decision makers": {"concepts": "decision makers", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "decision makers"}, "conflicting policies": {"concepts": "conflicting policies", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "conflicting policies"}, "long-term effects": {"concepts": "long-term effects", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "long-term effects"}, "measurement": {"concepts": "measurement", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "measurement"}, "organizational process": {"concepts": "organizational process", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "organizational process"}, "gulf council": {"concepts": "gulf council", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "gulf council"}, "decision making": {"concepts": "decision making", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "decision making"}, "sero": {"concepts": "sero", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "sero"}, "pacific coast": {"concepts": "pacific coast", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "pacific coast"}, "management scale": {"concepts": "management scale", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "management scale"}, "ebfm": {"concepts": "ebfm", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "ebfm"}, "sardines": {"concepts": "sardines", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "sardines"}, "policy triggers": {"concepts": "policy triggers", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "policy triggers"}, "spatial scale": {"concepts": "spatial scale", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "spatial scale"}, "policy": {"concepts": "policy", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "policy"}, "mental modeling": {"concepts": "mental modeling", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "mental modeling"}, "queen conch": {"concepts": "queen conch", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "queen conch"}, "scale definition": {"concepts": "scale definition", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "scale definition"}, "east coast": {"concepts": "east coast", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "east coast"}, "opportunism": {"concepts": "opportunism", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "opportunism"}, "omnivory": {"concepts": "omnivory", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "omnivory"}, "data collection": {"concepts": "data collection", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "data collection"}, "commercial harvest": {"concepts": "commercial harvest", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "commercial harvest"}, "coral harvest measures": {"concepts": "coral harvest measures", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "coral harvest measures"}, "florida reef tract": {"concepts": "florida reef tract", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "florida reef tract"}, "coral ecology": {"concepts": "coral ecology", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "coral ecology"}, "coral reef monitoring": {"concepts": "coral reef monitoring", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "coral reef monitoring"}, "commercially harvested species": {"concepts": "commercially harvested species", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "commercially harvested species"}, "harvest measures": {"concepts": "harvest measures", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "harvest measures"}, "coral reef": {"concepts": "coral reef", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "coral reef"}, "hard corals": {"concepts": "hard corals", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "hard corals"}, "harvesting practices": {"concepts": "harvesting practices", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "harvesting practices"}, "soft corals": {"concepts": "soft corals", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "soft corals"}, "coral disease": {"concepts": "coral disease", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "coral disease"}, "deep-water corals": {"concepts": "deep-water corals", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "deep-water corals"}, "seagrass": {"concepts": "seagrass", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "seagrass"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "harmful organisms"}, "essential fish habitat": {"concepts": "essential fish habitat", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "essential fish habitat"}, "green algae": {"concepts": "green algae", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "green algae"}, "harmful algal blooms": {"concepts": "harmful algal blooms", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "harmful algal blooms"}, "harmful algal bloom": {"concepts": "harmful algal bloom", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "harmful algal bloom"}, "marine biodiversity": {"concepts": "marine biodiversity", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "marine biodiversity"}, "harmful species": {"concepts": "harmful species", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "harmful species"}, "ecology": {"concepts": "ecology", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "ecology"}, "marshes": {"concepts": "marshes", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "marshes"}, "carbon production": {"concepts": "carbon production", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "carbon production"}, "phytoplankton": {"concepts": "phytoplankton", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "phytoplankton"}, "nutrient production": {"concepts": "nutrient production", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "nutrient production"}, "multi-species management": {"concepts": "multi-species management", "type": "concept", "cluster": "Food Web Management", "node_size": 10, "label": "multi-species management"}, "single-species management": {"concepts": "single-species management", "type": "concept", "cluster": "Food Web Management", "node_size": 10, "label": "single-species management"}, "food-web supporting species": {"concepts": "food-web supporting species", "type": "concept", "cluster": "Food Web Management", "node_size": 10, "label": "food-web supporting species"}, "flower gardens": {"concepts": "flower gardens", "type": "concept", "cluster": "Food Web Management", "node_size": 10, "label": "flower gardens"}, "key food-web supporting species": {"concepts": "key food-web supporting species", "type": "concept", "cluster": "Food Web Management", "node_size": 10, "label": "key food-web supporting species"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Food Web Management", "node_size": 10, "label": "food web"}, "food limitation": {"concepts": "food limitation", "type": "concept", "cluster": "Food Web Management", "node_size": 10, "label": "food limitation"}, "abundance of prey": {"concepts": "abundance of prey", "type": "concept", "cluster": "Food Web Management", "node_size": 10, "label": "abundance of prey"}, "key food-web species": {"concepts": "key food-web species", "type": "concept", "cluster": "Food Web Management", "node_size": 10, "label": "key food-web species"}};
        const interClusterEdges = [["Habitat Ecology", "Fisheries Management", {"weight": 1.0, "confidence": 0.8099999999999999, "type": "inter_cluster", "style": "solid"}], ["Habitat Ecology", "Marine Ecosystem Health", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Habitat Ecology", "Ecosystem Dynamics", {"weight": 0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Species Diversity", "Ecosystem Dynamics", {"weight": 1.0, "confidence": 0.8099999999999999, "type": "inter_cluster", "style": "solid"}], ["Species Diversity", "Marine Ecosystem Health", {"weight": 1.0, "confidence": 0.79, "type": "inter_cluster", "style": "solid"}], ["Species Diversity", "Coastal Ecosystem Dynamics", {"weight": 1.0, "confidence": 0.71, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Dynamics", "Species Diversity", {"weight": 1.0, "confidence": 0.7625, "type": "inter_cluster", "style": "solid"}], ["Resource Management", "Coral Harvest Management", {"weight": 1.0, "confidence": 0.6300000000000001, "type": "inter_cluster", "style": "solid"}], ["Resource Management", "Marine Ecosystem Health", {"weight": 0.8, "confidence": 0.57, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Resource Management", {"weight": 1.0, "confidence": 0.74, "type": "inter_cluster", "style": "solid"}], ["Coral Harvest Management", "Ecosystem Dynamics", {"weight": -0.2, "confidence": 0.76, "type": "inter_cluster", "style": "solid"}], ["Coral Harvest Management", "Species Diversity", {"weight": 0.3333333333333333, "confidence": 0.7999999999999999, "type": "inter_cluster", "style": "solid"}], ["Coral Harvest Management", "Coastal Ecosystem Dynamics", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystem Health", "Coral Harvest Management", {"weight": 1.0, "confidence": 0.6399999999999999, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystem Health", "Food Web Management", {"weight": 1.0, "confidence": 0.6999999999999998, "type": "inter_cluster", "style": "solid"}], ["Coastal Ecosystem Dynamics", "Resource Management", {"weight": 1.0, "confidence": 0.6699999999999999, "type": "inter_cluster", "style": "solid"}], ["Coastal Ecosystem Dynamics", "Fisheries Management", {"weight": 0.6, "confidence": 0.39, "type": "inter_cluster", "style": "solid"}], ["Food Web Management", "Marine Ecosystem Health", {"weight": 1.0, "confidence": 0.6599999999999999, "type": "inter_cluster", "style": "solid"}], ["Food Web Management", "Coastal Ecosystem Dynamics", {"weight": 1.0, "confidence": 0.63, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Habitat Ecology": [["noaa fisheries", {"concepts": "noaa fisheries", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "noaa fisheries"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "marine resource management"}], ["fisheries management", {"concepts": "fisheries management", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "fisheries management"}], ["fishery research", {"concepts": "fishery research", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "fishery research"}], ["ecosystem based fisheries management", {"concepts": "ecosystem based fisheries management", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "ecosystem based fisheries management"}], ["fisheries management plan", {"concepts": "fisheries management plan", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "fisheries management plan"}], ["fishing regulations", {"concepts": "fishing regulations", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "fishing regulations"}], ["fishing behavior", {"concepts": "fishing behavior", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "fishing behavior"}], ["fishery policy", {"concepts": "fishery policy", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "fishery policy"}], ["ecosystem-based fisheries management", {"concepts": "ecosystem-based fisheries management", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "ecosystem-based fisheries management"}], ["fisheries collapse", {"concepts": "fisheries collapse", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "fisheries collapse"}], ["marine resources management", {"concepts": "marine resources management", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "marine resources management"}]], "Species Diversity": [["habitat structure", {"concepts": "habitat structure", "type": "concept", "cluster": "Species Diversity", "node_size": 10, "label": "habitat structure"}], ["long-term habitat", {"concepts": "long-term habitat", "type": "concept", "cluster": "Species Diversity", "node_size": 10, "label": "long-term habitat"}], ["short-term habitat", {"concepts": "short-term habitat", "type": "concept", "cluster": "Species Diversity", "node_size": 10, "label": "short-term habitat"}], ["habitat limitation", {"concepts": "habitat limitation", "type": "concept", "cluster": "Species Diversity", "node_size": 10, "label": "habitat limitation"}], ["habitat ecology", {"concepts": "habitat ecology", "type": "concept", "cluster": "Species Diversity", "node_size": 10, "label": "habitat ecology"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Species Diversity", "node_size": 10, "label": "habitat forming species"}], ["habitat stability", {"concepts": "habitat stability", "type": "concept", "cluster": "Species Diversity", "node_size": 10, "label": "habitat stability"}], ["habitats", {"concepts": "habitats", "type": "concept", "cluster": "Species Diversity", "node_size": 10, "label": "habitats"}], ["habitat-forming species", {"concepts": "habitat-forming species", "type": "concept", "cluster": "Species Diversity", "node_size": 10, "label": "habitat-forming species"}], ["conservation policies", {"concepts": "conservation policies", "type": "concept", "cluster": "Species Diversity", "node_size": 10, "label": "conservation policies"}], ["ecological monitoring", {"concepts": "ecological monitoring", "type": "concept", "cluster": "Species Diversity", "node_size": 10, "label": "ecological monitoring"}]], "Ecosystem Dynamics": [["prey abundance", {"concepts": "prey abundance", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "prey abundance"}], ["shrimp genetics", {"concepts": "shrimp genetics", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "shrimp genetics"}], ["genetic resiliency", {"concepts": "genetic resiliency", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "genetic resiliency"}], ["abundance", {"concepts": "abundance", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "abundance"}], ["omnivorous fish", {"concepts": "omnivorous fish", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "omnivorous fish"}], ["keystone species", {"concepts": "keystone species", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "keystone species"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "invasive species"}], ["overfishing", {"concepts": "overfishing", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "overfishing"}], ["fishes", {"concepts": "fishes", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "fishes"}], ["species abundance", {"concepts": "species abundance", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "species abundance"}], ["prey species abundance", {"concepts": "prey species abundance", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "prey species abundance"}], ["genetic variability", {"concepts": "genetic variability", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "genetic variability"}], ["threatened species", {"concepts": "threatened species", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "threatened species"}], ["population distribution", {"concepts": "population distribution", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "population distribution"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "biodiversity"}], ["genetic diversity", {"concepts": "genetic diversity", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "genetic diversity"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "species of conservation concern"}], ["species introduction", {"concepts": "species introduction", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "species introduction"}], ["species scale", {"concepts": "species scale", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "species scale"}], ["prey selection", {"concepts": "prey selection", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "prey selection"}]], "Resource Management": [["monoculture", {"concepts": "monoculture", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "monoculture"}], ["monoculture environment", {"concepts": "monoculture environment", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "monoculture environment"}], ["ecosystem approach", {"concepts": "ecosystem approach", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "ecosystem approach"}], ["ecosystem shifts", {"concepts": "ecosystem shifts", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "ecosystem shifts"}], ["ecosystem models", {"concepts": "ecosystem models", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "ecosystem models"}], ["ecosystem level effects", {"concepts": "ecosystem level effects", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "ecosystem level effects"}], ["top-down ecosystem approach", {"concepts": "top-down ecosystem approach", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "top-down ecosystem approach"}], ["ecosystem function", {"concepts": "ecosystem function", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "ecosystem function"}], ["ecosystem management", {"concepts": "ecosystem management", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "ecosystem management"}], ["stable ecosystem", {"concepts": "stable ecosystem", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "stable ecosystem"}], ["ecosystems", {"concepts": "ecosystems", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "ecosystems"}]], "Fisheries Management": [["trade-offs", {"concepts": "trade-offs", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "trade-offs"}], ["omnivorous generalists", {"concepts": "omnivorous generalists", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "omnivorous generalists"}], ["harmful to people", {"concepts": "harmful to people", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "harmful to people"}], ["hart research institute", {"concepts": "hart research institute", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "hart research institute"}], ["long term monitoring", {"concepts": "long term monitoring", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "long term monitoring"}], ["standardization", {"concepts": "standardization", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "standardization"}], ["science centers", {"concepts": "science centers", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "science centers"}], ["gulf islands national seashore", {"concepts": "gulf islands national seashore", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "gulf islands national seashore"}], ["management decisions", {"concepts": "management decisions", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "management decisions"}], ["commercial industry", {"concepts": "commercial industry", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "commercial industry"}], ["nepa", {"concepts": "nepa", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "nepa"}], ["clean conch", {"concepts": "clean conch", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "clean conch"}], ["resource extraction", {"concepts": "resource extraction", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "resource extraction"}], ["human behavior", {"concepts": "human behavior", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "human behavior"}], ["croaker", {"concepts": "croaker", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "croaker"}], ["pythons", {"concepts": "pythons", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "pythons"}], ["implementation challenges", {"concepts": "implementation challenges", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "implementation challenges"}], ["virgin islands", {"concepts": "virgin islands", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "virgin islands"}], ["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "noaa"}], ["extracted species", {"concepts": "extracted species", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "extracted species"}], ["oral history", {"concepts": "oral history", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "oral history"}], ["anchovies", {"concepts": "anchovies", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "anchovies"}], ["nepa process", {"concepts": "nepa process", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "nepa process"}], ["national park service", {"concepts": "national park service", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "national park service"}], ["human dimensions", {"concepts": "human dimensions", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "human dimensions"}], ["dauphin island", {"concepts": "dauphin island", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "dauphin island"}], ["cumulative effects", {"concepts": "cumulative effects", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "cumulative effects"}], ["gulf of mexico", {"concepts": "gulf of mexico", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "gulf of mexico"}], ["data gathering", {"concepts": "data gathering", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "data gathering"}], ["management group", {"concepts": "management group", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "management group"}], ["regional office", {"concepts": "regional office", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "regional office"}], ["offshore", {"concepts": "offshore", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "offshore"}], ["regulations", {"concepts": "regulations", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "regulations"}], ["consequences", {"concepts": "consequences", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "consequences"}], ["midshore", {"concepts": "midshore", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "midshore"}], ["california current", {"concepts": "california current", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "california current"}], ["fuzzy cognitive mapping", {"concepts": "fuzzy cognitive mapping", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fuzzy cognitive mapping"}], ["black grouper", {"concepts": "black grouper", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "black grouper"}], ["management plan", {"concepts": "management plan", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "management plan"}], ["management policies", {"concepts": "management policies", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "management policies"}], ["nims", {"concepts": "nims", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "nims"}], ["codification", {"concepts": "codification", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "codification"}], ["mental models", {"concepts": "mental models", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "mental models"}], ["foam", {"concepts": "foam", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "foam"}], ["everglades restoration", {"concepts": "everglades restoration", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "everglades restoration"}], ["decision makers", {"concepts": "decision makers", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "decision makers"}], ["conflicting policies", {"concepts": "conflicting policies", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "conflicting policies"}], ["long-term effects", {"concepts": "long-term effects", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "long-term effects"}], ["measurement", {"concepts": "measurement", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "measurement"}], ["organizational process", {"concepts": "organizational process", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "organizational process"}], ["gulf council", {"concepts": "gulf council", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "gulf council"}], ["decision making", {"concepts": "decision making", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "decision making"}], ["sero", {"concepts": "sero", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "sero"}], ["pacific coast", {"concepts": "pacific coast", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "pacific coast"}], ["management scale", {"concepts": "management scale", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "management scale"}], ["ebfm", {"concepts": "ebfm", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "ebfm"}], ["sardines", {"concepts": "sardines", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "sardines"}], ["policy triggers", {"concepts": "policy triggers", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "policy triggers"}], ["spatial scale", {"concepts": "spatial scale", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "spatial scale"}], ["policy", {"concepts": "policy", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "policy"}], ["mental modeling", {"concepts": "mental modeling", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "mental modeling"}], ["queen conch", {"concepts": "queen conch", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "queen conch"}], ["scale definition", {"concepts": "scale definition", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "scale definition"}], ["east coast", {"concepts": "east coast", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "east coast"}], ["opportunism", {"concepts": "opportunism", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "opportunism"}], ["omnivory", {"concepts": "omnivory", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "omnivory"}], ["data collection", {"concepts": "data collection", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "data collection"}]], "Coral Harvest Management": [["commercial harvest", {"concepts": "commercial harvest", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "commercial harvest"}], ["coral harvest measures", {"concepts": "coral harvest measures", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "coral harvest measures"}], ["florida reef tract", {"concepts": "florida reef tract", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "florida reef tract"}], ["coral ecology", {"concepts": "coral ecology", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "coral ecology"}], ["coral reef monitoring", {"concepts": "coral reef monitoring", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "coral reef monitoring"}], ["commercially harvested species", {"concepts": "commercially harvested species", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "commercially harvested species"}], ["harvest measures", {"concepts": "harvest measures", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "harvest measures"}], ["coral reef", {"concepts": "coral reef", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "coral reef"}], ["hard corals", {"concepts": "hard corals", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "hard corals"}], ["harvesting practices", {"concepts": "harvesting practices", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "harvesting practices"}], ["soft corals", {"concepts": "soft corals", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "soft corals"}], ["coral disease", {"concepts": "coral disease", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "coral disease"}], ["deep-water corals", {"concepts": "deep-water corals", "type": "concept", "cluster": "Coral Harvest Management", "node_size": 10, "label": "deep-water corals"}]], "Marine Ecosystem Health": [["seagrass", {"concepts": "seagrass", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "seagrass"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "harmful organisms"}], ["essential fish habitat", {"concepts": "essential fish habitat", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "essential fish habitat"}], ["green algae", {"concepts": "green algae", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "green algae"}], ["harmful algal blooms", {"concepts": "harmful algal blooms", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "harmful algal blooms"}], ["harmful algal bloom", {"concepts": "harmful algal bloom", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "harmful algal bloom"}], ["marine biodiversity", {"concepts": "marine biodiversity", "type": "concept", "cluster": "Marine Ecosystem Health", "node_size": 10, "label": "marine biodiversity"}]], "Coastal Ecosystem Dynamics": [["harmful species", {"concepts": "harmful species", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "harmful species"}], ["ecology", {"concepts": "ecology", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "ecology"}], ["marshes", {"concepts": "marshes", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "marshes"}], ["carbon production", {"concepts": "carbon production", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "carbon production"}], ["phytoplankton", {"concepts": "phytoplankton", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "phytoplankton"}], ["nutrient production", {"concepts": "nutrient production", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "nutrient production"}]], "Food Web Management": [["multi-species management", {"concepts": "multi-species management", "type": "concept", "cluster": "Food Web Management", "node_size": 10, "label": "multi-species management"}], ["single-species management", {"concepts": "single-species management", "type": "concept", "cluster": "Food Web Management", "node_size": 10, "label": "single-species management"}], ["food-web supporting species", {"concepts": "food-web supporting species", "type": "concept", "cluster": "Food Web Management", "node_size": 10, "label": "food-web supporting species"}], ["flower gardens", {"concepts": "flower gardens", "type": "concept", "cluster": "Food Web Management", "node_size": 10, "label": "flower gardens"}], ["key food-web supporting species", {"concepts": "key food-web supporting species", "type": "concept", "cluster": "Food Web Management", "node_size": 10, "label": "key food-web supporting species"}], ["food web", {"concepts": "food web", "type": "concept", "cluster": "Food Web Management", "node_size": 10, "label": "food web"}], ["food limitation", {"concepts": "food limitation", "type": "concept", "cluster": "Food Web Management", "node_size": 10, "label": "food limitation"}], ["abundance of prey", {"concepts": "abundance of prey", "type": "concept", "cluster": "Food Web Management", "node_size": 10, "label": "abundance of prey"}], ["key food-web species", {"concepts": "key food-web species", "type": "concept", "cluster": "Food Web Management", "node_size": 10, "label": "key food-web species"}]]};
        const clusterEdges = {"Habitat Ecology": [], "Species Diversity": [], "Ecosystem Dynamics": [], "Resource Management": [], "Fisheries Management": [], "Coral Harvest Management": [], "Marine Ecosystem Health": [], "Coastal Ecosystem Dynamics": [], "Food Web Management": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
