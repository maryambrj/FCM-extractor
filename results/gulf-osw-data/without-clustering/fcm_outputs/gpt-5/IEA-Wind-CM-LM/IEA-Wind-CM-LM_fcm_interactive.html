
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization (Unconnected nodes removed)</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"systemic risk": {"concepts": "systemic risk", "concept_list": ["systemic risk"], "type": "cluster", "node_size": 18, "label": "systemic risk"}, "cabling infrastructure": {"concepts": "cabling infrastructure", "concept_list": ["cabling infrastructure"], "type": "cluster", "node_size": 18, "label": "cabling infrastructure"}, "transmission needs": {"concepts": "transmission needs", "concept_list": ["transmission needs"], "type": "cluster", "node_size": 18, "label": "transmission needs"}, "technological adoption": {"concepts": "technological adoption", "concept_list": ["technological adoption"], "type": "cluster", "node_size": 18, "label": "technological adoption"}, "energy complementarity": {"concepts": "energy complementarity", "concept_list": ["energy complementarity"], "type": "cluster", "node_size": 18, "label": "energy complementarity"}, "political opposition": {"concepts": "political opposition", "concept_list": ["political opposition"], "type": "cluster", "node_size": 18, "label": "political opposition"}, "regulatory framework": {"concepts": "regulatory framework", "concept_list": ["regulatory framework"], "type": "cluster", "node_size": 18, "label": "regulatory framework"}, "industry development": {"concepts": "industry development", "concept_list": ["industry development"], "type": "cluster", "node_size": 18, "label": "industry development"}, "environmental impacts": {"concepts": "environmental impacts", "concept_list": ["environmental impacts"], "type": "cluster", "node_size": 18, "label": "environmental impacts"}, "oil demand": {"concepts": "oil demand", "concept_list": ["oil demand"], "type": "cluster", "node_size": 18, "label": "oil demand"}, "military uses": {"concepts": "military uses", "concept_list": ["military uses"], "type": "cluster", "node_size": 18, "label": "military uses"}, "energy portfolio": {"concepts": "energy portfolio", "concept_list": ["energy portfolio"], "type": "cluster", "node_size": 18, "label": "energy portfolio"}, "resource mix": {"concepts": "resource mix", "concept_list": ["resource mix"], "type": "cluster", "node_size": 18, "label": "resource mix"}, "climate change": {"concepts": "climate change", "concept_list": ["climate change"], "type": "cluster", "node_size": 18, "label": "climate change"}, "regulation": {"concepts": "regulation", "concept_list": ["regulation"], "type": "cluster", "node_size": 18, "label": "regulation"}, "electricity prices": {"concepts": "electricity prices", "concept_list": ["electricity prices"], "type": "cluster", "node_size": 18, "label": "electricity prices"}, "energy companies": {"concepts": "energy companies", "concept_list": ["energy companies"], "type": "cluster", "node_size": 18, "label": "energy companies"}, "training programs": {"concepts": "training programs", "concept_list": ["training programs"], "type": "cluster", "node_size": 18, "label": "training programs"}, "policy adoption": {"concepts": "policy adoption", "concept_list": ["policy adoption"], "type": "cluster", "node_size": 18, "label": "policy adoption"}, "diesel boats": {"concepts": "diesel boats", "concept_list": ["diesel boats"], "type": "cluster", "node_size": 18, "label": "diesel boats"}, "deregulated market": {"concepts": "deregulated market", "concept_list": ["deregulated market"], "type": "cluster", "node_size": 18, "label": "deregulated market"}, "wind power policy": {"concepts": "wind power policy", "concept_list": ["wind power policy"], "type": "cluster", "node_size": 18, "label": "wind power policy"}, "research funding": {"concepts": "research funding", "concept_list": ["research funding"], "type": "cluster", "node_size": 18, "label": "research funding"}, "policy": {"concepts": "policy", "concept_list": ["policy"], "type": "cluster", "node_size": 18, "label": "policy"}, "regional context": {"concepts": "regional context", "concept_list": ["regional context"], "type": "cluster", "node_size": 18, "label": "regional context"}, "marine life": {"concepts": "marine life", "concept_list": ["marine life"], "type": "cluster", "node_size": 18, "label": "marine life"}, "legislative process": {"concepts": "legislative process", "concept_list": ["legislative process"], "type": "cluster", "node_size": 18, "label": "legislative process"}, "clean energy": {"concepts": "clean energy", "concept_list": ["clean energy"], "type": "cluster", "node_size": 18, "label": "clean energy"}, "community drawbacks": {"concepts": "community drawbacks", "concept_list": ["community drawbacks"], "type": "cluster", "node_size": 18, "label": "community drawbacks"}, "fossil fuels": {"concepts": "fossil fuels", "concept_list": ["fossil fuels"], "type": "cluster", "node_size": 18, "label": "fossil fuels"}, "extinction risk": {"concepts": "extinction risk", "concept_list": ["extinction risk"], "type": "cluster", "node_size": 18, "label": "extinction risk"}, "energy infrastructure": {"concepts": "energy infrastructure", "concept_list": ["energy infrastructure"], "type": "cluster", "node_size": 18, "label": "energy infrastructure"}, "space conflicts": {"concepts": "space conflicts", "concept_list": ["space conflicts"], "type": "cluster", "node_size": 18, "label": "space conflicts"}, "pollutants": {"concepts": "pollutants", "concept_list": ["pollutants"], "type": "cluster", "node_size": 18, "label": "pollutants"}, "organizational influence": {"concepts": "organizational influence", "concept_list": ["organizational influence"], "type": "cluster", "node_size": 18, "label": "organizational influence"}, "construction impacts": {"concepts": "construction impacts", "concept_list": ["construction impacts"], "type": "cluster", "node_size": 18, "label": "construction impacts"}, "base load": {"concepts": "base load", "concept_list": ["base load"], "type": "cluster", "node_size": 18, "label": "base load"}, "public policy foundation": {"concepts": "public policy foundation", "concept_list": ["public policy foundation"], "type": "cluster", "node_size": 18, "label": "public policy foundation"}, "regulatory environment": {"concepts": "regulatory environment", "concept_list": ["regulatory environment"], "type": "cluster", "node_size": 18, "label": "regulatory environment"}, "tax credits": {"concepts": "tax credits", "concept_list": ["tax credits"], "type": "cluster", "node_size": 18, "label": "tax credits"}, "offshore wind": {"concepts": "offshore wind", "concept_list": ["offshore wind"], "type": "cluster", "node_size": 18, "label": "offshore wind"}, "advocacy groups": {"concepts": "advocacy groups", "concept_list": ["advocacy groups"], "type": "cluster", "node_size": 18, "label": "advocacy groups"}, "greenhouse gas emissions": {"concepts": "greenhouse gas emissions", "concept_list": ["greenhouse gas emissions"], "type": "cluster", "node_size": 18, "label": "greenhouse gas emissions"}, "coastal communities": {"concepts": "coastal communities", "concept_list": ["coastal communities"], "type": "cluster", "node_size": 18, "label": "coastal communities"}, "climate plan": {"concepts": "climate plan", "concept_list": ["climate plan"], "type": "cluster", "node_size": 18, "label": "climate plan"}, "job transition": {"concepts": "job transition", "concept_list": ["job transition"], "type": "cluster", "node_size": 18, "label": "job transition"}, "sustainability strategies": {"concepts": "sustainability strategies", "concept_list": ["sustainability strategies"], "type": "cluster", "node_size": 18, "label": "sustainability strategies"}, "electricity grid": {"concepts": "electricity grid", "concept_list": ["electricity grid"], "type": "cluster", "node_size": 18, "label": "electricity grid"}, "energy efficiency": {"concepts": "energy efficiency", "concept_list": ["energy efficiency"], "type": "cluster", "node_size": 18, "label": "energy efficiency"}, "incentives": {"concepts": "incentives", "concept_list": ["incentives"], "type": "cluster", "node_size": 18, "label": "incentives"}, "peak demand": {"concepts": "peak demand", "concept_list": ["peak demand"], "type": "cluster", "node_size": 18, "label": "peak demand"}, "workforce training": {"concepts": "workforce training", "concept_list": ["workforce training"], "type": "cluster", "node_size": 18, "label": "workforce training"}, "rainfall events": {"concepts": "rainfall events", "concept_list": ["rainfall events"], "type": "cluster", "node_size": 18, "label": "rainfall events"}, "air pollution": {"concepts": "air pollution", "concept_list": ["air pollution"], "type": "cluster", "node_size": 18, "label": "air pollution"}, "coastal resilience": {"concepts": "coastal resilience", "concept_list": ["coastal resilience"], "type": "cluster", "node_size": 18, "label": "coastal resilience"}, "energy transition": {"concepts": "energy transition", "concept_list": ["energy transition"], "type": "cluster", "node_size": 18, "label": "energy transition"}, "grid integration": {"concepts": "grid integration", "concept_list": ["grid integration"], "type": "cluster", "node_size": 18, "label": "grid integration"}, "house bill": {"concepts": "house bill", "concept_list": ["house bill"], "type": "cluster", "node_size": 18, "label": "house bill"}, "gulf of mexico": {"concepts": "gulf of mexico", "concept_list": ["gulf of mexico"], "type": "cluster", "node_size": 18, "label": "gulf of mexico"}, "onshore renewables": {"concepts": "onshore renewables", "concept_list": ["onshore renewables"], "type": "cluster", "node_size": 18, "label": "onshore renewables"}, "workforce development": {"concepts": "workforce development", "concept_list": ["workforce development"], "type": "cluster", "node_size": 18, "label": "workforce development"}, "republicans": {"concepts": "republicans", "concept_list": ["republicans"], "type": "cluster", "node_size": 18, "label": "republicans"}, "lease process": {"concepts": "lease process", "concept_list": ["lease process"], "type": "cluster", "node_size": 18, "label": "lease process"}, "energy economics": {"concepts": "energy economics", "concept_list": ["energy economics"], "type": "cluster", "node_size": 18, "label": "energy economics"}, "onshore resources": {"concepts": "onshore resources", "concept_list": ["onshore resources"], "type": "cluster", "node_size": 18, "label": "onshore resources"}, "state senate": {"concepts": "state senate", "concept_list": ["state senate"], "type": "cluster", "node_size": 18, "label": "state senate"}, "renewable scenarios": {"concepts": "renewable scenarios", "concept_list": ["renewable scenarios"], "type": "cluster", "node_size": 18, "label": "renewable scenarios"}, "renewable energy programs": {"concepts": "renewable energy programs", "concept_list": ["renewable energy programs"], "type": "cluster", "node_size": 18, "label": "renewable energy programs"}, "manufacturing": {"concepts": "manufacturing", "concept_list": ["manufacturing"], "type": "cluster", "node_size": 18, "label": "manufacturing"}, "public utility commission": {"concepts": "public utility commission", "concept_list": ["public utility commission"], "type": "cluster", "node_size": 18, "label": "public utility commission"}, "substations": {"concepts": "substations", "concept_list": ["substations"], "type": "cluster", "node_size": 18, "label": "substations"}, "localized pollutants": {"concepts": "localized pollutants", "concept_list": ["localized pollutants"], "type": "cluster", "node_size": 18, "label": "localized pollutants"}, "inflation": {"concepts": "inflation", "concept_list": ["inflation"], "type": "cluster", "node_size": 18, "label": "inflation"}, "coastal flooding": {"concepts": "coastal flooding", "concept_list": ["coastal flooding"], "type": "cluster", "node_size": 18, "label": "coastal flooding"}, "economic benefits": {"concepts": "economic benefits", "concept_list": ["economic benefits"], "type": "cluster", "node_size": 18, "label": "economic benefits"}, "economies of scale": {"concepts": "economies of scale", "concept_list": ["economies of scale"], "type": "cluster", "node_size": 18, "label": "economies of scale"}, "policy commitments": {"concepts": "policy commitments", "concept_list": ["policy commitments"], "type": "cluster", "node_size": 18, "label": "policy commitments"}, "carbon capture": {"concepts": "carbon capture", "concept_list": ["carbon capture"], "type": "cluster", "node_size": 18, "label": "carbon capture"}, "energy mix": {"concepts": "energy mix", "concept_list": ["energy mix"], "type": "cluster", "node_size": 18, "label": "energy mix"}, "regulatory incentives": {"concepts": "regulatory incentives", "concept_list": ["regulatory incentives"], "type": "cluster", "node_size": 18, "label": "regulatory incentives"}, "installation process": {"concepts": "installation process", "concept_list": ["installation process"], "type": "cluster", "node_size": 18, "label": "installation process"}, "hurricane resilience": {"concepts": "hurricane resilience", "concept_list": ["hurricane resilience"], "type": "cluster", "node_size": 18, "label": "hurricane resilience"}, "management": {"concepts": "management", "concept_list": ["management"], "type": "cluster", "node_size": 18, "label": "management"}, "community impact": {"concepts": "community impact", "concept_list": ["community impact"], "type": "cluster", "node_size": 18, "label": "community impact"}, "mitigation": {"concepts": "mitigation", "concept_list": ["mitigation"], "type": "cluster", "node_size": 18, "label": "mitigation"}, "regional development": {"concepts": "regional development", "concept_list": ["regional development"], "type": "cluster", "node_size": 18, "label": "regional development"}, "flooding": {"concepts": "flooding", "concept_list": ["flooding"], "type": "cluster", "node_size": 18, "label": "flooding"}, "market dynamics": {"concepts": "market dynamics", "concept_list": ["market dynamics"], "type": "cluster", "node_size": 18, "label": "market dynamics"}, "environmental mitigation": {"concepts": "environmental mitigation", "concept_list": ["environmental mitigation"], "type": "cluster", "node_size": 18, "label": "environmental mitigation"}, "electric bills": {"concepts": "electric bills", "concept_list": ["electric bills"], "type": "cluster", "node_size": 18, "label": "electric bills"}, "hurricanes": {"concepts": "hurricanes", "concept_list": ["hurricanes"], "type": "cluster", "node_size": 18, "label": "hurricanes"}, "economic development": {"concepts": "economic development", "concept_list": ["economic development"], "type": "cluster", "node_size": 18, "label": "economic development"}, "environmental community": {"concepts": "environmental community", "concept_list": ["environmental community"], "type": "cluster", "node_size": 18, "label": "environmental community"}, "supply chain": {"concepts": "supply chain", "concept_list": ["supply chain"], "type": "cluster", "node_size": 18, "label": "supply chain"}, "construction noise": {"concepts": "construction noise", "concept_list": ["construction noise"], "type": "cluster", "node_size": 18, "label": "construction noise"}, "global development": {"concepts": "global development", "concept_list": ["global development"], "type": "cluster", "node_size": 18, "label": "global development"}, "coastal areas": {"concepts": "coastal areas", "concept_list": ["coastal areas"], "type": "cluster", "node_size": 18, "label": "coastal areas"}, "offshore drilling": {"concepts": "offshore drilling", "concept_list": ["offshore drilling"], "type": "cluster", "node_size": 18, "label": "offshore drilling"}, "interconnection": {"concepts": "interconnection", "concept_list": ["interconnection"], "type": "cluster", "node_size": 18, "label": "interconnection"}, "cost barriers": {"concepts": "cost barriers", "concept_list": ["cost barriers"], "type": "cluster", "node_size": 18, "label": "cost barriers"}, "lieutenant governor": {"concepts": "lieutenant governor", "concept_list": ["lieutenant governor"], "type": "cluster", "node_size": 18, "label": "lieutenant governor"}, "hydrogen production": {"concepts": "hydrogen production", "concept_list": ["hydrogen production"], "type": "cluster", "node_size": 18, "label": "hydrogen production"}, "electricity production": {"concepts": "electricity production", "concept_list": ["electricity production"], "type": "cluster", "node_size": 18, "label": "electricity production"}, "economic viability": {"concepts": "economic viability", "concept_list": ["economic viability"], "type": "cluster", "node_size": 18, "label": "economic viability"}, "ecosystem risks": {"concepts": "ecosystem risks", "concept_list": ["ecosystem risks"], "type": "cluster", "node_size": 18, "label": "ecosystem risks"}, "vessels": {"concepts": "vessels", "concept_list": ["vessels"], "type": "cluster", "node_size": 18, "label": "vessels"}, "environmental impact": {"concepts": "environmental impact", "concept_list": ["environmental impact"], "type": "cluster", "node_size": 18, "label": "environmental impact"}, "democrats": {"concepts": "democrats", "concept_list": ["democrats"], "type": "cluster", "node_size": 18, "label": "democrats"}, "permitting requirements": {"concepts": "permitting requirements", "concept_list": ["permitting requirements"], "type": "cluster", "node_size": 18, "label": "permitting requirements"}, "ecosystems": {"concepts": "ecosystems", "concept_list": ["ecosystems"], "type": "cluster", "node_size": 18, "label": "ecosystems"}, "ocean life": {"concepts": "ocean life", "concept_list": ["ocean life"], "type": "cluster", "node_size": 18, "label": "ocean life"}, "advocacy": {"concepts": "advocacy", "concept_list": ["advocacy"], "type": "cluster", "node_size": 18, "label": "advocacy"}, "mitigation strategies": {"concepts": "mitigation strategies", "concept_list": ["mitigation strategies"], "type": "cluster", "node_size": 18, "label": "mitigation strategies"}, "environmental impact statement": {"concepts": "environmental impact statement", "concept_list": ["environmental impact statement"], "type": "cluster", "node_size": 18, "label": "environmental impact statement"}, "ercot": {"concepts": "ercot", "concept_list": ["ercot"], "type": "cluster", "node_size": 18, "label": "ercot"}, "social differences": {"concepts": "social differences", "concept_list": ["social differences"], "type": "cluster", "node_size": 18, "label": "social differences"}, "wildlife impact": {"concepts": "wildlife impact", "concept_list": ["wildlife impact"], "type": "cluster", "node_size": 18, "label": "wildlife impact"}, "political appetite": {"concepts": "political appetite", "concept_list": ["political appetite"], "type": "cluster", "node_size": 18, "label": "political appetite"}, "energy grid": {"concepts": "energy grid", "concept_list": ["energy grid"], "type": "cluster", "node_size": 18, "label": "energy grid"}, "electricity demand": {"concepts": "electricity demand", "concept_list": ["electricity demand"], "type": "cluster", "node_size": 18, "label": "electricity demand"}, "transmission system": {"concepts": "transmission system", "concept_list": ["transmission system"], "type": "cluster", "node_size": 18, "label": "transmission system"}, "stakeholder conflict": {"concepts": "stakeholder conflict", "concept_list": ["stakeholder conflict"], "type": "cluster", "node_size": 18, "label": "stakeholder conflict"}, "legislative policy": {"concepts": "legislative policy", "concept_list": ["legislative policy"], "type": "cluster", "node_size": 18, "label": "legislative policy"}, "policy incentives": {"concepts": "policy incentives", "concept_list": ["policy incentives"], "type": "cluster", "node_size": 18, "label": "policy incentives"}, "community colleges": {"concepts": "community colleges", "concept_list": ["community colleges"], "type": "cluster", "node_size": 18, "label": "community colleges"}, "revenue sources": {"concepts": "revenue sources", "concept_list": ["revenue sources"], "type": "cluster", "node_size": 18, "label": "revenue sources"}, "climate action": {"concepts": "climate action", "concept_list": ["climate action"], "type": "cluster", "node_size": 18, "label": "climate action"}, "environmental concerns": {"concepts": "environmental concerns", "concept_list": ["environmental concerns"], "type": "cluster", "node_size": 18, "label": "environmental concerns"}, "energy generation": {"concepts": "energy generation", "concept_list": ["energy generation"], "type": "cluster", "node_size": 18, "label": "energy generation"}, "state commitments": {"concepts": "state commitments", "concept_list": ["state commitments"], "type": "cluster", "node_size": 18, "label": "state commitments"}, "shipyard industry": {"concepts": "shipyard industry", "concept_list": ["shipyard industry"], "type": "cluster", "node_size": 18, "label": "shipyard industry"}, "natural gas": {"concepts": "natural gas", "concept_list": ["natural gas"], "type": "cluster", "node_size": 18, "label": "natural gas"}, "wildlife impacts": {"concepts": "wildlife impacts", "concept_list": ["wildlife impacts"], "type": "cluster", "node_size": 18, "label": "wildlife impacts"}, "shipyard": {"concepts": "shipyard", "concept_list": ["shipyard"], "type": "cluster", "node_size": 18, "label": "shipyard"}, "community benefits": {"concepts": "community benefits", "concept_list": ["community benefits"], "type": "cluster", "node_size": 18, "label": "community benefits"}, "policy support": {"concepts": "policy support", "concept_list": ["policy support"], "type": "cluster", "node_size": 18, "label": "policy support"}, "off-take agreements": {"concepts": "off-take agreements", "concept_list": ["off-take agreements"], "type": "cluster", "node_size": 18, "label": "off-take agreements"}, "species impacts": {"concepts": "species impacts", "concept_list": ["species impacts"], "type": "cluster", "node_size": 18, "label": "species impacts"}, "career transition": {"concepts": "career transition", "concept_list": ["career transition"], "type": "cluster", "node_size": 18, "label": "career transition"}, "environmental assessment": {"concepts": "environmental assessment", "concept_list": ["environmental assessment"], "type": "cluster", "node_size": 18, "label": "environmental assessment"}, "turbine design": {"concepts": "turbine design", "concept_list": ["turbine design"], "type": "cluster", "node_size": 18, "label": "turbine design"}, "emissions reduction": {"concepts": "emissions reduction", "concept_list": ["emissions reduction"], "type": "cluster", "node_size": 18, "label": "emissions reduction"}, "extreme heat": {"concepts": "extreme heat", "concept_list": ["extreme heat"], "type": "cluster", "node_size": 18, "label": "extreme heat"}, "energy costs": {"concepts": "energy costs", "concept_list": ["energy costs"], "type": "cluster", "node_size": 18, "label": "energy costs"}, "investment risk": {"concepts": "investment risk", "concept_list": ["investment risk"], "type": "cluster", "node_size": 18, "label": "investment risk"}, "hurricane impacts": {"concepts": "hurricane impacts", "concept_list": ["hurricane impacts"], "type": "cluster", "node_size": 18, "label": "hurricane impacts"}, "consumer costs": {"concepts": "consumer costs", "concept_list": ["consumer costs"], "type": "cluster", "node_size": 18, "label": "consumer costs"}, "fragile grid": {"concepts": "fragile grid", "concept_list": ["fragile grid"], "type": "cluster", "node_size": 18, "label": "fragile grid"}, "fossil fuel development": {"concepts": "fossil fuel development", "concept_list": ["fossil fuel development"], "type": "cluster", "node_size": 18, "label": "fossil fuel development"}, "renewable resources": {"concepts": "renewable resources", "concept_list": ["renewable resources"], "type": "cluster", "node_size": 18, "label": "renewable resources"}, "turbine development": {"concepts": "turbine development", "concept_list": ["turbine development"], "type": "cluster", "node_size": 18, "label": "turbine development"}, "wildlife": {"concepts": "wildlife", "concept_list": ["wildlife"], "type": "cluster", "node_size": 18, "label": "wildlife"}};
        const conceptData = {};
        const interClusterEdges = [["systemic risk", "regulatory incentives", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["cabling infrastructure", "wildlife", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["cabling infrastructure", "regional development", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["cabling infrastructure", "hurricanes", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["cabling infrastructure", "economic development", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["transmission needs", "mitigation strategies", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["technological adoption", "carbon capture", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["energy complementarity", "organizational influence", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["political opposition", "state commitments", {"weight": -1.0, "confidence": 0.8000000000000002, "type": "inter_cluster", "style": "solid"}], ["regulatory framework", "pollutants", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["industry development", "policy", {"weight": 1.0, "confidence": 0.8500000000000001, "type": "inter_cluster", "style": "solid"}], ["environmental impacts", "political opposition", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["oil demand", "training programs", {"weight": -1.0, "confidence": 0.575, "type": "inter_cluster", "style": "solid"}], ["oil demand", "legislative process", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["oil demand", "onshore renewables", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["oil demand", "cabling infrastructure", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["military uses", "political opposition", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["military uses", "social differences", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["energy portfolio", "state commitments", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["energy portfolio", "vessels", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["energy portfolio", "turbine design", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["resource mix", "species impacts", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["resource mix", "regulatory framework", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["regulation", "community benefits", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["electricity prices", "community impact", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["training programs", "coastal areas", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["training programs", "climate change", {"weight": -1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["diesel boats", "legislative process", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["wind power policy", "marine life", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["wind power policy", "wildlife impact", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["research funding", "shipyard industry", {"weight": 1.0, "confidence": 0.675, "type": "inter_cluster", "style": "solid"}], ["research funding", "interconnection", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["policy", "ercot", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["policy", "electricity demand", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["policy", "hurricane impacts", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["regional context", "permitting requirements", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["legislative process", "environmental assessment", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["clean energy", "mitigation strategies", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["community drawbacks", "economic viability", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["fossil fuels", "inflation", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["extinction risk", "greenhouse gas emissions", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["energy infrastructure", "inflation", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["space conflicts", "ecosystems", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["pollutants", "turbine development", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["organizational influence", "democrats", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["organizational influence", "marine life", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["construction impacts", "environmental impact", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["public policy foundation", "social differences", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["regulatory environment", "ocean life", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["regulatory environment", "energy efficiency", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["regulatory environment", "clean energy", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["tax credits", "manufacturing", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["offshore wind", "electricity production", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["offshore wind", "wildlife", {"weight": -1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["advocacy groups", "transmission system", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["greenhouse gas emissions", "climate action", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["greenhouse gas emissions", "extinction risk", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["coastal communities", "carbon capture", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["sustainability strategies", "interconnection", {"weight": 1.0, "confidence": 0.625, "type": "inter_cluster", "style": "solid"}], ["sustainability strategies", "gulf of mexico", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["sustainability strategies", "environmental community", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["electricity grid", "installation process", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["electricity grid", "energy generation", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["energy efficiency", "mitigation", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["energy efficiency", "management", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["incentives", "installation process", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["incentives", "democrats", {"weight": 0.5, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["peak demand", "regional development", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["workforce training", "shipyard industry", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["rainfall events", "energy companies", {"weight": -1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["coastal resilience", "extreme heat", {"weight": -1.0, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["energy transition", "interconnection", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["house bill", "regulation", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["gulf of mexico", "lease process", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["onshore renewables", "air pollution", {"weight": -1.0, "confidence": 0.7666666666666666, "type": "inter_cluster", "style": "solid"}], ["onshore renewables", "environmental concerns", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["republicans", "environmental impact", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["republicans", "ocean life", {"weight": -0.5, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["lease process", "house bill", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["lease process", "energy costs", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["energy economics", "off-take agreements", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["onshore resources", "resource mix", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["state senate", "deregulated market", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["state senate", "policy commitments", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["manufacturing", "extinction risk", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["manufacturing", "natural gas", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["substations", "coastal areas", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["localized pollutants", "turbine design", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["coastal flooding", "community drawbacks", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["economic benefits", "regulatory incentives", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["economies of scale", "gulf of mexico", {"weight": 1.0, "confidence": 0.63, "type": "inter_cluster", "style": "solid"}], ["economies of scale", "oil demand", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["economies of scale", "hydrogen production", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["policy commitments", "regional development", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["energy mix", "job transition", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["energy mix", "climate plan", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["regulatory incentives", "energy mix", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["installation process", "base load", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["hurricane resilience", "economies of scale", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["mitigation", "policy", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["mitigation", "interconnection", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["regional development", "climate change", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["regional development", "localized pollutants", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["regional development", "environmental assessment", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["flooding", "lieutenant governor", {"weight": -0.5, "confidence": 0.275, "type": "inter_cluster", "style": "solid"}], ["market dynamics", "space conflicts", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["environmental mitigation", "policy adoption", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["environmental mitigation", "community drawbacks", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["electric bills", "cabling infrastructure", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["hurricanes", "military uses", {"weight": -1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["economic development", "public utility commission", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["environmental community", "construction noise", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["environmental community", "coastal flooding", {"weight": 1.0, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["supply chain", "workforce training", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["construction noise", "environmental concerns", {"weight": 1.0, "confidence": 0.875, "type": "inter_cluster", "style": "solid"}], ["global development", "gulf of mexico", {"weight": 1.0, "confidence": 0.625, "type": "inter_cluster", "style": "solid"}], ["coastal areas", "sustainability strategies", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["coastal areas", "extinction risk", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["cost barriers", "environmental impacts", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["cost barriers", "workforce development", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["lieutenant governor", "energy efficiency", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["electricity production", "workforce training", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["electricity production", "economies of scale", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["electricity production", "regulatory environment", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["electricity production", "global development", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["electricity production", "offshore drilling", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["ecosystem risks", "political appetite", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["vessels", "gulf of mexico", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["environmental impact", "incentives", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["environmental impact", "energy grid", {"weight": -1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["democrats", "training programs", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["permitting requirements", "stakeholder conflict", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["ecosystems", "electricity grid", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["ocean life", "investment risk", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["advocacy", "offshore wind", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["mitigation strategies", "greenhouse gas emissions", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["mitigation strategies", "shipyard", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["environmental impact statement", "offshore wind", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["ercot", "regional context", {"weight": 1.0, "confidence": 0.6333333333333333, "type": "inter_cluster", "style": "solid"}], ["ercot", "energy grid", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["ercot", "global development", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["ercot", "stakeholder conflict", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["social differences", "gulf of mexico", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["energy grid", "economic viability", {"weight": 1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["electricity demand", "coastal areas", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["electricity demand", "political opposition", {"weight": -1.0, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["transmission system", "energy economics", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["transmission system", "ocean life", {"weight": -1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["legislative policy", "state senate", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["legislative policy", "market dynamics", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["legislative policy", "renewable energy programs", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["legislative policy", "electricity production", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["policy incentives", "systemic risk", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["community colleges", "energy infrastructure", {"weight": 1.0, "confidence": 0.625, "type": "inter_cluster", "style": "solid"}], ["community colleges", "organizational influence", {"weight": 1.0, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["climate action", "wildlife impacts", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["climate action", "community impact", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["state commitments", "advocacy groups", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["shipyard industry", "advocacy", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["natural gas", "systemic risk", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["shipyard", "community drawbacks", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["community benefits", "job transition", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["community benefits", "renewable scenarios", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["policy support", "space conflicts", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["off-take agreements", "energy economics", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["career transition", "economic viability", {"weight": 1.0, "confidence": 0.6833333333333332, "type": "inter_cluster", "style": "solid"}], ["environmental assessment", "construction noise", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["environmental assessment", "environmental concerns", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["environmental assessment", "grid integration", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["environmental assessment", "clean energy", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["turbine design", "energy mix", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["turbine design", "grid integration", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["emissions reduction", "renewable energy programs", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["hurricane impacts", "ecosystem risks", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["consumer costs", "ecosystems", {"weight": -1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["fragile grid", "house bill", {"weight": 1.0, "confidence": 0.575, "type": "inter_cluster", "style": "solid"}], ["fossil fuel development", "mitigation", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["renewable resources", "economic viability", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["renewable resources", "energy portfolio", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["renewable resources", "carbon capture", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["renewable resources", "revenue sources", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["turbine development", "ecosystem risks", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["wildlife", "policy adoption", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {};
        const clusterEdges = {};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
