
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization (Unconnected nodes removed)</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"fishery policy advocacy": {"concepts": "fishery policy advocacy, fishery policy decision-making, fishery decision-making", "concept_list": ["fishery policy advocacy", "fishery policy decision-making", "fishery decision-making"], "type": "cluster", "node_size": 24, "label": "fishery policy advocacy"}, "refinery": {"concepts": "refinery", "concept_list": ["refinery"], "type": "cluster", "node_size": 18, "label": "refinery"}, "mandahl pond": {"concepts": "mandahl pond", "concept_list": ["mandahl pond"], "type": "cluster", "node_size": 18, "label": "mandahl pond"}, "mesh size regulation": {"concepts": "mesh size regulation", "concept_list": ["mesh size regulation"], "type": "cluster", "node_size": 18, "label": "mesh size regulation"}, "fishery education": {"concepts": "fishery education", "concept_list": ["fishery education"], "type": "cluster", "node_size": 18, "label": "fishery education"}, "fishermen income": {"concepts": "fishermen income", "concept_list": ["fishermen income"], "type": "cluster", "node_size": 18, "label": "fishermen income"}, "south america": {"concepts": "south america", "concept_list": ["south america"], "type": "cluster", "node_size": 18, "label": "south america"}, "federal waters": {"concepts": "federal waters", "concept_list": ["federal waters"], "type": "cluster", "node_size": 18, "label": "federal waters"}, "fishery management evolution": {"concepts": "fishery management evolution", "concept_list": ["fishery management evolution"], "type": "cluster", "node_size": 18, "label": "fishery management evolution"}, "division of wildlife": {"concepts": "division of wildlife", "concept_list": ["division of wildlife"], "type": "cluster", "node_size": 18, "label": "division of wildlife"}, "east end marine park": {"concepts": "east end marine park", "concept_list": ["east end marine park"], "type": "cluster", "node_size": 18, "label": "east end marine park"}, "fishery participatory governance": {"concepts": "fishery participatory governance", "concept_list": ["fishery participatory governance"], "type": "cluster", "node_size": 18, "label": "fishery participatory governance"}, "Boat Maintenance": {"concepts": "feet swells, swell, sunscreen regulation", "concept_list": ["feet swells", "swell", "sunscreen regulation"], "type": "cluster", "node_size": 24, "label": "Boat Maintenance"}, "Fishermen Roles": {"concepts": "boat maintenance, mechanic shops, boat engines, anchor damage", "concept_list": ["boat maintenance", "mechanic shops", "boat engines", "anchor damage"], "type": "cluster", "node_size": 27, "label": "Fishermen Roles"}, "Trap Management": {"concepts": "fishermen, part-time fishermen, fishery studies, recreational fishers, u.s. virgin island fisheries, regional fisheries, fishery, commercial fishers, fisher concerns, fishers", "concept_list": ["fishermen", "part-time fishermen", "fishery studies", "recreational fishers", "u.s. virgin island fisheries", "regional fisheries", "fishery", "commercial fishers", "fisher concerns", "fishers"], "type": "cluster", "node_size": 45, "label": "Trap Management"}, "DPNR Scientists": {"concepts": "trap boat, trap reduction", "concept_list": ["trap boat", "trap reduction"], "type": "cluster", "node_size": 21, "label": "DPNR Scientists"}, "Swell and Sunscreen": {"concepts": "dprn scientists, dpnr, dap, dpnr scientists", "concept_list": ["dprn scientists", "dpnr", "dap", "dpnr scientists"], "type": "cluster", "node_size": 27, "label": "Swell and Sunscreen"}, "Ocean Dynamics": {"concepts": "ocean particles, ocean temperature, ocean waves", "concept_list": ["ocean particles", "ocean temperature", "ocean waves"], "type": "cluster", "node_size": 24, "label": "Ocean Dynamics"}, "National Park Planning": {"concepts": "department of planning and resources (dpr), national park designation, national park", "concept_list": ["department of planning and resources (dpr)", "national park designation", "national park"], "type": "cluster", "node_size": 24, "label": "National Park Planning"}, "Incident Detection": {"concepts": "under reporting, rapid catch", "concept_list": ["under reporting", "rapid catch"], "type": "cluster", "node_size": 21, "label": "Incident Detection"}, "Fishing Community Dynamics": {"concepts": "fishing community, fishing communities, fishing community challenges, fishing livelihoods, fishing community cohesion, fishing associations", "concept_list": ["fishing community", "fishing communities", "fishing community challenges", "fishing livelihoods", "fishing community cohesion", "fishing associations"], "type": "cluster", "node_size": 33, "label": "Fishing Community Dynamics"}, "Ocean Conditions": {"concepts": "fishing tags, gill net compensation, gill net ban, gill nets ban", "concept_list": ["fishing tags", "gill net compensation", "gill net ban", "gill nets ban"], "type": "cluster", "node_size": 27, "label": "Ocean Conditions"}, "Fishing Infrastructure": {"concepts": "fishing boats, fishing docks, fishing vessels, family fishing, fishing licenses, sport fishing, fishing management, fishing industry, professional fishing, air fishing, line fishing, recreational fishing, fishing experience, fishing gear replacement, gear replacement, commercial fishing, net fishing, fishing days, fishing practices, fishing license, illegal fishing, intergenerational fishing, oil dumping, fishing administration, fishing income, passive fishing, fishing economy, fishing hostility, fishing seasons, fishing policy, fishing regulations, fishing restrictions, fishing pressure, fishing charters, fishing challenges, fish licenses, fishing effort, fishing sustainability, offshore fishing, fishing gear", "concept_list": ["fishing boats", "fishing docks", "fishing vessels", "family fishing", "fishing licenses", "sport fishing", "fishing management", "fishing industry", "professional fishing", "air fishing", "line fishing", "recreational fishing", "fishing experience", "fishing gear replacement", "gear replacement", "commercial fishing", "net fishing", "fishing days", "fishing practices", "fishing license", "illegal fishing", "intergenerational fishing", "oil dumping", "fishing administration", "fishing income", "passive fishing", "fishing economy", "fishing hostility", "fishing seasons", "fishing policy", "fishing regulations", "fishing restrictions", "fishing pressure", "fishing charters", "fishing challenges", "fish licenses", "fishing effort", "fishing sustainability", "offshore fishing", "fishing gear"], "type": "cluster", "node_size": 135, "label": "Fishing Infrastructure"}, "Fishing Management": {"concepts": "fishing infrastructure, fishing zones, fishing locations, fishing bans, fishing quotas, island management plan, fishing spots", "concept_list": ["fishing infrastructure", "fishing zones", "fishing locations", "fishing bans", "fishing quotas", "island management plan", "fishing spots"], "type": "cluster", "node_size": 36, "label": "Fishing Management"}, "Trap Fishing Methods": {"concepts": "fish aggregating devices, fish traps, trap fishing, trap fisherman, fisher traps", "concept_list": ["fish aggregating devices", "fish traps", "trap fishing", "trap fisherman", "fisher traps"], "type": "cluster", "node_size": 30, "label": "Trap Fishing Methods"}, "Fisheries Management": {"concepts": "hatcheries, fisher representation, fish dependency", "concept_list": ["hatcheries", "fisher representation", "fish dependency"], "type": "cluster", "node_size": 24, "label": "Fisheries Management"}, "Fishery Policy Dynamics": {"concepts": "fishery policy outcomes, fisheries dependence, fishery legislation, fishery policy social impact, fishery regulations, fishery rules, fishery feedback, fishery dependence, fishery policy legitimacy, fishery administrative changes, fishery cultural impact, fishery political influence, fishery resource management political context, fishery policy political influence", "concept_list": ["fishery policy outcomes", "fisheries dependence", "fishery legislation", "fishery policy social impact", "fishery regulations", "fishery rules", "fishery feedback", "fishery dependence", "fishery policy legitimacy", "fishery administrative changes", "fishery cultural impact", "fishery political influence", "fishery resource management political context", "fishery policy political influence"], "type": "cluster", "node_size": 57, "label": "Fishery Policy Dynamics"}, "Fishery Impact Analysis": {"concepts": "fishery economic impact, fishery policy impact, fishery environmental impact, economic impact on fisheries, fishery policy environmental impact, fishery impact", "concept_list": ["fishery economic impact", "fishery policy impact", "fishery environmental impact", "economic impact on fisheries", "fishery policy environmental impact", "fishery impact"], "type": "cluster", "node_size": 33, "label": "Fishery Impact Analysis"}, "Fishery Policy Challenges": {"concepts": "fishery bans, fishery policy implementation challenges, fishery policy challenges, fishery crisis management, fishery crash", "concept_list": ["fishery bans", "fishery policy implementation challenges", "fishery policy challenges", "fishery crisis management", "fishery crash"], "type": "cluster", "node_size": 30, "label": "Fishery Policy Challenges"}, "Outreach Strategies": {"concepts": "radio outreach, outreach, meetings, involvement, user groups", "concept_list": ["radio outreach", "outreach", "meetings", "involvement", "user groups"], "type": "cluster", "node_size": 30, "label": "Outreach Strategies"}, "Government Levels": {"concepts": "federal government, local government, federal level, government officials, government employment, federal compliance, government permits, government support", "concept_list": ["federal government", "local government", "federal level", "government officials", "government employment", "federal compliance", "government permits", "government support"], "type": "cluster", "node_size": 39, "label": "Government Levels"}, "Funding and Fees": {"concepts": "federal funding, fundraisers, dock fees", "concept_list": ["federal funding", "fundraisers", "dock fees"], "type": "cluster", "node_size": 24, "label": "Funding and Fees"}, "Caribbean Fishery Management": {"concepts": "fishery advocacy, puerto rico, permit delays, fishery hostility, fishery resource management adaptability, caribbean, fishery policy communication, fishery resource access, fishery resilience, tourism, restaurant industry, fisher communication strategies, fishery policy leadership, environment, fisher advocacy, fishery resource management sustainability, bonitos, fishery compliance, sargassum influx, tourism industry, trap reduction program, waves, agriculture, skin diving, boat ownership, fishery resource sustainability, scientist, refinery closure, blue runners, researchers, mahogany run, ssc, registered fishermen, regulatory compliance, fishery leadership, permit process, eggs, tide changes, community meetings, limited entry, politics, fishery public communication, brown swells, fishery enforcement agencies, fishery policy support, fisher groups, rain, chairman resignation, fishery compensation, fishery development, hard nose, governor engagement, fishery conflict dynamics, diving sites, fishery policy enforcement, farmer's market, catch reporting, department of planning and resources, fishery support, fishery policy communication strategies, fishery communication, town hall meeting, cruise ships, fishery sustainability, marine park rules, community, local level, boat anchoring, fishery resource management compliance, fishery leadership turnover, permitting process, shoreline management, fishery policy compliance, assistant director, trap reduction plan, sctld, resource sustainability, reef fishing, mud, seabed protection, lobster catch, southeasterly currents, resource management, yellow tail, enforcement, low tide, fishery resource management leadership, fishery inclusion, captain's license, tourism community, line fisherman, middle class decline, fishery environmental protection, ground swells, toxins, fisherman's association, fishery regulatory compliance, fishery exclusion, farming background, scientists, fishery administration, fishing enforcement, wahoo, diving conditions, licensing, diving, fishery outreach, yellowtail, metal corrosion, gar, el nino, fisher grievances, disaster funding, stakeholder involvement, cargo ships, fishery enforcement, boaters, groceries, fishery organization, st. thomas fishermen's association, catch reports, data collection, fishery policy enforcement mechanisms, fishery enforcement challenges, trap storage, fishery stakeholders, high tide, fisher resource access, fishery policy leadership turnover, coolers, muddy water, fishery negotiation, fisheries protection, government meetings, full-time fishermen", "concept_list": ["fishery advocacy", "puerto rico", "permit delays", "fishery hostility", "fishery resource management adaptability", "caribbean", "fishery policy communication", "fishery resource access", "fishery resilience", "tourism", "restaurant industry", "fisher communication strategies", "fishery policy leadership", "environment", "fisher advocacy", "fishery resource management sustainability", "bonitos", "fishery compliance", "sargassum influx", "tourism industry", "trap reduction program", "waves", "agriculture", "skin diving", "boat ownership", "fishery resource sustainability", "scientist", "refinery closure", "blue runners", "researchers", "mahogany run", "ssc", "registered fishermen", "regulatory compliance", "fishery leadership", "permit process", "eggs", "tide changes", "community meetings", "limited entry", "politics", "fishery public communication", "brown swells", "fishery enforcement agencies", "fishery policy support", "fisher groups", "rain", "chairman resignation", "fishery compensation", "fishery development", "hard nose", "governor engagement", "fishery conflict dynamics", "diving sites", "fishery policy enforcement", "farmer's market", "catch reporting", "department of planning and resources", "fishery support", "fishery policy communication strategies", "fishery communication", "town hall meeting", "cruise ships", "fishery sustainability", "marine park rules", "community", "local level", "boat anchoring", "fishery resource management compliance", "fishery leadership turnover", "permitting process", "shoreline management", "fishery policy compliance", "assistant director", "trap reduction plan", "sctld", "resource sustainability", "reef fishing", "mud", "seabed protection", "lobster catch", "southeasterly currents", "resource management", "yellow tail", "enforcement", "low tide", "fishery resource management leadership", "fishery inclusion", "captain's license", "tourism community", "line fisherman", "middle class decline", "fishery environmental protection", "ground swells", "toxins", "fisherman's association", "fishery regulatory compliance", "fishery exclusion", "farming background", "scientists", "fishery administration", "fishing enforcement", "wahoo", "diving conditions", "licensing", "diving", "fishery outreach", "yellowtail", "metal corrosion", "gar", "el nino", "fisher grievances", "disaster funding", "stakeholder involvement", "cargo ships", "fishery enforcement", "boaters", "groceries", "fishery organization", "st. thomas fishermen's association", "catch reports", "data collection", "fishery policy enforcement mechanisms", "fishery enforcement challenges", "trap storage", "fishery stakeholders", "high tide", "fisher resource access", "fishery policy leadership turnover", "coolers", "muddy water", "fishery negotiation", "fisheries protection", "government meetings", "full-time fishermen"], "type": "cluster", "node_size": 420, "label": "Caribbean Fishery Management"}, "Fish Population Management": {"concepts": "trout reduction, restaurant fish consumption, fish habitat, juvenile fish protection, fish events study, fish stock assessment, fish and wildlife, juvenile habitats, fish population, fish species, fish stock pressure, fish market demand, fish market, fish and wildlife director, fish sales, dpnr fish and wildlife, juvenile fish, fresh fish diet", "concept_list": ["trout reduction", "restaurant fish consumption", "fish habitat", "juvenile fish protection", "fish events study", "fish stock assessment", "fish and wildlife", "juvenile habitats", "fish population", "fish species", "fish stock pressure", "fish market demand", "fish market", "fish and wildlife director", "fish sales", "dpnr fish and wildlife", "juvenile fish", "fresh fish diet"], "type": "cluster", "node_size": 69, "label": "Fish Population Management"}, "Economic Challenges": {"concepts": "inflation, economic impact, economic downturn, fuel costs, economic effect, economic resilience", "concept_list": ["inflation", "economic impact", "economic downturn", "fuel costs", "economic effect", "economic resilience"], "type": "cluster", "node_size": 33, "label": "Economic Challenges"}, "Coastal Vegetation Dynamics": {"concepts": "weed, botany bay, mangroves, turtlegrass, gravel movement, rocky beaches, grass beds, weed growth", "concept_list": ["weed", "botany bay", "mangroves", "turtlegrass", "gravel movement", "rocky beaches", "grass beds", "weed growth"], "type": "cluster", "node_size": 39, "label": "Coastal Vegetation Dynamics"}, "Island Harbors": {"concepts": "st. croix, st. johns, st. john, st. thomas, quiraing, barren area, dock, american yacht harbor", "concept_list": ["st. croix", "st. johns", "st. john", "st. thomas", "quiraing", "barren area", "dock", "american yacht harbor"], "type": "cluster", "node_size": 39, "label": "Island Harbors"}, "Leadership and Governance": {"concepts": "upper management, fac board, senator, representative, administration", "concept_list": ["upper management", "fac board", "senator", "representative", "administration"], "type": "cluster", "node_size": 30, "label": "Leadership and Governance"}, "Dolphin Research": {"concepts": "dolphin, biologist", "concept_list": ["dolphin", "biologist"], "type": "cluster", "node_size": 21, "label": "Dolphin Research"}, "Program Challenges and Communication": {"concepts": "education, fairness, fac dysfunction, covid-19 hardship, fad program, bars, bar jacket, communication, pamphlets, fads", "concept_list": ["education", "fairness", "fac dysfunction", "covid-19 hardship", "fad program", "bars", "bar jacket", "communication", "pamphlets", "fads"], "type": "cluster", "node_size": 45, "label": "Program Challenges and Communication"}, "Fishery Trust": {"concepts": "fishery stakeholder trust, fishery social trust, fishery trust, fishery community trust, fishery resource management social trust, fishery policy stakeholder trust", "concept_list": ["fishery stakeholder trust", "fishery social trust", "fishery trust", "fishery community trust", "fishery resource management social trust", "fishery policy stakeholder trust"], "type": "cluster", "node_size": 33, "label": "Fishery Trust"}, "Fishery Management Equity": {"concepts": "fishery decision fairness, fishery policy fairness, fishery management fairness, fishery resource management equity, fishery policy transparency, fishery transparency, fishery resource management transparency", "concept_list": ["fishery decision fairness", "fishery policy fairness", "fishery management fairness", "fishery resource management equity", "fishery policy transparency", "fishery transparency", "fishery resource management transparency"], "type": "cluster", "node_size": 36, "label": "Fishery Management Equity"}, "Fishery Management Outcomes": {"concepts": "fishery resource management outcomes, fishery resource management effectiveness, fishery resource management social outcomes", "concept_list": ["fishery resource management outcomes", "fishery resource management effectiveness", "fishery resource management social outcomes"], "type": "cluster", "node_size": 24, "label": "Fishery Management Outcomes"}, "Fishery Social Dynamics": {"concepts": "fishery social dynamics, fishery policy social dynamics", "concept_list": ["fishery social dynamics", "fishery policy social dynamics"], "type": "cluster", "node_size": 21, "label": "Fishery Social Dynamics"}, "Fishery Organizational Change": {"concepts": "fishery resource management organizational structures, fishery policy organizational change, fishery organizational change, fishery resource management innovation", "concept_list": ["fishery resource management organizational structures", "fishery policy organizational change", "fishery organizational change", "fishery resource management innovation"], "type": "cluster", "node_size": 27, "label": "Fishery Organizational Change"}, "Environmental Management": {"concepts": "environmental change, environmental regulation, environmental stressors, carbon managers, environmental monitoring, environmental impact", "concept_list": ["environmental change", "environmental regulation", "environmental stressors", "carbon managers", "environmental monitoring", "environmental impact"], "type": "cluster", "node_size": 33, "label": "Environmental Management"}, "Sewage Pollution Control": {"concepts": "pollution, sewer management, sewage dumping, sewage impact, sewage", "concept_list": ["pollution", "sewer management", "sewage dumping", "sewage impact", "sewage"], "type": "cluster", "node_size": 30, "label": "Sewage Pollution Control"}, "Fishery Participation": {"concepts": "fishers involvement, fishery participation, fishery federal participation, fishery management participation, fishery policy participation, fishery local participation, fishery resource management participation", "concept_list": ["fishers involvement", "fishery participation", "fishery federal participation", "fishery management participation", "fishery policy participation", "fishery local participation", "fishery resource management participation"], "type": "cluster", "node_size": 36, "label": "Fishery Participation"}, "Coastal Environment": {"concepts": "coastal communities, sandy beaches, local waters, coastal runoff, usvi coastal communities", "concept_list": ["coastal communities", "sandy beaches", "local waters", "coastal runoff", "usvi coastal communities"], "type": "cluster", "node_size": 30, "label": "Coastal Environment"}, "Shoreline Areas": {"concepts": "north shore, south shore", "concept_list": ["north shore", "south shore"], "type": "cluster", "node_size": 21, "label": "Shoreline Areas"}, "Hurricane Impact Recovery": {"concepts": "hurricane damage, hurricane recovery", "concept_list": ["hurricane damage", "hurricane recovery"], "type": "cluster", "node_size": 21, "label": "Hurricane Impact Recovery"}, "Major Hurricanes": {"concepts": "hurricane maria, hurricane hugo, hurricane irma, hurricane marilyn", "concept_list": ["hurricane maria", "hurricane hugo", "hurricane irma", "hurricane marilyn"], "type": "cluster", "node_size": 27, "label": "Major Hurricanes"}, "Hurricane Tracking": {"concepts": "hurricane alley, hurricane path, hurricanes", "concept_list": ["hurricane alley", "hurricane path", "hurricanes"], "type": "cluster", "node_size": 24, "label": "Hurricane Tracking"}, "Fishery Resource Management": {"concepts": "fishery resource protection, fishery resource monitoring, fishery health, fishery resource use, fishery challenges, fishery issues, fishery resource conservation, fishery resource management environmental protection, fishery resources, fishery resource utilization, fishery management challenges, fishery resource regulation, fishery resource allocation", "concept_list": ["fishery resource protection", "fishery resource monitoring", "fishery health", "fishery resource use", "fishery challenges", "fishery issues", "fishery resource conservation", "fishery resource management environmental protection", "fishery resources", "fishery resource utilization", "fishery management challenges", "fishery resource regulation", "fishery resource allocation"], "type": "cluster", "node_size": 54, "label": "Fishery Resource Management"}, "Fishery Management Strategies": {"concepts": "fishery spatial management, fishery management, fishery regional management, fishery resource management strategies, fishery resource zoning, fishery resource control, fishery territorial division, fishery resource management, fishery resource division, fishery territorial waters, fishery management roles, fishery regional autonomy, fishery plan, fishery resource management plans, fishery resource rights, fishery national parks, fishery programs, fishery planning, fisheries, fisheries management, fishery land use, fishery sectors", "concept_list": ["fishery spatial management", "fishery management", "fishery regional management", "fishery resource management strategies", "fishery resource zoning", "fishery resource control", "fishery territorial division", "fishery resource management", "fishery resource division", "fishery territorial waters", "fishery management roles", "fishery regional autonomy", "fishery plan", "fishery resource management plans", "fishery resource rights", "fishery national parks", "fishery programs", "fishery planning", "fisheries", "fisheries management", "fishery land use", "fishery sectors"], "type": "cluster", "node_size": 81, "label": "Fishery Management Strategies"}, "Fishery Management": {"concepts": "fishery division, fishery data, fishery scientists, fishery resource management committees, fishery biologists, fishery scientific research, usvi fisheries, fishery monitoring, fishery managers, fisheries manager", "concept_list": ["fishery division", "fishery data", "fishery scientists", "fishery resource management committees", "fishery biologists", "fishery scientific research", "usvi fisheries", "fishery monitoring", "fishery managers", "fisheries manager"], "type": "cluster", "node_size": 45, "label": "Fishery Management"}, "Coral Reef Dependence": {"concepts": "coral reefs, coral reef, coral reef dependence", "concept_list": ["coral reefs", "coral reef", "coral reef dependence"], "type": "cluster", "node_size": 24, "label": "Coral Reef Dependence"}, "Reef Health": {"concepts": "inshore reefs, reef health, reef ecosystems, reef degradation", "concept_list": ["inshore reefs", "reef health", "reef ecosystems", "reef degradation"], "type": "cluster", "node_size": 27, "label": "Reef Health"}, "Catch Limits": {"concepts": "catch limits, annual catch limits (acls), annual catch limits", "concept_list": ["catch limits", "annual catch limits (acls)", "annual catch limits"], "type": "cluster", "node_size": 24, "label": "Catch Limits"}, "Fishery Conflicts": {"concepts": "fishery conflict, fishery stakeholder conflicts, fishery stakeholder conflict, fishery conflicts, fishery resource management conflicts, fishery policy conflict", "concept_list": ["fishery conflict", "fishery stakeholder conflicts", "fishery stakeholder conflict", "fishery conflicts", "fishery resource management conflicts", "fishery policy conflict"], "type": "cluster", "node_size": 33, "label": "Fishery Conflicts"}, "Fishery Collaboration": {"concepts": "fishery stakeholder collaboration, fishery collaboration, fishery cooperation, fisher cooperation, fishery resource management collaboration", "concept_list": ["fishery stakeholder collaboration", "fishery collaboration", "fishery cooperation", "fisher cooperation", "fishery resource management collaboration"], "type": "cluster", "node_size": 30, "label": "Fishery Collaboration"}, "Fishery Policy Engagement": {"concepts": "fishery policy stakeholder engagement, fishery policy coordination, fishery policy resistance, fishery policy negotiation, fishery stakeholder engagement, fishery stakeholder representation, fishery policy conflict resolution", "concept_list": ["fishery policy stakeholder engagement", "fishery policy coordination", "fishery policy resistance", "fishery policy negotiation", "fishery stakeholder engagement", "fishery stakeholder representation", "fishery policy conflict resolution"], "type": "cluster", "node_size": 36, "label": "Fishery Policy Engagement"}, "Fishery Stakeholder Relations": {"concepts": "fisher community tensions, fishery local-federal relations, fishery community relations, fisher-government relations, fishery managers relationship, fishery conflict resolution, fishery community tensions, fishery stakeholder, fishery resource management stakeholder relations", "concept_list": ["fisher community tensions", "fishery local-federal relations", "fishery community relations", "fisher-government relations", "fishery managers relationship", "fishery conflict resolution", "fishery community tensions", "fishery stakeholder", "fishery resource management stakeholder relations"], "type": "cluster", "node_size": 42, "label": "Fishery Stakeholder Relations"}, "Council Decision Process": {"concepts": "decision makers, council, council meetings, decision making, advisory council, district advisory panel, commissioner, council member, lobster decrease, baby lobsters, lobster nursery, lobsters, nurseries, lobster", "concept_list": ["decision makers", "council", "council meetings", "decision making", "advisory council", "district advisory panel", "commissioner", "council member", "lobster decrease", "baby lobsters", "lobster nursery", "lobsters", "nurseries", "lobster"], "type": "cluster", "node_size": 57, "label": "Council Decision Process"}, "Public Participation Process": {"concepts": "stakeholder engagement, protest, public hearings, conflict resolution, rulemaking process", "concept_list": ["stakeholder engagement", "protest", "public hearings", "conflict resolution", "rulemaking process"], "type": "cluster", "node_size": 30, "label": "Public Participation Process"}, "Presidential Oversight": {"concepts": "presidential authority, buoys", "concept_list": ["presidential authority", "buoys"], "type": "cluster", "node_size": 21, "label": "Presidential Oversight"}, "Fishery Disputes": {"concepts": "fishery resource allocation disputes, fisher disputes, fishery disputes, fishery policy disputes, fishers disputes, fishing disputes, fishing conflicts, fishery resource disputes", "concept_list": ["fishery resource allocation disputes", "fisher disputes", "fishery disputes", "fishery policy disputes", "fishers disputes", "fishing disputes", "fishing conflicts", "fishery resource disputes"], "type": "cluster", "node_size": 39, "label": "Fishery Disputes"}, "Fishery Dispute Resolution": {"concepts": "fishery negotiations, fishery dispute mediation, fishery resource management dispute resolution", "concept_list": ["fishery negotiations", "fishery dispute mediation", "fishery resource management dispute resolution"], "type": "cluster", "node_size": 24, "label": "Fishery Dispute Resolution"}, "Storm Effects": {"concepts": "storm impact, storm damage", "concept_list": ["storm impact", "storm damage"], "type": "cluster", "node_size": 21, "label": "Storm Effects"}, "Water Factors": {"concepts": "rainfall, water warming, runoff, local climate, weather changes, climate change", "concept_list": ["rainfall", "water warming", "runoff", "local climate", "weather changes", "climate change"], "type": "cluster", "node_size": 33, "label": "Water Factors"}, "Marina Facilities": {"concepts": "marinas, marina", "concept_list": ["marinas", "marina"], "type": "cluster", "node_size": 21, "label": "Marina Facilities"}, "US Virgin Islands": {"concepts": "usvi, usvi environment, us virgin islands, usvi codes", "concept_list": ["usvi", "usvi environment", "us virgin islands", "usvi codes"], "type": "cluster", "node_size": 27, "label": "US Virgin Islands"}, "NOAA Study": {"concepts": "lapis study, noaa", "concept_list": ["lapis study", "noaa"], "type": "cluster", "node_size": 21, "label": "NOAA Study"}, "Climate and Geography": {"concepts": "la nina, bvi, ice age", "concept_list": ["la nina", "bvi", "ice age"], "type": "cluster", "node_size": 24, "label": "Climate and Geography"}, "Fishery Governance": {"concepts": "fishery resource governance, fishery governance structure, fishery governance structures, fishery governance", "concept_list": ["fishery resource governance", "fishery governance structure", "fishery governance structures", "fishery governance"], "type": "cluster", "node_size": 27, "label": "Fishery Governance"}, "Fishing Communities": {"concepts": "fisher community, community fishers, fishery community", "concept_list": ["fisher community", "community fishers", "fishery community"], "type": "cluster", "node_size": 24, "label": "Fishing Communities"}, "Fishery Advisory Roles": {"concepts": "fishery advisory role, fishery representatives, fishery advisory roles", "concept_list": ["fishery advisory role", "fishery representatives", "fishery advisory roles"], "type": "cluster", "node_size": 24, "label": "Fishery Advisory Roles"}, "Fishery Livelihoods": {"concepts": "fisher livelihoods, fishery livelihoods", "concept_list": ["fisher livelihoods", "fishery livelihoods"], "type": "cluster", "node_size": 21, "label": "Fishery Livelihoods"}, "Marine Protected Areas": {"concepts": "marine protected areas, inshore marine reserve, marine reserves", "concept_list": ["marine protected areas", "inshore marine reserve", "marine reserves"], "type": "cluster", "node_size": 24, "label": "Marine Protected Areas"}, "Marine Biodiversity": {"concepts": "marine biodiversity, marine conservation, big fish, fish, long spine sea urchins, nutrients, shelf system", "concept_list": ["marine biodiversity", "marine conservation", "big fish", "fish", "long spine sea urchins", "nutrients", "shelf system"], "type": "cluster", "node_size": 36, "label": "Marine Biodiversity"}, "Marine Resource Management": {"concepts": "marine resource management, marine park cooperation", "concept_list": ["marine resource management", "marine park cooperation"], "type": "cluster", "node_size": 21, "label": "Marine Resource Management"}, "Fishery Accountability": {"concepts": "fishery policy accountability, fishery accountability", "concept_list": ["fishery policy accountability", "fishery accountability"], "type": "cluster", "node_size": 21, "label": "Fishery Accountability"}, "Ocean Currents": {"concepts": "easterly currents, ocean current, ocean currents", "concept_list": ["easterly currents", "ocean current", "ocean currents"], "type": "cluster", "node_size": 24, "label": "Ocean Currents"}, "Ocean Depths": {"concepts": "ocean depth, ocean floor, deep water", "concept_list": ["ocean depth", "ocean floor", "deep water"], "type": "cluster", "node_size": 24, "label": "Ocean Depths"}, "Coral Health Issues": {"concepts": "coral damage, stone coral disease, coral bleaching", "concept_list": ["coral damage", "stone coral disease", "coral bleaching"], "type": "cluster", "node_size": 24, "label": "Coral Health Issues"}, "Coral Growth": {"concepts": "coral growth, coral", "concept_list": ["coral growth", "coral"], "type": "cluster", "node_size": 21, "label": "Coral Growth"}, "Coral-Algae Interaction": {"concepts": "coral organisms, algae growth", "concept_list": ["coral organisms", "algae growth"], "type": "cluster", "node_size": 21, "label": "Coral-Algae Interaction"}, "Social Connections": {"concepts": "relationship, social relationships, working relationship, socializing", "concept_list": ["relationship", "social relationships", "working relationship", "socializing"], "type": "cluster", "node_size": 27, "label": "Social Connections"}, "Youth Social Activities": {"concepts": "social gatherings, social events, youth engagement, socializing", "concept_list": ["social gatherings", "social events", "youth engagement", "socializing"], "type": "cluster", "node_size": 27, "label": "Youth Social Activities"}, "Community Trust": {"concepts": "community dependence, community relationships, community reliance, social trust", "concept_list": ["community dependence", "community relationships", "community reliance", "social trust"], "type": "cluster", "node_size": 27, "label": "Community Trust"}, "Livelihood Challenges": {"concepts": "livelihoods, jealousy", "concept_list": ["livelihoods", "jealousy"], "type": "cluster", "node_size": 21, "label": "Livelihood Challenges"}, "Water Access": {"concepts": "stagnant water, watering hole, water access", "concept_list": ["stagnant water", "watering hole", "water access"], "type": "cluster", "node_size": 24, "label": "Water Access"}, "Water Temperature": {"concepts": "water temperatures, cold water, warmer waters", "concept_list": ["water temperatures", "cold water", "warmer waters"], "type": "cluster", "node_size": 24, "label": "Water Temperature"}};
        const conceptData = {};
        const interClusterEdges = [["refinery", "Social Connections", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["mandahl pond", "Youth Social Activities", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["mandahl pond", "fishery education", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["mesh size regulation", "Environmental Management", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["mesh size regulation", "Marine Biodiversity", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["fishery education", "Island Harbors", {"weight": 0.5, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["fishery education", "Sewage Pollution Control", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["fishermen income", "Leadership and Governance", {"weight": 1.0, "confidence": 0.7124999999999999, "type": "inter_cluster", "style": "solid"}], ["fishermen income", "Fishery Trust", {"weight": 1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["fishermen income", "Outreach Strategies", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["south america", "Fisheries Management", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["federal waters", "Fishery Management Equity", {"weight": -0.3333333333333333, "confidence": 0.7833333333333333, "type": "inter_cluster", "style": "solid"}], ["fishery management evolution", "Fishery Dispute Resolution", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["division of wildlife", "Fishery Dispute Resolution", {"weight": 1.0, "confidence": 0.7666666666666666, "type": "inter_cluster", "style": "solid"}], ["east end marine park", "Coral-Algae Interaction", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["east end marine park", "National Park Planning", {"weight": 0.5, "confidence": 0.425, "type": "inter_cluster", "style": "solid"}], ["fishery participatory governance", "Trap Fishing Methods", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Fishermen Roles", "Fishery Management Outcomes", {"weight": -0.3333333333333333, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Fishermen Roles", "Coral Growth", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Trap Management", "Fishery Social Dynamics", {"weight": 1.0, "confidence": 0.7875, "type": "inter_cluster", "style": "solid"}], ["DPNR Scientists", "Fishery Policy Engagement", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Swell and Sunscreen", "Caribbean Fishery Management", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["National Park Planning", "Sewage Pollution Control", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Fishing Community Dynamics", "Marine Protected Areas", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Fishing Community Dynamics", "Coral Growth", {"weight": 0.5, "confidence": 0.325, "type": "inter_cluster", "style": "solid"}], ["Ocean Conditions", "Coral Reef Dependence", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Ocean Conditions", "Presidential Oversight", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Fishing Infrastructure", "Fishermen Roles", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Fishing Infrastructure", "Fishery Accountability", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Fishing Management", "fishery participatory governance", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Fishing Management", "National Park Planning", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Trap Fishing Methods", "Fishery Stakeholder Relations", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Trap Fishing Methods", "Trap Management", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Climate and Geography", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["Fishery Impact Analysis", "Coral-Algae Interaction", {"weight": -1.0, "confidence": 0.8000000000000002, "type": "inter_cluster", "style": "solid"}], ["Fishery Impact Analysis", "Boat Maintenance", {"weight": -0.6666666666666666, "confidence": 0.4333333333333333, "type": "inter_cluster", "style": "solid"}], ["Fishery Policy Challenges", "fishery management evolution", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Outreach Strategies", "Incident Detection", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Government Levels", "Fishery Management Outcomes", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Funding and Fees", "east end marine park", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Economic Challenges", "Council Decision Process", {"weight": -1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["Coastal Vegetation Dynamics", "Fishery Organizational Change", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Island Harbors", "Hurricane Impact Recovery", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Dolphin Research", "Fishery Management", {"weight": 1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["Fishery Management Outcomes", "Livelihood Challenges", {"weight": 1.0, "confidence": 0.7333333333333334, "type": "inter_cluster", "style": "solid"}], ["Fishery Management Outcomes", "Fisheries Management", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Fishery Organizational Change", "Caribbean Fishery Management", {"weight": 0.5, "confidence": 0.425, "type": "inter_cluster", "style": "solid"}], ["Environmental Management", "Fishery Impact Analysis", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Sewage Pollution Control", "Program Challenges and Communication", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Fishery Participation", "fishery participatory governance", {"weight": 1.0, "confidence": 0.95, "type": "inter_cluster", "style": "solid"}], ["Fishery Participation", "Fishery Policy Challenges", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Fishery Participation", "Shoreline Areas", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Coastal Environment", "Fishing Communities", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Hurricane Impact Recovery", "Fishery Management", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Major Hurricanes", "fishery policy advocacy", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Fishery Resource Management", "Fishery Collaboration", {"weight": 1.0, "confidence": 0.8500000000000001, "type": "inter_cluster", "style": "solid"}], ["Fishery Resource Management", "Marine Resource Management", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Fishery Resource Management", "Community Trust", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Fishery Management Strategies", "Fishery Stakeholder Relations", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Fishery Management Strategies", "Fishery Advisory Roles", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Fishery Management", "Marina Facilities", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Fishery Management", "US Virgin Islands", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Coral Reef Dependence", "Coral Growth", {"weight": 1.0, "confidence": 0.9333333333333332, "type": "inter_cluster", "style": "solid"}], ["Coral Reef Dependence", "Water Factors", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Coral Reef Dependence", "Marine Resource Management", {"weight": 1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["Coral Reef Dependence", "fishery management evolution", {"weight": 1.0, "confidence": 0.6499999999999999, "type": "inter_cluster", "style": "solid"}], ["Reef Health", "Community Trust", {"weight": 1.0, "confidence": 0.8375, "type": "inter_cluster", "style": "solid"}], ["Catch Limits", "mesh size regulation", {"weight": 1.0, "confidence": 0.7625, "type": "inter_cluster", "style": "solid"}], ["Catch Limits", "Reef Health", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Fishery Conflicts", "Fishery Policy Engagement", {"weight": 1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["Fishery Conflicts", "Fishery Disputes", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Fishery Conflicts", "fishery management evolution", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Fishery Collaboration", "Coral Growth", {"weight": 1.0, "confidence": 0.6166666666666667, "type": "inter_cluster", "style": "solid"}], ["Fishery Collaboration", "Economic Challenges", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Fishery Collaboration", "Fishery Impact Analysis", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Fishery Collaboration", "Youth Social Activities", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Fishery Policy Engagement", "Fishery Livelihoods", {"weight": 1.0, "confidence": 0.8166666666666668, "type": "inter_cluster", "style": "solid"}], ["Fishery Policy Engagement", "fishery participatory governance", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Fishery Policy Engagement", "Program Challenges and Communication", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Public Participation Process", "Marine Resource Management", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Fishery Dispute Resolution", "Fishery Social Dynamics", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Storm Effects", "Caribbean Fishery Management", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["US Virgin Islands", "federal waters", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Fishery Governance", "Public Participation Process", {"weight": 1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["Fishery Governance", "fishery management evolution", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Fishing Communities", "Fisheries Management", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Fishery Advisory Roles", "Fishery Policy Challenges", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Fishery Livelihoods", "Trap Management", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Fishery Livelihoods", "Fishery Policy Dynamics", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Marine Protected Areas", "Public Participation Process", {"weight": 1.0, "confidence": 0.8500000000000001, "type": "inter_cluster", "style": "solid"}], ["Marine Biodiversity", "division of wildlife", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Marine Resource Management", "NOAA Study", {"weight": 1.0, "confidence": 0.625, "type": "inter_cluster", "style": "solid"}], ["Marine Resource Management", "Island Harbors", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Marine Resource Management", "Fishery Social Dynamics", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Marine Resource Management", "fishery management evolution", {"weight": 1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Marine Resource Management", "fishermen income", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Ocean Currents", "Fish Population Management", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Ocean Depths", "Coral-Algae Interaction", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Coral Health Issues", "Fishery Policy Engagement", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Coral Growth", "Hurricane Tracking", {"weight": -0.5, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Coral Growth", "fishermen income", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Social Connections", "Catch Limits", {"weight": 0.5, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Livelihood Challenges", "Fishery Livelihoods", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Water Access", "Marine Resource Management", {"weight": -1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["Water Temperature", "Ocean Dynamics", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {};
        const clusterEdges = {"fishery policy advocacy": [], "Boat Maintenance": [], "Fishermen Roles": [], "Trap Management": [], "DPNR Scientists": [], "Swell and Sunscreen": [], "Ocean Dynamics": [], "National Park Planning": [], "Incident Detection": [], "Fishing Community Dynamics": [], "Ocean Conditions": [], "Fishing Infrastructure": [], "Fishing Management": [], "Trap Fishing Methods": [], "Fisheries Management": [], "Fishery Policy Dynamics": [], "Fishery Impact Analysis": [], "Fishery Policy Challenges": [], "Outreach Strategies": [], "Government Levels": [], "Funding and Fees": [], "Caribbean Fishery Management": [], "Fish Population Management": [], "Economic Challenges": [], "Coastal Vegetation Dynamics": [], "Island Harbors": [], "Leadership and Governance": [], "Dolphin Research": [], "Program Challenges and Communication": [], "Fishery Trust": [], "Fishery Management Equity": [], "Fishery Management Outcomes": [], "Fishery Social Dynamics": [], "Fishery Organizational Change": [], "Environmental Management": [], "Sewage Pollution Control": [], "Fishery Participation": [], "Coastal Environment": [], "Shoreline Areas": [], "Hurricane Impact Recovery": [], "Major Hurricanes": [], "Hurricane Tracking": [], "Fishery Resource Management": [], "Fishery Management Strategies": [], "Fishery Management": [], "Coral Reef Dependence": [], "Reef Health": [], "Catch Limits": [], "Fishery Conflicts": [], "Fishery Collaboration": [], "Fishery Policy Engagement": [], "Fishery Stakeholder Relations": [], "Council Decision Process": [], "Public Participation Process": [], "Presidential Oversight": [], "Fishery Disputes": [], "Fishery Dispute Resolution": [], "Storm Effects": [], "Water Factors": [], "Marina Facilities": [], "US Virgin Islands": [], "NOAA Study": [], "Climate and Geography": [], "Fishery Governance": [], "Fishing Communities": [], "Fishery Advisory Roles": [], "Fishery Livelihoods": [], "Marine Protected Areas": [], "Marine Biodiversity": [], "Marine Resource Management": [], "Fishery Accountability": [], "Ocean Currents": [], "Ocean Depths": [], "Coral Health Issues": [], "Coral Growth": [], "Coral-Algae Interaction": [], "Social Connections": [], "Youth Social Activities": [], "Community Trust": [], "Livelihood Challenges": [], "Water Access": [], "Water Temperature": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
