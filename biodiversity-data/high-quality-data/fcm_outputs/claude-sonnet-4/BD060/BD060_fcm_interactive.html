
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"stress response": {"concepts": "stress response", "concept_list": ["stress response"], "type": "cluster", "node_size": 18, "label": "stress response"}, "habitat forming": {"concepts": "habitat forming", "concept_list": ["habitat forming"], "type": "cluster", "node_size": 18, "label": "habitat forming"}, "drainage management": {"concepts": "drainage management", "concept_list": ["drainage management"], "type": "cluster", "node_size": 18, "label": "drainage management"}, "high tide line": {"concepts": "high tide line", "concept_list": ["high tide line"], "type": "cluster", "node_size": 18, "label": "high tide line"}, "Salt Invasion": {"concepts": "salt invasion, salish sea", "concept_list": ["salt invasion", "salish sea"], "type": "cluster", "node_size": 21, "label": "Salt Invasion"}, "Environmental Stressors": {"concepts": "stress, physiological stressors, environmental stressors, climate change stressors, stressors, migration patterns, watermen, population genetics", "concept_list": ["stress", "physiological stressors", "environmental stressors", "climate change stressors", "stressors", "migration patterns", "watermen", "population genetics"], "type": "cluster", "node_size": 39, "label": "Environmental Stressors"}, "Tidal Drought": {"concepts": "tidal stress, drought", "concept_list": ["tidal stress", "drought"], "type": "cluster", "node_size": 21, "label": "Tidal Drought"}, "Marsh Habitats": {"concepts": "high marsh, tidal marshes, microtidal marshes, uplands, intertidal, estuary, waffle marshes, low marsh", "concept_list": ["high marsh", "tidal marshes", "microtidal marshes", "uplands", "intertidal", "estuary", "waffle marshes", "low marsh"], "type": "cluster", "node_size": 39, "label": "Marsh Habitats"}, "Habitat Migration": {"concepts": "marsh migration, tidal creek extension, saltwater intrusion, marsh loss, habitat loss, tidal marsh loss, ghost forest formation, habitat loss prevention, forest tree mortality", "concept_list": ["marsh migration", "tidal creek extension", "saltwater intrusion", "marsh loss", "habitat loss", "tidal marsh loss", "ghost forest formation", "habitat loss prevention", "forest tree mortality"], "type": "cluster", "node_size": 42, "label": "Habitat Migration"}, "Species Conservation": {"concepts": "invasive species, invasive species control, rare species, salt marsh birds, rare endangered species, conservation concern, species control, invertebrates, native species, endangered species, coastal zone, shorebirds, harmful organisms", "concept_list": ["invasive species", "invasive species control", "rare species", "salt marsh birds", "rare endangered species", "conservation concern", "species control", "invertebrates", "native species", "endangered species", "coastal zone", "shorebirds", "harmful organisms"], "type": "cluster", "node_size": 54, "label": "Species Conservation"}, "Habitat Restoration": {"concepts": "restoration planting, marsh creation, restoration projects, land acquisition, planting, landscape scale, burning, prescribed burning, seed mixes, tnc land management", "concept_list": ["restoration planting", "marsh creation", "restoration projects", "land acquisition", "planting", "landscape scale", "burning", "prescribed burning", "seed mixes", "tnc land management"], "type": "cluster", "node_size": 45, "label": "Habitat Restoration"}, "Stakeholder Conflicts": {"concepts": "herbicide, legacy effects, farmland abandonment, waterfront homeowners, environmental community, social ecological systems, social ecological complexity, coastal community, oyster farmers, tourism operators, livelihood dependence, fishermen", "concept_list": ["herbicide", "legacy effects", "farmland abandonment", "waterfront homeowners", "environmental community", "social ecological systems", "social ecological complexity", "coastal community", "oyster farmers", "tourism operators", "livelihood dependence", "fishermen"], "type": "cluster", "node_size": 51, "label": "Stakeholder Conflicts"}, "Ecosystem Management": {"concepts": "associated organisms, interior ponding, coastal environments, northern gulf of mexico, biodiversity management, community ecology, eutrophication, storms, water quality management, biodiversity measurement, watershed, dredge oil creation, species diversity, population genetic diversity, habitat needs, biodiversity definitions, coastal ecosystems, dredge oil, niche identification, nest flooding, coastal bay work, ecosystem services, biodiversity preservation, coastal management, biodiversity, food-web species, ecosystem engineers, plant communities, marsh accretion, marine resource management, wetland ecology, habitat forming species, future habitat, plant community assembly, ecological definition, primary producers", "concept_list": ["associated organisms", "interior ponding", "coastal environments", "northern gulf of mexico", "biodiversity management", "community ecology", "eutrophication", "storms", "water quality management", "biodiversity measurement", "watershed", "dredge oil creation", "species diversity", "population genetic diversity", "habitat needs", "biodiversity definitions", "coastal ecosystems", "dredge oil", "niche identification", "nest flooding", "coastal bay work", "ecosystem services", "biodiversity preservation", "coastal management", "biodiversity", "food-web species", "ecosystem engineers", "plant communities", "marsh accretion", "marine resource management", "wetland ecology", "habitat forming species", "future habitat", "plant community assembly", "ecological definition", "primary producers"], "type": "cluster", "node_size": 123, "label": "Ecosystem Management"}, "Habitat Protection": {"concepts": "hydrology changes, habitat loss prevention", "concept_list": ["hydrology changes", "habitat loss prevention"], "type": "cluster", "node_size": 21, "label": "Habitat Protection"}, "Management Roles": {"concepts": "management team, postdoc, site manager, regional managers, steering committee", "concept_list": ["management team", "postdoc", "site manager", "regional managers", "steering committee"], "type": "cluster", "node_size": 30, "label": "Management Roles"}, "Management Methods": {"concepts": "management components, management approaches, management groups, management activities, management practices, management interventions", "concept_list": ["management components", "management approaches", "management groups", "management activities", "management practices", "management interventions"], "type": "cluster", "node_size": 33, "label": "Management Methods"}, "Stakeholder Groups": {"concepts": "stakeholder engagement, economists, resource users, community members", "concept_list": ["stakeholder engagement", "economists", "resource users", "community members"], "type": "cluster", "node_size": 27, "label": "Stakeholder Groups"}, "System Connections": {"concepts": "system dynamics, connections, relationships, interaction webs, mental models, mental modeling, merging concepts", "concept_list": ["system dynamics", "connections", "relationships", "interaction webs", "mental models", "mental modeling", "merging concepts"], "type": "cluster", "node_size": 36, "label": "System Connections"}, "Environmental Disturbances": {"concepts": "drowning, zooming, flooding, runneling, disturbances, disturbance, selective force, drainage, dredging, ditching", "concept_list": ["drowning", "zooming", "flooding", "runneling", "disturbances", "disturbance", "selective force", "drainage", "dredging", "ditching"], "type": "cluster", "node_size": 45, "label": "Environmental Disturbances"}, "System Effectiveness": {"concepts": "redundancy, positive effects, weights, negative effects, efficacy, effectiveness, bidirectional, efficiency, adaptive potential, physiological effects", "concept_list": ["redundancy", "positive effects", "weights", "negative effects", "efficacy", "effectiveness", "bidirectional", "efficiency", "adaptive potential", "physiological effects"], "type": "cluster", "node_size": 45, "label": "System Effectiveness"}, "Regulatory Management": {"concepts": "technical experts, trajectory guidance, property rights, phragmites, chesapeake bay, tradeoffs analysis, regulatory power, restoration, epa, case studies, incentive structures, monitoring, science and technology, research institutions, arrows, research funding, behavior change, noaa, knowledge capturing, chesapeake bay program, outcompeting, permitting, easements", "concept_list": ["technical experts", "trajectory guidance", "property rights", "phragmites", "chesapeake bay", "tradeoffs analysis", "regulatory power", "restoration", "epa", "case studies", "incentive structures", "monitoring", "science and technology", "research institutions", "arrows", "research funding", "behavior change", "noaa", "knowledge capturing", "chesapeake bay program", "outcompeting", "permitting", "easements"], "type": "cluster", "node_size": 84, "label": "Regulatory Management"}, "Climate Change": {"concepts": "sea level rise, global change drivers", "concept_list": ["sea level rise", "global change drivers"], "type": "cluster", "node_size": 21, "label": "Climate Change"}, "Environmental Conditions": {"concepts": "salinity, elevation requirements", "concept_list": ["salinity", "elevation requirements"], "type": "cluster", "node_size": 21, "label": "Environmental Conditions"}};
        const conceptData = {"salt invasion": {"concepts": "salt invasion", "type": "concept", "cluster": "Salt Invasion", "node_size": 10, "label": "salt invasion"}, "salish sea": {"concepts": "salish sea", "type": "concept", "cluster": "Salt Invasion", "node_size": 10, "label": "salish sea"}, "stress": {"concepts": "stress", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "stress"}, "physiological stressors": {"concepts": "physiological stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "physiological stressors"}, "environmental stressors": {"concepts": "environmental stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "environmental stressors"}, "climate change stressors": {"concepts": "climate change stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "climate change stressors"}, "stressors": {"concepts": "stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "stressors"}, "migration patterns": {"concepts": "migration patterns", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "migration patterns"}, "watermen": {"concepts": "watermen", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "watermen"}, "population genetics": {"concepts": "population genetics", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "population genetics"}, "tidal stress": {"concepts": "tidal stress", "type": "concept", "cluster": "Tidal Drought", "node_size": 10, "label": "tidal stress"}, "drought": {"concepts": "drought", "type": "concept", "cluster": "Tidal Drought", "node_size": 10, "label": "drought"}, "high marsh": {"concepts": "high marsh", "type": "concept", "cluster": "Marsh Habitats", "node_size": 10, "label": "high marsh"}, "tidal marshes": {"concepts": "tidal marshes", "type": "concept", "cluster": "Marsh Habitats", "node_size": 10, "label": "tidal marshes"}, "microtidal marshes": {"concepts": "microtidal marshes", "type": "concept", "cluster": "Marsh Habitats", "node_size": 10, "label": "microtidal marshes"}, "uplands": {"concepts": "uplands", "type": "concept", "cluster": "Marsh Habitats", "node_size": 10, "label": "uplands"}, "intertidal": {"concepts": "intertidal", "type": "concept", "cluster": "Marsh Habitats", "node_size": 10, "label": "intertidal"}, "estuary": {"concepts": "estuary", "type": "concept", "cluster": "Marsh Habitats", "node_size": 10, "label": "estuary"}, "waffle marshes": {"concepts": "waffle marshes", "type": "concept", "cluster": "Marsh Habitats", "node_size": 10, "label": "waffle marshes"}, "low marsh": {"concepts": "low marsh", "type": "concept", "cluster": "Marsh Habitats", "node_size": 10, "label": "low marsh"}, "marsh migration": {"concepts": "marsh migration", "type": "concept", "cluster": "Habitat Migration", "node_size": 10, "label": "marsh migration"}, "tidal creek extension": {"concepts": "tidal creek extension", "type": "concept", "cluster": "Habitat Migration", "node_size": 10, "label": "tidal creek extension"}, "saltwater intrusion": {"concepts": "saltwater intrusion", "type": "concept", "cluster": "Habitat Migration", "node_size": 10, "label": "saltwater intrusion"}, "marsh loss": {"concepts": "marsh loss", "type": "concept", "cluster": "Habitat Migration", "node_size": 10, "label": "marsh loss"}, "habitat loss": {"concepts": "habitat loss", "type": "concept", "cluster": "Habitat Migration", "node_size": 10, "label": "habitat loss"}, "tidal marsh loss": {"concepts": "tidal marsh loss", "type": "concept", "cluster": "Habitat Migration", "node_size": 10, "label": "tidal marsh loss"}, "ghost forest formation": {"concepts": "ghost forest formation", "type": "concept", "cluster": "Habitat Migration", "node_size": 10, "label": "ghost forest formation"}, "habitat loss prevention": {"concepts": "habitat loss prevention", "type": "concept", "cluster": "Habitat Migration", "node_size": 10, "label": "habitat loss prevention"}, "forest tree mortality": {"concepts": "forest tree mortality", "type": "concept", "cluster": "Habitat Migration", "node_size": 10, "label": "forest tree mortality"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "invasive species"}, "invasive species control": {"concepts": "invasive species control", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "invasive species control"}, "rare species": {"concepts": "rare species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "rare species"}, "salt marsh birds": {"concepts": "salt marsh birds", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "salt marsh birds"}, "rare endangered species": {"concepts": "rare endangered species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "rare endangered species"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "conservation concern"}, "species control": {"concepts": "species control", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "species control"}, "invertebrates": {"concepts": "invertebrates", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "invertebrates"}, "native species": {"concepts": "native species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "native species"}, "endangered species": {"concepts": "endangered species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "endangered species"}, "coastal zone": {"concepts": "coastal zone", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "coastal zone"}, "shorebirds": {"concepts": "shorebirds", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "shorebirds"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "harmful organisms"}, "restoration planting": {"concepts": "restoration planting", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "restoration planting"}, "marsh creation": {"concepts": "marsh creation", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "marsh creation"}, "restoration projects": {"concepts": "restoration projects", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "restoration projects"}, "land acquisition": {"concepts": "land acquisition", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "land acquisition"}, "planting": {"concepts": "planting", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "planting"}, "landscape scale": {"concepts": "landscape scale", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "landscape scale"}, "burning": {"concepts": "burning", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "burning"}, "prescribed burning": {"concepts": "prescribed burning", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "prescribed burning"}, "seed mixes": {"concepts": "seed mixes", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "seed mixes"}, "tnc land management": {"concepts": "tnc land management", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "tnc land management"}, "herbicide": {"concepts": "herbicide", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "herbicide"}, "legacy effects": {"concepts": "legacy effects", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "legacy effects"}, "farmland abandonment": {"concepts": "farmland abandonment", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "farmland abandonment"}, "waterfront homeowners": {"concepts": "waterfront homeowners", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "waterfront homeowners"}, "environmental community": {"concepts": "environmental community", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "environmental community"}, "social ecological systems": {"concepts": "social ecological systems", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "social ecological systems"}, "social ecological complexity": {"concepts": "social ecological complexity", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "social ecological complexity"}, "coastal community": {"concepts": "coastal community", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "coastal community"}, "oyster farmers": {"concepts": "oyster farmers", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "oyster farmers"}, "tourism operators": {"concepts": "tourism operators", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "tourism operators"}, "livelihood dependence": {"concepts": "livelihood dependence", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "livelihood dependence"}, "fishermen": {"concepts": "fishermen", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "fishermen"}, "associated organisms": {"concepts": "associated organisms", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "associated organisms"}, "interior ponding": {"concepts": "interior ponding", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "interior ponding"}, "coastal environments": {"concepts": "coastal environments", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "coastal environments"}, "northern gulf of mexico": {"concepts": "northern gulf of mexico", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "northern gulf of mexico"}, "biodiversity management": {"concepts": "biodiversity management", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "biodiversity management"}, "community ecology": {"concepts": "community ecology", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "community ecology"}, "eutrophication": {"concepts": "eutrophication", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "eutrophication"}, "storms": {"concepts": "storms", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "storms"}, "water quality management": {"concepts": "water quality management", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "water quality management"}, "biodiversity measurement": {"concepts": "biodiversity measurement", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "biodiversity measurement"}, "watershed": {"concepts": "watershed", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "watershed"}, "dredge oil creation": {"concepts": "dredge oil creation", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "dredge oil creation"}, "species diversity": {"concepts": "species diversity", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "species diversity"}, "population genetic diversity": {"concepts": "population genetic diversity", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "population genetic diversity"}, "habitat needs": {"concepts": "habitat needs", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "habitat needs"}, "biodiversity definitions": {"concepts": "biodiversity definitions", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "biodiversity definitions"}, "coastal ecosystems": {"concepts": "coastal ecosystems", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "coastal ecosystems"}, "dredge oil": {"concepts": "dredge oil", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "dredge oil"}, "niche identification": {"concepts": "niche identification", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "niche identification"}, "nest flooding": {"concepts": "nest flooding", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "nest flooding"}, "coastal bay work": {"concepts": "coastal bay work", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "coastal bay work"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "ecosystem services"}, "biodiversity preservation": {"concepts": "biodiversity preservation", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "biodiversity preservation"}, "coastal management": {"concepts": "coastal management", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "coastal management"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "biodiversity"}, "food-web species": {"concepts": "food-web species", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "food-web species"}, "ecosystem engineers": {"concepts": "ecosystem engineers", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "ecosystem engineers"}, "plant communities": {"concepts": "plant communities", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "plant communities"}, "marsh accretion": {"concepts": "marsh accretion", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "marsh accretion"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "marine resource management"}, "wetland ecology": {"concepts": "wetland ecology", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "wetland ecology"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "habitat forming species"}, "future habitat": {"concepts": "future habitat", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "future habitat"}, "plant community assembly": {"concepts": "plant community assembly", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "plant community assembly"}, "ecological definition": {"concepts": "ecological definition", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "ecological definition"}, "primary producers": {"concepts": "primary producers", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "primary producers"}, "hydrology changes": {"concepts": "hydrology changes", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "hydrology changes"}, "management team": {"concepts": "management team", "type": "concept", "cluster": "Management Roles", "node_size": 10, "label": "management team"}, "postdoc": {"concepts": "postdoc", "type": "concept", "cluster": "Management Roles", "node_size": 10, "label": "postdoc"}, "site manager": {"concepts": "site manager", "type": "concept", "cluster": "Management Roles", "node_size": 10, "label": "site manager"}, "regional managers": {"concepts": "regional managers", "type": "concept", "cluster": "Management Roles", "node_size": 10, "label": "regional managers"}, "steering committee": {"concepts": "steering committee", "type": "concept", "cluster": "Management Roles", "node_size": 10, "label": "steering committee"}, "management components": {"concepts": "management components", "type": "concept", "cluster": "Management Methods", "node_size": 10, "label": "management components"}, "management approaches": {"concepts": "management approaches", "type": "concept", "cluster": "Management Methods", "node_size": 10, "label": "management approaches"}, "management groups": {"concepts": "management groups", "type": "concept", "cluster": "Management Methods", "node_size": 10, "label": "management groups"}, "management activities": {"concepts": "management activities", "type": "concept", "cluster": "Management Methods", "node_size": 10, "label": "management activities"}, "management practices": {"concepts": "management practices", "type": "concept", "cluster": "Management Methods", "node_size": 10, "label": "management practices"}, "management interventions": {"concepts": "management interventions", "type": "concept", "cluster": "Management Methods", "node_size": 10, "label": "management interventions"}, "stakeholder engagement": {"concepts": "stakeholder engagement", "type": "concept", "cluster": "Stakeholder Groups", "node_size": 10, "label": "stakeholder engagement"}, "economists": {"concepts": "economists", "type": "concept", "cluster": "Stakeholder Groups", "node_size": 10, "label": "economists"}, "resource users": {"concepts": "resource users", "type": "concept", "cluster": "Stakeholder Groups", "node_size": 10, "label": "resource users"}, "community members": {"concepts": "community members", "type": "concept", "cluster": "Stakeholder Groups", "node_size": 10, "label": "community members"}, "system dynamics": {"concepts": "system dynamics", "type": "concept", "cluster": "System Connections", "node_size": 10, "label": "system dynamics"}, "connections": {"concepts": "connections", "type": "concept", "cluster": "System Connections", "node_size": 10, "label": "connections"}, "relationships": {"concepts": "relationships", "type": "concept", "cluster": "System Connections", "node_size": 10, "label": "relationships"}, "interaction webs": {"concepts": "interaction webs", "type": "concept", "cluster": "System Connections", "node_size": 10, "label": "interaction webs"}, "mental models": {"concepts": "mental models", "type": "concept", "cluster": "System Connections", "node_size": 10, "label": "mental models"}, "mental modeling": {"concepts": "mental modeling", "type": "concept", "cluster": "System Connections", "node_size": 10, "label": "mental modeling"}, "merging concepts": {"concepts": "merging concepts", "type": "concept", "cluster": "System Connections", "node_size": 10, "label": "merging concepts"}, "drowning": {"concepts": "drowning", "type": "concept", "cluster": "Environmental Disturbances", "node_size": 10, "label": "drowning"}, "zooming": {"concepts": "zooming", "type": "concept", "cluster": "Environmental Disturbances", "node_size": 10, "label": "zooming"}, "flooding": {"concepts": "flooding", "type": "concept", "cluster": "Environmental Disturbances", "node_size": 10, "label": "flooding"}, "runneling": {"concepts": "runneling", "type": "concept", "cluster": "Environmental Disturbances", "node_size": 10, "label": "runneling"}, "disturbances": {"concepts": "disturbances", "type": "concept", "cluster": "Environmental Disturbances", "node_size": 10, "label": "disturbances"}, "disturbance": {"concepts": "disturbance", "type": "concept", "cluster": "Environmental Disturbances", "node_size": 10, "label": "disturbance"}, "selective force": {"concepts": "selective force", "type": "concept", "cluster": "Environmental Disturbances", "node_size": 10, "label": "selective force"}, "drainage": {"concepts": "drainage", "type": "concept", "cluster": "Environmental Disturbances", "node_size": 10, "label": "drainage"}, "dredging": {"concepts": "dredging", "type": "concept", "cluster": "Environmental Disturbances", "node_size": 10, "label": "dredging"}, "ditching": {"concepts": "ditching", "type": "concept", "cluster": "Environmental Disturbances", "node_size": 10, "label": "ditching"}, "redundancy": {"concepts": "redundancy", "type": "concept", "cluster": "System Effectiveness", "node_size": 10, "label": "redundancy"}, "positive effects": {"concepts": "positive effects", "type": "concept", "cluster": "System Effectiveness", "node_size": 10, "label": "positive effects"}, "weights": {"concepts": "weights", "type": "concept", "cluster": "System Effectiveness", "node_size": 10, "label": "weights"}, "negative effects": {"concepts": "negative effects", "type": "concept", "cluster": "System Effectiveness", "node_size": 10, "label": "negative effects"}, "efficacy": {"concepts": "efficacy", "type": "concept", "cluster": "System Effectiveness", "node_size": 10, "label": "efficacy"}, "effectiveness": {"concepts": "effectiveness", "type": "concept", "cluster": "System Effectiveness", "node_size": 10, "label": "effectiveness"}, "bidirectional": {"concepts": "bidirectional", "type": "concept", "cluster": "System Effectiveness", "node_size": 10, "label": "bidirectional"}, "efficiency": {"concepts": "efficiency", "type": "concept", "cluster": "System Effectiveness", "node_size": 10, "label": "efficiency"}, "adaptive potential": {"concepts": "adaptive potential", "type": "concept", "cluster": "System Effectiveness", "node_size": 10, "label": "adaptive potential"}, "physiological effects": {"concepts": "physiological effects", "type": "concept", "cluster": "System Effectiveness", "node_size": 10, "label": "physiological effects"}, "technical experts": {"concepts": "technical experts", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "technical experts"}, "trajectory guidance": {"concepts": "trajectory guidance", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "trajectory guidance"}, "property rights": {"concepts": "property rights", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "property rights"}, "phragmites": {"concepts": "phragmites", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "phragmites"}, "chesapeake bay": {"concepts": "chesapeake bay", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "chesapeake bay"}, "tradeoffs analysis": {"concepts": "tradeoffs analysis", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "tradeoffs analysis"}, "regulatory power": {"concepts": "regulatory power", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "regulatory power"}, "restoration": {"concepts": "restoration", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "restoration"}, "epa": {"concepts": "epa", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "epa"}, "case studies": {"concepts": "case studies", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "case studies"}, "incentive structures": {"concepts": "incentive structures", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "incentive structures"}, "monitoring": {"concepts": "monitoring", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "monitoring"}, "science and technology": {"concepts": "science and technology", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "science and technology"}, "research institutions": {"concepts": "research institutions", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "research institutions"}, "arrows": {"concepts": "arrows", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "arrows"}, "research funding": {"concepts": "research funding", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "research funding"}, "behavior change": {"concepts": "behavior change", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "behavior change"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "noaa"}, "knowledge capturing": {"concepts": "knowledge capturing", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "knowledge capturing"}, "chesapeake bay program": {"concepts": "chesapeake bay program", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "chesapeake bay program"}, "outcompeting": {"concepts": "outcompeting", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "outcompeting"}, "permitting": {"concepts": "permitting", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "permitting"}, "easements": {"concepts": "easements", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "easements"}, "sea level rise": {"concepts": "sea level rise", "type": "concept", "cluster": "Climate Change", "node_size": 10, "label": "sea level rise"}, "global change drivers": {"concepts": "global change drivers", "type": "concept", "cluster": "Climate Change", "node_size": 10, "label": "global change drivers"}, "salinity": {"concepts": "salinity", "type": "concept", "cluster": "Environmental Conditions", "node_size": 10, "label": "salinity"}, "elevation requirements": {"concepts": "elevation requirements", "type": "concept", "cluster": "Environmental Conditions", "node_size": 10, "label": "elevation requirements"}};
        const interClusterEdges = [["stress response", "Environmental Conditions", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["stress response", "Ecosystem Management", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["habitat forming", "Habitat Migration", {"weight": -0.75, "confidence": 0.5750000000000001, "type": "inter_cluster", "style": "solid"}], ["habitat forming", "Tidal Drought", {"weight": 0.3333333333333333, "confidence": 0.2333333333333333, "type": "inter_cluster", "style": "solid"}], ["drainage management", "Marsh Habitats", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Salt Invasion", "Tidal Drought", {"weight": 0.4, "confidence": 0.30999999999999994, "type": "inter_cluster", "style": "solid"}], ["Salt Invasion", "Marsh Habitats", {"weight": -0.4, "confidence": 0.32, "type": "inter_cluster", "style": "solid"}], ["Salt Invasion", "high tide line", {"weight": -0.3333333333333333, "confidence": 0.26666666666666666, "type": "inter_cluster", "style": "solid"}], ["Environmental Stressors", "Habitat Migration", {"weight": 0.6, "confidence": 0.51, "type": "inter_cluster", "style": "solid"}], ["Marsh Habitats", "habitat forming", {"weight": 0.6666666666666666, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Habitat Migration", "Climate Change", {"weight": 0.8, "confidence": 0.73, "type": "inter_cluster", "style": "solid"}], ["Habitat Migration", "Ecosystem Management", {"weight": -0.4, "confidence": 0.6900000000000001, "type": "inter_cluster", "style": "solid"}], ["Habitat Migration", "Species Conservation", {"weight": -0.4, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Habitat Migration", "Habitat Protection", {"weight": 0.2, "confidence": 0.51, "type": "inter_cluster", "style": "solid"}], ["Habitat Migration", "drainage management", {"weight": 0.6, "confidence": 0.48, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Conflicts", "Climate Change", {"weight": 0.5, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Management", "Species Conservation", {"weight": 0.6, "confidence": 0.45999999999999996, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Management", "Environmental Conditions", {"weight": 0.5, "confidence": 0.36250000000000004, "type": "inter_cluster", "style": "solid"}], ["Habitat Protection", "Marsh Habitats", {"weight": 0.6666666666666666, "confidence": 0.5333333333333333, "type": "inter_cluster", "style": "solid"}], ["Habitat Protection", "Environmental Conditions", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Management Roles", "Stakeholder Groups", {"weight": 0.3333333333333333, "confidence": 0.2333333333333333, "type": "inter_cluster", "style": "solid"}], ["Management Methods", "Stakeholder Groups", {"weight": 0.2, "confidence": 0.47000000000000003, "type": "inter_cluster", "style": "solid"}], ["Management Methods", "stress response", {"weight": -0.25, "confidence": 0.5125, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Groups", "Regulatory Management", {"weight": 0.6666666666666666, "confidence": 0.4666666666666666, "type": "inter_cluster", "style": "solid"}], ["System Connections", "high tide line", {"weight": -0.5, "confidence": 0.35, "type": "inter_cluster", "style": "solid"}], ["Environmental Disturbances", "Habitat Protection", {"weight": 0.25, "confidence": 0.6000000000000001, "type": "inter_cluster", "style": "solid"}], ["Environmental Disturbances", "habitat forming", {"weight": -0.6, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["Environmental Disturbances", "Ecosystem Management", {"weight": -0.25, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["System Effectiveness", "Habitat Protection", {"weight": 0.3333333333333333, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}], ["Climate Change", "habitat forming", {"weight": -0.2, "confidence": 0.8200000000000001, "type": "inter_cluster", "style": "solid"}], ["Climate Change", "Environmental Conditions", {"weight": 0.6, "confidence": 0.51, "type": "inter_cluster", "style": "solid"}], ["Climate Change", "Tidal Drought", {"weight": 0.6, "confidence": 0.44000000000000006, "type": "inter_cluster", "style": "solid"}], ["Climate Change", "stress response", {"weight": 0.6666666666666666, "confidence": 0.5333333333333333, "type": "inter_cluster", "style": "solid"}], ["Climate Change", "System Effectiveness", {"weight": -0.6666666666666666, "confidence": 0.5333333333333333, "type": "inter_cluster", "style": "solid"}], ["Climate Change", "Stakeholder Conflicts", {"weight": 0.25, "confidence": 0.2, "type": "inter_cluster", "style": "solid"}], ["Environmental Conditions", "Habitat Restoration", {"weight": 0.6, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Environmental Conditions", "Tidal Drought", {"weight": 0.6, "confidence": 0.44000000000000006, "type": "inter_cluster", "style": "solid"}], ["Environmental Conditions", "stress response", {"weight": 0.6666666666666666, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["Environmental Conditions", "Stakeholder Conflicts", {"weight": -0.3333333333333333, "confidence": 0.26666666666666666, "type": "inter_cluster", "style": "solid"}], ["Environmental Conditions", "Habitat Migration", {"weight": 0.3333333333333333, "confidence": 0.2833333333333333, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Salt Invasion": [["salt invasion", {"concepts": "salt invasion", "type": "concept", "cluster": "Salt Invasion", "node_size": 10, "label": "salt invasion"}], ["salish sea", {"concepts": "salish sea", "type": "concept", "cluster": "Salt Invasion", "node_size": 10, "label": "salish sea"}]], "Environmental Stressors": [["stress", {"concepts": "stress", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "stress"}], ["physiological stressors", {"concepts": "physiological stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "physiological stressors"}], ["environmental stressors", {"concepts": "environmental stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "environmental stressors"}], ["climate change stressors", {"concepts": "climate change stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "climate change stressors"}], ["stressors", {"concepts": "stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "stressors"}], ["migration patterns", {"concepts": "migration patterns", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "migration patterns"}], ["watermen", {"concepts": "watermen", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "watermen"}], ["population genetics", {"concepts": "population genetics", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "population genetics"}]], "Tidal Drought": [["tidal stress", {"concepts": "tidal stress", "type": "concept", "cluster": "Tidal Drought", "node_size": 10, "label": "tidal stress"}], ["drought", {"concepts": "drought", "type": "concept", "cluster": "Tidal Drought", "node_size": 10, "label": "drought"}]], "Marsh Habitats": [["high marsh", {"concepts": "high marsh", "type": "concept", "cluster": "Marsh Habitats", "node_size": 10, "label": "high marsh"}], ["tidal marshes", {"concepts": "tidal marshes", "type": "concept", "cluster": "Marsh Habitats", "node_size": 10, "label": "tidal marshes"}], ["microtidal marshes", {"concepts": "microtidal marshes", "type": "concept", "cluster": "Marsh Habitats", "node_size": 10, "label": "microtidal marshes"}], ["uplands", {"concepts": "uplands", "type": "concept", "cluster": "Marsh Habitats", "node_size": 10, "label": "uplands"}], ["intertidal", {"concepts": "intertidal", "type": "concept", "cluster": "Marsh Habitats", "node_size": 10, "label": "intertidal"}], ["estuary", {"concepts": "estuary", "type": "concept", "cluster": "Marsh Habitats", "node_size": 10, "label": "estuary"}], ["waffle marshes", {"concepts": "waffle marshes", "type": "concept", "cluster": "Marsh Habitats", "node_size": 10, "label": "waffle marshes"}], ["low marsh", {"concepts": "low marsh", "type": "concept", "cluster": "Marsh Habitats", "node_size": 10, "label": "low marsh"}]], "Habitat Migration": [["marsh migration", {"concepts": "marsh migration", "type": "concept", "cluster": "Habitat Migration", "node_size": 10, "label": "marsh migration"}], ["tidal creek extension", {"concepts": "tidal creek extension", "type": "concept", "cluster": "Habitat Migration", "node_size": 10, "label": "tidal creek extension"}], ["saltwater intrusion", {"concepts": "saltwater intrusion", "type": "concept", "cluster": "Habitat Migration", "node_size": 10, "label": "saltwater intrusion"}], ["marsh loss", {"concepts": "marsh loss", "type": "concept", "cluster": "Habitat Migration", "node_size": 10, "label": "marsh loss"}], ["habitat loss", {"concepts": "habitat loss", "type": "concept", "cluster": "Habitat Migration", "node_size": 10, "label": "habitat loss"}], ["tidal marsh loss", {"concepts": "tidal marsh loss", "type": "concept", "cluster": "Habitat Migration", "node_size": 10, "label": "tidal marsh loss"}], ["ghost forest formation", {"concepts": "ghost forest formation", "type": "concept", "cluster": "Habitat Migration", "node_size": 10, "label": "ghost forest formation"}], ["habitat loss prevention", {"concepts": "habitat loss prevention", "type": "concept", "cluster": "Habitat Migration", "node_size": 10, "label": "habitat loss prevention"}], ["forest tree mortality", {"concepts": "forest tree mortality", "type": "concept", "cluster": "Habitat Migration", "node_size": 10, "label": "forest tree mortality"}]], "Species Conservation": [["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "invasive species"}], ["invasive species control", {"concepts": "invasive species control", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "invasive species control"}], ["rare species", {"concepts": "rare species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "rare species"}], ["salt marsh birds", {"concepts": "salt marsh birds", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "salt marsh birds"}], ["rare endangered species", {"concepts": "rare endangered species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "rare endangered species"}], ["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "conservation concern"}], ["species control", {"concepts": "species control", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "species control"}], ["invertebrates", {"concepts": "invertebrates", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "invertebrates"}], ["native species", {"concepts": "native species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "native species"}], ["endangered species", {"concepts": "endangered species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "endangered species"}], ["coastal zone", {"concepts": "coastal zone", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "coastal zone"}], ["shorebirds", {"concepts": "shorebirds", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "shorebirds"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "harmful organisms"}]], "Habitat Restoration": [["restoration planting", {"concepts": "restoration planting", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "restoration planting"}], ["marsh creation", {"concepts": "marsh creation", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "marsh creation"}], ["restoration projects", {"concepts": "restoration projects", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "restoration projects"}], ["land acquisition", {"concepts": "land acquisition", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "land acquisition"}], ["planting", {"concepts": "planting", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "planting"}], ["landscape scale", {"concepts": "landscape scale", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "landscape scale"}], ["burning", {"concepts": "burning", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "burning"}], ["prescribed burning", {"concepts": "prescribed burning", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "prescribed burning"}], ["seed mixes", {"concepts": "seed mixes", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "seed mixes"}], ["tnc land management", {"concepts": "tnc land management", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "tnc land management"}]], "Stakeholder Conflicts": [["herbicide", {"concepts": "herbicide", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "herbicide"}], ["legacy effects", {"concepts": "legacy effects", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "legacy effects"}], ["farmland abandonment", {"concepts": "farmland abandonment", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "farmland abandonment"}], ["waterfront homeowners", {"concepts": "waterfront homeowners", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "waterfront homeowners"}], ["environmental community", {"concepts": "environmental community", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "environmental community"}], ["social ecological systems", {"concepts": "social ecological systems", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "social ecological systems"}], ["social ecological complexity", {"concepts": "social ecological complexity", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "social ecological complexity"}], ["coastal community", {"concepts": "coastal community", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "coastal community"}], ["oyster farmers", {"concepts": "oyster farmers", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "oyster farmers"}], ["tourism operators", {"concepts": "tourism operators", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "tourism operators"}], ["livelihood dependence", {"concepts": "livelihood dependence", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "livelihood dependence"}], ["fishermen", {"concepts": "fishermen", "type": "concept", "cluster": "Stakeholder Conflicts", "node_size": 10, "label": "fishermen"}]], "Ecosystem Management": [["associated organisms", {"concepts": "associated organisms", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "associated organisms"}], ["interior ponding", {"concepts": "interior ponding", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "interior ponding"}], ["coastal environments", {"concepts": "coastal environments", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "coastal environments"}], ["northern gulf of mexico", {"concepts": "northern gulf of mexico", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "northern gulf of mexico"}], ["biodiversity management", {"concepts": "biodiversity management", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "biodiversity management"}], ["community ecology", {"concepts": "community ecology", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "community ecology"}], ["eutrophication", {"concepts": "eutrophication", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "eutrophication"}], ["storms", {"concepts": "storms", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "storms"}], ["water quality management", {"concepts": "water quality management", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "water quality management"}], ["biodiversity measurement", {"concepts": "biodiversity measurement", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "biodiversity measurement"}], ["watershed", {"concepts": "watershed", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "watershed"}], ["dredge oil creation", {"concepts": "dredge oil creation", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "dredge oil creation"}], ["species diversity", {"concepts": "species diversity", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "species diversity"}], ["population genetic diversity", {"concepts": "population genetic diversity", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "population genetic diversity"}], ["habitat needs", {"concepts": "habitat needs", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "habitat needs"}], ["biodiversity definitions", {"concepts": "biodiversity definitions", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "biodiversity definitions"}], ["coastal ecosystems", {"concepts": "coastal ecosystems", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "coastal ecosystems"}], ["dredge oil", {"concepts": "dredge oil", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "dredge oil"}], ["niche identification", {"concepts": "niche identification", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "niche identification"}], ["nest flooding", {"concepts": "nest flooding", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "nest flooding"}], ["coastal bay work", {"concepts": "coastal bay work", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "coastal bay work"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "ecosystem services"}], ["biodiversity preservation", {"concepts": "biodiversity preservation", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "biodiversity preservation"}], ["coastal management", {"concepts": "coastal management", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "coastal management"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "biodiversity"}], ["food-web species", {"concepts": "food-web species", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "food-web species"}], ["ecosystem engineers", {"concepts": "ecosystem engineers", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "ecosystem engineers"}], ["plant communities", {"concepts": "plant communities", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "plant communities"}], ["marsh accretion", {"concepts": "marsh accretion", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "marsh accretion"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "marine resource management"}], ["wetland ecology", {"concepts": "wetland ecology", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "wetland ecology"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "habitat forming species"}], ["future habitat", {"concepts": "future habitat", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "future habitat"}], ["plant community assembly", {"concepts": "plant community assembly", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "plant community assembly"}], ["ecological definition", {"concepts": "ecological definition", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "ecological definition"}], ["primary producers", {"concepts": "primary producers", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "primary producers"}]], "Habitat Protection": [["hydrology changes", {"concepts": "hydrology changes", "type": "concept", "cluster": "Habitat Protection", "node_size": 10, "label": "hydrology changes"}]], "Management Roles": [["management team", {"concepts": "management team", "type": "concept", "cluster": "Management Roles", "node_size": 10, "label": "management team"}], ["postdoc", {"concepts": "postdoc", "type": "concept", "cluster": "Management Roles", "node_size": 10, "label": "postdoc"}], ["site manager", {"concepts": "site manager", "type": "concept", "cluster": "Management Roles", "node_size": 10, "label": "site manager"}], ["regional managers", {"concepts": "regional managers", "type": "concept", "cluster": "Management Roles", "node_size": 10, "label": "regional managers"}], ["steering committee", {"concepts": "steering committee", "type": "concept", "cluster": "Management Roles", "node_size": 10, "label": "steering committee"}]], "Management Methods": [["management components", {"concepts": "management components", "type": "concept", "cluster": "Management Methods", "node_size": 10, "label": "management components"}], ["management approaches", {"concepts": "management approaches", "type": "concept", "cluster": "Management Methods", "node_size": 10, "label": "management approaches"}], ["management groups", {"concepts": "management groups", "type": "concept", "cluster": "Management Methods", "node_size": 10, "label": "management groups"}], ["management activities", {"concepts": "management activities", "type": "concept", "cluster": "Management Methods", "node_size": 10, "label": "management activities"}], ["management practices", {"concepts": "management practices", "type": "concept", "cluster": "Management Methods", "node_size": 10, "label": "management practices"}], ["management interventions", {"concepts": "management interventions", "type": "concept", "cluster": "Management Methods", "node_size": 10, "label": "management interventions"}]], "Stakeholder Groups": [["stakeholder engagement", {"concepts": "stakeholder engagement", "type": "concept", "cluster": "Stakeholder Groups", "node_size": 10, "label": "stakeholder engagement"}], ["economists", {"concepts": "economists", "type": "concept", "cluster": "Stakeholder Groups", "node_size": 10, "label": "economists"}], ["resource users", {"concepts": "resource users", "type": "concept", "cluster": "Stakeholder Groups", "node_size": 10, "label": "resource users"}], ["community members", {"concepts": "community members", "type": "concept", "cluster": "Stakeholder Groups", "node_size": 10, "label": "community members"}]], "System Connections": [["system dynamics", {"concepts": "system dynamics", "type": "concept", "cluster": "System Connections", "node_size": 10, "label": "system dynamics"}], ["connections", {"concepts": "connections", "type": "concept", "cluster": "System Connections", "node_size": 10, "label": "connections"}], ["relationships", {"concepts": "relationships", "type": "concept", "cluster": "System Connections", "node_size": 10, "label": "relationships"}], ["interaction webs", {"concepts": "interaction webs", "type": "concept", "cluster": "System Connections", "node_size": 10, "label": "interaction webs"}], ["mental models", {"concepts": "mental models", "type": "concept", "cluster": "System Connections", "node_size": 10, "label": "mental models"}], ["mental modeling", {"concepts": "mental modeling", "type": "concept", "cluster": "System Connections", "node_size": 10, "label": "mental modeling"}], ["merging concepts", {"concepts": "merging concepts", "type": "concept", "cluster": "System Connections", "node_size": 10, "label": "merging concepts"}]], "Environmental Disturbances": [["drowning", {"concepts": "drowning", "type": "concept", "cluster": "Environmental Disturbances", "node_size": 10, "label": "drowning"}], ["zooming", {"concepts": "zooming", "type": "concept", "cluster": "Environmental Disturbances", "node_size": 10, "label": "zooming"}], ["flooding", {"concepts": "flooding", "type": "concept", "cluster": "Environmental Disturbances", "node_size": 10, "label": "flooding"}], ["runneling", {"concepts": "runneling", "type": "concept", "cluster": "Environmental Disturbances", "node_size": 10, "label": "runneling"}], ["disturbances", {"concepts": "disturbances", "type": "concept", "cluster": "Environmental Disturbances", "node_size": 10, "label": "disturbances"}], ["disturbance", {"concepts": "disturbance", "type": "concept", "cluster": "Environmental Disturbances", "node_size": 10, "label": "disturbance"}], ["selective force", {"concepts": "selective force", "type": "concept", "cluster": "Environmental Disturbances", "node_size": 10, "label": "selective force"}], ["drainage", {"concepts": "drainage", "type": "concept", "cluster": "Environmental Disturbances", "node_size": 10, "label": "drainage"}], ["dredging", {"concepts": "dredging", "type": "concept", "cluster": "Environmental Disturbances", "node_size": 10, "label": "dredging"}], ["ditching", {"concepts": "ditching", "type": "concept", "cluster": "Environmental Disturbances", "node_size": 10, "label": "ditching"}]], "System Effectiveness": [["redundancy", {"concepts": "redundancy", "type": "concept", "cluster": "System Effectiveness", "node_size": 10, "label": "redundancy"}], ["positive effects", {"concepts": "positive effects", "type": "concept", "cluster": "System Effectiveness", "node_size": 10, "label": "positive effects"}], ["weights", {"concepts": "weights", "type": "concept", "cluster": "System Effectiveness", "node_size": 10, "label": "weights"}], ["negative effects", {"concepts": "negative effects", "type": "concept", "cluster": "System Effectiveness", "node_size": 10, "label": "negative effects"}], ["efficacy", {"concepts": "efficacy", "type": "concept", "cluster": "System Effectiveness", "node_size": 10, "label": "efficacy"}], ["effectiveness", {"concepts": "effectiveness", "type": "concept", "cluster": "System Effectiveness", "node_size": 10, "label": "effectiveness"}], ["bidirectional", {"concepts": "bidirectional", "type": "concept", "cluster": "System Effectiveness", "node_size": 10, "label": "bidirectional"}], ["efficiency", {"concepts": "efficiency", "type": "concept", "cluster": "System Effectiveness", "node_size": 10, "label": "efficiency"}], ["adaptive potential", {"concepts": "adaptive potential", "type": "concept", "cluster": "System Effectiveness", "node_size": 10, "label": "adaptive potential"}], ["physiological effects", {"concepts": "physiological effects", "type": "concept", "cluster": "System Effectiveness", "node_size": 10, "label": "physiological effects"}]], "Regulatory Management": [["technical experts", {"concepts": "technical experts", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "technical experts"}], ["trajectory guidance", {"concepts": "trajectory guidance", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "trajectory guidance"}], ["property rights", {"concepts": "property rights", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "property rights"}], ["phragmites", {"concepts": "phragmites", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "phragmites"}], ["chesapeake bay", {"concepts": "chesapeake bay", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "chesapeake bay"}], ["tradeoffs analysis", {"concepts": "tradeoffs analysis", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "tradeoffs analysis"}], ["regulatory power", {"concepts": "regulatory power", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "regulatory power"}], ["restoration", {"concepts": "restoration", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "restoration"}], ["epa", {"concepts": "epa", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "epa"}], ["case studies", {"concepts": "case studies", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "case studies"}], ["incentive structures", {"concepts": "incentive structures", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "incentive structures"}], ["monitoring", {"concepts": "monitoring", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "monitoring"}], ["science and technology", {"concepts": "science and technology", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "science and technology"}], ["research institutions", {"concepts": "research institutions", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "research institutions"}], ["arrows", {"concepts": "arrows", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "arrows"}], ["research funding", {"concepts": "research funding", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "research funding"}], ["behavior change", {"concepts": "behavior change", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "behavior change"}], ["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "noaa"}], ["knowledge capturing", {"concepts": "knowledge capturing", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "knowledge capturing"}], ["chesapeake bay program", {"concepts": "chesapeake bay program", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "chesapeake bay program"}], ["outcompeting", {"concepts": "outcompeting", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "outcompeting"}], ["permitting", {"concepts": "permitting", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "permitting"}], ["easements", {"concepts": "easements", "type": "concept", "cluster": "Regulatory Management", "node_size": 10, "label": "easements"}]], "Climate Change": [["sea level rise", {"concepts": "sea level rise", "type": "concept", "cluster": "Climate Change", "node_size": 10, "label": "sea level rise"}], ["global change drivers", {"concepts": "global change drivers", "type": "concept", "cluster": "Climate Change", "node_size": 10, "label": "global change drivers"}]], "Environmental Conditions": [["salinity", {"concepts": "salinity", "type": "concept", "cluster": "Environmental Conditions", "node_size": 10, "label": "salinity"}], ["elevation requirements", {"concepts": "elevation requirements", "type": "concept", "cluster": "Environmental Conditions", "node_size": 10, "label": "elevation requirements"}]]};
        const clusterEdges = {"Salt Invasion": [], "Environmental Stressors": [], "Tidal Drought": [], "Marsh Habitats": [], "Habitat Migration": [], "Species Conservation": [], "Habitat Restoration": [], "Stakeholder Conflicts": [], "Ecosystem Management": [], "Habitat Protection": [], "Management Roles": [], "Management Methods": [], "Stakeholder Groups": [], "System Connections": [], "Environmental Disturbances": [], "System Effectiveness": [], "Regulatory Management": [], "Climate Change": [], "Environmental Conditions": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
