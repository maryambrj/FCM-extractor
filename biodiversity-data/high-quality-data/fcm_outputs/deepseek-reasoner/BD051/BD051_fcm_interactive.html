
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Recreational Fishing Dynamics": {"concepts": "heat stress, striped bass, commercial potential, slot limits, biodiversity impact, environmental stressors, hypoxia, salinity, license requirements, habitat degradation, development impacts, dnr policies, day trips, mercury levels, rain effects, habitat quality, kayaking, catch and release, environmental introduction, rain, storms, environmental factors, system dynamics, market demand, patapsco, access times, conservation concerns, predator impact, species ranges, contamination concerns, predator-prey dynamics, hypoxic conditions, ecological stressors, food consumption, kayak size, impact assessment, slime aversion, climate change, cca maryland, lenny rudell, target species, species introduction, patience requirement, bite timing, invasive species, kayak access, species populations, species competition, species preference, social media communication, seasonal patterns, travel time, preparation difficulty, travel distance, taste preference, environmental impact, consumer acceptance, ecological impact, species resilience, tide timing, biodiversity, work schedule, weather, social media, eric packard, environmental degradation, scientific concern, patuxent, food preparation, parking availability, dnr, ecological concern, pcb contamination, spouse acceptance, david sikorski, fileting difficulty, biodiversity threat, resource competition, ecological disruption, red drum, regulations, fillet difficulty, wind conditions, public access, degraded habitat", "concept_list": ["heat stress", "striped bass", "commercial potential", "slot limits", "biodiversity impact", "environmental stressors", "hypoxia", "salinity", "license requirements", "habitat degradation", "development impacts", "dnr policies", "day trips", "mercury levels", "rain effects", "habitat quality", "kayaking", "catch and release", "environmental introduction", "rain", "storms", "environmental factors", "system dynamics", "market demand", "patapsco", "access times", "conservation concerns", "predator impact", "species ranges", "contamination concerns", "predator-prey dynamics", "hypoxic conditions", "ecological stressors", "food consumption", "kayak size", "impact assessment", "slime aversion", "climate change", "cca maryland", "lenny rudell", "target species", "species introduction", "patience requirement", "bite timing", "invasive species", "kayak access", "species populations", "species competition", "species preference", "social media communication", "seasonal patterns", "travel time", "preparation difficulty", "travel distance", "taste preference", "environmental impact", "consumer acceptance", "ecological impact", "species resilience", "tide timing", "biodiversity", "work schedule", "weather", "social media", "eric packard", "environmental degradation", "scientific concern", "patuxent", "food preparation", "parking availability", "dnr", "ecological concern", "pcb contamination", "spouse acceptance", "david sikorski", "fileting difficulty", "biodiversity threat", "resource competition", "ecological disruption", "red drum", "regulations", "fillet difficulty", "wind conditions", "public access", "degraded habitat"], "type": "cluster", "node_size": 270, "label": "Recreational Fishing Dynamics"}, "Fishery Ecological Pressures": {"concepts": "recreational fishing, fishing locations, large mouth bass, patapsco river, fishing timing, fishing reports, recreational constraints, fishing docks, fishing constraints, fishing opportunities, snakehead, fishbrain app, fish talk magazine, blue catfish, offshore species, tidal fishing, commercial fishing, snakehead fishing, marine debris, fishing barriers, flounder, sea trout, fishing logistics, catch success, spawning, dock fishing, fishbrain, fishing for food, fishing spots, anne arundel county, fishing regulations, fishing effort, recreational access, docks fishing, fishing secrecy, spawning behavior, recreational fishermen, overfishing, freshwater fishing, fishing dynamics, fishing location, eastern shore, guide fishermen, fishing licenses, patuxent river", "concept_list": ["recreational fishing", "fishing locations", "large mouth bass", "patapsco river", "fishing timing", "fishing reports", "recreational constraints", "fishing docks", "fishing constraints", "fishing opportunities", "snakehead", "fishbrain app", "fish talk magazine", "blue catfish", "offshore species", "tidal fishing", "commercial fishing", "snakehead fishing", "marine debris", "fishing barriers", "flounder", "sea trout", "fishing logistics", "catch success", "spawning", "dock fishing", "fishbrain", "fishing for food", "fishing spots", "anne arundel county", "fishing regulations", "fishing effort", "recreational access", "docks fishing", "fishing secrecy", "spawning behavior", "recreational fishermen", "overfishing", "freshwater fishing", "fishing dynamics", "fishing location", "eastern shore", "guide fishermen", "fishing licenses", "patuxent river"], "type": "cluster", "node_size": 150, "label": "Fishery Ecological Pressures"}};
        const conceptData = {"heat stress": {"concepts": "heat stress", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "heat stress"}, "striped bass": {"concepts": "striped bass", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "striped bass"}, "commercial potential": {"concepts": "commercial potential", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "commercial potential"}, "slot limits": {"concepts": "slot limits", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "slot limits"}, "biodiversity impact": {"concepts": "biodiversity impact", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "biodiversity impact"}, "environmental stressors": {"concepts": "environmental stressors", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "environmental stressors"}, "hypoxia": {"concepts": "hypoxia", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "hypoxia"}, "salinity": {"concepts": "salinity", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "salinity"}, "license requirements": {"concepts": "license requirements", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "license requirements"}, "habitat degradation": {"concepts": "habitat degradation", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "habitat degradation"}, "development impacts": {"concepts": "development impacts", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "development impacts"}, "dnr policies": {"concepts": "dnr policies", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "dnr policies"}, "day trips": {"concepts": "day trips", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "day trips"}, "mercury levels": {"concepts": "mercury levels", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "mercury levels"}, "rain effects": {"concepts": "rain effects", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "rain effects"}, "habitat quality": {"concepts": "habitat quality", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "habitat quality"}, "kayaking": {"concepts": "kayaking", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "kayaking"}, "catch and release": {"concepts": "catch and release", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "catch and release"}, "environmental introduction": {"concepts": "environmental introduction", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "environmental introduction"}, "rain": {"concepts": "rain", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "rain"}, "storms": {"concepts": "storms", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "storms"}, "environmental factors": {"concepts": "environmental factors", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "environmental factors"}, "system dynamics": {"concepts": "system dynamics", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "system dynamics"}, "market demand": {"concepts": "market demand", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "market demand"}, "patapsco": {"concepts": "patapsco", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "patapsco"}, "access times": {"concepts": "access times", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "access times"}, "conservation concerns": {"concepts": "conservation concerns", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "conservation concerns"}, "predator impact": {"concepts": "predator impact", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "predator impact"}, "species ranges": {"concepts": "species ranges", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "species ranges"}, "contamination concerns": {"concepts": "contamination concerns", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "contamination concerns"}, "predator-prey dynamics": {"concepts": "predator-prey dynamics", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "predator-prey dynamics"}, "hypoxic conditions": {"concepts": "hypoxic conditions", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "hypoxic conditions"}, "ecological stressors": {"concepts": "ecological stressors", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "ecological stressors"}, "food consumption": {"concepts": "food consumption", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "food consumption"}, "kayak size": {"concepts": "kayak size", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "kayak size"}, "impact assessment": {"concepts": "impact assessment", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "impact assessment"}, "slime aversion": {"concepts": "slime aversion", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "slime aversion"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "climate change"}, "cca maryland": {"concepts": "cca maryland", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "cca maryland"}, "lenny rudell": {"concepts": "lenny rudell", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "lenny rudell"}, "target species": {"concepts": "target species", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "target species"}, "species introduction": {"concepts": "species introduction", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "species introduction"}, "patience requirement": {"concepts": "patience requirement", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "patience requirement"}, "bite timing": {"concepts": "bite timing", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "bite timing"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "invasive species"}, "kayak access": {"concepts": "kayak access", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "kayak access"}, "species populations": {"concepts": "species populations", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "species populations"}, "species competition": {"concepts": "species competition", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "species competition"}, "species preference": {"concepts": "species preference", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "species preference"}, "social media communication": {"concepts": "social media communication", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "social media communication"}, "seasonal patterns": {"concepts": "seasonal patterns", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "seasonal patterns"}, "travel time": {"concepts": "travel time", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "travel time"}, "preparation difficulty": {"concepts": "preparation difficulty", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "preparation difficulty"}, "travel distance": {"concepts": "travel distance", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "travel distance"}, "taste preference": {"concepts": "taste preference", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "taste preference"}, "environmental impact": {"concepts": "environmental impact", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "environmental impact"}, "consumer acceptance": {"concepts": "consumer acceptance", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "consumer acceptance"}, "ecological impact": {"concepts": "ecological impact", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "ecological impact"}, "species resilience": {"concepts": "species resilience", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "species resilience"}, "tide timing": {"concepts": "tide timing", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "tide timing"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "biodiversity"}, "work schedule": {"concepts": "work schedule", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "work schedule"}, "weather": {"concepts": "weather", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "weather"}, "social media": {"concepts": "social media", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "social media"}, "eric packard": {"concepts": "eric packard", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "eric packard"}, "environmental degradation": {"concepts": "environmental degradation", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "environmental degradation"}, "scientific concern": {"concepts": "scientific concern", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "scientific concern"}, "patuxent": {"concepts": "patuxent", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "patuxent"}, "food preparation": {"concepts": "food preparation", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "food preparation"}, "parking availability": {"concepts": "parking availability", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "parking availability"}, "dnr": {"concepts": "dnr", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "dnr"}, "ecological concern": {"concepts": "ecological concern", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "ecological concern"}, "pcb contamination": {"concepts": "pcb contamination", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "pcb contamination"}, "spouse acceptance": {"concepts": "spouse acceptance", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "spouse acceptance"}, "david sikorski": {"concepts": "david sikorski", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "david sikorski"}, "fileting difficulty": {"concepts": "fileting difficulty", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "fileting difficulty"}, "biodiversity threat": {"concepts": "biodiversity threat", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "biodiversity threat"}, "resource competition": {"concepts": "resource competition", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "resource competition"}, "ecological disruption": {"concepts": "ecological disruption", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "ecological disruption"}, "red drum": {"concepts": "red drum", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "red drum"}, "regulations": {"concepts": "regulations", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "regulations"}, "fillet difficulty": {"concepts": "fillet difficulty", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "fillet difficulty"}, "wind conditions": {"concepts": "wind conditions", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "wind conditions"}, "public access": {"concepts": "public access", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "public access"}, "degraded habitat": {"concepts": "degraded habitat", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "degraded habitat"}, "recreational fishing": {"concepts": "recreational fishing", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "recreational fishing"}, "fishing locations": {"concepts": "fishing locations", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing locations"}, "large mouth bass": {"concepts": "large mouth bass", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "large mouth bass"}, "patapsco river": {"concepts": "patapsco river", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "patapsco river"}, "fishing timing": {"concepts": "fishing timing", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing timing"}, "fishing reports": {"concepts": "fishing reports", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing reports"}, "recreational constraints": {"concepts": "recreational constraints", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "recreational constraints"}, "fishing docks": {"concepts": "fishing docks", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing docks"}, "fishing constraints": {"concepts": "fishing constraints", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing constraints"}, "fishing opportunities": {"concepts": "fishing opportunities", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing opportunities"}, "snakehead": {"concepts": "snakehead", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "snakehead"}, "fishbrain app": {"concepts": "fishbrain app", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishbrain app"}, "fish talk magazine": {"concepts": "fish talk magazine", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fish talk magazine"}, "blue catfish": {"concepts": "blue catfish", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "blue catfish"}, "offshore species": {"concepts": "offshore species", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "offshore species"}, "tidal fishing": {"concepts": "tidal fishing", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "tidal fishing"}, "commercial fishing": {"concepts": "commercial fishing", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "commercial fishing"}, "snakehead fishing": {"concepts": "snakehead fishing", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "snakehead fishing"}, "marine debris": {"concepts": "marine debris", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "marine debris"}, "fishing barriers": {"concepts": "fishing barriers", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing barriers"}, "flounder": {"concepts": "flounder", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "flounder"}, "sea trout": {"concepts": "sea trout", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "sea trout"}, "fishing logistics": {"concepts": "fishing logistics", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing logistics"}, "catch success": {"concepts": "catch success", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "catch success"}, "spawning": {"concepts": "spawning", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "spawning"}, "dock fishing": {"concepts": "dock fishing", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "dock fishing"}, "fishbrain": {"concepts": "fishbrain", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishbrain"}, "fishing for food": {"concepts": "fishing for food", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing for food"}, "fishing spots": {"concepts": "fishing spots", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing spots"}, "anne arundel county": {"concepts": "anne arundel county", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "anne arundel county"}, "fishing regulations": {"concepts": "fishing regulations", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing regulations"}, "fishing effort": {"concepts": "fishing effort", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing effort"}, "recreational access": {"concepts": "recreational access", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "recreational access"}, "docks fishing": {"concepts": "docks fishing", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "docks fishing"}, "fishing secrecy": {"concepts": "fishing secrecy", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing secrecy"}, "spawning behavior": {"concepts": "spawning behavior", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "spawning behavior"}, "recreational fishermen": {"concepts": "recreational fishermen", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "recreational fishermen"}, "overfishing": {"concepts": "overfishing", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "overfishing"}, "freshwater fishing": {"concepts": "freshwater fishing", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "freshwater fishing"}, "fishing dynamics": {"concepts": "fishing dynamics", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing dynamics"}, "fishing location": {"concepts": "fishing location", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing location"}, "eastern shore": {"concepts": "eastern shore", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "eastern shore"}, "guide fishermen": {"concepts": "guide fishermen", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "guide fishermen"}, "fishing licenses": {"concepts": "fishing licenses", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing licenses"}, "patuxent river": {"concepts": "patuxent river", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "patuxent river"}};
        const interClusterEdges = [["Recreational Fishing Dynamics", "Fishery Ecological Pressures", {"weight": -0.3333333333333333, "confidence": 0.8833333333333333, "type": "inter_cluster", "style": "solid"}], ["Fishery Ecological Pressures", "Recreational Fishing Dynamics", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Recreational Fishing Dynamics": [["heat stress", {"concepts": "heat stress", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "heat stress"}], ["striped bass", {"concepts": "striped bass", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "striped bass"}], ["commercial potential", {"concepts": "commercial potential", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "commercial potential"}], ["slot limits", {"concepts": "slot limits", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "slot limits"}], ["biodiversity impact", {"concepts": "biodiversity impact", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "biodiversity impact"}], ["environmental stressors", {"concepts": "environmental stressors", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "environmental stressors"}], ["hypoxia", {"concepts": "hypoxia", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "hypoxia"}], ["salinity", {"concepts": "salinity", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "salinity"}], ["license requirements", {"concepts": "license requirements", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "license requirements"}], ["habitat degradation", {"concepts": "habitat degradation", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "habitat degradation"}], ["development impacts", {"concepts": "development impacts", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "development impacts"}], ["dnr policies", {"concepts": "dnr policies", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "dnr policies"}], ["day trips", {"concepts": "day trips", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "day trips"}], ["mercury levels", {"concepts": "mercury levels", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "mercury levels"}], ["rain effects", {"concepts": "rain effects", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "rain effects"}], ["habitat quality", {"concepts": "habitat quality", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "habitat quality"}], ["kayaking", {"concepts": "kayaking", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "kayaking"}], ["catch and release", {"concepts": "catch and release", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "catch and release"}], ["environmental introduction", {"concepts": "environmental introduction", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "environmental introduction"}], ["rain", {"concepts": "rain", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "rain"}], ["storms", {"concepts": "storms", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "storms"}], ["environmental factors", {"concepts": "environmental factors", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "environmental factors"}], ["system dynamics", {"concepts": "system dynamics", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "system dynamics"}], ["market demand", {"concepts": "market demand", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "market demand"}], ["patapsco", {"concepts": "patapsco", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "patapsco"}], ["access times", {"concepts": "access times", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "access times"}], ["conservation concerns", {"concepts": "conservation concerns", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "conservation concerns"}], ["predator impact", {"concepts": "predator impact", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "predator impact"}], ["species ranges", {"concepts": "species ranges", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "species ranges"}], ["contamination concerns", {"concepts": "contamination concerns", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "contamination concerns"}], ["predator-prey dynamics", {"concepts": "predator-prey dynamics", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "predator-prey dynamics"}], ["hypoxic conditions", {"concepts": "hypoxic conditions", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "hypoxic conditions"}], ["ecological stressors", {"concepts": "ecological stressors", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "ecological stressors"}], ["food consumption", {"concepts": "food consumption", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "food consumption"}], ["kayak size", {"concepts": "kayak size", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "kayak size"}], ["impact assessment", {"concepts": "impact assessment", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "impact assessment"}], ["slime aversion", {"concepts": "slime aversion", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "slime aversion"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "climate change"}], ["cca maryland", {"concepts": "cca maryland", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "cca maryland"}], ["lenny rudell", {"concepts": "lenny rudell", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "lenny rudell"}], ["target species", {"concepts": "target species", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "target species"}], ["species introduction", {"concepts": "species introduction", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "species introduction"}], ["patience requirement", {"concepts": "patience requirement", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "patience requirement"}], ["bite timing", {"concepts": "bite timing", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "bite timing"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "invasive species"}], ["kayak access", {"concepts": "kayak access", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "kayak access"}], ["species populations", {"concepts": "species populations", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "species populations"}], ["species competition", {"concepts": "species competition", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "species competition"}], ["species preference", {"concepts": "species preference", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "species preference"}], ["social media communication", {"concepts": "social media communication", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "social media communication"}], ["seasonal patterns", {"concepts": "seasonal patterns", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "seasonal patterns"}], ["travel time", {"concepts": "travel time", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "travel time"}], ["preparation difficulty", {"concepts": "preparation difficulty", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "preparation difficulty"}], ["travel distance", {"concepts": "travel distance", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "travel distance"}], ["taste preference", {"concepts": "taste preference", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "taste preference"}], ["environmental impact", {"concepts": "environmental impact", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "environmental impact"}], ["consumer acceptance", {"concepts": "consumer acceptance", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "consumer acceptance"}], ["ecological impact", {"concepts": "ecological impact", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "ecological impact"}], ["species resilience", {"concepts": "species resilience", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "species resilience"}], ["tide timing", {"concepts": "tide timing", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "tide timing"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "biodiversity"}], ["work schedule", {"concepts": "work schedule", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "work schedule"}], ["weather", {"concepts": "weather", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "weather"}], ["social media", {"concepts": "social media", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "social media"}], ["eric packard", {"concepts": "eric packard", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "eric packard"}], ["environmental degradation", {"concepts": "environmental degradation", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "environmental degradation"}], ["scientific concern", {"concepts": "scientific concern", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "scientific concern"}], ["patuxent", {"concepts": "patuxent", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "patuxent"}], ["food preparation", {"concepts": "food preparation", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "food preparation"}], ["parking availability", {"concepts": "parking availability", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "parking availability"}], ["dnr", {"concepts": "dnr", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "dnr"}], ["ecological concern", {"concepts": "ecological concern", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "ecological concern"}], ["pcb contamination", {"concepts": "pcb contamination", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "pcb contamination"}], ["spouse acceptance", {"concepts": "spouse acceptance", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "spouse acceptance"}], ["david sikorski", {"concepts": "david sikorski", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "david sikorski"}], ["fileting difficulty", {"concepts": "fileting difficulty", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "fileting difficulty"}], ["biodiversity threat", {"concepts": "biodiversity threat", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "biodiversity threat"}], ["resource competition", {"concepts": "resource competition", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "resource competition"}], ["ecological disruption", {"concepts": "ecological disruption", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "ecological disruption"}], ["red drum", {"concepts": "red drum", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "red drum"}], ["regulations", {"concepts": "regulations", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "regulations"}], ["fillet difficulty", {"concepts": "fillet difficulty", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "fillet difficulty"}], ["wind conditions", {"concepts": "wind conditions", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "wind conditions"}], ["public access", {"concepts": "public access", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "public access"}], ["degraded habitat", {"concepts": "degraded habitat", "type": "concept", "cluster": "Recreational Fishing Dynamics", "node_size": 10, "label": "degraded habitat"}]], "Fishery Ecological Pressures": [["recreational fishing", {"concepts": "recreational fishing", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "recreational fishing"}], ["fishing locations", {"concepts": "fishing locations", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing locations"}], ["large mouth bass", {"concepts": "large mouth bass", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "large mouth bass"}], ["patapsco river", {"concepts": "patapsco river", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "patapsco river"}], ["fishing timing", {"concepts": "fishing timing", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing timing"}], ["fishing reports", {"concepts": "fishing reports", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing reports"}], ["recreational constraints", {"concepts": "recreational constraints", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "recreational constraints"}], ["fishing docks", {"concepts": "fishing docks", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing docks"}], ["fishing constraints", {"concepts": "fishing constraints", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing constraints"}], ["fishing opportunities", {"concepts": "fishing opportunities", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing opportunities"}], ["snakehead", {"concepts": "snakehead", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "snakehead"}], ["fishbrain app", {"concepts": "fishbrain app", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishbrain app"}], ["fish talk magazine", {"concepts": "fish talk magazine", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fish talk magazine"}], ["blue catfish", {"concepts": "blue catfish", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "blue catfish"}], ["offshore species", {"concepts": "offshore species", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "offshore species"}], ["tidal fishing", {"concepts": "tidal fishing", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "tidal fishing"}], ["commercial fishing", {"concepts": "commercial fishing", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "commercial fishing"}], ["snakehead fishing", {"concepts": "snakehead fishing", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "snakehead fishing"}], ["marine debris", {"concepts": "marine debris", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "marine debris"}], ["fishing barriers", {"concepts": "fishing barriers", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing barriers"}], ["flounder", {"concepts": "flounder", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "flounder"}], ["sea trout", {"concepts": "sea trout", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "sea trout"}], ["fishing logistics", {"concepts": "fishing logistics", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing logistics"}], ["catch success", {"concepts": "catch success", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "catch success"}], ["spawning", {"concepts": "spawning", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "spawning"}], ["dock fishing", {"concepts": "dock fishing", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "dock fishing"}], ["fishbrain", {"concepts": "fishbrain", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishbrain"}], ["fishing for food", {"concepts": "fishing for food", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing for food"}], ["fishing spots", {"concepts": "fishing spots", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing spots"}], ["anne arundel county", {"concepts": "anne arundel county", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "anne arundel county"}], ["fishing regulations", {"concepts": "fishing regulations", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing regulations"}], ["fishing effort", {"concepts": "fishing effort", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing effort"}], ["recreational access", {"concepts": "recreational access", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "recreational access"}], ["docks fishing", {"concepts": "docks fishing", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "docks fishing"}], ["fishing secrecy", {"concepts": "fishing secrecy", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing secrecy"}], ["spawning behavior", {"concepts": "spawning behavior", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "spawning behavior"}], ["recreational fishermen", {"concepts": "recreational fishermen", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "recreational fishermen"}], ["overfishing", {"concepts": "overfishing", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "overfishing"}], ["freshwater fishing", {"concepts": "freshwater fishing", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "freshwater fishing"}], ["fishing dynamics", {"concepts": "fishing dynamics", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing dynamics"}], ["fishing location", {"concepts": "fishing location", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing location"}], ["eastern shore", {"concepts": "eastern shore", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "eastern shore"}], ["guide fishermen", {"concepts": "guide fishermen", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "guide fishermen"}], ["fishing licenses", {"concepts": "fishing licenses", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "fishing licenses"}], ["patuxent river", {"concepts": "patuxent river", "type": "concept", "cluster": "Fishery Ecological Pressures", "node_size": 10, "label": "patuxent river"}]]};
        const clusterEdges = {"Recreational Fishing Dynamics": [], "Fishery Ecological Pressures": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
