
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization (Unconnected nodes removed)</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"fishing species vulnerability status": {"concepts": "fishing species vulnerability status", "concept_list": ["fishing species vulnerability status"], "type": "cluster", "node_size": 18, "label": "fishing species vulnerability status"}, "caves": {"concepts": "caves", "concept_list": ["caves"], "type": "cluster", "node_size": 18, "label": "caves"}, "fad program": {"concepts": "fad program", "concept_list": ["fad program"], "type": "cluster", "node_size": 18, "label": "fad program"}, "fac board": {"concepts": "fac board", "concept_list": ["fac board"], "type": "cluster", "node_size": 18, "label": "fac board"}, "coastal communities": {"concepts": "coastal communities", "concept_list": ["coastal communities"], "type": "cluster", "node_size": 18, "label": "coastal communities"}, "fishery collapse": {"concepts": "fishery collapse", "concept_list": ["fishery collapse"], "type": "cluster", "node_size": 18, "label": "fishery collapse"}, "cold water": {"concepts": "cold water", "concept_list": ["cold water"], "type": "cluster", "node_size": 18, "label": "cold water"}, "yellowtail": {"concepts": "yellowtail", "concept_list": ["yellowtail"], "type": "cluster", "node_size": 18, "label": "yellowtail"}, "dpnr fish and wildlife": {"concepts": "dpnr fish and wildlife", "concept_list": ["dpnr fish and wildlife"], "type": "cluster", "node_size": 18, "label": "dpnr fish and wildlife"}, "marine ecosystem": {"concepts": "marine ecosystem", "concept_list": ["marine ecosystem"], "type": "cluster", "node_size": 18, "label": "marine ecosystem"}, "coral organisms": {"concepts": "coral organisms", "concept_list": ["coral organisms"], "type": "cluster", "node_size": 18, "label": "coral organisms"}, "east end marine park": {"concepts": "east end marine park", "concept_list": ["east end marine park"], "type": "cluster", "node_size": 18, "label": "east end marine park"}, "usvi": {"concepts": "usvi", "concept_list": ["usvi"], "type": "cluster", "node_size": 18, "label": "usvi"}, "biggest swell": {"concepts": "biggest swell", "concept_list": ["biggest swell"], "type": "cluster", "node_size": 18, "label": "biggest swell"}, "economic situation": {"concepts": "economic situation", "concept_list": ["economic situation"], "type": "cluster", "node_size": 18, "label": "economic situation"}, "dpnr": {"concepts": "dpnr", "concept_list": ["dpnr"], "type": "cluster", "node_size": 18, "label": "dpnr"}, "fundraisers": {"concepts": "fundraisers", "concept_list": ["fundraisers"], "type": "cluster", "node_size": 18, "label": "fundraisers"}, "fishery outreach": {"concepts": "fishery outreach", "concept_list": ["fishery outreach"], "type": "cluster", "node_size": 18, "label": "fishery outreach"}, "tourism": {"concepts": "tourism", "concept_list": ["tourism"], "type": "cluster", "node_size": 18, "label": "tourism"}, "bars": {"concepts": "bars", "concept_list": ["bars"], "type": "cluster", "node_size": 18, "label": "bars"}, "dock maintenance": {"concepts": "dock maintenance", "concept_list": ["dock maintenance"], "type": "cluster", "node_size": 18, "label": "dock maintenance"}, "government employment": {"concepts": "government employment", "concept_list": ["government employment"], "type": "cluster", "node_size": 18, "label": "government employment"}, "fisher concerns": {"concepts": "fisher concerns", "concept_list": ["fisher concerns"], "type": "cluster", "node_size": 18, "label": "fisher concerns"}, "disaster relief funds": {"concepts": "disaster relief funds", "concept_list": ["disaster relief funds"], "type": "cluster", "node_size": 18, "label": "disaster relief funds"}, "inshore fish": {"concepts": "inshore fish", "concept_list": ["inshore fish"], "type": "cluster", "node_size": 18, "label": "inshore fish"}, "coral damage": {"concepts": "coral damage", "concept_list": ["coral damage"], "type": "cluster", "node_size": 18, "label": "coral damage"}, "environmental changes": {"concepts": "environmental changes", "concept_list": ["environmental changes"], "type": "cluster", "node_size": 18, "label": "environmental changes"}, "fishing species natural disaster status": {"concepts": "fishing species natural disaster status", "concept_list": ["fishing species natural disaster status"], "type": "cluster", "node_size": 18, "label": "fishing species natural disaster status"}, "gill nets": {"concepts": "gill nets", "concept_list": ["gill nets"], "type": "cluster", "node_size": 18, "label": "gill nets"}, "fishing adaptation": {"concepts": "fishing adaptation", "concept_list": ["fishing adaptation"], "type": "cluster", "node_size": 18, "label": "fishing adaptation"}, "fishing species recruitment status": {"concepts": "fishing species recruitment status", "concept_list": ["fishing species recruitment status"], "type": "cluster", "node_size": 18, "label": "fishing species recruitment status"}, "muddy bottoms": {"concepts": "muddy bottoms", "concept_list": ["muddy bottoms"], "type": "cluster", "node_size": 18, "label": "muddy bottoms"}, "juvenile fish": {"concepts": "juvenile fish", "concept_list": ["juvenile fish"], "type": "cluster", "node_size": 18, "label": "juvenile fish"}, "fishery social networks": {"concepts": "fishery social networks", "concept_list": ["fishery social networks"], "type": "cluster", "node_size": 18, "label": "fishery social networks"}, "fishing communities": {"concepts": "fishing communities", "concept_list": ["fishing communities"], "type": "cluster", "node_size": 18, "label": "fishing communities"}, "fishery feedback": {"concepts": "fishery feedback", "concept_list": ["fishery feedback"], "type": "cluster", "node_size": 18, "label": "fishery feedback"}, "fishing conditions": {"concepts": "fishing conditions", "concept_list": ["fishing conditions"], "type": "cluster", "node_size": 18, "label": "fishing conditions"}, "fishing species ecology": {"concepts": "fishing species ecology", "concept_list": ["fishing species ecology"], "type": "cluster", "node_size": 18, "label": "fishing species ecology"}, "fishing species endemic status": {"concepts": "fishing species endemic status", "concept_list": ["fishing species endemic status"], "type": "cluster", "node_size": 18, "label": "fishing species endemic status"}, "offshore fishing": {"concepts": "offshore fishing", "concept_list": ["offshore fishing"], "type": "cluster", "node_size": 18, "label": "offshore fishing"}, "fishing observations": {"concepts": "fishing observations", "concept_list": ["fishing observations"], "type": "cluster", "node_size": 18, "label": "fishing observations"}, "fishing species abundance": {"concepts": "fishing species abundance", "concept_list": ["fishing species abundance"], "type": "cluster", "node_size": 18, "label": "fishing species abundance"}, "farming challenges": {"concepts": "farming challenges", "concept_list": ["farming challenges"], "type": "cluster", "node_size": 18, "label": "farming challenges"}, "outreach and education": {"concepts": "outreach and education", "concept_list": ["outreach and education"], "type": "cluster", "node_size": 18, "label": "outreach and education"}, "fishing weather": {"concepts": "fishing weather", "concept_list": ["fishing weather"], "type": "cluster", "node_size": 18, "label": "fishing weather"}, "mud sedimentation": {"concepts": "mud sedimentation", "concept_list": ["mud sedimentation"], "type": "cluster", "node_size": 18, "label": "mud sedimentation"}, "toxins": {"concepts": "toxins", "concept_list": ["toxins"], "type": "cluster", "node_size": 18, "label": "toxins"}, "fishing species diversity": {"concepts": "fishing species diversity", "concept_list": ["fishing species diversity"], "type": "cluster", "node_size": 18, "label": "fishing species diversity"}, "cargo ships": {"concepts": "cargo ships", "concept_list": ["cargo ships"], "type": "cluster", "node_size": 18, "label": "cargo ships"}, "island-specific management": {"concepts": "island-specific management", "concept_list": ["island-specific management"], "type": "cluster", "node_size": 18, "label": "island-specific management"}, "fishery issues": {"concepts": "fishery issues", "concept_list": ["fishery issues"], "type": "cluster", "node_size": 18, "label": "fishery issues"}, "fishing climate change": {"concepts": "fishing climate change", "concept_list": ["fishing climate change"], "type": "cluster", "node_size": 18, "label": "fishing climate change"}, "fisher involvement": {"concepts": "fisher involvement", "concept_list": ["fisher involvement"], "type": "cluster", "node_size": 18, "label": "fisher involvement"}, "fishery": {"concepts": "fishery", "concept_list": ["fishery"], "type": "cluster", "node_size": 18, "label": "fishery"}, "fishing species distribution status": {"concepts": "fishing species distribution status", "concept_list": ["fishing species distribution status"], "type": "cluster", "node_size": 18, "label": "fishing species distribution status"}, "fishing species abundance status": {"concepts": "fishing species abundance status", "concept_list": ["fishing species abundance status"], "type": "cluster", "node_size": 18, "label": "fishing species abundance status"}, "gravel movement": {"concepts": "gravel movement", "concept_list": ["gravel movement"], "type": "cluster", "node_size": 18, "label": "gravel movement"}, "fishing species legal status": {"concepts": "fishing species legal status", "concept_list": ["fishing species legal status"], "type": "cluster", "node_size": 18, "label": "fishing species legal status"}, "annual catch limits": {"concepts": "annual catch limits", "concept_list": ["annual catch limits"], "type": "cluster", "node_size": 18, "label": "annual catch limits"}, "hurricane alley": {"concepts": "hurricane alley", "concept_list": ["hurricane alley"], "type": "cluster", "node_size": 18, "label": "hurricane alley"}, "fishing species distribution": {"concepts": "fishing species distribution", "concept_list": ["fishing species distribution"], "type": "cluster", "node_size": 18, "label": "fishing species distribution"}, "fishery projects": {"concepts": "fishery projects", "concept_list": ["fishery projects"], "type": "cluster", "node_size": 18, "label": "fishery projects"}, "fishing species parasites status": {"concepts": "fishing species parasites status", "concept_list": ["fishing species parasites status"], "type": "cluster", "node_size": 18, "label": "fishing species parasites status"}, "data collection": {"concepts": "data collection", "concept_list": ["data collection"], "type": "cluster", "node_size": 18, "label": "data collection"}, "inshore reefs": {"concepts": "inshore reefs", "concept_list": ["inshore reefs"], "type": "cluster", "node_size": 18, "label": "inshore reefs"}, "fishing ecosystem health": {"concepts": "fishing ecosystem health", "concept_list": ["fishing ecosystem health"], "type": "cluster", "node_size": 18, "label": "fishing ecosystem health"}, "fisheries challenges": {"concepts": "fisheries challenges", "concept_list": ["fisheries challenges"], "type": "cluster", "node_size": 18, "label": "fisheries challenges"}, "mesh size": {"concepts": "mesh size", "concept_list": ["mesh size"], "type": "cluster", "node_size": 18, "label": "mesh size"}, "fishery communication": {"concepts": "fishery communication", "concept_list": ["fishery communication"], "type": "cluster", "node_size": 18, "label": "fishery communication"}, "u.s. virgin island fisheries": {"concepts": "u.s. virgin island fisheries", "concept_list": ["u.s. virgin island fisheries"], "type": "cluster", "node_size": 18, "label": "u.s. virgin island fisheries"}, "fishing challenges": {"concepts": "fishing challenges", "concept_list": ["fishing challenges"], "type": "cluster", "node_size": 18, "label": "fishing challenges"}, "coral reef": {"concepts": "coral reef", "concept_list": ["coral reef"], "type": "cluster", "node_size": 18, "label": "coral reef"}, "ocean particles": {"concepts": "ocean particles", "concept_list": ["ocean particles"], "type": "cluster", "node_size": 18, "label": "ocean particles"}, "coastal runoff": {"concepts": "coastal runoff", "concept_list": ["coastal runoff"], "type": "cluster", "node_size": 18, "label": "coastal runoff"}, "fishing community": {"concepts": "fishing community", "concept_list": ["fishing community"], "type": "cluster", "node_size": 18, "label": "fishing community"}, "economic impact": {"concepts": "economic impact", "concept_list": ["economic impact"], "type": "cluster", "node_size": 18, "label": "economic impact"}, "resource depletion": {"concepts": "resource depletion", "concept_list": ["resource depletion"], "type": "cluster", "node_size": 18, "label": "resource depletion"}, "fishery policies": {"concepts": "fishery policies", "concept_list": ["fishery policies"], "type": "cluster", "node_size": 18, "label": "fishery policies"}, "fishing yield": {"concepts": "fishing yield", "concept_list": ["fishing yield"], "type": "cluster", "node_size": 18, "label": "fishing yield"}, "national park": {"concepts": "national park", "concept_list": ["national park"], "type": "cluster", "node_size": 18, "label": "national park"}, "environment": {"concepts": "environment", "concept_list": ["environment"], "type": "cluster", "node_size": 18, "label": "environment"}, "fishing pressure": {"concepts": "fishing pressure", "concept_list": ["fishing pressure"], "type": "cluster", "node_size": 18, "label": "fishing pressure"}, "community resilience": {"concepts": "community resilience", "concept_list": ["community resilience"], "type": "cluster", "node_size": 18, "label": "community resilience"}, "muddy traps": {"concepts": "muddy traps", "concept_list": ["muddy traps"], "type": "cluster", "node_size": 18, "label": "muddy traps"}, "fisheries protection": {"concepts": "fisheries protection", "concept_list": ["fisheries protection"], "type": "cluster", "node_size": 18, "label": "fisheries protection"}, "tidal currents": {"concepts": "tidal currents", "concept_list": ["tidal currents"], "type": "cluster", "node_size": 18, "label": "tidal currents"}, "seabed": {"concepts": "seabed", "concept_list": ["seabed"], "type": "cluster", "node_size": 18, "label": "seabed"}, "fish population": {"concepts": "fish population", "concept_list": ["fish population"], "type": "cluster", "node_size": 18, "label": "fish population"}, "fishing species reproduction status": {"concepts": "fishing species reproduction status", "concept_list": ["fishing species reproduction status"], "type": "cluster", "node_size": 18, "label": "fishing species reproduction status"}, "catch reports": {"concepts": "catch reports", "concept_list": ["catch reports"], "type": "cluster", "node_size": 18, "label": "catch reports"}, "ocean floor": {"concepts": "ocean floor", "concept_list": ["ocean floor"], "type": "cluster", "node_size": 18, "label": "ocean floor"}, "fishing species monitoring": {"concepts": "fishing species monitoring", "concept_list": ["fishing species monitoring"], "type": "cluster", "node_size": 18, "label": "fishing species monitoring"}, "fisheries dependence": {"concepts": "fisheries dependence", "concept_list": ["fisheries dependence"], "type": "cluster", "node_size": 18, "label": "fisheries dependence"}, "fishing hostility": {"concepts": "fishing hostility", "concept_list": ["fishing hostility"], "type": "cluster", "node_size": 18, "label": "fishing hostility"}, "juvenile habitats": {"concepts": "juvenile habitats", "concept_list": ["juvenile habitats"], "type": "cluster", "node_size": 18, "label": "juvenile habitats"}, "coral bleaching": {"concepts": "coral bleaching", "concept_list": ["coral bleaching"], "type": "cluster", "node_size": 18, "label": "coral bleaching"}, "fishing productivity": {"concepts": "fishing productivity", "concept_list": ["fishing productivity"], "type": "cluster", "node_size": 18, "label": "fishing productivity"}, "hurricane frequency": {"concepts": "hurricane frequency", "concept_list": ["hurricane frequency"], "type": "cluster", "node_size": 18, "label": "hurricane frequency"}, "fishing species resilience status": {"concepts": "fishing species resilience status", "concept_list": ["fishing species resilience status"], "type": "cluster", "node_size": 18, "label": "fishing species resilience status"}, "fishery disputes": {"concepts": "fishery disputes", "concept_list": ["fishery disputes"], "type": "cluster", "node_size": 18, "label": "fishery disputes"}, "fisher group": {"concepts": "fisher group", "concept_list": ["fisher group"], "type": "cluster", "node_size": 18, "label": "fisher group"}, "us virgin islands": {"concepts": "us virgin islands", "concept_list": ["us virgin islands"], "type": "cluster", "node_size": 18, "label": "us virgin islands"}, "hurricane recovery": {"concepts": "hurricane recovery", "concept_list": ["hurricane recovery"], "type": "cluster", "node_size": 18, "label": "hurricane recovery"}, "sewage impact": {"concepts": "sewage impact", "concept_list": ["sewage impact"], "type": "cluster", "node_size": 18, "label": "sewage impact"}, "fishing marine biology": {"concepts": "fishing marine biology", "concept_list": ["fishing marine biology"], "type": "cluster", "node_size": 18, "label": "fishing marine biology"}, "storm impact": {"concepts": "storm impact", "concept_list": ["storm impact"], "type": "cluster", "node_size": 18, "label": "storm impact"}, "dap": {"concepts": "dap", "concept_list": ["dap"], "type": "cluster", "node_size": 18, "label": "dap"}, "ocean temperature": {"concepts": "ocean temperature", "concept_list": ["ocean temperature"], "type": "cluster", "node_size": 18, "label": "ocean temperature"}, "fishing species monitoring status": {"concepts": "fishing species monitoring status", "concept_list": ["fishing species monitoring status"], "type": "cluster", "node_size": 18, "label": "fishing species monitoring status"}, "fishing species management": {"concepts": "fishing species management", "concept_list": ["fishing species management"], "type": "cluster", "node_size": 18, "label": "fishing species management"}, "big fish": {"concepts": "big fish", "concept_list": ["big fish"], "type": "cluster", "node_size": 18, "label": "big fish"}, "dock prices": {"concepts": "dock prices", "concept_list": ["dock prices"], "type": "cluster", "node_size": 18, "label": "dock prices"}, "fairness": {"concepts": "fairness", "concept_list": ["fairness"], "type": "cluster", "node_size": 18, "label": "fairness"}, "fishing resilience": {"concepts": "fishing resilience", "concept_list": ["fishing resilience"], "type": "cluster", "node_size": 18, "label": "fishing resilience"}, "fishing gear replacement": {"concepts": "fishing gear replacement", "concept_list": ["fishing gear replacement"], "type": "cluster", "node_size": 18, "label": "fishing gear replacement"}, "st. thomas": {"concepts": "st. thomas", "concept_list": ["st. thomas"], "type": "cluster", "node_size": 18, "label": "st. thomas"}, "resource management": {"concepts": "resource management", "concept_list": ["resource management"], "type": "cluster", "node_size": 18, "label": "resource management"}, "lobster decrease": {"concepts": "lobster decrease", "concept_list": ["lobster decrease"], "type": "cluster", "node_size": 18, "label": "lobster decrease"}, "fishery regulations": {"concepts": "fishery regulations", "concept_list": ["fishery regulations"], "type": "cluster", "node_size": 18, "label": "fishery regulations"}, "fishing resources": {"concepts": "fishing resources", "concept_list": ["fishing resources"], "type": "cluster", "node_size": 18, "label": "fishing resources"}, "government support": {"concepts": "government support", "concept_list": ["government support"], "type": "cluster", "node_size": 18, "label": "government support"}, "coral reefs": {"concepts": "coral reefs", "concept_list": ["coral reefs"], "type": "cluster", "node_size": 18, "label": "coral reefs"}, "fishery information dissemination": {"concepts": "fishery information dissemination", "concept_list": ["fishery information dissemination"], "type": "cluster", "node_size": 18, "label": "fishery information dissemination"}, "fishery fairness": {"concepts": "fishery fairness", "concept_list": ["fishery fairness"], "type": "cluster", "node_size": 18, "label": "fishery fairness"}, "mechanic shops": {"concepts": "mechanic shops", "concept_list": ["mechanic shops"], "type": "cluster", "node_size": 18, "label": "mechanic shops"}, "fishery compliance": {"concepts": "fishery compliance", "concept_list": ["fishery compliance"], "type": "cluster", "node_size": 18, "label": "fishery compliance"}, "government funding": {"concepts": "government funding", "concept_list": ["government funding"], "type": "cluster", "node_size": 18, "label": "government funding"}, "local government involvement": {"concepts": "local government involvement", "concept_list": ["local government involvement"], "type": "cluster", "node_size": 18, "label": "local government involvement"}, "fishing species classification": {"concepts": "fishing species classification", "concept_list": ["fishing species classification"], "type": "cluster", "node_size": 18, "label": "fishing species classification"}, "coral reef health": {"concepts": "coral reef health", "concept_list": ["coral reef health"], "type": "cluster", "node_size": 18, "label": "coral reef health"}, "fishing species research status": {"concepts": "fishing species research status", "concept_list": ["fishing species research status"], "type": "cluster", "node_size": 18, "label": "fishing species research status"}, "climate change": {"concepts": "climate change", "concept_list": ["climate change"], "type": "cluster", "node_size": 18, "label": "climate change"}, "fishing species interactions": {"concepts": "fishing species interactions", "concept_list": ["fishing species interactions"], "type": "cluster", "node_size": 18, "label": "fishing species interactions"}, "fishing vessels": {"concepts": "fishing vessels", "concept_list": ["fishing vessels"], "type": "cluster", "node_size": 18, "label": "fishing vessels"}, "fishing species commercial status": {"concepts": "fishing species commercial status", "concept_list": ["fishing species commercial status"], "type": "cluster", "node_size": 18, "label": "fishing species commercial status"}, "fishing administration": {"concepts": "fishing administration", "concept_list": ["fishing administration"], "type": "cluster", "node_size": 18, "label": "fishing administration"}, "fishing traps": {"concepts": "fishing traps", "concept_list": ["fishing traps"], "type": "cluster", "node_size": 18, "label": "fishing traps"}, "fishery plan": {"concepts": "fishery plan", "concept_list": ["fishery plan"], "type": "cluster", "node_size": 18, "label": "fishery plan"}, "fisheries management": {"concepts": "fisheries management", "concept_list": ["fisheries management"], "type": "cluster", "node_size": 18, "label": "fisheries management"}, "fishing conservation": {"concepts": "fishing conservation", "concept_list": ["fishing conservation"], "type": "cluster", "node_size": 18, "label": "fishing conservation"}, "youth engagement": {"concepts": "youth engagement", "concept_list": ["youth engagement"], "type": "cluster", "node_size": 18, "label": "youth engagement"}, "fishing technology": {"concepts": "fishing technology", "concept_list": ["fishing technology"], "type": "cluster", "node_size": 18, "label": "fishing technology"}, "fishing species storm status": {"concepts": "fishing species storm status", "concept_list": ["fishing species storm status"], "type": "cluster", "node_size": 18, "label": "fishing species storm status"}, "fishing sustainability": {"concepts": "fishing sustainability", "concept_list": ["fishing sustainability"], "type": "cluster", "node_size": 18, "label": "fishing sustainability"}, "lobster population": {"concepts": "lobster population", "concept_list": ["lobster population"], "type": "cluster", "node_size": 18, "label": "lobster population"}, "fishery advisory role": {"concepts": "fishery advisory role", "concept_list": ["fishery advisory role"], "type": "cluster", "node_size": 18, "label": "fishery advisory role"}, "fishery support": {"concepts": "fishery support", "concept_list": ["fishery support"], "type": "cluster", "node_size": 18, "label": "fishery support"}, "fishing knowledge": {"concepts": "fishing knowledge", "concept_list": ["fishing knowledge"], "type": "cluster", "node_size": 18, "label": "fishing knowledge"}, "local diet": {"concepts": "local diet", "concept_list": ["local diet"], "type": "cluster", "node_size": 18, "label": "local diet"}, "local government": {"concepts": "local government", "concept_list": ["local government"], "type": "cluster", "node_size": 18, "label": "local government"}, "federal waters": {"concepts": "federal waters", "concept_list": ["federal waters"], "type": "cluster", "node_size": 18, "label": "federal waters"}, "lobster fishing": {"concepts": "lobster fishing", "concept_list": ["lobster fishing"], "type": "cluster", "node_size": 18, "label": "lobster fishing"}, "fishing economy": {"concepts": "fishing economy", "concept_list": ["fishing economy"], "type": "cluster", "node_size": 18, "label": "fishing economy"}, "fishing effort": {"concepts": "fishing effort", "concept_list": ["fishing effort"], "type": "cluster", "node_size": 18, "label": "fishing effort"}, "fishing species adaptation status": {"concepts": "fishing species adaptation status", "concept_list": ["fishing species adaptation status"], "type": "cluster", "node_size": 18, "label": "fishing species adaptation status"}, "water warming": {"concepts": "water warming", "concept_list": ["water warming"], "type": "cluster", "node_size": 18, "label": "water warming"}, "hurricane hugo": {"concepts": "hurricane hugo", "concept_list": ["hurricane hugo"], "type": "cluster", "node_size": 18, "label": "hurricane hugo"}, "fishing limits": {"concepts": "fishing limits", "concept_list": ["fishing limits"], "type": "cluster", "node_size": 18, "label": "fishing limits"}, "fishery challenges": {"concepts": "fishery challenges", "concept_list": ["fishery challenges"], "type": "cluster", "node_size": 18, "label": "fishery challenges"}, "enforcement": {"concepts": "enforcement", "concept_list": ["enforcement"], "type": "cluster", "node_size": 18, "label": "enforcement"}, "nutrient flow": {"concepts": "nutrient flow", "concept_list": ["nutrient flow"], "type": "cluster", "node_size": 18, "label": "nutrient flow"}, "fish licenses": {"concepts": "fish licenses", "concept_list": ["fish licenses"], "type": "cluster", "node_size": 18, "label": "fish licenses"}, "fishery governance": {"concepts": "fishery governance", "concept_list": ["fishery governance"], "type": "cluster", "node_size": 18, "label": "fishery governance"}, "disaster money": {"concepts": "disaster money", "concept_list": ["disaster money"], "type": "cluster", "node_size": 18, "label": "disaster money"}, "permit delays": {"concepts": "permit delays", "concept_list": ["permit delays"], "type": "cluster", "node_size": 18, "label": "permit delays"}, "department of planning and resources": {"concepts": "department of planning and resources", "concept_list": ["department of planning and resources"], "type": "cluster", "node_size": 18, "label": "department of planning and resources"}, "fishing species recruitment": {"concepts": "fishing species recruitment", "concept_list": ["fishing species recruitment"], "type": "cluster", "node_size": 18, "label": "fishing species recruitment"}, "fishing collaboration": {"concepts": "fishing collaboration", "concept_list": ["fishing collaboration"], "type": "cluster", "node_size": 18, "label": "fishing collaboration"}, "fishing depth": {"concepts": "fishing depth", "concept_list": ["fishing depth"], "type": "cluster", "node_size": 18, "label": "fishing depth"}, "fac dysfunction": {"concepts": "fac dysfunction", "concept_list": ["fac dysfunction"], "type": "cluster", "node_size": 18, "label": "fac dysfunction"}, "fisher cooperation": {"concepts": "fisher cooperation", "concept_list": ["fisher cooperation"], "type": "cluster", "node_size": 18, "label": "fisher cooperation"}, "fishing safety": {"concepts": "fishing safety", "concept_list": ["fishing safety"], "type": "cluster", "node_size": 18, "label": "fishing safety"}, "fisher community": {"concepts": "fisher community", "concept_list": ["fisher community"], "type": "cluster", "node_size": 18, "label": "fisher community"}, "fishery decision-making": {"concepts": "fishery decision-making", "concept_list": ["fishery decision-making"], "type": "cluster", "node_size": 18, "label": "fishery decision-making"}, "fishing species ecology status": {"concepts": "fishing species ecology status", "concept_list": ["fishing species ecology status"], "type": "cluster", "node_size": 18, "label": "fishing species ecology status"}, "fisher representation": {"concepts": "fisher representation", "concept_list": ["fisher representation"], "type": "cluster", "node_size": 18, "label": "fisher representation"}, "social trust": {"concepts": "social trust", "concept_list": ["social trust"], "type": "cluster", "node_size": 18, "label": "social trust"}, "fishery stakeholders": {"concepts": "fishery stakeholders", "concept_list": ["fishery stakeholders"], "type": "cluster", "node_size": 18, "label": "fishery stakeholders"}, "commercial fishing group": {"concepts": "commercial fishing group", "concept_list": ["commercial fishing group"], "type": "cluster", "node_size": 18, "label": "commercial fishing group"}, "natural habitat": {"concepts": "natural habitat", "concept_list": ["natural habitat"], "type": "cluster", "node_size": 18, "label": "natural habitat"}, "committee": {"concepts": "committee", "concept_list": ["committee"], "type": "cluster", "node_size": 18, "label": "committee"}, "fishery management": {"concepts": "fishery management", "concept_list": ["fishery management"], "type": "cluster", "node_size": 18, "label": "fishery management"}, "st. johns": {"concepts": "st. johns", "concept_list": ["st. johns"], "type": "cluster", "node_size": 18, "label": "st. johns"}, "mahogany run": {"concepts": "mahogany run", "concept_list": ["mahogany run"], "type": "cluster", "node_size": 18, "label": "mahogany run"}, "fishery tensions": {"concepts": "fishery tensions", "concept_list": ["fishery tensions"], "type": "cluster", "node_size": 18, "label": "fishery tensions"}, "fishery participation": {"concepts": "fishery participation", "concept_list": ["fishery participation"], "type": "cluster", "node_size": 18, "label": "fishery participation"}, "fish and wildlife": {"concepts": "fish and wildlife", "concept_list": ["fish and wildlife"], "type": "cluster", "node_size": 18, "label": "fish and wildlife"}, "fishing marinas": {"concepts": "fishing marinas", "concept_list": ["fishing marinas"], "type": "cluster", "node_size": 18, "label": "fishing marinas"}, "fishery licensing": {"concepts": "fishery licensing", "concept_list": ["fishery licensing"], "type": "cluster", "node_size": 18, "label": "fishery licensing"}, "el nino": {"concepts": "el nino", "concept_list": ["el nino"], "type": "cluster", "node_size": 18, "label": "el nino"}, "fishing management": {"concepts": "fishing management", "concept_list": ["fishing management"], "type": "cluster", "node_size": 18, "label": "fishing management"}, "fishing species oceanographic status": {"concepts": "fishing species oceanographic status", "concept_list": ["fishing species oceanographic status"], "type": "cluster", "node_size": 18, "label": "fishing species oceanographic status"}, "fisher outreach": {"concepts": "fisher outreach", "concept_list": ["fisher outreach"], "type": "cluster", "node_size": 18, "label": "fisher outreach"}, "fishing species conservation": {"concepts": "fishing species conservation", "concept_list": ["fishing species conservation"], "type": "cluster", "node_size": 18, "label": "fishing species conservation"}, "fishing species habitat use status": {"concepts": "fishing species habitat use status", "concept_list": ["fishing species habitat use status"], "type": "cluster", "node_size": 18, "label": "fishing species habitat use status"}, "fishing restoration": {"concepts": "fishing restoration", "concept_list": ["fishing restoration"], "type": "cluster", "node_size": 18, "label": "fishing restoration"}, "fads": {"concepts": "fads", "concept_list": ["fads"], "type": "cluster", "node_size": 18, "label": "fads"}, "fishery policy": {"concepts": "fishery policy", "concept_list": ["fishery policy"], "type": "cluster", "node_size": 18, "label": "fishery policy"}, "resource allocation": {"concepts": "resource allocation", "concept_list": ["resource allocation"], "type": "cluster", "node_size": 18, "label": "resource allocation"}, "reef health": {"concepts": "reef health", "concept_list": ["reef health"], "type": "cluster", "node_size": 18, "label": "reef health"}, "fishery monitoring": {"concepts": "fishery monitoring", "concept_list": ["fishery monitoring"], "type": "cluster", "node_size": 18, "label": "fishery monitoring"}, "fishery education": {"concepts": "fishery education", "concept_list": ["fishery education"], "type": "cluster", "node_size": 18, "label": "fishery education"}, "fishing species spawning": {"concepts": "fishing species spawning", "concept_list": ["fishing species spawning"], "type": "cluster", "node_size": 18, "label": "fishing species spawning"}, "fishing species behavior": {"concepts": "fishing species behavior", "concept_list": ["fishing species behavior"], "type": "cluster", "node_size": 18, "label": "fishing species behavior"}, "dock acquisition": {"concepts": "dock acquisition", "concept_list": ["dock acquisition"], "type": "cluster", "node_size": 18, "label": "dock acquisition"}, "fishing industry": {"concepts": "fishing industry", "concept_list": ["fishing industry"], "type": "cluster", "node_size": 18, "label": "fishing industry"}, "stakeholder engagement": {"concepts": "stakeholder engagement", "concept_list": ["stakeholder engagement"], "type": "cluster", "node_size": 18, "label": "stakeholder engagement"}, "council member": {"concepts": "council member", "concept_list": ["council member"], "type": "cluster", "node_size": 18, "label": "council member"}, "fish species": {"concepts": "fish species", "concept_list": ["fish species"], "type": "cluster", "node_size": 18, "label": "fish species"}, "fishery health": {"concepts": "fishery health", "concept_list": ["fishery health"], "type": "cluster", "node_size": 18, "label": "fishery health"}, "fishing enforcement": {"concepts": "fishing enforcement", "concept_list": ["fishing enforcement"], "type": "cluster", "node_size": 18, "label": "fishing enforcement"}, "fishers": {"concepts": "fishers", "concept_list": ["fishers"], "type": "cluster", "node_size": 18, "label": "fishers"}, "rapid catch": {"concepts": "rapid catch", "concept_list": ["rapid catch"], "type": "cluster", "node_size": 18, "label": "rapid catch"}, "inshore marine reserve": {"concepts": "inshore marine reserve", "concept_list": ["inshore marine reserve"], "type": "cluster", "node_size": 18, "label": "inshore marine reserve"}, "fishery managers": {"concepts": "fishery managers", "concept_list": ["fishery managers"], "type": "cluster", "node_size": 18, "label": "fishery managers"}, "sewage": {"concepts": "sewage", "concept_list": ["sewage"], "type": "cluster", "node_size": 18, "label": "sewage"}, "invasive weed": {"concepts": "invasive weed", "concept_list": ["invasive weed"], "type": "cluster", "node_size": 18, "label": "invasive weed"}, "limited entry": {"concepts": "limited entry", "concept_list": ["limited entry"], "type": "cluster", "node_size": 18, "label": "limited entry"}, "puerto rico": {"concepts": "puerto rico", "concept_list": ["puerto rico"], "type": "cluster", "node_size": 18, "label": "puerto rico"}, "fishery disputes resolution": {"concepts": "fishery disputes resolution", "concept_list": ["fishery disputes resolution"], "type": "cluster", "node_size": 18, "label": "fishery disputes resolution"}, "quotas": {"concepts": "quotas", "concept_list": ["quotas"], "type": "cluster", "node_size": 18, "label": "quotas"}, "sargassum influx": {"concepts": "sargassum influx", "concept_list": ["sargassum influx"], "type": "cluster", "node_size": 18, "label": "sargassum influx"}, "fishing seasons": {"concepts": "fishing seasons", "concept_list": ["fishing seasons"], "type": "cluster", "node_size": 18, "label": "fishing seasons"}, "fishery planning": {"concepts": "fishery planning", "concept_list": ["fishery planning"], "type": "cluster", "node_size": 18, "label": "fishery planning"}, "dpnr scientists": {"concepts": "dpnr scientists", "concept_list": ["dpnr scientists"], "type": "cluster", "node_size": 18, "label": "dpnr scientists"}, "island management plan": {"concepts": "island management plan", "concept_list": ["island management plan"], "type": "cluster", "node_size": 18, "label": "island management plan"}, "fishing species population dynamics status": {"concepts": "fishing species population dynamics status", "concept_list": ["fishing species population dynamics status"], "type": "cluster", "node_size": 18, "label": "fishing species population dynamics status"}, "governor engagement": {"concepts": "governor engagement", "concept_list": ["governor engagement"], "type": "cluster", "node_size": 18, "label": "governor engagement"}, "social gatherings": {"concepts": "social gatherings", "concept_list": ["social gatherings"], "type": "cluster", "node_size": 18, "label": "social gatherings"}};
        const conceptData = {};
        const interClusterEdges = [["fad program", "fishing sustainability", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["fad program", "fish licenses", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["coastal communities", "hurricane recovery", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["fishery collapse", "fishing species recruitment status", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["cold water", "fishing species vulnerability status", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["yellowtail", "natural habitat", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["marine ecosystem", "coral bleaching", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["marine ecosystem", "fishing species recruitment", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["coral organisms", "fishing species spawning", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["east end marine park", "fisheries challenges", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["fundraisers", "dpnr fish and wildlife", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["fishery outreach", "mud sedimentation", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["fishery outreach", "island management plan", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["tourism", "fishing species resilience status", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["bars", "social trust", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["fisher concerns", "fishing species monitoring status", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["inshore fish", "committee", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["coral damage", "fishing ecosystem health", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["gill nets", "lobster decrease", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["gill nets", "local diet", {"weight": -1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["juvenile fish", "fishing species abundance status", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["fishing communities", "usvi", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["fishery feedback", "fishery information dissemination", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["fishery feedback", "fishing species oceanographic status", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["fishing conditions", "annual catch limits", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["fishing species ecology", "fishing conservation", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["offshore fishing", "dap", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["farming challenges", "economic situation", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["outreach and education", "fishery licensing", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["fishing weather", "fishing safety", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["fishing weather", "environmental changes", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["toxins", "community resilience", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["fisher involvement", "fishing marinas", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["fishing species distribution status", "nutrient flow", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["gravel movement", "fishing adaptation", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["gravel movement", "fishing seasons", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["fishing species legal status", "caves", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["hurricane alley", "el nino", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["fishing species distribution", "government employment", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["fishing species parasites status", "fishery monitoring", {"weight": 1.0, "confidence": 0.625, "type": "inter_cluster", "style": "solid"}], ["inshore reefs", "fishing technology", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["mesh size", "fishery advisory role", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["fishery communication", "st. johns", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["fishery communication", "fishing gear replacement", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["fishery communication", "fishery issues", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["u.s. virgin island fisheries", "fishing species storm status", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["fishing challenges", "fishing vessels", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["coral reef", "national park", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["economic impact", "lobster decrease", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["resource depletion", "fisheries management", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["fishery policies", "coastal runoff", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["fishing pressure", "fishing species management", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["community resilience", "local government involvement", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["muddy traps", "fishery outreach", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["fisheries protection", "fairness", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["tidal currents", "fish species", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["seabed", "fishery health", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["fish population", "fishery advisory role", {"weight": 1.0, "confidence": 0.625, "type": "inter_cluster", "style": "solid"}], ["fishing species reproduction status", "fishery compliance", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["catch reports", "fishing species oceanographic status", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["ocean floor", "muddy bottoms", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["fishing species monitoring", "fishing species natural disaster status", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["fishing hostility", "fishing species diversity", {"weight": -1.0, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["hurricane frequency", "biggest swell", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["hurricane frequency", "fishing species abundance", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["fisher group", "fishery", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["us virgin islands", "fishing resources", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["us virgin islands", "fads", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["sewage impact", "fishing management", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["fishing marine biology", "fishing species behavior", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["fishing marine biology", "fishery managers", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["storm impact", "reef health", {"weight": -1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["ocean temperature", "lobster fishing", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["fishing species monitoring status", "fishery governance", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["big fish", "ocean particles", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["dock prices", "fishery disputes", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["resource management", "data collection", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["resource management", "fishing species management", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["fishery regulations", "fishing species endemic status", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["government support", "limited entry", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["coral reefs", "reef health", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["fishery fairness", "fishing species research status", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["mechanic shops", "fishing species reproduction status", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["government funding", "water warming", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["coral reef health", "fishing species diversity", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["fishing species interactions", "inshore marine reserve", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["fishing administration", "fishing effort", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["fishing traps", "committee", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["fishery plan", "dock acquisition", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["fisheries management", "environment", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["youth engagement", "st. thomas", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["fishing sustainability", "fishing species classification", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["lobster population", "fishing productivity", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["fishery advisory role", "fishing restoration", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["fishery support", "disaster relief funds", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["fishing knowledge", "hurricane hugo", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["local diet", "fishery support", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["lobster fishing", "fishery information dissemination", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["fishing species adaptation status", "dpnr scientists", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["water warming", "climate change", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["water warming", "fishing productivity", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["fishing limits", "rapid catch", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["fishery challenges", "fishery social networks", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["disaster money", "fishing species commercial status", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["permit delays", "fishing collaboration", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["department of planning and resources", "fac board", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["department of planning and resources", "enforcement", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["fishing depth", "dock maintenance", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["fac dysfunction", "fishing ecosystem health", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["fisher cooperation", "fad program", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["fishing safety", "fishing observations", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["fisher community", "fisher concerns", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["fishery decision-making", "fishing economy", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["fishing species ecology status", "cold water", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["fisher representation", "fishing resilience", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["fishery stakeholders", "cargo ships", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["commercial fishing group", "fish and wildlife", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["fishery management", "island-specific management", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["mahogany run", "fishing conditions", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["fishery tensions", "limited entry", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["fishery participation", "data collection", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["fishery licensing", "fisheries dependence", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["el nino", "fishery policy", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["fishing species oceanographic status", "fads", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["fisher outreach", "fishing community", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["fishing species habitat use status", "dpnr", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["fishing restoration", "fishing species management", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["resource allocation", "juvenile fish", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["fishery monitoring", "sargassum influx", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["fishery monitoring", "quotas", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["fishery education", "fishing yield", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["fishing industry", "fishing enforcement", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["stakeholder engagement", "social gatherings", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["council member", "fishing climate change", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["fishers", "fishery projects", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["rapid catch", "dpnr fish and wildlife", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["sewage", "fishing species population dynamics status", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["invasive weed", "fishing species abundance status", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["puerto rico", "local government", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["fishery disputes resolution", "fishing species conservation", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["fishery planning", "juvenile habitats", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["governor engagement", "federal waters", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {};
        const clusterEdges = {};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
