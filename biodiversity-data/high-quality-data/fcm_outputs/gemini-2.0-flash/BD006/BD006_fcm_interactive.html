
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"shipping industry": {"concepts": "shipping industry", "concept_list": ["shipping industry"], "type": "cluster", "node_size": 18, "label": "shipping industry"}, "Impacts & Stakeholders": {"concepts": "regulating services, regulating, ebm, performance measures, management action, management system, time management, management tools, error correction, general framework, specific objectives (org), prioritization", "concept_list": ["regulating services", "regulating", "ebm", "performance measures", "management action", "management system", "time management", "management tools", "error correction", "general framework", "specific objectives (org)", "prioritization"], "type": "cluster", "node_size": 51, "label": "Impacts & Stakeholders"}, "Environmental Policy": {"concepts": "threshold effect, soc), international level (org, objectives, complex issues, food web, impact level, localized perspective, negative relationships, oxygen impact, deoxygenation, impact assessment, positive relationship, system components, provisioning, information sharing, by catch, biological resources, supporting services, stakeholders, weight, kelp conservation, stressors, actors, biological process, biological processes, services, negative relationship, project, case studies, msa, positive relationships, biological hierarchy, life history, navigation industry, supporting, relationship weight, cultural services, cascade level diversity, provisioning services, academics, esa, commercial groups, industry reps, government, management actions (org), management, regulations, systematic approach (org), technical definitions (org), national level (org, organizational dynamics, decision-making, treaties, management approaches (org), sectoral management, national jurisdictions, management approaches, policy level, commercial viability (org), government bodies, collaboration, local decision making, legal definitions (org), policy choices (org, matrix, mental model, mental modeler, insights, relationships, systems perspective, cultural, team, visualization, connection, network model, psychological dynamics, social dynamics, genetics, connected networks, system perspective, communication", "concept_list": ["threshold effect", "soc)", "international level (org", "objectives", "complex issues", "food web", "impact level", "localized perspective", "negative relationships", "oxygen impact", "deoxygenation", "impact assessment", "positive relationship", "system components", "provisioning", "information sharing", "by catch", "biological resources", "supporting services", "stakeholders", "weight", "kelp conservation", "stressors", "actors", "biological process", "biological processes", "services", "negative relationship", "project", "case studies", "msa", "positive relationships", "biological hierarchy", "life history", "navigation industry", "supporting", "relationship weight", "cultural services", "cascade level diversity", "provisioning services", "academics", "esa", "commercial groups", "industry reps", "government", "management actions (org)", "management", "regulations", "systematic approach (org)", "technical definitions (org)", "national level (org", "organizational dynamics", "decision-making", "treaties", "management approaches (org)", "sectoral management", "national jurisdictions", "management approaches", "policy level", "commercial viability (org)", "government bodies", "collaboration", "local decision making", "legal definitions (org)", "policy choices (org", "matrix", "mental model", "mental modeler", "insights", "relationships", "systems perspective", "cultural", "team", "visualization", "connection", "network model", "psychological dynamics", "social dynamics", "genetics", "connected networks", "system perspective", "communication"], "type": "cluster", "node_size": 261, "label": "Environmental Policy"}, "Systems & Relationships": {"concepts": "environmental ngos, biodiversity policy (org), coastal communities, environmental policy, sustainable use (org), ecosystem-based management (org), national environmental policy, recreational users", "concept_list": ["environmental ngos", "biodiversity policy (org)", "coastal communities", "environmental policy", "sustainable use (org)", "ecosystem-based management (org)", "national environmental policy", "recreational users"], "type": "cluster", "node_size": 39, "label": "Systems & Relationships"}, "Marine Habitats": {"concepts": "landscape diversity, habitat forming species, coral reefs, habitat, habitat forming, living marine resources, marine ecosystems, deep sea, ecosystem services, coral reef, habitat protection, ecosystem, habitat diversity, high seas", "concept_list": ["landscape diversity", "habitat forming species", "coral reefs", "habitat", "habitat forming", "living marine resources", "marine ecosystems", "deep sea", "ecosystem services", "coral reef", "habitat protection", "ecosystem", "habitat diversity", "high seas"], "type": "cluster", "node_size": 57, "label": "Marine Habitats"}, "**Aquatic Ecosystem Health**": {"concepts": "fish community, harmful algae, harmful organisms, ecosystem processes, eutrophication, pollution influences, ecological indicators, ocean acidification, pollution, nutrient impact, climate change, algal blooms, harmful algal blooms", "concept_list": ["fish community", "harmful algae", "harmful organisms", "ecosystem processes", "eutrophication", "pollution influences", "ecological indicators", "ocean acidification", "pollution", "nutrient impact", "climate change", "algal blooms", "harmful algal blooms"], "type": "cluster", "node_size": 54, "label": "**Aquatic Ecosystem Health**"}, "Ocean Resilience & Use": {"concepts": "seasonal closure, ocean impacts, system resilience, ocean uses, ecosystem resilience, sea level rise, oyster bed act, marine mammal protection act, coastal development, marine mammal protection, ocean use, seasonal closures, trophic modeling, ecosystem diversity, ecosystem-based management, ocean sector, ecological resilience, marine laws, coral reef act", "concept_list": ["seasonal closure", "ocean impacts", "system resilience", "ocean uses", "ecosystem resilience", "sea level rise", "oyster bed act", "marine mammal protection act", "coastal development", "marine mammal protection", "ocean use", "seasonal closures", "trophic modeling", "ecosystem diversity", "ecosystem-based management", "ocean sector", "ecological resilience", "marine laws", "coral reef act"], "type": "cluster", "node_size": 72, "label": "Ocean Resilience & Use"}, "Species Conservation": {"concepts": "threatened species, species conservation, conservation concern, endangered species, species concern, protected species", "concept_list": ["threatened species", "species conservation", "conservation concern", "endangered species", "species concern", "protected species"], "type": "cluster", "node_size": 33, "label": "Species Conservation"}, "Habitat & Ecosystems": {"concepts": "species richness, species populations, targeted species", "concept_list": ["species richness", "species populations", "targeted species"], "type": "cluster", "node_size": 24, "label": "Habitat & Ecosystems"}, "Species & Biodiversity": {"concepts": "keystone species, biodiversity, biodiversity aspects, community biodiversity, endangered species act, species diversity", "concept_list": ["keystone species", "biodiversity", "biodiversity aspects", "community biodiversity", "endangered species act", "species diversity"], "type": "cluster", "node_size": 33, "label": "Species & Biodiversity"}, "Diversity & Area": {"concepts": "genetic diversity, functional diversity, area based tools, area-based measures, area based measures", "concept_list": ["genetic diversity", "functional diversity", "area based tools", "area-based measures", "area based measures"], "type": "cluster", "node_size": 30, "label": "Diversity & Area"}, "Wildlife Migration": {"concepts": "charismatic megafauna, migratory organisms", "concept_list": ["charismatic megafauna", "migratory organisms"], "type": "cluster", "node_size": 21, "label": "Wildlife Migration"}, "Indigenous Peoples": {"concepts": "indigenous tribes, indigenous groups", "concept_list": ["indigenous tribes", "indigenous groups"], "type": "cluster", "node_size": 21, "label": "Indigenous Peoples"}, "Community Diversity & Structure": {"concepts": "location diversity, sub population diversity, population units, community diversity, subpopulation diversity, community structure, community elements, recreational groups", "concept_list": ["location diversity", "sub population diversity", "population units", "community diversity", "subpopulation diversity", "community structure", "community elements", "recreational groups"], "type": "cluster", "node_size": 39, "label": "Community Diversity & Structure"}, "Fishing Quotas": {"concepts": "fishing effort, fishing quota, fishing quotas", "concept_list": ["fishing effort", "fishing quota", "fishing quotas"], "type": "cluster", "node_size": 24, "label": "Fishing Quotas"}, "Fisheries Sustainability": {"concepts": "sustainable fisheries, fisheries acts", "concept_list": ["sustainable fisheries", "fisheries acts"], "type": "cluster", "node_size": 21, "label": "Fisheries Sustainability"}, "Fishing Community": {"concepts": "fishers, fishermen, fishing community", "concept_list": ["fishers", "fishermen", "fishing community"], "type": "cluster", "node_size": 24, "label": "Fishing Community"}};
        const conceptData = {"regulating services": {"concepts": "regulating services", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "regulating services"}, "regulating": {"concepts": "regulating", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "regulating"}, "ebm": {"concepts": "ebm", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "ebm"}, "performance measures": {"concepts": "performance measures", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "performance measures"}, "management action": {"concepts": "management action", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "management action"}, "management system": {"concepts": "management system", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "management system"}, "time management": {"concepts": "time management", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "time management"}, "management tools": {"concepts": "management tools", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "management tools"}, "error correction": {"concepts": "error correction", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "error correction"}, "general framework": {"concepts": "general framework", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "general framework"}, "specific objectives (org)": {"concepts": "specific objectives (org)", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "specific objectives (org)"}, "prioritization": {"concepts": "prioritization", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "prioritization"}, "threshold effect": {"concepts": "threshold effect", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "threshold effect"}, "soc)": {"concepts": "soc)", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "soc)"}, "international level (org": {"concepts": "international level (org", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "international level (org"}, "objectives": {"concepts": "objectives", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "objectives"}, "complex issues": {"concepts": "complex issues", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "complex issues"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "food web"}, "impact level": {"concepts": "impact level", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "impact level"}, "localized perspective": {"concepts": "localized perspective", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "localized perspective"}, "negative relationships": {"concepts": "negative relationships", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "negative relationships"}, "oxygen impact": {"concepts": "oxygen impact", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "oxygen impact"}, "deoxygenation": {"concepts": "deoxygenation", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "deoxygenation"}, "impact assessment": {"concepts": "impact assessment", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "impact assessment"}, "positive relationship": {"concepts": "positive relationship", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "positive relationship"}, "system components": {"concepts": "system components", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "system components"}, "provisioning": {"concepts": "provisioning", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "provisioning"}, "information sharing": {"concepts": "information sharing", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "information sharing"}, "by catch": {"concepts": "by catch", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "by catch"}, "biological resources": {"concepts": "biological resources", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "biological resources"}, "supporting services": {"concepts": "supporting services", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "supporting services"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "stakeholders"}, "weight": {"concepts": "weight", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "weight"}, "kelp conservation": {"concepts": "kelp conservation", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "kelp conservation"}, "stressors": {"concepts": "stressors", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "stressors"}, "actors": {"concepts": "actors", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "actors"}, "biological process": {"concepts": "biological process", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "biological process"}, "biological processes": {"concepts": "biological processes", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "biological processes"}, "services": {"concepts": "services", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "services"}, "negative relationship": {"concepts": "negative relationship", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "negative relationship"}, "project": {"concepts": "project", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "project"}, "case studies": {"concepts": "case studies", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "case studies"}, "msa": {"concepts": "msa", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "msa"}, "positive relationships": {"concepts": "positive relationships", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "positive relationships"}, "biological hierarchy": {"concepts": "biological hierarchy", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "biological hierarchy"}, "life history": {"concepts": "life history", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "life history"}, "navigation industry": {"concepts": "navigation industry", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "navigation industry"}, "supporting": {"concepts": "supporting", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "supporting"}, "relationship weight": {"concepts": "relationship weight", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "relationship weight"}, "cultural services": {"concepts": "cultural services", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "cultural services"}, "cascade level diversity": {"concepts": "cascade level diversity", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "cascade level diversity"}, "provisioning services": {"concepts": "provisioning services", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "provisioning services"}, "academics": {"concepts": "academics", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "academics"}, "esa": {"concepts": "esa", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "esa"}, "commercial groups": {"concepts": "commercial groups", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "commercial groups"}, "industry reps": {"concepts": "industry reps", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "industry reps"}, "government": {"concepts": "government", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "government"}, "management actions (org)": {"concepts": "management actions (org)", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "management actions (org)"}, "management": {"concepts": "management", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "management"}, "regulations": {"concepts": "regulations", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "regulations"}, "systematic approach (org)": {"concepts": "systematic approach (org)", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "systematic approach (org)"}, "technical definitions (org)": {"concepts": "technical definitions (org)", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "technical definitions (org)"}, "national level (org": {"concepts": "national level (org", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "national level (org"}, "organizational dynamics": {"concepts": "organizational dynamics", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "organizational dynamics"}, "decision-making": {"concepts": "decision-making", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "decision-making"}, "treaties": {"concepts": "treaties", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "treaties"}, "management approaches (org)": {"concepts": "management approaches (org)", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "management approaches (org)"}, "sectoral management": {"concepts": "sectoral management", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "sectoral management"}, "national jurisdictions": {"concepts": "national jurisdictions", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "national jurisdictions"}, "management approaches": {"concepts": "management approaches", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "management approaches"}, "policy level": {"concepts": "policy level", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "policy level"}, "commercial viability (org)": {"concepts": "commercial viability (org)", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "commercial viability (org)"}, "government bodies": {"concepts": "government bodies", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "government bodies"}, "collaboration": {"concepts": "collaboration", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "collaboration"}, "local decision making": {"concepts": "local decision making", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "local decision making"}, "legal definitions (org)": {"concepts": "legal definitions (org)", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "legal definitions (org)"}, "policy choices (org": {"concepts": "policy choices (org", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "policy choices (org"}, "matrix": {"concepts": "matrix", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "matrix"}, "mental model": {"concepts": "mental model", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "mental model"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "mental modeler"}, "insights": {"concepts": "insights", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "insights"}, "relationships": {"concepts": "relationships", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "relationships"}, "systems perspective": {"concepts": "systems perspective", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "systems perspective"}, "cultural": {"concepts": "cultural", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "cultural"}, "team": {"concepts": "team", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "team"}, "visualization": {"concepts": "visualization", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "visualization"}, "connection": {"concepts": "connection", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "connection"}, "network model": {"concepts": "network model", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "network model"}, "psychological dynamics": {"concepts": "psychological dynamics", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "psychological dynamics"}, "social dynamics": {"concepts": "social dynamics", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "social dynamics"}, "genetics": {"concepts": "genetics", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "genetics"}, "connected networks": {"concepts": "connected networks", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "connected networks"}, "system perspective": {"concepts": "system perspective", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "system perspective"}, "communication": {"concepts": "communication", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "communication"}, "environmental ngos": {"concepts": "environmental ngos", "type": "concept", "cluster": "Systems & Relationships", "node_size": 10, "label": "environmental ngos"}, "biodiversity policy (org)": {"concepts": "biodiversity policy (org)", "type": "concept", "cluster": "Systems & Relationships", "node_size": 10, "label": "biodiversity policy (org)"}, "coastal communities": {"concepts": "coastal communities", "type": "concept", "cluster": "Systems & Relationships", "node_size": 10, "label": "coastal communities"}, "environmental policy": {"concepts": "environmental policy", "type": "concept", "cluster": "Systems & Relationships", "node_size": 10, "label": "environmental policy"}, "sustainable use (org)": {"concepts": "sustainable use (org)", "type": "concept", "cluster": "Systems & Relationships", "node_size": 10, "label": "sustainable use (org)"}, "ecosystem-based management (org)": {"concepts": "ecosystem-based management (org)", "type": "concept", "cluster": "Systems & Relationships", "node_size": 10, "label": "ecosystem-based management (org)"}, "national environmental policy": {"concepts": "national environmental policy", "type": "concept", "cluster": "Systems & Relationships", "node_size": 10, "label": "national environmental policy"}, "recreational users": {"concepts": "recreational users", "type": "concept", "cluster": "Systems & Relationships", "node_size": 10, "label": "recreational users"}, "landscape diversity": {"concepts": "landscape diversity", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "landscape diversity"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "habitat forming species"}, "coral reefs": {"concepts": "coral reefs", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "coral reefs"}, "habitat": {"concepts": "habitat", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "habitat"}, "habitat forming": {"concepts": "habitat forming", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "habitat forming"}, "living marine resources": {"concepts": "living marine resources", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "living marine resources"}, "marine ecosystems": {"concepts": "marine ecosystems", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "marine ecosystems"}, "deep sea": {"concepts": "deep sea", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "deep sea"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "ecosystem services"}, "coral reef": {"concepts": "coral reef", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "coral reef"}, "habitat protection": {"concepts": "habitat protection", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "habitat protection"}, "ecosystem": {"concepts": "ecosystem", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "ecosystem"}, "habitat diversity": {"concepts": "habitat diversity", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "habitat diversity"}, "high seas": {"concepts": "high seas", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "high seas"}, "fish community": {"concepts": "fish community", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "fish community"}, "harmful algae": {"concepts": "harmful algae", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "harmful algae"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "harmful organisms"}, "ecosystem processes": {"concepts": "ecosystem processes", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "ecosystem processes"}, "eutrophication": {"concepts": "eutrophication", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "eutrophication"}, "pollution influences": {"concepts": "pollution influences", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "pollution influences"}, "ecological indicators": {"concepts": "ecological indicators", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "ecological indicators"}, "ocean acidification": {"concepts": "ocean acidification", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "ocean acidification"}, "pollution": {"concepts": "pollution", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "pollution"}, "nutrient impact": {"concepts": "nutrient impact", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "nutrient impact"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "climate change"}, "algal blooms": {"concepts": "algal blooms", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "algal blooms"}, "harmful algal blooms": {"concepts": "harmful algal blooms", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "harmful algal blooms"}, "seasonal closure": {"concepts": "seasonal closure", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "seasonal closure"}, "ocean impacts": {"concepts": "ocean impacts", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "ocean impacts"}, "system resilience": {"concepts": "system resilience", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "system resilience"}, "ocean uses": {"concepts": "ocean uses", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "ocean uses"}, "ecosystem resilience": {"concepts": "ecosystem resilience", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "ecosystem resilience"}, "sea level rise": {"concepts": "sea level rise", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "sea level rise"}, "oyster bed act": {"concepts": "oyster bed act", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "oyster bed act"}, "marine mammal protection act": {"concepts": "marine mammal protection act", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "marine mammal protection act"}, "coastal development": {"concepts": "coastal development", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "coastal development"}, "marine mammal protection": {"concepts": "marine mammal protection", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "marine mammal protection"}, "ocean use": {"concepts": "ocean use", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "ocean use"}, "seasonal closures": {"concepts": "seasonal closures", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "seasonal closures"}, "trophic modeling": {"concepts": "trophic modeling", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "trophic modeling"}, "ecosystem diversity": {"concepts": "ecosystem diversity", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "ecosystem diversity"}, "ecosystem-based management": {"concepts": "ecosystem-based management", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "ecosystem-based management"}, "ocean sector": {"concepts": "ocean sector", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "ocean sector"}, "ecological resilience": {"concepts": "ecological resilience", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "ecological resilience"}, "marine laws": {"concepts": "marine laws", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "marine laws"}, "coral reef act": {"concepts": "coral reef act", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "coral reef act"}, "threatened species": {"concepts": "threatened species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "threatened species"}, "species conservation": {"concepts": "species conservation", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "species conservation"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "conservation concern"}, "endangered species": {"concepts": "endangered species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "endangered species"}, "species concern": {"concepts": "species concern", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "species concern"}, "protected species": {"concepts": "protected species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "protected species"}, "species richness": {"concepts": "species richness", "type": "concept", "cluster": "Habitat & Ecosystems", "node_size": 10, "label": "species richness"}, "species populations": {"concepts": "species populations", "type": "concept", "cluster": "Habitat & Ecosystems", "node_size": 10, "label": "species populations"}, "targeted species": {"concepts": "targeted species", "type": "concept", "cluster": "Habitat & Ecosystems", "node_size": 10, "label": "targeted species"}, "keystone species": {"concepts": "keystone species", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "keystone species"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "biodiversity"}, "biodiversity aspects": {"concepts": "biodiversity aspects", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "biodiversity aspects"}, "community biodiversity": {"concepts": "community biodiversity", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "community biodiversity"}, "endangered species act": {"concepts": "endangered species act", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "endangered species act"}, "species diversity": {"concepts": "species diversity", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "species diversity"}, "genetic diversity": {"concepts": "genetic diversity", "type": "concept", "cluster": "Diversity & Area", "node_size": 10, "label": "genetic diversity"}, "functional diversity": {"concepts": "functional diversity", "type": "concept", "cluster": "Diversity & Area", "node_size": 10, "label": "functional diversity"}, "area based tools": {"concepts": "area based tools", "type": "concept", "cluster": "Diversity & Area", "node_size": 10, "label": "area based tools"}, "area-based measures": {"concepts": "area-based measures", "type": "concept", "cluster": "Diversity & Area", "node_size": 10, "label": "area-based measures"}, "area based measures": {"concepts": "area based measures", "type": "concept", "cluster": "Diversity & Area", "node_size": 10, "label": "area based measures"}, "charismatic megafauna": {"concepts": "charismatic megafauna", "type": "concept", "cluster": "Wildlife Migration", "node_size": 10, "label": "charismatic megafauna"}, "migratory organisms": {"concepts": "migratory organisms", "type": "concept", "cluster": "Wildlife Migration", "node_size": 10, "label": "migratory organisms"}, "indigenous tribes": {"concepts": "indigenous tribes", "type": "concept", "cluster": "Indigenous Peoples", "node_size": 10, "label": "indigenous tribes"}, "indigenous groups": {"concepts": "indigenous groups", "type": "concept", "cluster": "Indigenous Peoples", "node_size": 10, "label": "indigenous groups"}, "location diversity": {"concepts": "location diversity", "type": "concept", "cluster": "Community Diversity & Structure", "node_size": 10, "label": "location diversity"}, "sub population diversity": {"concepts": "sub population diversity", "type": "concept", "cluster": "Community Diversity & Structure", "node_size": 10, "label": "sub population diversity"}, "population units": {"concepts": "population units", "type": "concept", "cluster": "Community Diversity & Structure", "node_size": 10, "label": "population units"}, "community diversity": {"concepts": "community diversity", "type": "concept", "cluster": "Community Diversity & Structure", "node_size": 10, "label": "community diversity"}, "subpopulation diversity": {"concepts": "subpopulation diversity", "type": "concept", "cluster": "Community Diversity & Structure", "node_size": 10, "label": "subpopulation diversity"}, "community structure": {"concepts": "community structure", "type": "concept", "cluster": "Community Diversity & Structure", "node_size": 10, "label": "community structure"}, "community elements": {"concepts": "community elements", "type": "concept", "cluster": "Community Diversity & Structure", "node_size": 10, "label": "community elements"}, "recreational groups": {"concepts": "recreational groups", "type": "concept", "cluster": "Community Diversity & Structure", "node_size": 10, "label": "recreational groups"}, "fishing effort": {"concepts": "fishing effort", "type": "concept", "cluster": "Fishing Quotas", "node_size": 10, "label": "fishing effort"}, "fishing quota": {"concepts": "fishing quota", "type": "concept", "cluster": "Fishing Quotas", "node_size": 10, "label": "fishing quota"}, "fishing quotas": {"concepts": "fishing quotas", "type": "concept", "cluster": "Fishing Quotas", "node_size": 10, "label": "fishing quotas"}, "sustainable fisheries": {"concepts": "sustainable fisheries", "type": "concept", "cluster": "Fisheries Sustainability", "node_size": 10, "label": "sustainable fisheries"}, "fisheries acts": {"concepts": "fisheries acts", "type": "concept", "cluster": "Fisheries Sustainability", "node_size": 10, "label": "fisheries acts"}, "fishers": {"concepts": "fishers", "type": "concept", "cluster": "Fishing Community", "node_size": 10, "label": "fishers"}, "fishermen": {"concepts": "fishermen", "type": "concept", "cluster": "Fishing Community", "node_size": 10, "label": "fishermen"}, "fishing community": {"concepts": "fishing community", "type": "concept", "cluster": "Fishing Community", "node_size": 10, "label": "fishing community"}};
        const interClusterEdges = [["shipping industry", "Species & Biodiversity", {"weight": -1.0, "confidence": 0.53, "type": "inter_cluster", "style": "solid"}], ["shipping industry", "Community Diversity & Structure", {"weight": -0.75, "confidence": 0.30000000000000004, "type": "inter_cluster", "style": "solid"}], ["shipping industry", "Environmental Policy", {"weight": 1.0, "confidence": 0.0, "type": "inter_cluster", "style": "solid"}], ["Impacts & Stakeholders", "Species & Biodiversity", {"weight": 1.0, "confidence": 0.6699999999999999, "type": "inter_cluster", "style": "solid"}], ["Impacts & Stakeholders", "Ocean Resilience & Use", {"weight": 0.8, "confidence": 0.5399999999999999, "type": "inter_cluster", "style": "solid"}], ["Impacts & Stakeholders", "Fishing Quotas", {"weight": -1.0, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Impacts & Stakeholders", "Environmental Policy", {"weight": 1.0, "confidence": 0.0, "type": "inter_cluster", "style": "solid"}], ["Systems & Relationships", "Fisheries Sustainability", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Systems & Relationships", "Ocean Resilience & Use", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Marine Habitats", "Species Conservation", {"weight": 1.0, "confidence": 0.5833333333333334, "type": "inter_cluster", "style": "solid"}], ["Marine Habitats", "Wildlife Migration", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["**Aquatic Ecosystem Health**", "Species & Biodiversity", {"weight": -1.0, "confidence": 0.76, "type": "inter_cluster", "style": "solid"}], ["**Aquatic Ecosystem Health**", "Habitat & Ecosystems", {"weight": -1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["**Aquatic Ecosystem Health**", "Environmental Policy", {"weight": 1.0, "confidence": 0.0, "type": "inter_cluster", "style": "solid"}], ["Ocean Resilience & Use", "Species Conservation", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Ocean Resilience & Use", "Environmental Policy", {"weight": 1.0, "confidence": 0.0, "type": "inter_cluster", "style": "solid"}], ["Species Conservation", "Species & Biodiversity", {"weight": 1.0, "confidence": 0.74, "type": "inter_cluster", "style": "solid"}], ["Species Conservation", "Fishing Community", {"weight": -0.6666666666666666, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Species Conservation", "Diversity & Area", {"weight": 0.5, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}], ["Habitat & Ecosystems", "Marine Habitats", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Wildlife Migration", "Environmental Policy", {"weight": 1.0, "confidence": 0.0, "type": "inter_cluster", "style": "solid"}], ["Indigenous Peoples", "Species Conservation", {"weight": 1.0, "confidence": 0.4875, "type": "inter_cluster", "style": "solid"}], ["Community Diversity & Structure", "Environmental Policy", {"weight": 1.0, "confidence": 0.0, "type": "inter_cluster", "style": "solid"}], ["Fishing Quotas", "Community Diversity & Structure", {"weight": -1.0, "confidence": 0.525, "type": "inter_cluster", "style": "solid"}], ["Fishing Quotas", "Species & Biodiversity", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Fishing Quotas", "Environmental Policy", {"weight": 1.0, "confidence": 0.0, "type": "inter_cluster", "style": "solid"}], ["Fisheries Sustainability", "Species & Biodiversity", {"weight": 1.0, "confidence": 0.63, "type": "inter_cluster", "style": "solid"}], ["Fisheries Sustainability", "Species Conservation", {"weight": 1.0, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Fisheries Sustainability", "Community Diversity & Structure", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Fishing Community", "Fisheries Sustainability", {"weight": 0.6, "confidence": 0.64, "type": "inter_cluster", "style": "solid"}], ["Fishing Community", "Marine Habitats", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Impacts & Stakeholders": [["regulating services", {"concepts": "regulating services", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "regulating services"}], ["regulating", {"concepts": "regulating", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "regulating"}], ["ebm", {"concepts": "ebm", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "ebm"}], ["performance measures", {"concepts": "performance measures", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "performance measures"}], ["management action", {"concepts": "management action", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "management action"}], ["management system", {"concepts": "management system", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "management system"}], ["time management", {"concepts": "time management", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "time management"}], ["management tools", {"concepts": "management tools", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "management tools"}], ["error correction", {"concepts": "error correction", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "error correction"}], ["general framework", {"concepts": "general framework", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "general framework"}], ["specific objectives (org)", {"concepts": "specific objectives (org)", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "specific objectives (org)"}], ["prioritization", {"concepts": "prioritization", "type": "concept", "cluster": "Impacts & Stakeholders", "node_size": 10, "label": "prioritization"}]], "Environmental Policy": [["threshold effect", {"concepts": "threshold effect", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "threshold effect"}], ["soc)", {"concepts": "soc)", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "soc)"}], ["international level (org", {"concepts": "international level (org", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "international level (org"}], ["objectives", {"concepts": "objectives", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "objectives"}], ["complex issues", {"concepts": "complex issues", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "complex issues"}], ["food web", {"concepts": "food web", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "food web"}], ["impact level", {"concepts": "impact level", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "impact level"}], ["localized perspective", {"concepts": "localized perspective", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "localized perspective"}], ["negative relationships", {"concepts": "negative relationships", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "negative relationships"}], ["oxygen impact", {"concepts": "oxygen impact", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "oxygen impact"}], ["deoxygenation", {"concepts": "deoxygenation", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "deoxygenation"}], ["impact assessment", {"concepts": "impact assessment", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "impact assessment"}], ["positive relationship", {"concepts": "positive relationship", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "positive relationship"}], ["system components", {"concepts": "system components", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "system components"}], ["provisioning", {"concepts": "provisioning", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "provisioning"}], ["information sharing", {"concepts": "information sharing", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "information sharing"}], ["by catch", {"concepts": "by catch", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "by catch"}], ["biological resources", {"concepts": "biological resources", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "biological resources"}], ["supporting services", {"concepts": "supporting services", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "supporting services"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "stakeholders"}], ["weight", {"concepts": "weight", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "weight"}], ["kelp conservation", {"concepts": "kelp conservation", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "kelp conservation"}], ["stressors", {"concepts": "stressors", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "stressors"}], ["actors", {"concepts": "actors", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "actors"}], ["biological process", {"concepts": "biological process", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "biological process"}], ["biological processes", {"concepts": "biological processes", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "biological processes"}], ["services", {"concepts": "services", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "services"}], ["negative relationship", {"concepts": "negative relationship", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "negative relationship"}], ["project", {"concepts": "project", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "project"}], ["case studies", {"concepts": "case studies", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "case studies"}], ["msa", {"concepts": "msa", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "msa"}], ["positive relationships", {"concepts": "positive relationships", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "positive relationships"}], ["biological hierarchy", {"concepts": "biological hierarchy", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "biological hierarchy"}], ["life history", {"concepts": "life history", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "life history"}], ["navigation industry", {"concepts": "navigation industry", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "navigation industry"}], ["supporting", {"concepts": "supporting", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "supporting"}], ["relationship weight", {"concepts": "relationship weight", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "relationship weight"}], ["cultural services", {"concepts": "cultural services", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "cultural services"}], ["cascade level diversity", {"concepts": "cascade level diversity", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "cascade level diversity"}], ["provisioning services", {"concepts": "provisioning services", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "provisioning services"}], ["academics", {"concepts": "academics", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "academics"}], ["esa", {"concepts": "esa", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "esa"}], ["commercial groups", {"concepts": "commercial groups", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "commercial groups"}], ["industry reps", {"concepts": "industry reps", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "industry reps"}], ["government", {"concepts": "government", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "government"}], ["management actions (org)", {"concepts": "management actions (org)", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "management actions (org)"}], ["management", {"concepts": "management", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "management"}], ["regulations", {"concepts": "regulations", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "regulations"}], ["systematic approach (org)", {"concepts": "systematic approach (org)", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "systematic approach (org)"}], ["technical definitions (org)", {"concepts": "technical definitions (org)", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "technical definitions (org)"}], ["national level (org", {"concepts": "national level (org", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "national level (org"}], ["organizational dynamics", {"concepts": "organizational dynamics", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "organizational dynamics"}], ["decision-making", {"concepts": "decision-making", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "decision-making"}], ["treaties", {"concepts": "treaties", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "treaties"}], ["management approaches (org)", {"concepts": "management approaches (org)", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "management approaches (org)"}], ["sectoral management", {"concepts": "sectoral management", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "sectoral management"}], ["national jurisdictions", {"concepts": "national jurisdictions", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "national jurisdictions"}], ["management approaches", {"concepts": "management approaches", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "management approaches"}], ["policy level", {"concepts": "policy level", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "policy level"}], ["commercial viability (org)", {"concepts": "commercial viability (org)", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "commercial viability (org)"}], ["government bodies", {"concepts": "government bodies", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "government bodies"}], ["collaboration", {"concepts": "collaboration", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "collaboration"}], ["local decision making", {"concepts": "local decision making", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "local decision making"}], ["legal definitions (org)", {"concepts": "legal definitions (org)", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "legal definitions (org)"}], ["policy choices (org", {"concepts": "policy choices (org", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "policy choices (org"}], ["matrix", {"concepts": "matrix", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "matrix"}], ["mental model", {"concepts": "mental model", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "mental model"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "mental modeler"}], ["insights", {"concepts": "insights", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "insights"}], ["relationships", {"concepts": "relationships", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "relationships"}], ["systems perspective", {"concepts": "systems perspective", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "systems perspective"}], ["cultural", {"concepts": "cultural", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "cultural"}], ["team", {"concepts": "team", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "team"}], ["visualization", {"concepts": "visualization", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "visualization"}], ["connection", {"concepts": "connection", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "connection"}], ["network model", {"concepts": "network model", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "network model"}], ["psychological dynamics", {"concepts": "psychological dynamics", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "psychological dynamics"}], ["social dynamics", {"concepts": "social dynamics", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "social dynamics"}], ["genetics", {"concepts": "genetics", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "genetics"}], ["connected networks", {"concepts": "connected networks", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "connected networks"}], ["system perspective", {"concepts": "system perspective", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "system perspective"}], ["communication", {"concepts": "communication", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "communication"}]], "Systems & Relationships": [["environmental ngos", {"concepts": "environmental ngos", "type": "concept", "cluster": "Systems & Relationships", "node_size": 10, "label": "environmental ngos"}], ["biodiversity policy (org)", {"concepts": "biodiversity policy (org)", "type": "concept", "cluster": "Systems & Relationships", "node_size": 10, "label": "biodiversity policy (org)"}], ["coastal communities", {"concepts": "coastal communities", "type": "concept", "cluster": "Systems & Relationships", "node_size": 10, "label": "coastal communities"}], ["environmental policy", {"concepts": "environmental policy", "type": "concept", "cluster": "Systems & Relationships", "node_size": 10, "label": "environmental policy"}], ["sustainable use (org)", {"concepts": "sustainable use (org)", "type": "concept", "cluster": "Systems & Relationships", "node_size": 10, "label": "sustainable use (org)"}], ["ecosystem-based management (org)", {"concepts": "ecosystem-based management (org)", "type": "concept", "cluster": "Systems & Relationships", "node_size": 10, "label": "ecosystem-based management (org)"}], ["national environmental policy", {"concepts": "national environmental policy", "type": "concept", "cluster": "Systems & Relationships", "node_size": 10, "label": "national environmental policy"}], ["recreational users", {"concepts": "recreational users", "type": "concept", "cluster": "Systems & Relationships", "node_size": 10, "label": "recreational users"}]], "Marine Habitats": [["landscape diversity", {"concepts": "landscape diversity", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "landscape diversity"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "habitat forming species"}], ["coral reefs", {"concepts": "coral reefs", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "coral reefs"}], ["habitat", {"concepts": "habitat", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "habitat"}], ["habitat forming", {"concepts": "habitat forming", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "habitat forming"}], ["living marine resources", {"concepts": "living marine resources", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "living marine resources"}], ["marine ecosystems", {"concepts": "marine ecosystems", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "marine ecosystems"}], ["deep sea", {"concepts": "deep sea", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "deep sea"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "ecosystem services"}], ["coral reef", {"concepts": "coral reef", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "coral reef"}], ["habitat protection", {"concepts": "habitat protection", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "habitat protection"}], ["ecosystem", {"concepts": "ecosystem", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "ecosystem"}], ["habitat diversity", {"concepts": "habitat diversity", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "habitat diversity"}], ["high seas", {"concepts": "high seas", "type": "concept", "cluster": "Marine Habitats", "node_size": 10, "label": "high seas"}]], "**Aquatic Ecosystem Health**": [["fish community", {"concepts": "fish community", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "fish community"}], ["harmful algae", {"concepts": "harmful algae", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "harmful algae"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "harmful organisms"}], ["ecosystem processes", {"concepts": "ecosystem processes", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "ecosystem processes"}], ["eutrophication", {"concepts": "eutrophication", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "eutrophication"}], ["pollution influences", {"concepts": "pollution influences", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "pollution influences"}], ["ecological indicators", {"concepts": "ecological indicators", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "ecological indicators"}], ["ocean acidification", {"concepts": "ocean acidification", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "ocean acidification"}], ["pollution", {"concepts": "pollution", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "pollution"}], ["nutrient impact", {"concepts": "nutrient impact", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "nutrient impact"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "climate change"}], ["algal blooms", {"concepts": "algal blooms", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "algal blooms"}], ["harmful algal blooms", {"concepts": "harmful algal blooms", "type": "concept", "cluster": "**Aquatic Ecosystem Health**", "node_size": 10, "label": "harmful algal blooms"}]], "Ocean Resilience & Use": [["seasonal closure", {"concepts": "seasonal closure", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "seasonal closure"}], ["ocean impacts", {"concepts": "ocean impacts", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "ocean impacts"}], ["system resilience", {"concepts": "system resilience", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "system resilience"}], ["ocean uses", {"concepts": "ocean uses", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "ocean uses"}], ["ecosystem resilience", {"concepts": "ecosystem resilience", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "ecosystem resilience"}], ["sea level rise", {"concepts": "sea level rise", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "sea level rise"}], ["oyster bed act", {"concepts": "oyster bed act", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "oyster bed act"}], ["marine mammal protection act", {"concepts": "marine mammal protection act", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "marine mammal protection act"}], ["coastal development", {"concepts": "coastal development", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "coastal development"}], ["marine mammal protection", {"concepts": "marine mammal protection", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "marine mammal protection"}], ["ocean use", {"concepts": "ocean use", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "ocean use"}], ["seasonal closures", {"concepts": "seasonal closures", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "seasonal closures"}], ["trophic modeling", {"concepts": "trophic modeling", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "trophic modeling"}], ["ecosystem diversity", {"concepts": "ecosystem diversity", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "ecosystem diversity"}], ["ecosystem-based management", {"concepts": "ecosystem-based management", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "ecosystem-based management"}], ["ocean sector", {"concepts": "ocean sector", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "ocean sector"}], ["ecological resilience", {"concepts": "ecological resilience", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "ecological resilience"}], ["marine laws", {"concepts": "marine laws", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "marine laws"}], ["coral reef act", {"concepts": "coral reef act", "type": "concept", "cluster": "Ocean Resilience & Use", "node_size": 10, "label": "coral reef act"}]], "Species Conservation": [["threatened species", {"concepts": "threatened species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "threatened species"}], ["species conservation", {"concepts": "species conservation", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "species conservation"}], ["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "conservation concern"}], ["endangered species", {"concepts": "endangered species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "endangered species"}], ["species concern", {"concepts": "species concern", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "species concern"}], ["protected species", {"concepts": "protected species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "protected species"}]], "Habitat & Ecosystems": [["species richness", {"concepts": "species richness", "type": "concept", "cluster": "Habitat & Ecosystems", "node_size": 10, "label": "species richness"}], ["species populations", {"concepts": "species populations", "type": "concept", "cluster": "Habitat & Ecosystems", "node_size": 10, "label": "species populations"}], ["targeted species", {"concepts": "targeted species", "type": "concept", "cluster": "Habitat & Ecosystems", "node_size": 10, "label": "targeted species"}]], "Species & Biodiversity": [["keystone species", {"concepts": "keystone species", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "keystone species"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "biodiversity"}], ["biodiversity aspects", {"concepts": "biodiversity aspects", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "biodiversity aspects"}], ["community biodiversity", {"concepts": "community biodiversity", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "community biodiversity"}], ["endangered species act", {"concepts": "endangered species act", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "endangered species act"}], ["species diversity", {"concepts": "species diversity", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "species diversity"}]], "Diversity & Area": [["genetic diversity", {"concepts": "genetic diversity", "type": "concept", "cluster": "Diversity & Area", "node_size": 10, "label": "genetic diversity"}], ["functional diversity", {"concepts": "functional diversity", "type": "concept", "cluster": "Diversity & Area", "node_size": 10, "label": "functional diversity"}], ["area based tools", {"concepts": "area based tools", "type": "concept", "cluster": "Diversity & Area", "node_size": 10, "label": "area based tools"}], ["area-based measures", {"concepts": "area-based measures", "type": "concept", "cluster": "Diversity & Area", "node_size": 10, "label": "area-based measures"}], ["area based measures", {"concepts": "area based measures", "type": "concept", "cluster": "Diversity & Area", "node_size": 10, "label": "area based measures"}]], "Wildlife Migration": [["charismatic megafauna", {"concepts": "charismatic megafauna", "type": "concept", "cluster": "Wildlife Migration", "node_size": 10, "label": "charismatic megafauna"}], ["migratory organisms", {"concepts": "migratory organisms", "type": "concept", "cluster": "Wildlife Migration", "node_size": 10, "label": "migratory organisms"}]], "Indigenous Peoples": [["indigenous tribes", {"concepts": "indigenous tribes", "type": "concept", "cluster": "Indigenous Peoples", "node_size": 10, "label": "indigenous tribes"}], ["indigenous groups", {"concepts": "indigenous groups", "type": "concept", "cluster": "Indigenous Peoples", "node_size": 10, "label": "indigenous groups"}]], "Community Diversity & Structure": [["location diversity", {"concepts": "location diversity", "type": "concept", "cluster": "Community Diversity & Structure", "node_size": 10, "label": "location diversity"}], ["sub population diversity", {"concepts": "sub population diversity", "type": "concept", "cluster": "Community Diversity & Structure", "node_size": 10, "label": "sub population diversity"}], ["population units", {"concepts": "population units", "type": "concept", "cluster": "Community Diversity & Structure", "node_size": 10, "label": "population units"}], ["community diversity", {"concepts": "community diversity", "type": "concept", "cluster": "Community Diversity & Structure", "node_size": 10, "label": "community diversity"}], ["subpopulation diversity", {"concepts": "subpopulation diversity", "type": "concept", "cluster": "Community Diversity & Structure", "node_size": 10, "label": "subpopulation diversity"}], ["community structure", {"concepts": "community structure", "type": "concept", "cluster": "Community Diversity & Structure", "node_size": 10, "label": "community structure"}], ["community elements", {"concepts": "community elements", "type": "concept", "cluster": "Community Diversity & Structure", "node_size": 10, "label": "community elements"}], ["recreational groups", {"concepts": "recreational groups", "type": "concept", "cluster": "Community Diversity & Structure", "node_size": 10, "label": "recreational groups"}]], "Fishing Quotas": [["fishing effort", {"concepts": "fishing effort", "type": "concept", "cluster": "Fishing Quotas", "node_size": 10, "label": "fishing effort"}], ["fishing quota", {"concepts": "fishing quota", "type": "concept", "cluster": "Fishing Quotas", "node_size": 10, "label": "fishing quota"}], ["fishing quotas", {"concepts": "fishing quotas", "type": "concept", "cluster": "Fishing Quotas", "node_size": 10, "label": "fishing quotas"}]], "Fisheries Sustainability": [["sustainable fisheries", {"concepts": "sustainable fisheries", "type": "concept", "cluster": "Fisheries Sustainability", "node_size": 10, "label": "sustainable fisheries"}], ["fisheries acts", {"concepts": "fisheries acts", "type": "concept", "cluster": "Fisheries Sustainability", "node_size": 10, "label": "fisheries acts"}]], "Fishing Community": [["fishers", {"concepts": "fishers", "type": "concept", "cluster": "Fishing Community", "node_size": 10, "label": "fishers"}], ["fishermen", {"concepts": "fishermen", "type": "concept", "cluster": "Fishing Community", "node_size": 10, "label": "fishermen"}], ["fishing community", {"concepts": "fishing community", "type": "concept", "cluster": "Fishing Community", "node_size": 10, "label": "fishing community"}]]};
        const clusterEdges = {"Impacts & Stakeholders": [], "Environmental Policy": [], "Systems & Relationships": [], "Marine Habitats": [], "**Aquatic Ecosystem Health**": [], "Ocean Resilience & Use": [], "Species Conservation": [], "Habitat & Ecosystems": [], "Species & Biodiversity": [], "Diversity & Area": [], "Wildlife Migration": [], "Indigenous Peoples": [], "Community Diversity & Structure": [], "Fishing Quotas": [], "Fisheries Sustainability": [], "Fishing Community": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
