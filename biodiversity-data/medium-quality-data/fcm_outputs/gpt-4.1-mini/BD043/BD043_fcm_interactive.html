
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"habitat-forming species": {"concepts": "habitat-forming species", "concept_list": ["habitat-forming species"], "type": "cluster", "node_size": 18, "label": "habitat-forming species"}, "ecotourism": {"concepts": "ecotourism, mental models, flooding, feedback loop, wave attenuation, beneficial use, bulkheads, tourism", "concept_list": ["ecotourism", "mental models", "flooding", "feedback loop", "wave attenuation", "beneficial use", "bulkheads", "tourism"], "type": "cluster", "node_size": 39, "label": "ecotourism"}, "Habitat and Water Quality": {"concepts": "shoreline stabilization, sea walls, shoreline erosion control, coastal engineering, shoreline implementation guidelines, living shorelines, shoreline archetypes, seawalls, seawall regulation", "concept_list": ["shoreline stabilization", "sea walls", "shoreline erosion control", "coastal engineering", "shoreline implementation guidelines", "living shorelines", "shoreline archetypes", "seawalls", "seawall regulation"], "type": "cluster", "node_size": 42, "label": "Habitat and Water Quality"}, "Marine Species and Management": {"concepts": "sediment, habitat creation, habitat division, marsh ecosystems, fish habitat, native vegetation, oyster reef, living shorelines act, water quality, tidal zones", "concept_list": ["sediment", "habitat creation", "habitat division", "marsh ecosystems", "fish habitat", "native vegetation", "oyster reef", "living shorelines act", "water quality", "tidal zones"], "type": "cluster", "node_size": 45, "label": "Marine Species and Management"}, "Sea Level and Wildlife": {"concepts": "mangroves, marsh grass, habitat forming species, turtles, oyster farms, resident scale oyster farms, marine resource management, department of natural resources", "concept_list": ["mangroves", "marsh grass", "habitat forming species", "turtles", "oyster farms", "resident scale oyster farms", "marine resource management", "department of natural resources"], "type": "cluster", "node_size": 39, "label": "Sea Level and Wildlife"}, "Coastal Ecosystem Management": {"concepts": "nesting shorebirds, sea level rise advisory council, baby fish, dredge material, sea level rise", "concept_list": ["nesting shorebirds", "sea level rise advisory council", "baby fish", "dredge material", "sea level rise"], "type": "cluster", "node_size": 30, "label": "Coastal Ecosystem Management"}, "Stakeholder Engagement": {"concepts": "stakeholder groups, stakeholder engagement, community involvement, stakeholders, interest, relationship impact, social dynamics, adaptive changes, organizational collaboration, committee membership, organizational framework, enforcement, policy guidelines, regulations, management approaches, decision processes, management, political dynamics, policies, interview transcription, note taking, interview, workshop, half day, schedule, joining, facilitation, underwood associates", "concept_list": ["stakeholder groups", "stakeholder engagement", "community involvement", "stakeholders", "interest", "relationship impact", "social dynamics", "adaptive changes", "organizational collaboration", "committee membership", "organizational framework", "enforcement", "policy guidelines", "regulations", "management approaches", "decision processes", "management", "political dynamics", "policies", "interview transcription", "note taking", "interview", "workshop", "half day", "schedule", "joining", "facilitation", "underwood associates"], "type": "cluster", "node_size": 99, "label": "Stakeholder Engagement"}, "Waterfront Stakeholders": {"concepts": "waterfront residents, waterfront businesses, waterfront homeowners, watermen, businesses, tourists", "concept_list": ["waterfront residents", "waterfront businesses", "waterfront homeowners", "watermen", "businesses", "tourists"], "type": "cluster", "node_size": 33, "label": "Waterfront Stakeholders"}, "Coastal Project Planning": {"concepts": "mandates, dates, permitting hurdles, tuesday, thursday, seawall policy, co-benefits, wednesday, juncus, adaptive change, project planning, naval academy, local dynamics, military perspective, spatial scale, noaa, educational outreach, marsh walks, chesapeake bay office, monday, system dynamics, spartina, university architect, city dock, piers, audubon society, teaching, st. mary\u2019s church, design build, restoration, phragmites, engineering perspective, enforcement, military perspective", "concept_list": ["mandates", "dates", "permitting hurdles", "tuesday", "thursday", "seawall policy", "co-benefits", "wednesday", "juncus", "adaptive change", "project planning", "naval academy", "local dynamics", "military perspective", "spatial scale", "noaa", "educational outreach", "marsh walks", "chesapeake bay office", "monday", "system dynamics", "spartina", "university architect", "city dock", "piers", "audubon society", "teaching", "st. mary\u2019s church", "design build", "restoration", "phragmites", "engineering perspective", "enforcement", "military perspective"], "type": "cluster", "node_size": 117, "label": "Coastal Project Planning"}, "Environmental Ecology": {"concepts": "environmental impact, ecological impact, environmental benefits, environmental mandates, environmental stressors, ecosystem engineering, ecosystem services", "concept_list": ["environmental impact", "ecological impact", "environmental benefits", "environmental mandates", "environmental stressors", "ecosystem engineering", "ecosystem services"], "type": "cluster", "node_size": 36, "label": "Environmental Ecology"}, "Climate Impact": {"concepts": "climate migration, climate management, climate change", "concept_list": ["climate migration", "climate management", "climate change"], "type": "cluster", "node_size": 24, "label": "Climate Impact"}, "Species Conservation": {"concepts": "conservation concern, species conservation, species of conservation concern, species diversity", "concept_list": ["conservation concern", "species conservation", "species of conservation concern", "species diversity"], "type": "cluster", "node_size": 27, "label": "Species Conservation"}, "Food Web Dynamics": {"concepts": "food web, key food web species, harmful organisms", "concept_list": ["food web", "key food web species", "harmful organisms"], "type": "cluster", "node_size": 24, "label": "Food Web Dynamics"}, "Biodiversity and Carbon": {"concepts": "crocodiles, animal diversity, biodiversity components, biodiversity, carbon storage, plant diversity", "concept_list": ["crocodiles", "animal diversity", "biodiversity components", "biodiversity", "carbon storage", "plant diversity"], "type": "cluster", "node_size": 33, "label": "Biodiversity and Carbon"}, "Cultural and Environmental Preservation": {"concepts": "tradition preservation, historic preservation, invasive species", "concept_list": ["tradition preservation", "historic preservation", "invasive species"], "type": "cluster", "node_size": 24, "label": "Cultural and Environmental Preservation"}, "Biodiversity Framework": {"concepts": "species diversity framework, biodiversity management", "concept_list": ["species diversity framework", "biodiversity management"], "type": "cluster", "node_size": 21, "label": "Biodiversity Framework"}};
        const conceptData = {"mental models": {"concepts": "mental models", "type": "concept", "cluster": "ecotourism", "node_size": 10, "label": "mental models"}, "flooding": {"concepts": "flooding", "type": "concept", "cluster": "ecotourism", "node_size": 10, "label": "flooding"}, "feedback loop": {"concepts": "feedback loop", "type": "concept", "cluster": "ecotourism", "node_size": 10, "label": "feedback loop"}, "wave attenuation": {"concepts": "wave attenuation", "type": "concept", "cluster": "ecotourism", "node_size": 10, "label": "wave attenuation"}, "beneficial use": {"concepts": "beneficial use", "type": "concept", "cluster": "ecotourism", "node_size": 10, "label": "beneficial use"}, "bulkheads": {"concepts": "bulkheads", "type": "concept", "cluster": "ecotourism", "node_size": 10, "label": "bulkheads"}, "tourism": {"concepts": "tourism", "type": "concept", "cluster": "ecotourism", "node_size": 10, "label": "tourism"}, "shoreline stabilization": {"concepts": "shoreline stabilization", "type": "concept", "cluster": "Habitat and Water Quality", "node_size": 10, "label": "shoreline stabilization"}, "sea walls": {"concepts": "sea walls", "type": "concept", "cluster": "Habitat and Water Quality", "node_size": 10, "label": "sea walls"}, "shoreline erosion control": {"concepts": "shoreline erosion control", "type": "concept", "cluster": "Habitat and Water Quality", "node_size": 10, "label": "shoreline erosion control"}, "coastal engineering": {"concepts": "coastal engineering", "type": "concept", "cluster": "Habitat and Water Quality", "node_size": 10, "label": "coastal engineering"}, "shoreline implementation guidelines": {"concepts": "shoreline implementation guidelines", "type": "concept", "cluster": "Habitat and Water Quality", "node_size": 10, "label": "shoreline implementation guidelines"}, "living shorelines": {"concepts": "living shorelines", "type": "concept", "cluster": "Habitat and Water Quality", "node_size": 10, "label": "living shorelines"}, "shoreline archetypes": {"concepts": "shoreline archetypes", "type": "concept", "cluster": "Habitat and Water Quality", "node_size": 10, "label": "shoreline archetypes"}, "seawalls": {"concepts": "seawalls", "type": "concept", "cluster": "Habitat and Water Quality", "node_size": 10, "label": "seawalls"}, "seawall regulation": {"concepts": "seawall regulation", "type": "concept", "cluster": "Habitat and Water Quality", "node_size": 10, "label": "seawall regulation"}, "sediment": {"concepts": "sediment", "type": "concept", "cluster": "Marine Species and Management", "node_size": 10, "label": "sediment"}, "habitat creation": {"concepts": "habitat creation", "type": "concept", "cluster": "Marine Species and Management", "node_size": 10, "label": "habitat creation"}, "habitat division": {"concepts": "habitat division", "type": "concept", "cluster": "Marine Species and Management", "node_size": 10, "label": "habitat division"}, "marsh ecosystems": {"concepts": "marsh ecosystems", "type": "concept", "cluster": "Marine Species and Management", "node_size": 10, "label": "marsh ecosystems"}, "fish habitat": {"concepts": "fish habitat", "type": "concept", "cluster": "Marine Species and Management", "node_size": 10, "label": "fish habitat"}, "native vegetation": {"concepts": "native vegetation", "type": "concept", "cluster": "Marine Species and Management", "node_size": 10, "label": "native vegetation"}, "oyster reef": {"concepts": "oyster reef", "type": "concept", "cluster": "Marine Species and Management", "node_size": 10, "label": "oyster reef"}, "living shorelines act": {"concepts": "living shorelines act", "type": "concept", "cluster": "Marine Species and Management", "node_size": 10, "label": "living shorelines act"}, "water quality": {"concepts": "water quality", "type": "concept", "cluster": "Marine Species and Management", "node_size": 10, "label": "water quality"}, "tidal zones": {"concepts": "tidal zones", "type": "concept", "cluster": "Marine Species and Management", "node_size": 10, "label": "tidal zones"}, "mangroves": {"concepts": "mangroves", "type": "concept", "cluster": "Sea Level and Wildlife", "node_size": 10, "label": "mangroves"}, "marsh grass": {"concepts": "marsh grass", "type": "concept", "cluster": "Sea Level and Wildlife", "node_size": 10, "label": "marsh grass"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Sea Level and Wildlife", "node_size": 10, "label": "habitat forming species"}, "turtles": {"concepts": "turtles", "type": "concept", "cluster": "Sea Level and Wildlife", "node_size": 10, "label": "turtles"}, "oyster farms": {"concepts": "oyster farms", "type": "concept", "cluster": "Sea Level and Wildlife", "node_size": 10, "label": "oyster farms"}, "resident scale oyster farms": {"concepts": "resident scale oyster farms", "type": "concept", "cluster": "Sea Level and Wildlife", "node_size": 10, "label": "resident scale oyster farms"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Sea Level and Wildlife", "node_size": 10, "label": "marine resource management"}, "department of natural resources": {"concepts": "department of natural resources", "type": "concept", "cluster": "Sea Level and Wildlife", "node_size": 10, "label": "department of natural resources"}, "nesting shorebirds": {"concepts": "nesting shorebirds", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "nesting shorebirds"}, "sea level rise advisory council": {"concepts": "sea level rise advisory council", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "sea level rise advisory council"}, "baby fish": {"concepts": "baby fish", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "baby fish"}, "dredge material": {"concepts": "dredge material", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "dredge material"}, "sea level rise": {"concepts": "sea level rise", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "sea level rise"}, "stakeholder groups": {"concepts": "stakeholder groups", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "stakeholder groups"}, "stakeholder engagement": {"concepts": "stakeholder engagement", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "stakeholder engagement"}, "community involvement": {"concepts": "community involvement", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "community involvement"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "stakeholders"}, "interest": {"concepts": "interest", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "interest"}, "relationship impact": {"concepts": "relationship impact", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "relationship impact"}, "social dynamics": {"concepts": "social dynamics", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "social dynamics"}, "adaptive changes": {"concepts": "adaptive changes", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "adaptive changes"}, "organizational collaboration": {"concepts": "organizational collaboration", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "organizational collaboration"}, "committee membership": {"concepts": "committee membership", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "committee membership"}, "organizational framework": {"concepts": "organizational framework", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "organizational framework"}, "enforcement": {"concepts": "enforcement", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "enforcement"}, "policy guidelines": {"concepts": "policy guidelines", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "policy guidelines"}, "regulations": {"concepts": "regulations", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "regulations"}, "management approaches": {"concepts": "management approaches", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "management approaches"}, "decision processes": {"concepts": "decision processes", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "decision processes"}, "management": {"concepts": "management", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "management"}, "political dynamics": {"concepts": "political dynamics", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "political dynamics"}, "policies": {"concepts": "policies", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "policies"}, "interview transcription": {"concepts": "interview transcription", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "interview transcription"}, "note taking": {"concepts": "note taking", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "note taking"}, "interview": {"concepts": "interview", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "interview"}, "workshop": {"concepts": "workshop", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "workshop"}, "half day": {"concepts": "half day", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "half day"}, "schedule": {"concepts": "schedule", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "schedule"}, "joining": {"concepts": "joining", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "joining"}, "facilitation": {"concepts": "facilitation", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "facilitation"}, "underwood associates": {"concepts": "underwood associates", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "underwood associates"}, "waterfront residents": {"concepts": "waterfront residents", "type": "concept", "cluster": "Waterfront Stakeholders", "node_size": 10, "label": "waterfront residents"}, "waterfront businesses": {"concepts": "waterfront businesses", "type": "concept", "cluster": "Waterfront Stakeholders", "node_size": 10, "label": "waterfront businesses"}, "waterfront homeowners": {"concepts": "waterfront homeowners", "type": "concept", "cluster": "Waterfront Stakeholders", "node_size": 10, "label": "waterfront homeowners"}, "watermen": {"concepts": "watermen", "type": "concept", "cluster": "Waterfront Stakeholders", "node_size": 10, "label": "watermen"}, "businesses": {"concepts": "businesses", "type": "concept", "cluster": "Waterfront Stakeholders", "node_size": 10, "label": "businesses"}, "tourists": {"concepts": "tourists", "type": "concept", "cluster": "Waterfront Stakeholders", "node_size": 10, "label": "tourists"}, "mandates": {"concepts": "mandates", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "mandates"}, "dates": {"concepts": "dates", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "dates"}, "permitting hurdles": {"concepts": "permitting hurdles", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "permitting hurdles"}, "tuesday": {"concepts": "tuesday", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "tuesday"}, "thursday": {"concepts": "thursday", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "thursday"}, "seawall policy": {"concepts": "seawall policy", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "seawall policy"}, "co-benefits": {"concepts": "co-benefits", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "co-benefits"}, "wednesday": {"concepts": "wednesday", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "wednesday"}, "juncus": {"concepts": "juncus", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "juncus"}, "adaptive change": {"concepts": "adaptive change", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "adaptive change"}, "project planning": {"concepts": "project planning", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "project planning"}, "naval academy": {"concepts": "naval academy", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "naval academy"}, "local dynamics": {"concepts": "local dynamics", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "local dynamics"}, "military perspective": {"concepts": "military perspective", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "military perspective"}, "spatial scale": {"concepts": "spatial scale", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "spatial scale"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "noaa"}, "educational outreach": {"concepts": "educational outreach", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "educational outreach"}, "marsh walks": {"concepts": "marsh walks", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "marsh walks"}, "chesapeake bay office": {"concepts": "chesapeake bay office", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "chesapeake bay office"}, "monday": {"concepts": "monday", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "monday"}, "system dynamics": {"concepts": "system dynamics", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "system dynamics"}, "spartina": {"concepts": "spartina", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "spartina"}, "university architect": {"concepts": "university architect", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "university architect"}, "city dock": {"concepts": "city dock", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "city dock"}, "piers": {"concepts": "piers", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "piers"}, "audubon society": {"concepts": "audubon society", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "audubon society"}, "teaching": {"concepts": "teaching", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "teaching"}, "st. mary\u2019s church": {"concepts": "st. mary\u2019s church", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "st. mary\u2019s church"}, "design build": {"concepts": "design build", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "design build"}, "restoration": {"concepts": "restoration", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "restoration"}, "phragmites": {"concepts": "phragmites", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "phragmites"}, "engineering perspective": {"concepts": "engineering perspective", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "engineering perspective"}, "environmental impact": {"concepts": "environmental impact", "type": "concept", "cluster": "Environmental Ecology", "node_size": 10, "label": "environmental impact"}, "ecological impact": {"concepts": "ecological impact", "type": "concept", "cluster": "Environmental Ecology", "node_size": 10, "label": "ecological impact"}, "environmental benefits": {"concepts": "environmental benefits", "type": "concept", "cluster": "Environmental Ecology", "node_size": 10, "label": "environmental benefits"}, "environmental mandates": {"concepts": "environmental mandates", "type": "concept", "cluster": "Environmental Ecology", "node_size": 10, "label": "environmental mandates"}, "environmental stressors": {"concepts": "environmental stressors", "type": "concept", "cluster": "Environmental Ecology", "node_size": 10, "label": "environmental stressors"}, "ecosystem engineering": {"concepts": "ecosystem engineering", "type": "concept", "cluster": "Environmental Ecology", "node_size": 10, "label": "ecosystem engineering"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Environmental Ecology", "node_size": 10, "label": "ecosystem services"}, "climate migration": {"concepts": "climate migration", "type": "concept", "cluster": "Climate Impact", "node_size": 10, "label": "climate migration"}, "climate management": {"concepts": "climate management", "type": "concept", "cluster": "Climate Impact", "node_size": 10, "label": "climate management"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Climate Impact", "node_size": 10, "label": "climate change"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "conservation concern"}, "species conservation": {"concepts": "species conservation", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "species conservation"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "species of conservation concern"}, "species diversity": {"concepts": "species diversity", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "species diversity"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "food web"}, "key food web species": {"concepts": "key food web species", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "key food web species"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "harmful organisms"}, "crocodiles": {"concepts": "crocodiles", "type": "concept", "cluster": "Biodiversity and Carbon", "node_size": 10, "label": "crocodiles"}, "animal diversity": {"concepts": "animal diversity", "type": "concept", "cluster": "Biodiversity and Carbon", "node_size": 10, "label": "animal diversity"}, "biodiversity components": {"concepts": "biodiversity components", "type": "concept", "cluster": "Biodiversity and Carbon", "node_size": 10, "label": "biodiversity components"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Biodiversity and Carbon", "node_size": 10, "label": "biodiversity"}, "carbon storage": {"concepts": "carbon storage", "type": "concept", "cluster": "Biodiversity and Carbon", "node_size": 10, "label": "carbon storage"}, "plant diversity": {"concepts": "plant diversity", "type": "concept", "cluster": "Biodiversity and Carbon", "node_size": 10, "label": "plant diversity"}, "tradition preservation": {"concepts": "tradition preservation", "type": "concept", "cluster": "Cultural and Environmental Preservation", "node_size": 10, "label": "tradition preservation"}, "historic preservation": {"concepts": "historic preservation", "type": "concept", "cluster": "Cultural and Environmental Preservation", "node_size": 10, "label": "historic preservation"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Cultural and Environmental Preservation", "node_size": 10, "label": "invasive species"}, "species diversity framework": {"concepts": "species diversity framework", "type": "concept", "cluster": "Biodiversity Framework", "node_size": 10, "label": "species diversity framework"}, "biodiversity management": {"concepts": "biodiversity management", "type": "concept", "cluster": "Biodiversity Framework", "node_size": 10, "label": "biodiversity management"}};
        const interClusterEdges = [["habitat-forming species", "Biodiversity and Carbon", {"weight": 1.0, "confidence": 0.8800000000000001, "type": "inter_cluster", "style": "solid"}], ["habitat-forming species", "Stakeholder Engagement", {"weight": 1.0, "confidence": 0.76, "type": "inter_cluster", "style": "solid"}], ["habitat-forming species", "Sea Level and Wildlife", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["habitat-forming species", "Coastal Project Planning", {"weight": -0.25, "confidence": 0.3125, "type": "inter_cluster", "style": "solid"}], ["ecotourism", "habitat-forming species", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["ecotourism", "Coastal Ecosystem Management", {"weight": 0.3333333333333333, "confidence": 0.19999999999999998, "type": "inter_cluster", "style": "solid"}], ["ecotourism", "Cultural and Environmental Preservation", {"weight": 0.25, "confidence": 0.27499999999999997, "type": "inter_cluster", "style": "solid"}], ["Habitat and Water Quality", "Species Conservation", {"weight": -0.5, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["Habitat and Water Quality", "Coastal Ecosystem Management", {"weight": 0.2, "confidence": 0.48, "type": "inter_cluster", "style": "solid"}], ["Habitat and Water Quality", "Biodiversity and Carbon", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Habitat and Water Quality", "Waterfront Stakeholders", {"weight": 1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["Marine Species and Management", "Habitat and Water Quality", {"weight": 0.6, "confidence": 0.78, "type": "inter_cluster", "style": "solid"}], ["Sea Level and Wildlife", "Climate Impact", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Coastal Ecosystem Management", "Environmental Ecology", {"weight": 1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Engagement", "Coastal Project Planning", {"weight": 1.0, "confidence": 0.7250000000000001, "type": "inter_cluster", "style": "solid"}], ["Waterfront Stakeholders", "Stakeholder Engagement", {"weight": 0.8, "confidence": 0.6799999999999999, "type": "inter_cluster", "style": "solid"}], ["Coastal Project Planning", "Marine Species and Management", {"weight": 0.2, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Coastal Project Planning", "ecotourism", {"weight": -0.25, "confidence": 0.1625, "type": "inter_cluster", "style": "solid"}], ["Environmental Ecology", "Biodiversity Framework", {"weight": 1.0, "confidence": 0.7124999999999999, "type": "inter_cluster", "style": "solid"}], ["Environmental Ecology", "Species Conservation", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Climate Impact", "Waterfront Stakeholders", {"weight": -1.0, "confidence": 0.8799999999999999, "type": "inter_cluster", "style": "solid"}], ["Climate Impact", "Sea Level and Wildlife", {"weight": 0.2, "confidence": 0.78, "type": "inter_cluster", "style": "solid"}], ["Climate Impact", "Marine Species and Management", {"weight": -1.0, "confidence": 0.7999999999999999, "type": "inter_cluster", "style": "solid"}], ["Climate Impact", "Habitat and Water Quality", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Species Conservation", "Environmental Ecology", {"weight": 0.8, "confidence": 0.61, "type": "inter_cluster", "style": "solid"}], ["Species Conservation", "Stakeholder Engagement", {"weight": 0.75, "confidence": 0.5249999999999999, "type": "inter_cluster", "style": "solid"}], ["Species Conservation", "Food Web Dynamics", {"weight": 0.6666666666666666, "confidence": 0.4666666666666666, "type": "inter_cluster", "style": "solid"}], ["Species Conservation", "Climate Impact", {"weight": -0.4, "confidence": 0.4499999999999999, "type": "inter_cluster", "style": "solid"}], ["Food Web Dynamics", "Environmental Ecology", {"weight": 0.3333333333333333, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Food Web Dynamics", "Cultural and Environmental Preservation", {"weight": -0.5, "confidence": 0.425, "type": "inter_cluster", "style": "solid"}], ["Biodiversity and Carbon", "Marine Species and Management", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Biodiversity and Carbon", "ecotourism", {"weight": 1.0, "confidence": 0.6599999999999999, "type": "inter_cluster", "style": "solid"}], ["Biodiversity and Carbon", "Biodiversity Framework", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Cultural and Environmental Preservation", "Sea Level and Wildlife", {"weight": -1.0, "confidence": 0.7666666666666666, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Framework", "habitat-forming species", {"weight": 1.0, "confidence": 0.8999999999999999, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Framework", "Biodiversity and Carbon", {"weight": 1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Framework", "Waterfront Stakeholders", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"ecotourism": [["mental models", {"concepts": "mental models", "type": "concept", "cluster": "ecotourism", "node_size": 10, "label": "mental models"}], ["flooding", {"concepts": "flooding", "type": "concept", "cluster": "ecotourism", "node_size": 10, "label": "flooding"}], ["feedback loop", {"concepts": "feedback loop", "type": "concept", "cluster": "ecotourism", "node_size": 10, "label": "feedback loop"}], ["wave attenuation", {"concepts": "wave attenuation", "type": "concept", "cluster": "ecotourism", "node_size": 10, "label": "wave attenuation"}], ["beneficial use", {"concepts": "beneficial use", "type": "concept", "cluster": "ecotourism", "node_size": 10, "label": "beneficial use"}], ["bulkheads", {"concepts": "bulkheads", "type": "concept", "cluster": "ecotourism", "node_size": 10, "label": "bulkheads"}], ["tourism", {"concepts": "tourism", "type": "concept", "cluster": "ecotourism", "node_size": 10, "label": "tourism"}]], "Habitat and Water Quality": [["shoreline stabilization", {"concepts": "shoreline stabilization", "type": "concept", "cluster": "Habitat and Water Quality", "node_size": 10, "label": "shoreline stabilization"}], ["sea walls", {"concepts": "sea walls", "type": "concept", "cluster": "Habitat and Water Quality", "node_size": 10, "label": "sea walls"}], ["shoreline erosion control", {"concepts": "shoreline erosion control", "type": "concept", "cluster": "Habitat and Water Quality", "node_size": 10, "label": "shoreline erosion control"}], ["coastal engineering", {"concepts": "coastal engineering", "type": "concept", "cluster": "Habitat and Water Quality", "node_size": 10, "label": "coastal engineering"}], ["shoreline implementation guidelines", {"concepts": "shoreline implementation guidelines", "type": "concept", "cluster": "Habitat and Water Quality", "node_size": 10, "label": "shoreline implementation guidelines"}], ["living shorelines", {"concepts": "living shorelines", "type": "concept", "cluster": "Habitat and Water Quality", "node_size": 10, "label": "living shorelines"}], ["shoreline archetypes", {"concepts": "shoreline archetypes", "type": "concept", "cluster": "Habitat and Water Quality", "node_size": 10, "label": "shoreline archetypes"}], ["seawalls", {"concepts": "seawalls", "type": "concept", "cluster": "Habitat and Water Quality", "node_size": 10, "label": "seawalls"}], ["seawall regulation", {"concepts": "seawall regulation", "type": "concept", "cluster": "Habitat and Water Quality", "node_size": 10, "label": "seawall regulation"}]], "Marine Species and Management": [["sediment", {"concepts": "sediment", "type": "concept", "cluster": "Marine Species and Management", "node_size": 10, "label": "sediment"}], ["habitat creation", {"concepts": "habitat creation", "type": "concept", "cluster": "Marine Species and Management", "node_size": 10, "label": "habitat creation"}], ["habitat division", {"concepts": "habitat division", "type": "concept", "cluster": "Marine Species and Management", "node_size": 10, "label": "habitat division"}], ["marsh ecosystems", {"concepts": "marsh ecosystems", "type": "concept", "cluster": "Marine Species and Management", "node_size": 10, "label": "marsh ecosystems"}], ["fish habitat", {"concepts": "fish habitat", "type": "concept", "cluster": "Marine Species and Management", "node_size": 10, "label": "fish habitat"}], ["native vegetation", {"concepts": "native vegetation", "type": "concept", "cluster": "Marine Species and Management", "node_size": 10, "label": "native vegetation"}], ["oyster reef", {"concepts": "oyster reef", "type": "concept", "cluster": "Marine Species and Management", "node_size": 10, "label": "oyster reef"}], ["living shorelines act", {"concepts": "living shorelines act", "type": "concept", "cluster": "Marine Species and Management", "node_size": 10, "label": "living shorelines act"}], ["water quality", {"concepts": "water quality", "type": "concept", "cluster": "Marine Species and Management", "node_size": 10, "label": "water quality"}], ["tidal zones", {"concepts": "tidal zones", "type": "concept", "cluster": "Marine Species and Management", "node_size": 10, "label": "tidal zones"}]], "Sea Level and Wildlife": [["mangroves", {"concepts": "mangroves", "type": "concept", "cluster": "Sea Level and Wildlife", "node_size": 10, "label": "mangroves"}], ["marsh grass", {"concepts": "marsh grass", "type": "concept", "cluster": "Sea Level and Wildlife", "node_size": 10, "label": "marsh grass"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Sea Level and Wildlife", "node_size": 10, "label": "habitat forming species"}], ["turtles", {"concepts": "turtles", "type": "concept", "cluster": "Sea Level and Wildlife", "node_size": 10, "label": "turtles"}], ["oyster farms", {"concepts": "oyster farms", "type": "concept", "cluster": "Sea Level and Wildlife", "node_size": 10, "label": "oyster farms"}], ["resident scale oyster farms", {"concepts": "resident scale oyster farms", "type": "concept", "cluster": "Sea Level and Wildlife", "node_size": 10, "label": "resident scale oyster farms"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Sea Level and Wildlife", "node_size": 10, "label": "marine resource management"}], ["department of natural resources", {"concepts": "department of natural resources", "type": "concept", "cluster": "Sea Level and Wildlife", "node_size": 10, "label": "department of natural resources"}]], "Coastal Ecosystem Management": [["nesting shorebirds", {"concepts": "nesting shorebirds", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "nesting shorebirds"}], ["sea level rise advisory council", {"concepts": "sea level rise advisory council", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "sea level rise advisory council"}], ["baby fish", {"concepts": "baby fish", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "baby fish"}], ["dredge material", {"concepts": "dredge material", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "dredge material"}], ["sea level rise", {"concepts": "sea level rise", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "sea level rise"}]], "Stakeholder Engagement": [["stakeholder groups", {"concepts": "stakeholder groups", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "stakeholder groups"}], ["stakeholder engagement", {"concepts": "stakeholder engagement", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "stakeholder engagement"}], ["community involvement", {"concepts": "community involvement", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "community involvement"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "stakeholders"}], ["interest", {"concepts": "interest", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "interest"}], ["relationship impact", {"concepts": "relationship impact", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "relationship impact"}], ["social dynamics", {"concepts": "social dynamics", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "social dynamics"}], ["adaptive changes", {"concepts": "adaptive changes", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "adaptive changes"}], ["organizational collaboration", {"concepts": "organizational collaboration", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "organizational collaboration"}], ["committee membership", {"concepts": "committee membership", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "committee membership"}], ["organizational framework", {"concepts": "organizational framework", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "organizational framework"}], ["enforcement", {"concepts": "enforcement", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "enforcement"}], ["policy guidelines", {"concepts": "policy guidelines", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "policy guidelines"}], ["regulations", {"concepts": "regulations", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "regulations"}], ["management approaches", {"concepts": "management approaches", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "management approaches"}], ["decision processes", {"concepts": "decision processes", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "decision processes"}], ["management", {"concepts": "management", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "management"}], ["political dynamics", {"concepts": "political dynamics", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "political dynamics"}], ["policies", {"concepts": "policies", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "policies"}], ["interview transcription", {"concepts": "interview transcription", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "interview transcription"}], ["note taking", {"concepts": "note taking", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "note taking"}], ["interview", {"concepts": "interview", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "interview"}], ["workshop", {"concepts": "workshop", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "workshop"}], ["half day", {"concepts": "half day", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "half day"}], ["schedule", {"concepts": "schedule", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "schedule"}], ["joining", {"concepts": "joining", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "joining"}], ["facilitation", {"concepts": "facilitation", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "facilitation"}], ["underwood associates", {"concepts": "underwood associates", "type": "concept", "cluster": "Stakeholder Engagement", "node_size": 10, "label": "underwood associates"}]], "Waterfront Stakeholders": [["waterfront residents", {"concepts": "waterfront residents", "type": "concept", "cluster": "Waterfront Stakeholders", "node_size": 10, "label": "waterfront residents"}], ["waterfront businesses", {"concepts": "waterfront businesses", "type": "concept", "cluster": "Waterfront Stakeholders", "node_size": 10, "label": "waterfront businesses"}], ["waterfront homeowners", {"concepts": "waterfront homeowners", "type": "concept", "cluster": "Waterfront Stakeholders", "node_size": 10, "label": "waterfront homeowners"}], ["watermen", {"concepts": "watermen", "type": "concept", "cluster": "Waterfront Stakeholders", "node_size": 10, "label": "watermen"}], ["businesses", {"concepts": "businesses", "type": "concept", "cluster": "Waterfront Stakeholders", "node_size": 10, "label": "businesses"}], ["tourists", {"concepts": "tourists", "type": "concept", "cluster": "Waterfront Stakeholders", "node_size": 10, "label": "tourists"}]], "Coastal Project Planning": [["mandates", {"concepts": "mandates", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "mandates"}], ["dates", {"concepts": "dates", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "dates"}], ["permitting hurdles", {"concepts": "permitting hurdles", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "permitting hurdles"}], ["tuesday", {"concepts": "tuesday", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "tuesday"}], ["thursday", {"concepts": "thursday", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "thursday"}], ["seawall policy", {"concepts": "seawall policy", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "seawall policy"}], ["co-benefits", {"concepts": "co-benefits", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "co-benefits"}], ["wednesday", {"concepts": "wednesday", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "wednesday"}], ["juncus", {"concepts": "juncus", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "juncus"}], ["adaptive change", {"concepts": "adaptive change", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "adaptive change"}], ["project planning", {"concepts": "project planning", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "project planning"}], ["naval academy", {"concepts": "naval academy", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "naval academy"}], ["local dynamics", {"concepts": "local dynamics", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "local dynamics"}], ["military perspective", {"concepts": "military perspective", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "military perspective"}], ["spatial scale", {"concepts": "spatial scale", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "spatial scale"}], ["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "noaa"}], ["educational outreach", {"concepts": "educational outreach", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "educational outreach"}], ["marsh walks", {"concepts": "marsh walks", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "marsh walks"}], ["chesapeake bay office", {"concepts": "chesapeake bay office", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "chesapeake bay office"}], ["monday", {"concepts": "monday", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "monday"}], ["system dynamics", {"concepts": "system dynamics", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "system dynamics"}], ["spartina", {"concepts": "spartina", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "spartina"}], ["university architect", {"concepts": "university architect", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "university architect"}], ["city dock", {"concepts": "city dock", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "city dock"}], ["piers", {"concepts": "piers", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "piers"}], ["audubon society", {"concepts": "audubon society", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "audubon society"}], ["teaching", {"concepts": "teaching", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "teaching"}], ["st. mary\u2019s church", {"concepts": "st. mary\u2019s church", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "st. mary\u2019s church"}], ["design build", {"concepts": "design build", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "design build"}], ["restoration", {"concepts": "restoration", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "restoration"}], ["phragmites", {"concepts": "phragmites", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "phragmites"}], ["engineering perspective", {"concepts": "engineering perspective", "type": "concept", "cluster": "Coastal Project Planning", "node_size": 10, "label": "engineering perspective"}]], "Environmental Ecology": [["environmental impact", {"concepts": "environmental impact", "type": "concept", "cluster": "Environmental Ecology", "node_size": 10, "label": "environmental impact"}], ["ecological impact", {"concepts": "ecological impact", "type": "concept", "cluster": "Environmental Ecology", "node_size": 10, "label": "ecological impact"}], ["environmental benefits", {"concepts": "environmental benefits", "type": "concept", "cluster": "Environmental Ecology", "node_size": 10, "label": "environmental benefits"}], ["environmental mandates", {"concepts": "environmental mandates", "type": "concept", "cluster": "Environmental Ecology", "node_size": 10, "label": "environmental mandates"}], ["environmental stressors", {"concepts": "environmental stressors", "type": "concept", "cluster": "Environmental Ecology", "node_size": 10, "label": "environmental stressors"}], ["ecosystem engineering", {"concepts": "ecosystem engineering", "type": "concept", "cluster": "Environmental Ecology", "node_size": 10, "label": "ecosystem engineering"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Environmental Ecology", "node_size": 10, "label": "ecosystem services"}]], "Climate Impact": [["climate migration", {"concepts": "climate migration", "type": "concept", "cluster": "Climate Impact", "node_size": 10, "label": "climate migration"}], ["climate management", {"concepts": "climate management", "type": "concept", "cluster": "Climate Impact", "node_size": 10, "label": "climate management"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Climate Impact", "node_size": 10, "label": "climate change"}]], "Species Conservation": [["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "conservation concern"}], ["species conservation", {"concepts": "species conservation", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "species conservation"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "species of conservation concern"}], ["species diversity", {"concepts": "species diversity", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "species diversity"}]], "Food Web Dynamics": [["food web", {"concepts": "food web", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "food web"}], ["key food web species", {"concepts": "key food web species", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "key food web species"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Food Web Dynamics", "node_size": 10, "label": "harmful organisms"}]], "Biodiversity and Carbon": [["crocodiles", {"concepts": "crocodiles", "type": "concept", "cluster": "Biodiversity and Carbon", "node_size": 10, "label": "crocodiles"}], ["animal diversity", {"concepts": "animal diversity", "type": "concept", "cluster": "Biodiversity and Carbon", "node_size": 10, "label": "animal diversity"}], ["biodiversity components", {"concepts": "biodiversity components", "type": "concept", "cluster": "Biodiversity and Carbon", "node_size": 10, "label": "biodiversity components"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Biodiversity and Carbon", "node_size": 10, "label": "biodiversity"}], ["carbon storage", {"concepts": "carbon storage", "type": "concept", "cluster": "Biodiversity and Carbon", "node_size": 10, "label": "carbon storage"}], ["plant diversity", {"concepts": "plant diversity", "type": "concept", "cluster": "Biodiversity and Carbon", "node_size": 10, "label": "plant diversity"}]], "Cultural and Environmental Preservation": [["tradition preservation", {"concepts": "tradition preservation", "type": "concept", "cluster": "Cultural and Environmental Preservation", "node_size": 10, "label": "tradition preservation"}], ["historic preservation", {"concepts": "historic preservation", "type": "concept", "cluster": "Cultural and Environmental Preservation", "node_size": 10, "label": "historic preservation"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Cultural and Environmental Preservation", "node_size": 10, "label": "invasive species"}]], "Biodiversity Framework": [["species diversity framework", {"concepts": "species diversity framework", "type": "concept", "cluster": "Biodiversity Framework", "node_size": 10, "label": "species diversity framework"}], ["biodiversity management", {"concepts": "biodiversity management", "type": "concept", "cluster": "Biodiversity Framework", "node_size": 10, "label": "biodiversity management"}]]};
        const clusterEdges = {"ecotourism": [], "Habitat and Water Quality": [], "Marine Species and Management": [], "Sea Level and Wildlife": [], "Coastal Ecosystem Management": [], "Stakeholder Engagement": [], "Waterfront Stakeholders": [], "Coastal Project Planning": [], "Environmental Ecology": [], "Climate Impact": [], "Species Conservation": [], "Food Web Dynamics": [], "Biodiversity and Carbon": [], "Cultural and Environmental Preservation": [], "Biodiversity Framework": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
