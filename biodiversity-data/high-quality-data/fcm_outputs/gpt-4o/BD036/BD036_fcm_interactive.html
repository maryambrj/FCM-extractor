
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"oyster farm": {"concepts": "oyster farm", "concept_list": ["oyster farm"], "type": "cluster", "node_size": 18, "label": "oyster farm"}, "Scientific Collaboration": {"concepts": "deadzone, low salinity, sewage spills, turbidity, drought, water quality, precipitation, water, ocean acidification, high turbidity, nutrients, mississippi river, wind, eutrophied water, biodiversity, freshwater pulses, marine biodiversity, freshwater influx, extreme drought, delta, environmental factors, temperature, nutrient input, ph, cyanobacteria, salinity, stormwater runoff, pollution, thermal pollution, salt-wedge estuary, body of water, hypoxia", "concept_list": ["deadzone", "low salinity", "sewage spills", "turbidity", "drought", "water quality", "precipitation", "water", "ocean acidification", "high turbidity", "nutrients", "mississippi river", "wind", "eutrophied water", "biodiversity", "freshwater pulses", "marine biodiversity", "freshwater influx", "extreme drought", "delta", "environmental factors", "temperature", "nutrient input", "ph", "cyanobacteria", "salinity", "stormwater runoff", "pollution", "thermal pollution", "salt-wedge estuary", "body of water", "hypoxia"], "type": "cluster", "node_size": 111, "label": "Scientific Collaboration"}, "Socioeconomic Factors": {"concepts": "ccop, concepts, dr. turner, auburn university, science background, executive committee, students, mobile bay national estuary program, seagrant, acf, publications, research, physical interview, chlorophyll, mobile bay watershed, undergraduate growth, grad growth, zoom, dr. bill won, young scientist, auburn, publication, algae sampling, climate change, model, mentor, sea lab, observations, mental modeling, collaborative science, technology, scientists, education outreach, collaboration", "concept_list": ["ccop", "concepts", "dr. turner", "auburn university", "science background", "executive committee", "students", "mobile bay national estuary program", "seagrant", "acf", "publications", "research", "physical interview", "chlorophyll", "mobile bay watershed", "undergraduate growth", "grad growth", "zoom", "dr. bill won", "young scientist", "auburn", "publication", "algae sampling", "climate change", "model", "mentor", "sea lab", "observations", "mental modeling", "collaborative science", "technology", "scientists", "education outreach", "collaboration"], "type": "cluster", "node_size": 117, "label": "Socioeconomic Factors"}, "Coastal Restoration": {"concepts": "rural lands, unincorporated lands, female, mortality, mayors, urbanization, influence, agriculture, economics, humans, interview, healthy, crawfordville florida, economic impacts, ngos, jubilee, baldwin county, restoration project, pushback, doddie, nature conservancy, social drivers, red state, municipalities, commercial economic gain, making money, local farmers, manager, resource user, woman-owned business, regulatory organizations, stakeholders, economic drivers, founding families, resiliency, state level, male-dominated field, white middle-aged men, local extension, bias, intimidation, judy hader", "concept_list": ["rural lands", "unincorporated lands", "female", "mortality", "mayors", "urbanization", "influence", "agriculture", "economics", "humans", "interview", "healthy", "crawfordville florida", "economic impacts", "ngos", "jubilee", "baldwin county", "restoration project", "pushback", "doddie", "nature conservancy", "social drivers", "red state", "municipalities", "commercial economic gain", "making money", "local farmers", "manager", "resource user", "woman-owned business", "regulatory organizations", "stakeholders", "economic drivers", "founding families", "resiliency", "state level", "male-dominated field", "white middle-aged men", "local extension", "bias", "intimidation", "judy hader"], "type": "cluster", "node_size": 141, "label": "Coastal Restoration"}, "Localized Environmental Impact": {"concepts": "restore, mobile bay, mississippi sound, leases, vessel traffic, environmental groups, germo, watershed, dynamic, coastal community operational plan, wave activity, economic impact, storm drains, lightning point, navigable waterways, colash, fees, seasonal wind, climate organization, gear, triploids, genetic diversity, green patches, trophic level, gulf of mexico, easement, perspective, outfalls, living shorelines, coastal biodiversity, carbon footprint, vens, brain, space, dredging, monetary losses, diploids, rainfall events, trophication, oil spill, regulation, baykeeper, green algae, west wind, waterfront access, pep, donation, baldwin, epa, boat traffic, processor, privately owned wetlands, gulf, australian long-line system, ship channel, cleaning the bay", "concept_list": ["restore", "mobile bay", "mississippi sound", "leases", "vessel traffic", "environmental groups", "germo", "watershed", "dynamic", "coastal community operational plan", "wave activity", "economic impact", "storm drains", "lightning point", "navigable waterways", "colash", "fees", "seasonal wind", "climate organization", "gear", "triploids", "genetic diversity", "green patches", "trophic level", "gulf of mexico", "easement", "perspective", "outfalls", "living shorelines", "coastal biodiversity", "carbon footprint", "vens", "brain", "space", "dredging", "monetary losses", "diploids", "rainfall events", "trophication", "oil spill", "regulation", "baykeeper", "green algae", "west wind", "waterfront access", "pep", "donation", "baldwin", "epa", "boat traffic", "processor", "privately owned wetlands", "gulf", "australian long-line system", "ship channel", "cleaning the bay"], "type": "cluster", "node_size": 183, "label": "Localized Environmental Impact"}, "Water Quality Issues": {"concepts": "localized impact, enforcement, photosynthesising, headwaters", "concept_list": ["localized impact", "enforcement", "photosynthesising", "headwaters"], "type": "cluster", "node_size": 27, "label": "Water Quality Issues"}, "Oyster Farming": {"concepts": "shellfish growth, oyster growth, grass-fed oysters, oyster community, oysters, oyster seed, oyster aquaculture", "concept_list": ["shellfish growth", "oyster growth", "grass-fed oysters", "oyster community", "oysters", "oyster seed", "oyster aquaculture"], "type": "cluster", "node_size": 36, "label": "Oyster Farming"}, "Fisheries Management": {"concepts": "fisheries science, fish chemistry, hatcheries, shell loss, oyster farming, fisheries management, broodstock", "concept_list": ["fisheries science", "fish chemistry", "hatcheries", "shell loss", "oyster farming", "fisheries management", "broodstock"], "type": "cluster", "node_size": 36, "label": "Fisheries Management"}, "Shellfish Research": {"concepts": "auburn university shellfish lab, shellfish lab", "concept_list": ["auburn university shellfish lab", "shellfish lab"], "type": "cluster", "node_size": 21, "label": "Shellfish Research"}};
        const conceptData = {"deadzone": {"concepts": "deadzone", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "deadzone"}, "low salinity": {"concepts": "low salinity", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "low salinity"}, "sewage spills": {"concepts": "sewage spills", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "sewage spills"}, "turbidity": {"concepts": "turbidity", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "turbidity"}, "drought": {"concepts": "drought", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "drought"}, "water quality": {"concepts": "water quality", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "water quality"}, "precipitation": {"concepts": "precipitation", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "precipitation"}, "water": {"concepts": "water", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "water"}, "ocean acidification": {"concepts": "ocean acidification", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "ocean acidification"}, "high turbidity": {"concepts": "high turbidity", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "high turbidity"}, "nutrients": {"concepts": "nutrients", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "nutrients"}, "mississippi river": {"concepts": "mississippi river", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "mississippi river"}, "wind": {"concepts": "wind", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "wind"}, "eutrophied water": {"concepts": "eutrophied water", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "eutrophied water"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "biodiversity"}, "freshwater pulses": {"concepts": "freshwater pulses", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "freshwater pulses"}, "marine biodiversity": {"concepts": "marine biodiversity", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "marine biodiversity"}, "freshwater influx": {"concepts": "freshwater influx", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "freshwater influx"}, "extreme drought": {"concepts": "extreme drought", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "extreme drought"}, "delta": {"concepts": "delta", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "delta"}, "environmental factors": {"concepts": "environmental factors", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "environmental factors"}, "temperature": {"concepts": "temperature", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "temperature"}, "nutrient input": {"concepts": "nutrient input", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "nutrient input"}, "ph": {"concepts": "ph", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "ph"}, "cyanobacteria": {"concepts": "cyanobacteria", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "cyanobacteria"}, "salinity": {"concepts": "salinity", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "salinity"}, "stormwater runoff": {"concepts": "stormwater runoff", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "stormwater runoff"}, "pollution": {"concepts": "pollution", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "pollution"}, "thermal pollution": {"concepts": "thermal pollution", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "thermal pollution"}, "salt-wedge estuary": {"concepts": "salt-wedge estuary", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "salt-wedge estuary"}, "body of water": {"concepts": "body of water", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "body of water"}, "hypoxia": {"concepts": "hypoxia", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "hypoxia"}, "ccop": {"concepts": "ccop", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "ccop"}, "concepts": {"concepts": "concepts", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "concepts"}, "dr. turner": {"concepts": "dr. turner", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "dr. turner"}, "auburn university": {"concepts": "auburn university", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "auburn university"}, "science background": {"concepts": "science background", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "science background"}, "executive committee": {"concepts": "executive committee", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "executive committee"}, "students": {"concepts": "students", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "students"}, "mobile bay national estuary program": {"concepts": "mobile bay national estuary program", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "mobile bay national estuary program"}, "seagrant": {"concepts": "seagrant", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "seagrant"}, "acf": {"concepts": "acf", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "acf"}, "publications": {"concepts": "publications", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "publications"}, "research": {"concepts": "research", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "research"}, "physical interview": {"concepts": "physical interview", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "physical interview"}, "chlorophyll": {"concepts": "chlorophyll", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "chlorophyll"}, "mobile bay watershed": {"concepts": "mobile bay watershed", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "mobile bay watershed"}, "undergraduate growth": {"concepts": "undergraduate growth", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "undergraduate growth"}, "grad growth": {"concepts": "grad growth", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "grad growth"}, "zoom": {"concepts": "zoom", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "zoom"}, "dr. bill won": {"concepts": "dr. bill won", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "dr. bill won"}, "young scientist": {"concepts": "young scientist", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "young scientist"}, "auburn": {"concepts": "auburn", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "auburn"}, "publication": {"concepts": "publication", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "publication"}, "algae sampling": {"concepts": "algae sampling", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "algae sampling"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "climate change"}, "model": {"concepts": "model", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "model"}, "mentor": {"concepts": "mentor", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "mentor"}, "sea lab": {"concepts": "sea lab", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "sea lab"}, "observations": {"concepts": "observations", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "observations"}, "mental modeling": {"concepts": "mental modeling", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "mental modeling"}, "collaborative science": {"concepts": "collaborative science", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "collaborative science"}, "technology": {"concepts": "technology", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "technology"}, "scientists": {"concepts": "scientists", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "scientists"}, "education outreach": {"concepts": "education outreach", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "education outreach"}, "collaboration": {"concepts": "collaboration", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "collaboration"}, "rural lands": {"concepts": "rural lands", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "rural lands"}, "unincorporated lands": {"concepts": "unincorporated lands", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "unincorporated lands"}, "female": {"concepts": "female", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "female"}, "mortality": {"concepts": "mortality", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "mortality"}, "mayors": {"concepts": "mayors", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "mayors"}, "urbanization": {"concepts": "urbanization", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "urbanization"}, "influence": {"concepts": "influence", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "influence"}, "agriculture": {"concepts": "agriculture", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "agriculture"}, "economics": {"concepts": "economics", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "economics"}, "humans": {"concepts": "humans", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "humans"}, "interview": {"concepts": "interview", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "interview"}, "healthy": {"concepts": "healthy", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "healthy"}, "crawfordville florida": {"concepts": "crawfordville florida", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "crawfordville florida"}, "economic impacts": {"concepts": "economic impacts", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "economic impacts"}, "ngos": {"concepts": "ngos", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "ngos"}, "jubilee": {"concepts": "jubilee", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "jubilee"}, "baldwin county": {"concepts": "baldwin county", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "baldwin county"}, "restoration project": {"concepts": "restoration project", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "restoration project"}, "pushback": {"concepts": "pushback", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "pushback"}, "doddie": {"concepts": "doddie", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "doddie"}, "nature conservancy": {"concepts": "nature conservancy", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "nature conservancy"}, "social drivers": {"concepts": "social drivers", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "social drivers"}, "red state": {"concepts": "red state", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "red state"}, "municipalities": {"concepts": "municipalities", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "municipalities"}, "commercial economic gain": {"concepts": "commercial economic gain", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "commercial economic gain"}, "making money": {"concepts": "making money", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "making money"}, "local farmers": {"concepts": "local farmers", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "local farmers"}, "manager": {"concepts": "manager", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "manager"}, "resource user": {"concepts": "resource user", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "resource user"}, "woman-owned business": {"concepts": "woman-owned business", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "woman-owned business"}, "regulatory organizations": {"concepts": "regulatory organizations", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "regulatory organizations"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "stakeholders"}, "economic drivers": {"concepts": "economic drivers", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "economic drivers"}, "founding families": {"concepts": "founding families", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "founding families"}, "resiliency": {"concepts": "resiliency", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "resiliency"}, "state level": {"concepts": "state level", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "state level"}, "male-dominated field": {"concepts": "male-dominated field", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "male-dominated field"}, "white middle-aged men": {"concepts": "white middle-aged men", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "white middle-aged men"}, "local extension": {"concepts": "local extension", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "local extension"}, "bias": {"concepts": "bias", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "bias"}, "intimidation": {"concepts": "intimidation", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "intimidation"}, "judy hader": {"concepts": "judy hader", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "judy hader"}, "restore": {"concepts": "restore", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "restore"}, "mobile bay": {"concepts": "mobile bay", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "mobile bay"}, "mississippi sound": {"concepts": "mississippi sound", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "mississippi sound"}, "leases": {"concepts": "leases", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "leases"}, "vessel traffic": {"concepts": "vessel traffic", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "vessel traffic"}, "environmental groups": {"concepts": "environmental groups", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "environmental groups"}, "germo": {"concepts": "germo", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "germo"}, "watershed": {"concepts": "watershed", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "watershed"}, "dynamic": {"concepts": "dynamic", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "dynamic"}, "coastal community operational plan": {"concepts": "coastal community operational plan", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "coastal community operational plan"}, "wave activity": {"concepts": "wave activity", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "wave activity"}, "economic impact": {"concepts": "economic impact", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "economic impact"}, "storm drains": {"concepts": "storm drains", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "storm drains"}, "lightning point": {"concepts": "lightning point", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "lightning point"}, "navigable waterways": {"concepts": "navigable waterways", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "navigable waterways"}, "colash": {"concepts": "colash", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "colash"}, "fees": {"concepts": "fees", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "fees"}, "seasonal wind": {"concepts": "seasonal wind", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "seasonal wind"}, "climate organization": {"concepts": "climate organization", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "climate organization"}, "gear": {"concepts": "gear", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "gear"}, "triploids": {"concepts": "triploids", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "triploids"}, "genetic diversity": {"concepts": "genetic diversity", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "genetic diversity"}, "green patches": {"concepts": "green patches", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "green patches"}, "trophic level": {"concepts": "trophic level", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "trophic level"}, "gulf of mexico": {"concepts": "gulf of mexico", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "gulf of mexico"}, "easement": {"concepts": "easement", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "easement"}, "perspective": {"concepts": "perspective", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "perspective"}, "outfalls": {"concepts": "outfalls", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "outfalls"}, "living shorelines": {"concepts": "living shorelines", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "living shorelines"}, "coastal biodiversity": {"concepts": "coastal biodiversity", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "coastal biodiversity"}, "carbon footprint": {"concepts": "carbon footprint", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "carbon footprint"}, "vens": {"concepts": "vens", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "vens"}, "brain": {"concepts": "brain", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "brain"}, "space": {"concepts": "space", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "space"}, "dredging": {"concepts": "dredging", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "dredging"}, "monetary losses": {"concepts": "monetary losses", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "monetary losses"}, "diploids": {"concepts": "diploids", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "diploids"}, "rainfall events": {"concepts": "rainfall events", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "rainfall events"}, "trophication": {"concepts": "trophication", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "trophication"}, "oil spill": {"concepts": "oil spill", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "oil spill"}, "regulation": {"concepts": "regulation", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "regulation"}, "baykeeper": {"concepts": "baykeeper", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "baykeeper"}, "green algae": {"concepts": "green algae", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "green algae"}, "west wind": {"concepts": "west wind", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "west wind"}, "waterfront access": {"concepts": "waterfront access", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "waterfront access"}, "pep": {"concepts": "pep", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "pep"}, "donation": {"concepts": "donation", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "donation"}, "baldwin": {"concepts": "baldwin", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "baldwin"}, "epa": {"concepts": "epa", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "epa"}, "boat traffic": {"concepts": "boat traffic", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "boat traffic"}, "processor": {"concepts": "processor", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "processor"}, "privately owned wetlands": {"concepts": "privately owned wetlands", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "privately owned wetlands"}, "gulf": {"concepts": "gulf", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "gulf"}, "australian long-line system": {"concepts": "australian long-line system", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "australian long-line system"}, "ship channel": {"concepts": "ship channel", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "ship channel"}, "cleaning the bay": {"concepts": "cleaning the bay", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "cleaning the bay"}, "localized impact": {"concepts": "localized impact", "type": "concept", "cluster": "Water Quality Issues", "node_size": 10, "label": "localized impact"}, "enforcement": {"concepts": "enforcement", "type": "concept", "cluster": "Water Quality Issues", "node_size": 10, "label": "enforcement"}, "photosynthesising": {"concepts": "photosynthesising", "type": "concept", "cluster": "Water Quality Issues", "node_size": 10, "label": "photosynthesising"}, "headwaters": {"concepts": "headwaters", "type": "concept", "cluster": "Water Quality Issues", "node_size": 10, "label": "headwaters"}, "shellfish growth": {"concepts": "shellfish growth", "type": "concept", "cluster": "Oyster Farming", "node_size": 10, "label": "shellfish growth"}, "oyster growth": {"concepts": "oyster growth", "type": "concept", "cluster": "Oyster Farming", "node_size": 10, "label": "oyster growth"}, "grass-fed oysters": {"concepts": "grass-fed oysters", "type": "concept", "cluster": "Oyster Farming", "node_size": 10, "label": "grass-fed oysters"}, "oyster community": {"concepts": "oyster community", "type": "concept", "cluster": "Oyster Farming", "node_size": 10, "label": "oyster community"}, "oysters": {"concepts": "oysters", "type": "concept", "cluster": "Oyster Farming", "node_size": 10, "label": "oysters"}, "oyster seed": {"concepts": "oyster seed", "type": "concept", "cluster": "Oyster Farming", "node_size": 10, "label": "oyster seed"}, "oyster aquaculture": {"concepts": "oyster aquaculture", "type": "concept", "cluster": "Oyster Farming", "node_size": 10, "label": "oyster aquaculture"}, "fisheries science": {"concepts": "fisheries science", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fisheries science"}, "fish chemistry": {"concepts": "fish chemistry", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fish chemistry"}, "hatcheries": {"concepts": "hatcheries", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "hatcheries"}, "shell loss": {"concepts": "shell loss", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "shell loss"}, "oyster farming": {"concepts": "oyster farming", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "oyster farming"}, "fisheries management": {"concepts": "fisheries management", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fisheries management"}, "broodstock": {"concepts": "broodstock", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "broodstock"}, "auburn university shellfish lab": {"concepts": "auburn university shellfish lab", "type": "concept", "cluster": "Shellfish Research", "node_size": 10, "label": "auburn university shellfish lab"}, "shellfish lab": {"concepts": "shellfish lab", "type": "concept", "cluster": "Shellfish Research", "node_size": 10, "label": "shellfish lab"}};
        const interClusterEdges = [["oyster farm", "Scientific Collaboration", {"weight": -1.0, "confidence": 0.8833333333333333, "type": "inter_cluster", "style": "solid"}], ["oyster farm", "Oyster Farming", {"weight": 0.6, "confidence": 0.51, "type": "inter_cluster", "style": "solid"}], ["oyster farm", "Socioeconomic Factors", {"weight": 1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["oyster farm", "Fisheries Management", {"weight": 0.6666666666666666, "confidence": 0.5333333333333333, "type": "inter_cluster", "style": "solid"}], ["oyster farm", "Water Quality Issues", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["Scientific Collaboration", "Fisheries Management", {"weight": -0.8, "confidence": 0.6799999999999999, "type": "inter_cluster", "style": "solid"}], ["Scientific Collaboration", "Coastal Restoration", {"weight": -0.5, "confidence": 0.7625, "type": "inter_cluster", "style": "solid"}], ["Scientific Collaboration", "oyster farm", {"weight": -1.0, "confidence": 0.8833333333333333, "type": "inter_cluster", "style": "solid"}], ["Scientific Collaboration", "Socioeconomic Factors", {"weight": 0.8, "confidence": 0.5900000000000001, "type": "inter_cluster", "style": "solid"}], ["Scientific Collaboration", "Localized Environmental Impact", {"weight": -0.2, "confidence": 0.49000000000000005, "type": "inter_cluster", "style": "solid"}], ["Scientific Collaboration", "Oyster Farming", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Scientific Collaboration", "Water Quality Issues", {"weight": 0.6666666666666666, "confidence": 0.48333333333333334, "type": "inter_cluster", "style": "solid"}], ["Scientific Collaboration", "Shellfish Research", {"weight": 0.4, "confidence": 0.30999999999999994, "type": "inter_cluster", "style": "solid"}], ["Socioeconomic Factors", "Coastal Restoration", {"weight": 0.6, "confidence": 0.44000000000000006, "type": "inter_cluster", "style": "solid"}], ["Socioeconomic Factors", "Scientific Collaboration", {"weight": 0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Socioeconomic Factors", "Oyster Farming", {"weight": 0.5, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Socioeconomic Factors", "Fisheries Management", {"weight": 0.3333333333333333, "confidence": 0.26666666666666666, "type": "inter_cluster", "style": "solid"}], ["Coastal Restoration", "Localized Environmental Impact", {"weight": 0.6666666666666666, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["Coastal Restoration", "Oyster Farming", {"weight": 0.3333333333333333, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}], ["Localized Environmental Impact", "Scientific Collaboration", {"weight": 0.3333333333333333, "confidence": 0.8333333333333334, "type": "inter_cluster", "style": "solid"}], ["Localized Environmental Impact", "oyster farm", {"weight": -1.0, "confidence": 0.7833333333333333, "type": "inter_cluster", "style": "solid"}], ["Localized Environmental Impact", "Water Quality Issues", {"weight": 0.4, "confidence": 0.29, "type": "inter_cluster", "style": "solid"}], ["Localized Environmental Impact", "Fisheries Management", {"weight": 0.2, "confidence": 0.15, "type": "inter_cluster", "style": "solid"}], ["Water Quality Issues", "Coastal Restoration", {"weight": 0.4, "confidence": 0.6200000000000001, "type": "inter_cluster", "style": "solid"}], ["Water Quality Issues", "Scientific Collaboration", {"weight": 0.25, "confidence": 0.575, "type": "inter_cluster", "style": "solid"}], ["Water Quality Issues", "Localized Environmental Impact", {"weight": 0.2, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Water Quality Issues", "oyster farm", {"weight": 0.6666666666666666, "confidence": 0.48333333333333334, "type": "inter_cluster", "style": "solid"}], ["Water Quality Issues", "Shellfish Research", {"weight": 0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Oyster Farming", "Scientific Collaboration", {"weight": -0.5, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["Oyster Farming", "oyster farm", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Oyster Farming", "Coastal Restoration", {"weight": 0.75, "confidence": 0.575, "type": "inter_cluster", "style": "solid"}], ["Oyster Farming", "Shellfish Research", {"weight": 0.2, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["Oyster Farming", "Socioeconomic Factors", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Oyster Farming", "Water Quality Issues", {"weight": 0.6666666666666666, "confidence": 0.48333333333333334, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Scientific Collaboration", {"weight": -1.0, "confidence": 0.8833333333333333, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Coastal Restoration", {"weight": 0.25, "confidence": 0.5375, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Oyster Farming", {"weight": 0.5, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Socioeconomic Factors", {"weight": 0.6666666666666666, "confidence": 0.5166666666666667, "type": "inter_cluster", "style": "solid"}], ["Shellfish Research", "Oyster Farming", {"weight": 0.25, "confidence": 0.2, "type": "inter_cluster", "style": "solid"}], ["Shellfish Research", "Fisheries Management", {"weight": 0.3333333333333333, "confidence": 0.26666666666666666, "type": "inter_cluster", "style": "solid"}], ["Shellfish Research", "Localized Environmental Impact", {"weight": 0.25, "confidence": 0.1875, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Scientific Collaboration": [["deadzone", {"concepts": "deadzone", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "deadzone"}], ["low salinity", {"concepts": "low salinity", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "low salinity"}], ["sewage spills", {"concepts": "sewage spills", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "sewage spills"}], ["turbidity", {"concepts": "turbidity", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "turbidity"}], ["drought", {"concepts": "drought", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "drought"}], ["water quality", {"concepts": "water quality", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "water quality"}], ["precipitation", {"concepts": "precipitation", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "precipitation"}], ["water", {"concepts": "water", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "water"}], ["ocean acidification", {"concepts": "ocean acidification", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "ocean acidification"}], ["high turbidity", {"concepts": "high turbidity", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "high turbidity"}], ["nutrients", {"concepts": "nutrients", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "nutrients"}], ["mississippi river", {"concepts": "mississippi river", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "mississippi river"}], ["wind", {"concepts": "wind", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "wind"}], ["eutrophied water", {"concepts": "eutrophied water", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "eutrophied water"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "biodiversity"}], ["freshwater pulses", {"concepts": "freshwater pulses", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "freshwater pulses"}], ["marine biodiversity", {"concepts": "marine biodiversity", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "marine biodiversity"}], ["freshwater influx", {"concepts": "freshwater influx", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "freshwater influx"}], ["extreme drought", {"concepts": "extreme drought", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "extreme drought"}], ["delta", {"concepts": "delta", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "delta"}], ["environmental factors", {"concepts": "environmental factors", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "environmental factors"}], ["temperature", {"concepts": "temperature", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "temperature"}], ["nutrient input", {"concepts": "nutrient input", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "nutrient input"}], ["ph", {"concepts": "ph", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "ph"}], ["cyanobacteria", {"concepts": "cyanobacteria", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "cyanobacteria"}], ["salinity", {"concepts": "salinity", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "salinity"}], ["stormwater runoff", {"concepts": "stormwater runoff", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "stormwater runoff"}], ["pollution", {"concepts": "pollution", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "pollution"}], ["thermal pollution", {"concepts": "thermal pollution", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "thermal pollution"}], ["salt-wedge estuary", {"concepts": "salt-wedge estuary", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "salt-wedge estuary"}], ["body of water", {"concepts": "body of water", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "body of water"}], ["hypoxia", {"concepts": "hypoxia", "type": "concept", "cluster": "Scientific Collaboration", "node_size": 10, "label": "hypoxia"}]], "Socioeconomic Factors": [["ccop", {"concepts": "ccop", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "ccop"}], ["concepts", {"concepts": "concepts", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "concepts"}], ["dr. turner", {"concepts": "dr. turner", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "dr. turner"}], ["auburn university", {"concepts": "auburn university", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "auburn university"}], ["science background", {"concepts": "science background", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "science background"}], ["executive committee", {"concepts": "executive committee", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "executive committee"}], ["students", {"concepts": "students", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "students"}], ["mobile bay national estuary program", {"concepts": "mobile bay national estuary program", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "mobile bay national estuary program"}], ["seagrant", {"concepts": "seagrant", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "seagrant"}], ["acf", {"concepts": "acf", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "acf"}], ["publications", {"concepts": "publications", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "publications"}], ["research", {"concepts": "research", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "research"}], ["physical interview", {"concepts": "physical interview", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "physical interview"}], ["chlorophyll", {"concepts": "chlorophyll", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "chlorophyll"}], ["mobile bay watershed", {"concepts": "mobile bay watershed", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "mobile bay watershed"}], ["undergraduate growth", {"concepts": "undergraduate growth", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "undergraduate growth"}], ["grad growth", {"concepts": "grad growth", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "grad growth"}], ["zoom", {"concepts": "zoom", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "zoom"}], ["dr. bill won", {"concepts": "dr. bill won", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "dr. bill won"}], ["young scientist", {"concepts": "young scientist", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "young scientist"}], ["auburn", {"concepts": "auburn", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "auburn"}], ["publication", {"concepts": "publication", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "publication"}], ["algae sampling", {"concepts": "algae sampling", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "algae sampling"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "climate change"}], ["model", {"concepts": "model", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "model"}], ["mentor", {"concepts": "mentor", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "mentor"}], ["sea lab", {"concepts": "sea lab", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "sea lab"}], ["observations", {"concepts": "observations", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "observations"}], ["mental modeling", {"concepts": "mental modeling", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "mental modeling"}], ["collaborative science", {"concepts": "collaborative science", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "collaborative science"}], ["technology", {"concepts": "technology", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "technology"}], ["scientists", {"concepts": "scientists", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "scientists"}], ["education outreach", {"concepts": "education outreach", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "education outreach"}], ["collaboration", {"concepts": "collaboration", "type": "concept", "cluster": "Socioeconomic Factors", "node_size": 10, "label": "collaboration"}]], "Coastal Restoration": [["rural lands", {"concepts": "rural lands", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "rural lands"}], ["unincorporated lands", {"concepts": "unincorporated lands", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "unincorporated lands"}], ["female", {"concepts": "female", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "female"}], ["mortality", {"concepts": "mortality", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "mortality"}], ["mayors", {"concepts": "mayors", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "mayors"}], ["urbanization", {"concepts": "urbanization", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "urbanization"}], ["influence", {"concepts": "influence", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "influence"}], ["agriculture", {"concepts": "agriculture", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "agriculture"}], ["economics", {"concepts": "economics", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "economics"}], ["humans", {"concepts": "humans", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "humans"}], ["interview", {"concepts": "interview", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "interview"}], ["healthy", {"concepts": "healthy", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "healthy"}], ["crawfordville florida", {"concepts": "crawfordville florida", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "crawfordville florida"}], ["economic impacts", {"concepts": "economic impacts", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "economic impacts"}], ["ngos", {"concepts": "ngos", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "ngos"}], ["jubilee", {"concepts": "jubilee", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "jubilee"}], ["baldwin county", {"concepts": "baldwin county", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "baldwin county"}], ["restoration project", {"concepts": "restoration project", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "restoration project"}], ["pushback", {"concepts": "pushback", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "pushback"}], ["doddie", {"concepts": "doddie", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "doddie"}], ["nature conservancy", {"concepts": "nature conservancy", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "nature conservancy"}], ["social drivers", {"concepts": "social drivers", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "social drivers"}], ["red state", {"concepts": "red state", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "red state"}], ["municipalities", {"concepts": "municipalities", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "municipalities"}], ["commercial economic gain", {"concepts": "commercial economic gain", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "commercial economic gain"}], ["making money", {"concepts": "making money", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "making money"}], ["local farmers", {"concepts": "local farmers", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "local farmers"}], ["manager", {"concepts": "manager", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "manager"}], ["resource user", {"concepts": "resource user", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "resource user"}], ["woman-owned business", {"concepts": "woman-owned business", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "woman-owned business"}], ["regulatory organizations", {"concepts": "regulatory organizations", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "regulatory organizations"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "stakeholders"}], ["economic drivers", {"concepts": "economic drivers", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "economic drivers"}], ["founding families", {"concepts": "founding families", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "founding families"}], ["resiliency", {"concepts": "resiliency", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "resiliency"}], ["state level", {"concepts": "state level", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "state level"}], ["male-dominated field", {"concepts": "male-dominated field", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "male-dominated field"}], ["white middle-aged men", {"concepts": "white middle-aged men", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "white middle-aged men"}], ["local extension", {"concepts": "local extension", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "local extension"}], ["bias", {"concepts": "bias", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "bias"}], ["intimidation", {"concepts": "intimidation", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "intimidation"}], ["judy hader", {"concepts": "judy hader", "type": "concept", "cluster": "Coastal Restoration", "node_size": 10, "label": "judy hader"}]], "Localized Environmental Impact": [["restore", {"concepts": "restore", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "restore"}], ["mobile bay", {"concepts": "mobile bay", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "mobile bay"}], ["mississippi sound", {"concepts": "mississippi sound", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "mississippi sound"}], ["leases", {"concepts": "leases", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "leases"}], ["vessel traffic", {"concepts": "vessel traffic", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "vessel traffic"}], ["environmental groups", {"concepts": "environmental groups", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "environmental groups"}], ["germo", {"concepts": "germo", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "germo"}], ["watershed", {"concepts": "watershed", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "watershed"}], ["dynamic", {"concepts": "dynamic", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "dynamic"}], ["coastal community operational plan", {"concepts": "coastal community operational plan", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "coastal community operational plan"}], ["wave activity", {"concepts": "wave activity", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "wave activity"}], ["economic impact", {"concepts": "economic impact", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "economic impact"}], ["storm drains", {"concepts": "storm drains", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "storm drains"}], ["lightning point", {"concepts": "lightning point", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "lightning point"}], ["navigable waterways", {"concepts": "navigable waterways", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "navigable waterways"}], ["colash", {"concepts": "colash", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "colash"}], ["fees", {"concepts": "fees", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "fees"}], ["seasonal wind", {"concepts": "seasonal wind", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "seasonal wind"}], ["climate organization", {"concepts": "climate organization", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "climate organization"}], ["gear", {"concepts": "gear", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "gear"}], ["triploids", {"concepts": "triploids", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "triploids"}], ["genetic diversity", {"concepts": "genetic diversity", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "genetic diversity"}], ["green patches", {"concepts": "green patches", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "green patches"}], ["trophic level", {"concepts": "trophic level", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "trophic level"}], ["gulf of mexico", {"concepts": "gulf of mexico", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "gulf of mexico"}], ["easement", {"concepts": "easement", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "easement"}], ["perspective", {"concepts": "perspective", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "perspective"}], ["outfalls", {"concepts": "outfalls", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "outfalls"}], ["living shorelines", {"concepts": "living shorelines", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "living shorelines"}], ["coastal biodiversity", {"concepts": "coastal biodiversity", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "coastal biodiversity"}], ["carbon footprint", {"concepts": "carbon footprint", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "carbon footprint"}], ["vens", {"concepts": "vens", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "vens"}], ["brain", {"concepts": "brain", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "brain"}], ["space", {"concepts": "space", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "space"}], ["dredging", {"concepts": "dredging", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "dredging"}], ["monetary losses", {"concepts": "monetary losses", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "monetary losses"}], ["diploids", {"concepts": "diploids", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "diploids"}], ["rainfall events", {"concepts": "rainfall events", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "rainfall events"}], ["trophication", {"concepts": "trophication", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "trophication"}], ["oil spill", {"concepts": "oil spill", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "oil spill"}], ["regulation", {"concepts": "regulation", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "regulation"}], ["baykeeper", {"concepts": "baykeeper", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "baykeeper"}], ["green algae", {"concepts": "green algae", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "green algae"}], ["west wind", {"concepts": "west wind", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "west wind"}], ["waterfront access", {"concepts": "waterfront access", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "waterfront access"}], ["pep", {"concepts": "pep", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "pep"}], ["donation", {"concepts": "donation", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "donation"}], ["baldwin", {"concepts": "baldwin", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "baldwin"}], ["epa", {"concepts": "epa", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "epa"}], ["boat traffic", {"concepts": "boat traffic", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "boat traffic"}], ["processor", {"concepts": "processor", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "processor"}], ["privately owned wetlands", {"concepts": "privately owned wetlands", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "privately owned wetlands"}], ["gulf", {"concepts": "gulf", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "gulf"}], ["australian long-line system", {"concepts": "australian long-line system", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "australian long-line system"}], ["ship channel", {"concepts": "ship channel", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "ship channel"}], ["cleaning the bay", {"concepts": "cleaning the bay", "type": "concept", "cluster": "Localized Environmental Impact", "node_size": 10, "label": "cleaning the bay"}]], "Water Quality Issues": [["localized impact", {"concepts": "localized impact", "type": "concept", "cluster": "Water Quality Issues", "node_size": 10, "label": "localized impact"}], ["enforcement", {"concepts": "enforcement", "type": "concept", "cluster": "Water Quality Issues", "node_size": 10, "label": "enforcement"}], ["photosynthesising", {"concepts": "photosynthesising", "type": "concept", "cluster": "Water Quality Issues", "node_size": 10, "label": "photosynthesising"}], ["headwaters", {"concepts": "headwaters", "type": "concept", "cluster": "Water Quality Issues", "node_size": 10, "label": "headwaters"}]], "Oyster Farming": [["shellfish growth", {"concepts": "shellfish growth", "type": "concept", "cluster": "Oyster Farming", "node_size": 10, "label": "shellfish growth"}], ["oyster growth", {"concepts": "oyster growth", "type": "concept", "cluster": "Oyster Farming", "node_size": 10, "label": "oyster growth"}], ["grass-fed oysters", {"concepts": "grass-fed oysters", "type": "concept", "cluster": "Oyster Farming", "node_size": 10, "label": "grass-fed oysters"}], ["oyster community", {"concepts": "oyster community", "type": "concept", "cluster": "Oyster Farming", "node_size": 10, "label": "oyster community"}], ["oysters", {"concepts": "oysters", "type": "concept", "cluster": "Oyster Farming", "node_size": 10, "label": "oysters"}], ["oyster seed", {"concepts": "oyster seed", "type": "concept", "cluster": "Oyster Farming", "node_size": 10, "label": "oyster seed"}], ["oyster aquaculture", {"concepts": "oyster aquaculture", "type": "concept", "cluster": "Oyster Farming", "node_size": 10, "label": "oyster aquaculture"}]], "Fisheries Management": [["fisheries science", {"concepts": "fisheries science", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fisheries science"}], ["fish chemistry", {"concepts": "fish chemistry", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fish chemistry"}], ["hatcheries", {"concepts": "hatcheries", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "hatcheries"}], ["shell loss", {"concepts": "shell loss", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "shell loss"}], ["oyster farming", {"concepts": "oyster farming", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "oyster farming"}], ["fisheries management", {"concepts": "fisheries management", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fisheries management"}], ["broodstock", {"concepts": "broodstock", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "broodstock"}]], "Shellfish Research": [["auburn university shellfish lab", {"concepts": "auburn university shellfish lab", "type": "concept", "cluster": "Shellfish Research", "node_size": 10, "label": "auburn university shellfish lab"}], ["shellfish lab", {"concepts": "shellfish lab", "type": "concept", "cluster": "Shellfish Research", "node_size": 10, "label": "shellfish lab"}]]};
        const clusterEdges = {"Scientific Collaboration": [], "Socioeconomic Factors": [], "Coastal Restoration": [], "Localized Environmental Impact": [], "Water Quality Issues": [], "Oyster Farming": [], "Fisheries Management": [], "Shellfish Research": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
