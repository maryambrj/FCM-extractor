
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"knowledge": {"concepts": "knowledge", "concept_list": ["knowledge"], "type": "cluster", "node_size": 18, "label": "knowledge"}, "marine protected areas": {"concepts": "marine protected areas", "concept_list": ["marine protected areas"], "type": "cluster", "node_size": 18, "label": "marine protected areas"}, "environmental stewardship": {"concepts": "environmental stewardship", "concept_list": ["environmental stewardship"], "type": "cluster", "node_size": 18, "label": "environmental stewardship"}, "environmental issues": {"concepts": "environmental issues", "concept_list": ["environmental issues"], "type": "cluster", "node_size": 18, "label": "environmental issues"}, "monitoring plan": {"concepts": "monitoring plan", "concept_list": ["monitoring plan"], "type": "cluster", "node_size": 18, "label": "monitoring plan"}, "Local/Indigenous Knowledge": {"concepts": "indigenous communities, local knowledge, indigenous knowledge, local communities", "concept_list": ["indigenous communities", "local knowledge", "indigenous knowledge", "local communities"], "type": "cluster", "node_size": 27, "label": "Local/Indigenous Knowledge"}, "Ecosystem Condition": {"concepts": "ecosystem condition, land degradation, terrestrial system, ecosystem extent, endangered ecosystems, land cover, ecosystem, forest cover, mangrove extent", "concept_list": ["ecosystem condition", "land degradation", "terrestrial system", "ecosystem extent", "endangered ecosystems", "land cover", "ecosystem", "forest cover", "mangrove extent"], "type": "cluster", "node_size": 42, "label": "Ecosystem Condition"}, "Species at Risk": {"concepts": "species at risk, endangered species, species, extinction crisis, southern resident orcas", "concept_list": ["species at risk", "endangered species", "species", "extinction crisis", "southern resident orcas"], "type": "cluster", "node_size": 30, "label": "Species at Risk"}, "Agriculture & Organisms": {"concepts": "harmful organisms, agricultural production", "concept_list": ["harmful organisms", "agricultural production"], "type": "cluster", "node_size": 21, "label": "Agriculture & Organisms"}, "Spatial Biodiversity Data": {"concepts": "spatial data products, spatial biodiversity, biodiversity observation, seasonal change, biological diversity, habitat forming species, biodiversity framework, ecosystem services, mangrove protection, biodiversity, sustainable livelihoods, temporal indicators, spatial indicators, conservation concern, spatial data, circumpolar biodiversity monitoring, biodiversity indicators, carbon sequestration, biodiversity monitoring, conservation goals, global biodiversity", "concept_list": ["spatial data products", "spatial biodiversity", "biodiversity observation", "seasonal change", "biological diversity", "habitat forming species", "biodiversity framework", "ecosystem services", "mangrove protection", "biodiversity", "sustainable livelihoods", "temporal indicators", "spatial indicators", "conservation concern", "spatial data", "circumpolar biodiversity monitoring", "biodiversity indicators", "carbon sequestration", "biodiversity monitoring", "conservation goals", "global biodiversity"], "type": "cluster", "node_size": 78, "label": "Spatial Biodiversity Data"}, "Environmental Health": {"concepts": "agricultural runoff, species distribution, biodiversity global plan, forest condition", "concept_list": ["agricultural runoff", "species distribution", "biodiversity global plan", "forest condition"], "type": "cluster", "node_size": 27, "label": "Environmental Health"}, "Chinook Fisheries": {"concepts": "chinook salmon, fisheries, sustainable fisheries, marine resource", "concept_list": ["chinook salmon", "fisheries", "sustainable fisheries", "marine resource"], "type": "cluster", "node_size": 27, "label": "Chinook Fisheries"}, "Aquatic Systems": {"concepts": "coastal system, freshwater system, marine system", "concept_list": ["coastal system", "freshwater system", "marine system"], "type": "cluster", "node_size": 24, "label": "Aquatic Systems"}, "Salish Sea Management": {"concepts": "marine resources, shipping impacts, protected area, salish sea, marine resource management", "concept_list": ["marine resources", "shipping impacts", "protected area", "salish sea", "marine resource management"], "type": "cluster", "node_size": 30, "label": "Salish Sea Management"}, "Development Data Reporting": {"concepts": "case studies, national reports, national development, global indicators, data reporting, global data sets, national monitoring, reporting framework, national development plan, data products, headline indicators", "concept_list": ["case studies", "national reports", "national development", "global indicators", "data reporting", "global data sets", "national monitoring", "reporting framework", "national development plan", "data products", "headline indicators"], "type": "cluster", "node_size": 48, "label": "Development Data Reporting"}, "Collaborative Arctic Management": {"concepts": "canadian collaborators, co-research, collaboration, holistic approach, stakeholder groups, ngos, tribal managers, national partners, co-management, stakeholders, transboundary management, scientists, national governments, arctic council", "concept_list": ["canadian collaborators", "co-research", "collaboration", "holistic approach", "stakeholder groups", "ngos", "tribal managers", "national partners", "co-management", "stakeholders", "transboundary management", "scientists", "national governments", "arctic council"], "type": "cluster", "node_size": 57, "label": "Collaborative Arctic Management"}, "Human Impact": {"concepts": "human threats, human activities, stress, fragmentation, decline", "concept_list": ["human threats", "human activities", "stress", "fragmentation", "decline"], "type": "cluster", "node_size": 30, "label": "Human Impact"}, "Arctic Resource Management": {"concepts": "energy processes, restoration, targets, orca management, resource investment, core data sets, geo-bon, conservation, federal mandates, local scale, system, plankton transacts, support, raw ingredients, goals, plankton, solutions, governance, zoning plans, national scale, trust and ownership, science, transboundary, management actions, productive sectors, arctic, research questions, goals and targets, none, political dynamics, hypotheses, resource management, climate convention, emerging issues, research, trust, management approaches", "concept_list": ["energy processes", "restoration", "targets", "orca management", "resource investment", "core data sets", "geo-bon", "conservation", "federal mandates", "local scale", "system", "plankton transacts", "support", "raw ingredients", "goals", "plankton", "solutions", "governance", "zoning plans", "national scale", "trust and ownership", "science", "transboundary", "management actions", "productive sectors", "arctic", "research questions", "goals and targets", "none", "political dynamics", "hypotheses", "resource management", "climate convention", "emerging issues", "research", "trust", "management approaches"], "type": "cluster", "node_size": 126, "label": "Arctic Resource Management"}, "Data & Management": {"concepts": "canadian managers, plumes, user driven, data visualization, food web, us managers, ownership", "concept_list": ["canadian managers", "plumes", "user driven", "data visualization", "food web", "us managers", "ownership"], "type": "cluster", "node_size": 36, "label": "Data & Management"}, "Environmental Policy": {"concepts": "environmental management policy, environmental agreements", "concept_list": ["environmental management policy", "environmental agreements"], "type": "cluster", "node_size": 21, "label": "Environmental Policy"}, "Environmental Stewardship": {"concepts": "stewardship, environmental profile, environmental management", "concept_list": ["stewardship", "environmental profile", "environmental management"], "type": "cluster", "node_size": 24, "label": "Environmental Stewardship"}, "Monitoring Systems": {"concepts": "monitoring systems, monitoring programs", "concept_list": ["monitoring systems", "monitoring programs"], "type": "cluster", "node_size": 21, "label": "Monitoring Systems"}, "State Monitoring": {"concepts": "monitoring framework, monitoring program, state management", "concept_list": ["monitoring framework", "monitoring program", "state management"], "type": "cluster", "node_size": 24, "label": "State Monitoring"}, "Policy Priorities": {"concepts": "policy priorities, policy needs, policy issue", "concept_list": ["policy priorities", "policy needs", "policy issue"], "type": "cluster", "node_size": 24, "label": "Policy Priorities"}, "Policy Analysis": {"concepts": "policy analysis, policy", "concept_list": ["policy analysis", "policy"], "type": "cluster", "node_size": 21, "label": "Policy Analysis"}, "Infrastructure Enforcement": {"concepts": "infrastructure policies, enforcement", "concept_list": ["infrastructure policies", "enforcement"], "type": "cluster", "node_size": 21, "label": "Infrastructure Enforcement"}};
        const conceptData = {"indigenous communities": {"concepts": "indigenous communities", "type": "concept", "cluster": "Local/Indigenous Knowledge", "node_size": 10, "label": "indigenous communities"}, "local knowledge": {"concepts": "local knowledge", "type": "concept", "cluster": "Local/Indigenous Knowledge", "node_size": 10, "label": "local knowledge"}, "indigenous knowledge": {"concepts": "indigenous knowledge", "type": "concept", "cluster": "Local/Indigenous Knowledge", "node_size": 10, "label": "indigenous knowledge"}, "local communities": {"concepts": "local communities", "type": "concept", "cluster": "Local/Indigenous Knowledge", "node_size": 10, "label": "local communities"}, "ecosystem condition": {"concepts": "ecosystem condition", "type": "concept", "cluster": "Ecosystem Condition", "node_size": 10, "label": "ecosystem condition"}, "land degradation": {"concepts": "land degradation", "type": "concept", "cluster": "Ecosystem Condition", "node_size": 10, "label": "land degradation"}, "terrestrial system": {"concepts": "terrestrial system", "type": "concept", "cluster": "Ecosystem Condition", "node_size": 10, "label": "terrestrial system"}, "ecosystem extent": {"concepts": "ecosystem extent", "type": "concept", "cluster": "Ecosystem Condition", "node_size": 10, "label": "ecosystem extent"}, "endangered ecosystems": {"concepts": "endangered ecosystems", "type": "concept", "cluster": "Ecosystem Condition", "node_size": 10, "label": "endangered ecosystems"}, "land cover": {"concepts": "land cover", "type": "concept", "cluster": "Ecosystem Condition", "node_size": 10, "label": "land cover"}, "ecosystem": {"concepts": "ecosystem", "type": "concept", "cluster": "Ecosystem Condition", "node_size": 10, "label": "ecosystem"}, "forest cover": {"concepts": "forest cover", "type": "concept", "cluster": "Ecosystem Condition", "node_size": 10, "label": "forest cover"}, "mangrove extent": {"concepts": "mangrove extent", "type": "concept", "cluster": "Ecosystem Condition", "node_size": 10, "label": "mangrove extent"}, "species at risk": {"concepts": "species at risk", "type": "concept", "cluster": "Species at Risk", "node_size": 10, "label": "species at risk"}, "endangered species": {"concepts": "endangered species", "type": "concept", "cluster": "Species at Risk", "node_size": 10, "label": "endangered species"}, "species": {"concepts": "species", "type": "concept", "cluster": "Species at Risk", "node_size": 10, "label": "species"}, "extinction crisis": {"concepts": "extinction crisis", "type": "concept", "cluster": "Species at Risk", "node_size": 10, "label": "extinction crisis"}, "southern resident orcas": {"concepts": "southern resident orcas", "type": "concept", "cluster": "Species at Risk", "node_size": 10, "label": "southern resident orcas"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Agriculture & Organisms", "node_size": 10, "label": "harmful organisms"}, "agricultural production": {"concepts": "agricultural production", "type": "concept", "cluster": "Agriculture & Organisms", "node_size": 10, "label": "agricultural production"}, "spatial data products": {"concepts": "spatial data products", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "spatial data products"}, "spatial biodiversity": {"concepts": "spatial biodiversity", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "spatial biodiversity"}, "biodiversity observation": {"concepts": "biodiversity observation", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "biodiversity observation"}, "seasonal change": {"concepts": "seasonal change", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "seasonal change"}, "biological diversity": {"concepts": "biological diversity", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "biological diversity"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "habitat forming species"}, "biodiversity framework": {"concepts": "biodiversity framework", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "biodiversity framework"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "ecosystem services"}, "mangrove protection": {"concepts": "mangrove protection", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "mangrove protection"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "biodiversity"}, "sustainable livelihoods": {"concepts": "sustainable livelihoods", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "sustainable livelihoods"}, "temporal indicators": {"concepts": "temporal indicators", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "temporal indicators"}, "spatial indicators": {"concepts": "spatial indicators", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "spatial indicators"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "conservation concern"}, "spatial data": {"concepts": "spatial data", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "spatial data"}, "circumpolar biodiversity monitoring": {"concepts": "circumpolar biodiversity monitoring", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "circumpolar biodiversity monitoring"}, "biodiversity indicators": {"concepts": "biodiversity indicators", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "biodiversity indicators"}, "carbon sequestration": {"concepts": "carbon sequestration", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "carbon sequestration"}, "biodiversity monitoring": {"concepts": "biodiversity monitoring", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "biodiversity monitoring"}, "conservation goals": {"concepts": "conservation goals", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "conservation goals"}, "global biodiversity": {"concepts": "global biodiversity", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "global biodiversity"}, "agricultural runoff": {"concepts": "agricultural runoff", "type": "concept", "cluster": "Environmental Health", "node_size": 10, "label": "agricultural runoff"}, "species distribution": {"concepts": "species distribution", "type": "concept", "cluster": "Environmental Health", "node_size": 10, "label": "species distribution"}, "biodiversity global plan": {"concepts": "biodiversity global plan", "type": "concept", "cluster": "Environmental Health", "node_size": 10, "label": "biodiversity global plan"}, "forest condition": {"concepts": "forest condition", "type": "concept", "cluster": "Environmental Health", "node_size": 10, "label": "forest condition"}, "chinook salmon": {"concepts": "chinook salmon", "type": "concept", "cluster": "Chinook Fisheries", "node_size": 10, "label": "chinook salmon"}, "fisheries": {"concepts": "fisheries", "type": "concept", "cluster": "Chinook Fisheries", "node_size": 10, "label": "fisheries"}, "sustainable fisheries": {"concepts": "sustainable fisheries", "type": "concept", "cluster": "Chinook Fisheries", "node_size": 10, "label": "sustainable fisheries"}, "marine resource": {"concepts": "marine resource", "type": "concept", "cluster": "Chinook Fisheries", "node_size": 10, "label": "marine resource"}, "coastal system": {"concepts": "coastal system", "type": "concept", "cluster": "Aquatic Systems", "node_size": 10, "label": "coastal system"}, "freshwater system": {"concepts": "freshwater system", "type": "concept", "cluster": "Aquatic Systems", "node_size": 10, "label": "freshwater system"}, "marine system": {"concepts": "marine system", "type": "concept", "cluster": "Aquatic Systems", "node_size": 10, "label": "marine system"}, "marine resources": {"concepts": "marine resources", "type": "concept", "cluster": "Salish Sea Management", "node_size": 10, "label": "marine resources"}, "shipping impacts": {"concepts": "shipping impacts", "type": "concept", "cluster": "Salish Sea Management", "node_size": 10, "label": "shipping impacts"}, "protected area": {"concepts": "protected area", "type": "concept", "cluster": "Salish Sea Management", "node_size": 10, "label": "protected area"}, "salish sea": {"concepts": "salish sea", "type": "concept", "cluster": "Salish Sea Management", "node_size": 10, "label": "salish sea"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Salish Sea Management", "node_size": 10, "label": "marine resource management"}, "case studies": {"concepts": "case studies", "type": "concept", "cluster": "Development Data Reporting", "node_size": 10, "label": "case studies"}, "national reports": {"concepts": "national reports", "type": "concept", "cluster": "Development Data Reporting", "node_size": 10, "label": "national reports"}, "national development": {"concepts": "national development", "type": "concept", "cluster": "Development Data Reporting", "node_size": 10, "label": "national development"}, "global indicators": {"concepts": "global indicators", "type": "concept", "cluster": "Development Data Reporting", "node_size": 10, "label": "global indicators"}, "data reporting": {"concepts": "data reporting", "type": "concept", "cluster": "Development Data Reporting", "node_size": 10, "label": "data reporting"}, "global data sets": {"concepts": "global data sets", "type": "concept", "cluster": "Development Data Reporting", "node_size": 10, "label": "global data sets"}, "national monitoring": {"concepts": "national monitoring", "type": "concept", "cluster": "Development Data Reporting", "node_size": 10, "label": "national monitoring"}, "reporting framework": {"concepts": "reporting framework", "type": "concept", "cluster": "Development Data Reporting", "node_size": 10, "label": "reporting framework"}, "national development plan": {"concepts": "national development plan", "type": "concept", "cluster": "Development Data Reporting", "node_size": 10, "label": "national development plan"}, "data products": {"concepts": "data products", "type": "concept", "cluster": "Development Data Reporting", "node_size": 10, "label": "data products"}, "headline indicators": {"concepts": "headline indicators", "type": "concept", "cluster": "Development Data Reporting", "node_size": 10, "label": "headline indicators"}, "canadian collaborators": {"concepts": "canadian collaborators", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "canadian collaborators"}, "co-research": {"concepts": "co-research", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "co-research"}, "collaboration": {"concepts": "collaboration", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "collaboration"}, "holistic approach": {"concepts": "holistic approach", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "holistic approach"}, "stakeholder groups": {"concepts": "stakeholder groups", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "stakeholder groups"}, "ngos": {"concepts": "ngos", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "ngos"}, "tribal managers": {"concepts": "tribal managers", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "tribal managers"}, "national partners": {"concepts": "national partners", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "national partners"}, "co-management": {"concepts": "co-management", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "co-management"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "stakeholders"}, "transboundary management": {"concepts": "transboundary management", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "transboundary management"}, "scientists": {"concepts": "scientists", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "scientists"}, "national governments": {"concepts": "national governments", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "national governments"}, "arctic council": {"concepts": "arctic council", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "arctic council"}, "human threats": {"concepts": "human threats", "type": "concept", "cluster": "Human Impact", "node_size": 10, "label": "human threats"}, "human activities": {"concepts": "human activities", "type": "concept", "cluster": "Human Impact", "node_size": 10, "label": "human activities"}, "stress": {"concepts": "stress", "type": "concept", "cluster": "Human Impact", "node_size": 10, "label": "stress"}, "fragmentation": {"concepts": "fragmentation", "type": "concept", "cluster": "Human Impact", "node_size": 10, "label": "fragmentation"}, "decline": {"concepts": "decline", "type": "concept", "cluster": "Human Impact", "node_size": 10, "label": "decline"}, "energy processes": {"concepts": "energy processes", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "energy processes"}, "restoration": {"concepts": "restoration", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "restoration"}, "targets": {"concepts": "targets", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "targets"}, "orca management": {"concepts": "orca management", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "orca management"}, "resource investment": {"concepts": "resource investment", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "resource investment"}, "core data sets": {"concepts": "core data sets", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "core data sets"}, "geo-bon": {"concepts": "geo-bon", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "geo-bon"}, "conservation": {"concepts": "conservation", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "conservation"}, "federal mandates": {"concepts": "federal mandates", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "federal mandates"}, "local scale": {"concepts": "local scale", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "local scale"}, "system": {"concepts": "system", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "system"}, "plankton transacts": {"concepts": "plankton transacts", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "plankton transacts"}, "support": {"concepts": "support", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "support"}, "raw ingredients": {"concepts": "raw ingredients", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "raw ingredients"}, "goals": {"concepts": "goals", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "goals"}, "plankton": {"concepts": "plankton", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "plankton"}, "solutions": {"concepts": "solutions", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "solutions"}, "governance": {"concepts": "governance", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "governance"}, "zoning plans": {"concepts": "zoning plans", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "zoning plans"}, "national scale": {"concepts": "national scale", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "national scale"}, "trust and ownership": {"concepts": "trust and ownership", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "trust and ownership"}, "science": {"concepts": "science", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "science"}, "transboundary": {"concepts": "transboundary", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "transboundary"}, "management actions": {"concepts": "management actions", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "management actions"}, "productive sectors": {"concepts": "productive sectors", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "productive sectors"}, "arctic": {"concepts": "arctic", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "arctic"}, "research questions": {"concepts": "research questions", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "research questions"}, "goals and targets": {"concepts": "goals and targets", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "goals and targets"}, "none": {"concepts": "none", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "none"}, "political dynamics": {"concepts": "political dynamics", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "political dynamics"}, "hypotheses": {"concepts": "hypotheses", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "hypotheses"}, "resource management": {"concepts": "resource management", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "resource management"}, "climate convention": {"concepts": "climate convention", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "climate convention"}, "emerging issues": {"concepts": "emerging issues", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "emerging issues"}, "research": {"concepts": "research", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "research"}, "trust": {"concepts": "trust", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "trust"}, "management approaches": {"concepts": "management approaches", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "management approaches"}, "canadian managers": {"concepts": "canadian managers", "type": "concept", "cluster": "Data & Management", "node_size": 10, "label": "canadian managers"}, "plumes": {"concepts": "plumes", "type": "concept", "cluster": "Data & Management", "node_size": 10, "label": "plumes"}, "user driven": {"concepts": "user driven", "type": "concept", "cluster": "Data & Management", "node_size": 10, "label": "user driven"}, "data visualization": {"concepts": "data visualization", "type": "concept", "cluster": "Data & Management", "node_size": 10, "label": "data visualization"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Data & Management", "node_size": 10, "label": "food web"}, "us managers": {"concepts": "us managers", "type": "concept", "cluster": "Data & Management", "node_size": 10, "label": "us managers"}, "ownership": {"concepts": "ownership", "type": "concept", "cluster": "Data & Management", "node_size": 10, "label": "ownership"}, "environmental management policy": {"concepts": "environmental management policy", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "environmental management policy"}, "environmental agreements": {"concepts": "environmental agreements", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "environmental agreements"}, "stewardship": {"concepts": "stewardship", "type": "concept", "cluster": "Environmental Stewardship", "node_size": 10, "label": "stewardship"}, "environmental profile": {"concepts": "environmental profile", "type": "concept", "cluster": "Environmental Stewardship", "node_size": 10, "label": "environmental profile"}, "environmental management": {"concepts": "environmental management", "type": "concept", "cluster": "Environmental Stewardship", "node_size": 10, "label": "environmental management"}, "monitoring systems": {"concepts": "monitoring systems", "type": "concept", "cluster": "Monitoring Systems", "node_size": 10, "label": "monitoring systems"}, "monitoring programs": {"concepts": "monitoring programs", "type": "concept", "cluster": "Monitoring Systems", "node_size": 10, "label": "monitoring programs"}, "monitoring framework": {"concepts": "monitoring framework", "type": "concept", "cluster": "State Monitoring", "node_size": 10, "label": "monitoring framework"}, "monitoring program": {"concepts": "monitoring program", "type": "concept", "cluster": "State Monitoring", "node_size": 10, "label": "monitoring program"}, "state management": {"concepts": "state management", "type": "concept", "cluster": "State Monitoring", "node_size": 10, "label": "state management"}, "policy priorities": {"concepts": "policy priorities", "type": "concept", "cluster": "Policy Priorities", "node_size": 10, "label": "policy priorities"}, "policy needs": {"concepts": "policy needs", "type": "concept", "cluster": "Policy Priorities", "node_size": 10, "label": "policy needs"}, "policy issue": {"concepts": "policy issue", "type": "concept", "cluster": "Policy Priorities", "node_size": 10, "label": "policy issue"}, "policy analysis": {"concepts": "policy analysis", "type": "concept", "cluster": "Policy Analysis", "node_size": 10, "label": "policy analysis"}, "policy": {"concepts": "policy", "type": "concept", "cluster": "Policy Analysis", "node_size": 10, "label": "policy"}, "infrastructure policies": {"concepts": "infrastructure policies", "type": "concept", "cluster": "Infrastructure Enforcement", "node_size": 10, "label": "infrastructure policies"}, "enforcement": {"concepts": "enforcement", "type": "concept", "cluster": "Infrastructure Enforcement", "node_size": 10, "label": "enforcement"}};
        const interClusterEdges = [["knowledge", "Human Impact", {"weight": -0.75, "confidence": 0.1875, "type": "inter_cluster", "style": "solid"}], ["knowledge", "State Monitoring", {"weight": 0.6666666666666666, "confidence": 0.26666666666666666, "type": "inter_cluster", "style": "solid"}], ["marine protected areas", "Species at Risk", {"weight": 1.0, "confidence": 0.275, "type": "inter_cluster", "style": "solid"}], ["marine protected areas", "Local/Indigenous Knowledge", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["marine protected areas", "Collaborative Arctic Management", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["marine protected areas", "knowledge", {"weight": 1.0, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["environmental stewardship", "Local/Indigenous Knowledge", {"weight": 0.75, "confidence": 0.325, "type": "inter_cluster", "style": "solid"}], ["environmental stewardship", "Agriculture & Organisms", {"weight": -1.0, "confidence": 0.1, "type": "inter_cluster", "style": "solid"}], ["environmental issues", "Species at Risk", {"weight": 1.0, "confidence": 0.625, "type": "inter_cluster", "style": "solid"}], ["environmental issues", "Chinook Fisheries", {"weight": -0.3333333333333333, "confidence": 0.3333333333333333, "type": "inter_cluster", "style": "solid"}], ["environmental issues", "Environmental Health", {"weight": 1.0, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["environmental issues", "Development Data Reporting", {"weight": 1.0, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["environmental issues", "Arctic Resource Management", {"weight": 1.0, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["environmental issues", "Environmental Stewardship", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["monitoring plan", "Monitoring Systems", {"weight": 1.0, "confidence": 0.7750000000000001, "type": "inter_cluster", "style": "solid"}], ["monitoring plan", "Environmental Policy", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["monitoring plan", "Development Data Reporting", {"weight": 1.0, "confidence": 0.43999999999999995, "type": "inter_cluster", "style": "solid"}], ["monitoring plan", "Policy Priorities", {"weight": 1.0, "confidence": 0.525, "type": "inter_cluster", "style": "solid"}], ["Local/Indigenous Knowledge", "environmental stewardship", {"weight": 1.0, "confidence": 0.7699999999999999, "type": "inter_cluster", "style": "solid"}], ["Local/Indigenous Knowledge", "Infrastructure Enforcement", {"weight": 0.6666666666666666, "confidence": 0.19999999999999998, "type": "inter_cluster", "style": "solid"}], ["Species at Risk", "environmental stewardship", {"weight": 1.0, "confidence": 0.34, "type": "inter_cluster", "style": "solid"}], ["Species at Risk", "Development Data Reporting", {"weight": 0.5, "confidence": 0.15, "type": "inter_cluster", "style": "solid"}], ["Agriculture & Organisms", "Chinook Fisheries", {"weight": -1.0, "confidence": 0.3666666666666667, "type": "inter_cluster", "style": "solid"}], ["Spatial Biodiversity Data", "Development Data Reporting", {"weight": 1.0, "confidence": 0.62, "type": "inter_cluster", "style": "solid"}], ["Spatial Biodiversity Data", "Collaborative Arctic Management", {"weight": 0.8, "confidence": 0.38, "type": "inter_cluster", "style": "solid"}], ["Spatial Biodiversity Data", "Species at Risk", {"weight": -0.6666666666666666, "confidence": 0.2333333333333333, "type": "inter_cluster", "style": "solid"}], ["Environmental Health", "environmental issues", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Environmental Health", "Chinook Fisheries", {"weight": -1.0, "confidence": 0.35000000000000003, "type": "inter_cluster", "style": "solid"}], ["Environmental Health", "Local/Indigenous Knowledge", {"weight": 0.5, "confidence": 0.15, "type": "inter_cluster", "style": "solid"}], ["Chinook Fisheries", "Local/Indigenous Knowledge", {"weight": 0.75, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}], ["Chinook Fisheries", "marine protected areas", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Salish Sea Management", "marine protected areas", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Salish Sea Management", "Environmental Stewardship", {"weight": 0.6666666666666666, "confidence": 0.39999999999999997, "type": "inter_cluster", "style": "solid"}], ["Salish Sea Management", "Development Data Reporting", {"weight": 1.0, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Development Data Reporting", "Environmental Policy", {"weight": 1.0, "confidence": 0.58, "type": "inter_cluster", "style": "solid"}], ["Development Data Reporting", "Policy Priorities", {"weight": 1.0, "confidence": 0.4666666666666666, "type": "inter_cluster", "style": "solid"}], ["Development Data Reporting", "Policy Analysis", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Collaborative Arctic Management", "monitoring plan", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["Collaborative Arctic Management", "environmental stewardship", {"weight": 1.0, "confidence": 0.4666666666666666, "type": "inter_cluster", "style": "solid"}], ["Collaborative Arctic Management", "Aquatic Systems", {"weight": 1.0, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Collaborative Arctic Management", "Species at Risk", {"weight": 1.0, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}], ["Collaborative Arctic Management", "Infrastructure Enforcement", {"weight": 1.0, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Collaborative Arctic Management", "Policy Analysis", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Human Impact", "Ecosystem Condition", {"weight": -1.0, "confidence": 0.6499999999999999, "type": "inter_cluster", "style": "solid"}], ["Human Impact", "monitoring plan", {"weight": 0.5, "confidence": 0.19999999999999998, "type": "inter_cluster", "style": "solid"}], ["Arctic Resource Management", "Environmental Health", {"weight": 1.0, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Data & Management", "environmental stewardship", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Environmental Policy", "monitoring plan", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Environmental Stewardship", "marine protected areas", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Monitoring Systems", "Infrastructure Enforcement", {"weight": 0.3333333333333333, "confidence": 0.13333333333333333, "type": "inter_cluster", "style": "solid"}], ["Monitoring Systems", "Chinook Fisheries", {"weight": 1.0, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["State Monitoring", "Salish Sea Management", {"weight": 0.2, "confidence": 0.24000000000000005, "type": "inter_cluster", "style": "solid"}], ["State Monitoring", "Human Impact", {"weight": -1.0, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}], ["Policy Priorities", "Monitoring Systems", {"weight": 1.0, "confidence": 0.6499999999999999, "type": "inter_cluster", "style": "solid"}], ["Policy Priorities", "environmental issues", {"weight": 1.0, "confidence": 0.475, "type": "inter_cluster", "style": "solid"}], ["Policy Priorities", "Environmental Health", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Policy Analysis", "Policy Priorities", {"weight": 1.0, "confidence": 0.6875, "type": "inter_cluster", "style": "solid"}], ["Infrastructure Enforcement", "Spatial Biodiversity Data", {"weight": 1.0, "confidence": 0.31999999999999995, "type": "inter_cluster", "style": "solid"}], ["Infrastructure Enforcement", "marine protected areas", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Infrastructure Enforcement", "Arctic Resource Management", {"weight": 0.5, "confidence": 0.2, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Local/Indigenous Knowledge": [["indigenous communities", {"concepts": "indigenous communities", "type": "concept", "cluster": "Local/Indigenous Knowledge", "node_size": 10, "label": "indigenous communities"}], ["local knowledge", {"concepts": "local knowledge", "type": "concept", "cluster": "Local/Indigenous Knowledge", "node_size": 10, "label": "local knowledge"}], ["indigenous knowledge", {"concepts": "indigenous knowledge", "type": "concept", "cluster": "Local/Indigenous Knowledge", "node_size": 10, "label": "indigenous knowledge"}], ["local communities", {"concepts": "local communities", "type": "concept", "cluster": "Local/Indigenous Knowledge", "node_size": 10, "label": "local communities"}]], "Ecosystem Condition": [["ecosystem condition", {"concepts": "ecosystem condition", "type": "concept", "cluster": "Ecosystem Condition", "node_size": 10, "label": "ecosystem condition"}], ["land degradation", {"concepts": "land degradation", "type": "concept", "cluster": "Ecosystem Condition", "node_size": 10, "label": "land degradation"}], ["terrestrial system", {"concepts": "terrestrial system", "type": "concept", "cluster": "Ecosystem Condition", "node_size": 10, "label": "terrestrial system"}], ["ecosystem extent", {"concepts": "ecosystem extent", "type": "concept", "cluster": "Ecosystem Condition", "node_size": 10, "label": "ecosystem extent"}], ["endangered ecosystems", {"concepts": "endangered ecosystems", "type": "concept", "cluster": "Ecosystem Condition", "node_size": 10, "label": "endangered ecosystems"}], ["land cover", {"concepts": "land cover", "type": "concept", "cluster": "Ecosystem Condition", "node_size": 10, "label": "land cover"}], ["ecosystem", {"concepts": "ecosystem", "type": "concept", "cluster": "Ecosystem Condition", "node_size": 10, "label": "ecosystem"}], ["forest cover", {"concepts": "forest cover", "type": "concept", "cluster": "Ecosystem Condition", "node_size": 10, "label": "forest cover"}], ["mangrove extent", {"concepts": "mangrove extent", "type": "concept", "cluster": "Ecosystem Condition", "node_size": 10, "label": "mangrove extent"}]], "Species at Risk": [["species at risk", {"concepts": "species at risk", "type": "concept", "cluster": "Species at Risk", "node_size": 10, "label": "species at risk"}], ["endangered species", {"concepts": "endangered species", "type": "concept", "cluster": "Species at Risk", "node_size": 10, "label": "endangered species"}], ["species", {"concepts": "species", "type": "concept", "cluster": "Species at Risk", "node_size": 10, "label": "species"}], ["extinction crisis", {"concepts": "extinction crisis", "type": "concept", "cluster": "Species at Risk", "node_size": 10, "label": "extinction crisis"}], ["southern resident orcas", {"concepts": "southern resident orcas", "type": "concept", "cluster": "Species at Risk", "node_size": 10, "label": "southern resident orcas"}]], "Agriculture & Organisms": [["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Agriculture & Organisms", "node_size": 10, "label": "harmful organisms"}], ["agricultural production", {"concepts": "agricultural production", "type": "concept", "cluster": "Agriculture & Organisms", "node_size": 10, "label": "agricultural production"}]], "Spatial Biodiversity Data": [["spatial data products", {"concepts": "spatial data products", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "spatial data products"}], ["spatial biodiversity", {"concepts": "spatial biodiversity", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "spatial biodiversity"}], ["biodiversity observation", {"concepts": "biodiversity observation", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "biodiversity observation"}], ["seasonal change", {"concepts": "seasonal change", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "seasonal change"}], ["biological diversity", {"concepts": "biological diversity", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "biological diversity"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "habitat forming species"}], ["biodiversity framework", {"concepts": "biodiversity framework", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "biodiversity framework"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "ecosystem services"}], ["mangrove protection", {"concepts": "mangrove protection", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "mangrove protection"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "biodiversity"}], ["sustainable livelihoods", {"concepts": "sustainable livelihoods", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "sustainable livelihoods"}], ["temporal indicators", {"concepts": "temporal indicators", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "temporal indicators"}], ["spatial indicators", {"concepts": "spatial indicators", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "spatial indicators"}], ["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "conservation concern"}], ["spatial data", {"concepts": "spatial data", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "spatial data"}], ["circumpolar biodiversity monitoring", {"concepts": "circumpolar biodiversity monitoring", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "circumpolar biodiversity monitoring"}], ["biodiversity indicators", {"concepts": "biodiversity indicators", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "biodiversity indicators"}], ["carbon sequestration", {"concepts": "carbon sequestration", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "carbon sequestration"}], ["biodiversity monitoring", {"concepts": "biodiversity monitoring", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "biodiversity monitoring"}], ["conservation goals", {"concepts": "conservation goals", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "conservation goals"}], ["global biodiversity", {"concepts": "global biodiversity", "type": "concept", "cluster": "Spatial Biodiversity Data", "node_size": 10, "label": "global biodiversity"}]], "Environmental Health": [["agricultural runoff", {"concepts": "agricultural runoff", "type": "concept", "cluster": "Environmental Health", "node_size": 10, "label": "agricultural runoff"}], ["species distribution", {"concepts": "species distribution", "type": "concept", "cluster": "Environmental Health", "node_size": 10, "label": "species distribution"}], ["biodiversity global plan", {"concepts": "biodiversity global plan", "type": "concept", "cluster": "Environmental Health", "node_size": 10, "label": "biodiversity global plan"}], ["forest condition", {"concepts": "forest condition", "type": "concept", "cluster": "Environmental Health", "node_size": 10, "label": "forest condition"}]], "Chinook Fisheries": [["chinook salmon", {"concepts": "chinook salmon", "type": "concept", "cluster": "Chinook Fisheries", "node_size": 10, "label": "chinook salmon"}], ["fisheries", {"concepts": "fisheries", "type": "concept", "cluster": "Chinook Fisheries", "node_size": 10, "label": "fisheries"}], ["sustainable fisheries", {"concepts": "sustainable fisheries", "type": "concept", "cluster": "Chinook Fisheries", "node_size": 10, "label": "sustainable fisheries"}], ["marine resource", {"concepts": "marine resource", "type": "concept", "cluster": "Chinook Fisheries", "node_size": 10, "label": "marine resource"}]], "Aquatic Systems": [["coastal system", {"concepts": "coastal system", "type": "concept", "cluster": "Aquatic Systems", "node_size": 10, "label": "coastal system"}], ["freshwater system", {"concepts": "freshwater system", "type": "concept", "cluster": "Aquatic Systems", "node_size": 10, "label": "freshwater system"}], ["marine system", {"concepts": "marine system", "type": "concept", "cluster": "Aquatic Systems", "node_size": 10, "label": "marine system"}]], "Salish Sea Management": [["marine resources", {"concepts": "marine resources", "type": "concept", "cluster": "Salish Sea Management", "node_size": 10, "label": "marine resources"}], ["shipping impacts", {"concepts": "shipping impacts", "type": "concept", "cluster": "Salish Sea Management", "node_size": 10, "label": "shipping impacts"}], ["protected area", {"concepts": "protected area", "type": "concept", "cluster": "Salish Sea Management", "node_size": 10, "label": "protected area"}], ["salish sea", {"concepts": "salish sea", "type": "concept", "cluster": "Salish Sea Management", "node_size": 10, "label": "salish sea"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Salish Sea Management", "node_size": 10, "label": "marine resource management"}]], "Development Data Reporting": [["case studies", {"concepts": "case studies", "type": "concept", "cluster": "Development Data Reporting", "node_size": 10, "label": "case studies"}], ["national reports", {"concepts": "national reports", "type": "concept", "cluster": "Development Data Reporting", "node_size": 10, "label": "national reports"}], ["national development", {"concepts": "national development", "type": "concept", "cluster": "Development Data Reporting", "node_size": 10, "label": "national development"}], ["global indicators", {"concepts": "global indicators", "type": "concept", "cluster": "Development Data Reporting", "node_size": 10, "label": "global indicators"}], ["data reporting", {"concepts": "data reporting", "type": "concept", "cluster": "Development Data Reporting", "node_size": 10, "label": "data reporting"}], ["global data sets", {"concepts": "global data sets", "type": "concept", "cluster": "Development Data Reporting", "node_size": 10, "label": "global data sets"}], ["national monitoring", {"concepts": "national monitoring", "type": "concept", "cluster": "Development Data Reporting", "node_size": 10, "label": "national monitoring"}], ["reporting framework", {"concepts": "reporting framework", "type": "concept", "cluster": "Development Data Reporting", "node_size": 10, "label": "reporting framework"}], ["national development plan", {"concepts": "national development plan", "type": "concept", "cluster": "Development Data Reporting", "node_size": 10, "label": "national development plan"}], ["data products", {"concepts": "data products", "type": "concept", "cluster": "Development Data Reporting", "node_size": 10, "label": "data products"}], ["headline indicators", {"concepts": "headline indicators", "type": "concept", "cluster": "Development Data Reporting", "node_size": 10, "label": "headline indicators"}]], "Collaborative Arctic Management": [["canadian collaborators", {"concepts": "canadian collaborators", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "canadian collaborators"}], ["co-research", {"concepts": "co-research", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "co-research"}], ["collaboration", {"concepts": "collaboration", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "collaboration"}], ["holistic approach", {"concepts": "holistic approach", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "holistic approach"}], ["stakeholder groups", {"concepts": "stakeholder groups", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "stakeholder groups"}], ["ngos", {"concepts": "ngos", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "ngos"}], ["tribal managers", {"concepts": "tribal managers", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "tribal managers"}], ["national partners", {"concepts": "national partners", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "national partners"}], ["co-management", {"concepts": "co-management", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "co-management"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "stakeholders"}], ["transboundary management", {"concepts": "transboundary management", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "transboundary management"}], ["scientists", {"concepts": "scientists", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "scientists"}], ["national governments", {"concepts": "national governments", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "national governments"}], ["arctic council", {"concepts": "arctic council", "type": "concept", "cluster": "Collaborative Arctic Management", "node_size": 10, "label": "arctic council"}]], "Human Impact": [["human threats", {"concepts": "human threats", "type": "concept", "cluster": "Human Impact", "node_size": 10, "label": "human threats"}], ["human activities", {"concepts": "human activities", "type": "concept", "cluster": "Human Impact", "node_size": 10, "label": "human activities"}], ["stress", {"concepts": "stress", "type": "concept", "cluster": "Human Impact", "node_size": 10, "label": "stress"}], ["fragmentation", {"concepts": "fragmentation", "type": "concept", "cluster": "Human Impact", "node_size": 10, "label": "fragmentation"}], ["decline", {"concepts": "decline", "type": "concept", "cluster": "Human Impact", "node_size": 10, "label": "decline"}]], "Arctic Resource Management": [["energy processes", {"concepts": "energy processes", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "energy processes"}], ["restoration", {"concepts": "restoration", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "restoration"}], ["targets", {"concepts": "targets", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "targets"}], ["orca management", {"concepts": "orca management", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "orca management"}], ["resource investment", {"concepts": "resource investment", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "resource investment"}], ["core data sets", {"concepts": "core data sets", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "core data sets"}], ["geo-bon", {"concepts": "geo-bon", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "geo-bon"}], ["conservation", {"concepts": "conservation", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "conservation"}], ["federal mandates", {"concepts": "federal mandates", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "federal mandates"}], ["local scale", {"concepts": "local scale", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "local scale"}], ["system", {"concepts": "system", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "system"}], ["plankton transacts", {"concepts": "plankton transacts", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "plankton transacts"}], ["support", {"concepts": "support", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "support"}], ["raw ingredients", {"concepts": "raw ingredients", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "raw ingredients"}], ["goals", {"concepts": "goals", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "goals"}], ["plankton", {"concepts": "plankton", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "plankton"}], ["solutions", {"concepts": "solutions", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "solutions"}], ["governance", {"concepts": "governance", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "governance"}], ["zoning plans", {"concepts": "zoning plans", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "zoning plans"}], ["national scale", {"concepts": "national scale", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "national scale"}], ["trust and ownership", {"concepts": "trust and ownership", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "trust and ownership"}], ["science", {"concepts": "science", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "science"}], ["transboundary", {"concepts": "transboundary", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "transboundary"}], ["management actions", {"concepts": "management actions", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "management actions"}], ["productive sectors", {"concepts": "productive sectors", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "productive sectors"}], ["arctic", {"concepts": "arctic", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "arctic"}], ["research questions", {"concepts": "research questions", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "research questions"}], ["goals and targets", {"concepts": "goals and targets", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "goals and targets"}], ["none", {"concepts": "none", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "none"}], ["political dynamics", {"concepts": "political dynamics", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "political dynamics"}], ["hypotheses", {"concepts": "hypotheses", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "hypotheses"}], ["resource management", {"concepts": "resource management", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "resource management"}], ["climate convention", {"concepts": "climate convention", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "climate convention"}], ["emerging issues", {"concepts": "emerging issues", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "emerging issues"}], ["research", {"concepts": "research", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "research"}], ["trust", {"concepts": "trust", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "trust"}], ["management approaches", {"concepts": "management approaches", "type": "concept", "cluster": "Arctic Resource Management", "node_size": 10, "label": "management approaches"}]], "Data & Management": [["canadian managers", {"concepts": "canadian managers", "type": "concept", "cluster": "Data & Management", "node_size": 10, "label": "canadian managers"}], ["plumes", {"concepts": "plumes", "type": "concept", "cluster": "Data & Management", "node_size": 10, "label": "plumes"}], ["user driven", {"concepts": "user driven", "type": "concept", "cluster": "Data & Management", "node_size": 10, "label": "user driven"}], ["data visualization", {"concepts": "data visualization", "type": "concept", "cluster": "Data & Management", "node_size": 10, "label": "data visualization"}], ["food web", {"concepts": "food web", "type": "concept", "cluster": "Data & Management", "node_size": 10, "label": "food web"}], ["us managers", {"concepts": "us managers", "type": "concept", "cluster": "Data & Management", "node_size": 10, "label": "us managers"}], ["ownership", {"concepts": "ownership", "type": "concept", "cluster": "Data & Management", "node_size": 10, "label": "ownership"}]], "Environmental Policy": [["environmental management policy", {"concepts": "environmental management policy", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "environmental management policy"}], ["environmental agreements", {"concepts": "environmental agreements", "type": "concept", "cluster": "Environmental Policy", "node_size": 10, "label": "environmental agreements"}]], "Environmental Stewardship": [["stewardship", {"concepts": "stewardship", "type": "concept", "cluster": "Environmental Stewardship", "node_size": 10, "label": "stewardship"}], ["environmental profile", {"concepts": "environmental profile", "type": "concept", "cluster": "Environmental Stewardship", "node_size": 10, "label": "environmental profile"}], ["environmental management", {"concepts": "environmental management", "type": "concept", "cluster": "Environmental Stewardship", "node_size": 10, "label": "environmental management"}]], "Monitoring Systems": [["monitoring systems", {"concepts": "monitoring systems", "type": "concept", "cluster": "Monitoring Systems", "node_size": 10, "label": "monitoring systems"}], ["monitoring programs", {"concepts": "monitoring programs", "type": "concept", "cluster": "Monitoring Systems", "node_size": 10, "label": "monitoring programs"}]], "State Monitoring": [["monitoring framework", {"concepts": "monitoring framework", "type": "concept", "cluster": "State Monitoring", "node_size": 10, "label": "monitoring framework"}], ["monitoring program", {"concepts": "monitoring program", "type": "concept", "cluster": "State Monitoring", "node_size": 10, "label": "monitoring program"}], ["state management", {"concepts": "state management", "type": "concept", "cluster": "State Monitoring", "node_size": 10, "label": "state management"}]], "Policy Priorities": [["policy priorities", {"concepts": "policy priorities", "type": "concept", "cluster": "Policy Priorities", "node_size": 10, "label": "policy priorities"}], ["policy needs", {"concepts": "policy needs", "type": "concept", "cluster": "Policy Priorities", "node_size": 10, "label": "policy needs"}], ["policy issue", {"concepts": "policy issue", "type": "concept", "cluster": "Policy Priorities", "node_size": 10, "label": "policy issue"}]], "Policy Analysis": [["policy analysis", {"concepts": "policy analysis", "type": "concept", "cluster": "Policy Analysis", "node_size": 10, "label": "policy analysis"}], ["policy", {"concepts": "policy", "type": "concept", "cluster": "Policy Analysis", "node_size": 10, "label": "policy"}]], "Infrastructure Enforcement": [["infrastructure policies", {"concepts": "infrastructure policies", "type": "concept", "cluster": "Infrastructure Enforcement", "node_size": 10, "label": "infrastructure policies"}], ["enforcement", {"concepts": "enforcement", "type": "concept", "cluster": "Infrastructure Enforcement", "node_size": 10, "label": "enforcement"}]]};
        const clusterEdges = {"Local/Indigenous Knowledge": [], "Ecosystem Condition": [], "Species at Risk": [], "Agriculture & Organisms": [], "Spatial Biodiversity Data": [], "Environmental Health": [], "Chinook Fisheries": [], "Aquatic Systems": [], "Salish Sea Management": [], "Development Data Reporting": [], "Collaborative Arctic Management": [], "Human Impact": [], "Arctic Resource Management": [], "Data & Management": [], "Environmental Policy": [], "Environmental Stewardship": [], "Monitoring Systems": [], "State Monitoring": [], "Policy Priorities": [], "Policy Analysis": [], "Infrastructure Enforcement": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
