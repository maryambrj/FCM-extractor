
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Geographic Regions": {"concepts": "local stressors, localized stressors, stressors, global stressors", "concept_list": ["local stressors", "localized stressors", "stressors", "global stressors"], "type": "cluster", "node_size": 27, "label": "Geographic Regions"}, "Institutions & Programs": {"concepts": "d.c., region 9, guam, manasses, mobile alabama, hawaii, virgin islands, american samoa, chesapeake, mobile, epa regions, alabama, puerto rico, virginia, gulf of mexico, region 4", "concept_list": ["d.c.", "region 9", "guam", "manasses", "mobile alabama", "hawaii", "virgin islands", "american samoa", "chesapeake", "mobile", "epa regions", "alabama", "puerto rico", "virginia", "gulf of mexico", "region 4"], "type": "cluster", "node_size": 63, "label": "Institutions & Programs"}, "Environmental Factors": {"concepts": "naval academy, galen koffman, epa, aaas fellowship, epa chesapeake bay program, navy, noaa, food, serc, department of defense, department of the interior", "concept_list": ["naval academy", "galen koffman", "epa", "aaas fellowship", "epa chesapeake bay program", "navy", "noaa", "food", "serc", "department of defense", "department of the interior"], "type": "cluster", "node_size": 48, "label": "Environmental Factors"}, "Cultural & Social Impact": {"concepts": "biocriteria, dredging, harmful organisms, best management practices, bmps, cesspools, hard substrate, plants, co2, pathogens, animals, co2 levels, nutrients", "concept_list": ["biocriteria", "dredging", "harmful organisms", "best management practices", "bmps", "cesspools", "hard substrate", "plants", "co2", "pathogens", "animals", "co2 levels", "nutrients"], "type": "cluster", "node_size": 54, "label": "Cultural & Social Impact"}, "Stress Factors": {"concepts": "historical, cultural significance, positive impact, susan jackson, importance, sarah, local ph, nutrition, family, income, emmett duffy, cultural services, society benefits, sociological", "concept_list": ["historical", "cultural significance", "positive impact", "susan jackson", "importance", "sarah", "local ph", "nutrition", "family", "income", "emmett duffy", "cultural services", "society benefits", "sociological"], "type": "cluster", "node_size": 57, "label": "Stress Factors"}, "System Dynamics": {"concepts": "robustness, mental modeler, system components, systemic, negative feedback loops, stakeholders, size, system dynamics, resources, bcg", "concept_list": ["robustness", "mental modeler", "system components", "systemic", "negative feedback loops", "stakeholders", "size", "system dynamics", "resources", "bcg"], "type": "cluster", "node_size": 45, "label": "System Dynamics"}, "Key Individuals": {"concepts": "steven, galen koffman, susan jackson, sarah, giancarlo ciccetti, emmett duffy", "concept_list": ["steven", "galen koffman", "susan jackson", "sarah", "giancarlo ciccetti", "emmett duffy"], "type": "cluster", "node_size": 33, "label": "Key Individuals"}, "Regulatory Agencies": {"concepts": "regulatory work, epa, epa chesapeake bay program, department of defense, department of the interior", "concept_list": ["regulatory work", "epa", "epa chesapeake bay program", "department of defense", "department of the interior"], "type": "cluster", "node_size": 30, "label": "Regulatory Agencies"}, "Environmental Challenges": {"concepts": "negative impact, region 2, job security, infrastructure, army corps, covid, vims, ph changes", "concept_list": ["negative impact", "region 2", "job security", "infrastructure", "army corps", "covid", "vims", "ph changes"], "type": "cluster", "node_size": 39, "label": "Environmental Challenges"}, "Climate Metrics": {"concepts": "climate change, atmospheric co2, global temperature, global temperature rise, sea surface temperatures, local temperature, global sea level rise, temperature change, sea level rise, temperature changes, temperature rise", "concept_list": ["climate change", "atmospheric co2", "global temperature", "global temperature rise", "sea surface temperatures", "local temperature", "global sea level rise", "temperature change", "sea level rise", "temperature changes", "temperature rise"], "type": "cluster", "node_size": 48, "label": "Climate Metrics"}, "Ocean Chemistry": {"concepts": "water clarity, dissolved co2, ocean buffering, coastal acidification, acidic water, turbidity, calcium carbonate, ocean acidification, water chemistry", "concept_list": ["water clarity", "dissolved co2", "ocean buffering", "coastal acidification", "acidic water", "turbidity", "calcium carbonate", "ocean acidification", "water chemistry"], "type": "cluster", "node_size": 42, "label": "Ocean Chemistry"}, "Ecosystem Biodiversity": {"concepts": "food web supporting species, ecosystem robustness, aquatic nuisance species, habitats, endangered species, invasive species, ecosystem services, shelter, ecosystem benefits, plant and animal species, ecosystem, biodiversity, species of conservation concern, nearshore systems, habitat forming species, habitat, key food web supporting species", "concept_list": ["food web supporting species", "ecosystem robustness", "aquatic nuisance species", "habitats", "endangered species", "invasive species", "ecosystem services", "shelter", "ecosystem benefits", "plant and animal species", "ecosystem", "biodiversity", "species of conservation concern", "nearshore systems", "habitat forming species", "habitat", "key food web supporting species"], "type": "cluster", "node_size": 66, "label": "Ecosystem Biodiversity"}, "Coastal Pollution": {"concepts": "vessel discharges, runoff, coastal flood protection, nutrient loads, coastline protection, coastal protection, land based pollution, land-based pollution, water quality, bioassessments, sediment, waste management, coastal issues, wastewater, polluted runoff", "concept_list": ["vessel discharges", "runoff", "coastal flood protection", "nutrient loads", "coastline protection", "coastal protection", "land based pollution", "land-based pollution", "water quality", "bioassessments", "sediment", "waste management", "coastal issues", "wastewater", "polluted runoff"], "type": "cluster", "node_size": 60, "label": "Coastal Pollution"}, "Marine Resource Management": {"concepts": "northeast, fishing communities, spatial distribution, sustainable farming, storms, major storm events, geochemistry, coast guard, marine resource management, geology, food web dynamics, ecosystem services., environmental social sciences", "concept_list": ["northeast", "fishing communities", "spatial distribution", "sustainable farming", "storms", "major storm events", "geochemistry", "coast guard", "marine resource management", "geology", "food web dynamics", "ecosystem services.", "environmental social sciences"], "type": "cluster", "node_size": 54, "label": "Marine Resource Management"}, "Coral Health": {"concepts": "coral bleaching, stony coral tissue loss disease, endangered coral species, coral expulsion, coral health", "concept_list": ["coral bleaching", "stony coral tissue loss disease", "endangered coral species", "coral expulsion", "coral health"], "type": "cluster", "node_size": 30, "label": "Coral Health"}, "Coral Reef Protection": {"concepts": "coral reef task force, coral reef, coral reef protection, coral reefs, coral reef ecosystems, u.s. coral reef task force, coral reef resilience., corals, corals program", "concept_list": ["coral reef task force", "coral reef", "coral reef protection", "coral reefs", "coral reef ecosystems", "u.s. coral reef task force", "coral reef resilience.", "corals", "corals program"], "type": "cluster", "node_size": 42, "label": "Coral Reef Protection"}, "Reef Symbiosis": {"concepts": "zooxanthellae, artificial reefs", "concept_list": ["zooxanthellae", "artificial reefs"], "type": "cluster", "node_size": 21, "label": "Reef Symbiosis"}, "Government Agencies": {"concepts": "federal agencies, state governments, local government, local governments, federal government, state government", "concept_list": ["federal agencies", "state governments", "local government", "local governments", "federal government", "state government"], "type": "cluster", "node_size": 33, "label": "Government Agencies"}, "Local Communities": {"concepts": "local funds, local communities, rural groups", "concept_list": ["local funds", "local communities", "rural groups"], "type": "cluster", "node_size": 24, "label": "Local Communities"}, "Territorial Governance": {"concepts": "caribbean territories, territorial governments, pacific territories", "concept_list": ["caribbean territories", "territorial governments", "pacific territories"], "type": "cluster", "node_size": 24, "label": "Territorial Governance"}};
        const conceptData = {"local stressors": {"concepts": "local stressors", "type": "concept", "cluster": "Geographic Regions", "node_size": 10, "label": "local stressors"}, "localized stressors": {"concepts": "localized stressors", "type": "concept", "cluster": "Geographic Regions", "node_size": 10, "label": "localized stressors"}, "stressors": {"concepts": "stressors", "type": "concept", "cluster": "Geographic Regions", "node_size": 10, "label": "stressors"}, "global stressors": {"concepts": "global stressors", "type": "concept", "cluster": "Geographic Regions", "node_size": 10, "label": "global stressors"}, "d.c.": {"concepts": "d.c.", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "d.c."}, "region 9": {"concepts": "region 9", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "region 9"}, "guam": {"concepts": "guam", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "guam"}, "manasses": {"concepts": "manasses", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "manasses"}, "mobile alabama": {"concepts": "mobile alabama", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "mobile alabama"}, "hawaii": {"concepts": "hawaii", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "hawaii"}, "virgin islands": {"concepts": "virgin islands", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "virgin islands"}, "american samoa": {"concepts": "american samoa", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "american samoa"}, "chesapeake": {"concepts": "chesapeake", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "chesapeake"}, "mobile": {"concepts": "mobile", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "mobile"}, "epa regions": {"concepts": "epa regions", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "epa regions"}, "alabama": {"concepts": "alabama", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "alabama"}, "puerto rico": {"concepts": "puerto rico", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "puerto rico"}, "virginia": {"concepts": "virginia", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "virginia"}, "gulf of mexico": {"concepts": "gulf of mexico", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "gulf of mexico"}, "region 4": {"concepts": "region 4", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "region 4"}, "naval academy": {"concepts": "naval academy", "type": "concept", "cluster": "Environmental Factors", "node_size": 10, "label": "naval academy"}, "galen koffman": {"concepts": "galen koffman", "type": "concept", "cluster": "Environmental Factors", "node_size": 10, "label": "galen koffman"}, "epa": {"concepts": "epa", "type": "concept", "cluster": "Environmental Factors", "node_size": 10, "label": "epa"}, "aaas fellowship": {"concepts": "aaas fellowship", "type": "concept", "cluster": "Environmental Factors", "node_size": 10, "label": "aaas fellowship"}, "epa chesapeake bay program": {"concepts": "epa chesapeake bay program", "type": "concept", "cluster": "Environmental Factors", "node_size": 10, "label": "epa chesapeake bay program"}, "navy": {"concepts": "navy", "type": "concept", "cluster": "Environmental Factors", "node_size": 10, "label": "navy"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Environmental Factors", "node_size": 10, "label": "noaa"}, "food": {"concepts": "food", "type": "concept", "cluster": "Environmental Factors", "node_size": 10, "label": "food"}, "serc": {"concepts": "serc", "type": "concept", "cluster": "Environmental Factors", "node_size": 10, "label": "serc"}, "department of defense": {"concepts": "department of defense", "type": "concept", "cluster": "Environmental Factors", "node_size": 10, "label": "department of defense"}, "department of the interior": {"concepts": "department of the interior", "type": "concept", "cluster": "Environmental Factors", "node_size": 10, "label": "department of the interior"}, "biocriteria": {"concepts": "biocriteria", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "biocriteria"}, "dredging": {"concepts": "dredging", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "dredging"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "harmful organisms"}, "best management practices": {"concepts": "best management practices", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "best management practices"}, "bmps": {"concepts": "bmps", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "bmps"}, "cesspools": {"concepts": "cesspools", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "cesspools"}, "hard substrate": {"concepts": "hard substrate", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "hard substrate"}, "plants": {"concepts": "plants", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "plants"}, "co2": {"concepts": "co2", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "co2"}, "pathogens": {"concepts": "pathogens", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "pathogens"}, "animals": {"concepts": "animals", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "animals"}, "co2 levels": {"concepts": "co2 levels", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "co2 levels"}, "nutrients": {"concepts": "nutrients", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "nutrients"}, "historical": {"concepts": "historical", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "historical"}, "cultural significance": {"concepts": "cultural significance", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "cultural significance"}, "positive impact": {"concepts": "positive impact", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "positive impact"}, "susan jackson": {"concepts": "susan jackson", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "susan jackson"}, "importance": {"concepts": "importance", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "importance"}, "sarah": {"concepts": "sarah", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "sarah"}, "local ph": {"concepts": "local ph", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "local ph"}, "nutrition": {"concepts": "nutrition", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "nutrition"}, "family": {"concepts": "family", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "family"}, "income": {"concepts": "income", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "income"}, "emmett duffy": {"concepts": "emmett duffy", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "emmett duffy"}, "cultural services": {"concepts": "cultural services", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "cultural services"}, "society benefits": {"concepts": "society benefits", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "society benefits"}, "sociological": {"concepts": "sociological", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "sociological"}, "robustness": {"concepts": "robustness", "type": "concept", "cluster": "System Dynamics", "node_size": 10, "label": "robustness"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "System Dynamics", "node_size": 10, "label": "mental modeler"}, "system components": {"concepts": "system components", "type": "concept", "cluster": "System Dynamics", "node_size": 10, "label": "system components"}, "systemic": {"concepts": "systemic", "type": "concept", "cluster": "System Dynamics", "node_size": 10, "label": "systemic"}, "negative feedback loops": {"concepts": "negative feedback loops", "type": "concept", "cluster": "System Dynamics", "node_size": 10, "label": "negative feedback loops"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "System Dynamics", "node_size": 10, "label": "stakeholders"}, "size": {"concepts": "size", "type": "concept", "cluster": "System Dynamics", "node_size": 10, "label": "size"}, "system dynamics": {"concepts": "system dynamics", "type": "concept", "cluster": "System Dynamics", "node_size": 10, "label": "system dynamics"}, "resources": {"concepts": "resources", "type": "concept", "cluster": "System Dynamics", "node_size": 10, "label": "resources"}, "bcg": {"concepts": "bcg", "type": "concept", "cluster": "System Dynamics", "node_size": 10, "label": "bcg"}, "steven": {"concepts": "steven", "type": "concept", "cluster": "Key Individuals", "node_size": 10, "label": "steven"}, "giancarlo ciccetti": {"concepts": "giancarlo ciccetti", "type": "concept", "cluster": "Key Individuals", "node_size": 10, "label": "giancarlo ciccetti"}, "regulatory work": {"concepts": "regulatory work", "type": "concept", "cluster": "Regulatory Agencies", "node_size": 10, "label": "regulatory work"}, "negative impact": {"concepts": "negative impact", "type": "concept", "cluster": "Environmental Challenges", "node_size": 10, "label": "negative impact"}, "region 2": {"concepts": "region 2", "type": "concept", "cluster": "Environmental Challenges", "node_size": 10, "label": "region 2"}, "job security": {"concepts": "job security", "type": "concept", "cluster": "Environmental Challenges", "node_size": 10, "label": "job security"}, "infrastructure": {"concepts": "infrastructure", "type": "concept", "cluster": "Environmental Challenges", "node_size": 10, "label": "infrastructure"}, "army corps": {"concepts": "army corps", "type": "concept", "cluster": "Environmental Challenges", "node_size": 10, "label": "army corps"}, "covid": {"concepts": "covid", "type": "concept", "cluster": "Environmental Challenges", "node_size": 10, "label": "covid"}, "vims": {"concepts": "vims", "type": "concept", "cluster": "Environmental Challenges", "node_size": 10, "label": "vims"}, "ph changes": {"concepts": "ph changes", "type": "concept", "cluster": "Environmental Challenges", "node_size": 10, "label": "ph changes"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Climate Metrics", "node_size": 10, "label": "climate change"}, "atmospheric co2": {"concepts": "atmospheric co2", "type": "concept", "cluster": "Climate Metrics", "node_size": 10, "label": "atmospheric co2"}, "global temperature": {"concepts": "global temperature", "type": "concept", "cluster": "Climate Metrics", "node_size": 10, "label": "global temperature"}, "global temperature rise": {"concepts": "global temperature rise", "type": "concept", "cluster": "Climate Metrics", "node_size": 10, "label": "global temperature rise"}, "sea surface temperatures": {"concepts": "sea surface temperatures", "type": "concept", "cluster": "Climate Metrics", "node_size": 10, "label": "sea surface temperatures"}, "local temperature": {"concepts": "local temperature", "type": "concept", "cluster": "Climate Metrics", "node_size": 10, "label": "local temperature"}, "global sea level rise": {"concepts": "global sea level rise", "type": "concept", "cluster": "Climate Metrics", "node_size": 10, "label": "global sea level rise"}, "temperature change": {"concepts": "temperature change", "type": "concept", "cluster": "Climate Metrics", "node_size": 10, "label": "temperature change"}, "sea level rise": {"concepts": "sea level rise", "type": "concept", "cluster": "Climate Metrics", "node_size": 10, "label": "sea level rise"}, "temperature changes": {"concepts": "temperature changes", "type": "concept", "cluster": "Climate Metrics", "node_size": 10, "label": "temperature changes"}, "temperature rise": {"concepts": "temperature rise", "type": "concept", "cluster": "Climate Metrics", "node_size": 10, "label": "temperature rise"}, "water clarity": {"concepts": "water clarity", "type": "concept", "cluster": "Ocean Chemistry", "node_size": 10, "label": "water clarity"}, "dissolved co2": {"concepts": "dissolved co2", "type": "concept", "cluster": "Ocean Chemistry", "node_size": 10, "label": "dissolved co2"}, "ocean buffering": {"concepts": "ocean buffering", "type": "concept", "cluster": "Ocean Chemistry", "node_size": 10, "label": "ocean buffering"}, "coastal acidification": {"concepts": "coastal acidification", "type": "concept", "cluster": "Ocean Chemistry", "node_size": 10, "label": "coastal acidification"}, "acidic water": {"concepts": "acidic water", "type": "concept", "cluster": "Ocean Chemistry", "node_size": 10, "label": "acidic water"}, "turbidity": {"concepts": "turbidity", "type": "concept", "cluster": "Ocean Chemistry", "node_size": 10, "label": "turbidity"}, "calcium carbonate": {"concepts": "calcium carbonate", "type": "concept", "cluster": "Ocean Chemistry", "node_size": 10, "label": "calcium carbonate"}, "ocean acidification": {"concepts": "ocean acidification", "type": "concept", "cluster": "Ocean Chemistry", "node_size": 10, "label": "ocean acidification"}, "water chemistry": {"concepts": "water chemistry", "type": "concept", "cluster": "Ocean Chemistry", "node_size": 10, "label": "water chemistry"}, "food web supporting species": {"concepts": "food web supporting species", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "food web supporting species"}, "ecosystem robustness": {"concepts": "ecosystem robustness", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "ecosystem robustness"}, "aquatic nuisance species": {"concepts": "aquatic nuisance species", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "aquatic nuisance species"}, "habitats": {"concepts": "habitats", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "habitats"}, "endangered species": {"concepts": "endangered species", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "endangered species"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "invasive species"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "ecosystem services"}, "shelter": {"concepts": "shelter", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "shelter"}, "ecosystem benefits": {"concepts": "ecosystem benefits", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "ecosystem benefits"}, "plant and animal species": {"concepts": "plant and animal species", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "plant and animal species"}, "ecosystem": {"concepts": "ecosystem", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "ecosystem"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "biodiversity"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "species of conservation concern"}, "nearshore systems": {"concepts": "nearshore systems", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "nearshore systems"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "habitat forming species"}, "habitat": {"concepts": "habitat", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "habitat"}, "key food web supporting species": {"concepts": "key food web supporting species", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "key food web supporting species"}, "vessel discharges": {"concepts": "vessel discharges", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "vessel discharges"}, "runoff": {"concepts": "runoff", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "runoff"}, "coastal flood protection": {"concepts": "coastal flood protection", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "coastal flood protection"}, "nutrient loads": {"concepts": "nutrient loads", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "nutrient loads"}, "coastline protection": {"concepts": "coastline protection", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "coastline protection"}, "coastal protection": {"concepts": "coastal protection", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "coastal protection"}, "land based pollution": {"concepts": "land based pollution", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "land based pollution"}, "land-based pollution": {"concepts": "land-based pollution", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "land-based pollution"}, "water quality": {"concepts": "water quality", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "water quality"}, "bioassessments": {"concepts": "bioassessments", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "bioassessments"}, "sediment": {"concepts": "sediment", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "sediment"}, "waste management": {"concepts": "waste management", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "waste management"}, "coastal issues": {"concepts": "coastal issues", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "coastal issues"}, "wastewater": {"concepts": "wastewater", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "wastewater"}, "polluted runoff": {"concepts": "polluted runoff", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "polluted runoff"}, "northeast": {"concepts": "northeast", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "northeast"}, "fishing communities": {"concepts": "fishing communities", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "fishing communities"}, "spatial distribution": {"concepts": "spatial distribution", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "spatial distribution"}, "sustainable farming": {"concepts": "sustainable farming", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "sustainable farming"}, "storms": {"concepts": "storms", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "storms"}, "major storm events": {"concepts": "major storm events", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "major storm events"}, "geochemistry": {"concepts": "geochemistry", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "geochemistry"}, "coast guard": {"concepts": "coast guard", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "coast guard"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "marine resource management"}, "geology": {"concepts": "geology", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "geology"}, "food web dynamics": {"concepts": "food web dynamics", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "food web dynamics"}, "ecosystem services.": {"concepts": "ecosystem services.", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem services."}, "environmental social sciences": {"concepts": "environmental social sciences", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "environmental social sciences"}, "coral bleaching": {"concepts": "coral bleaching", "type": "concept", "cluster": "Coral Health", "node_size": 10, "label": "coral bleaching"}, "stony coral tissue loss disease": {"concepts": "stony coral tissue loss disease", "type": "concept", "cluster": "Coral Health", "node_size": 10, "label": "stony coral tissue loss disease"}, "endangered coral species": {"concepts": "endangered coral species", "type": "concept", "cluster": "Coral Health", "node_size": 10, "label": "endangered coral species"}, "coral expulsion": {"concepts": "coral expulsion", "type": "concept", "cluster": "Coral Health", "node_size": 10, "label": "coral expulsion"}, "coral health": {"concepts": "coral health", "type": "concept", "cluster": "Coral Health", "node_size": 10, "label": "coral health"}, "coral reef task force": {"concepts": "coral reef task force", "type": "concept", "cluster": "Coral Reef Protection", "node_size": 10, "label": "coral reef task force"}, "coral reef": {"concepts": "coral reef", "type": "concept", "cluster": "Coral Reef Protection", "node_size": 10, "label": "coral reef"}, "coral reef protection": {"concepts": "coral reef protection", "type": "concept", "cluster": "Coral Reef Protection", "node_size": 10, "label": "coral reef protection"}, "coral reefs": {"concepts": "coral reefs", "type": "concept", "cluster": "Coral Reef Protection", "node_size": 10, "label": "coral reefs"}, "coral reef ecosystems": {"concepts": "coral reef ecosystems", "type": "concept", "cluster": "Coral Reef Protection", "node_size": 10, "label": "coral reef ecosystems"}, "u.s. coral reef task force": {"concepts": "u.s. coral reef task force", "type": "concept", "cluster": "Coral Reef Protection", "node_size": 10, "label": "u.s. coral reef task force"}, "coral reef resilience.": {"concepts": "coral reef resilience.", "type": "concept", "cluster": "Coral Reef Protection", "node_size": 10, "label": "coral reef resilience."}, "corals": {"concepts": "corals", "type": "concept", "cluster": "Coral Reef Protection", "node_size": 10, "label": "corals"}, "corals program": {"concepts": "corals program", "type": "concept", "cluster": "Coral Reef Protection", "node_size": 10, "label": "corals program"}, "zooxanthellae": {"concepts": "zooxanthellae", "type": "concept", "cluster": "Reef Symbiosis", "node_size": 10, "label": "zooxanthellae"}, "artificial reefs": {"concepts": "artificial reefs", "type": "concept", "cluster": "Reef Symbiosis", "node_size": 10, "label": "artificial reefs"}, "federal agencies": {"concepts": "federal agencies", "type": "concept", "cluster": "Government Agencies", "node_size": 10, "label": "federal agencies"}, "state governments": {"concepts": "state governments", "type": "concept", "cluster": "Government Agencies", "node_size": 10, "label": "state governments"}, "local government": {"concepts": "local government", "type": "concept", "cluster": "Government Agencies", "node_size": 10, "label": "local government"}, "local governments": {"concepts": "local governments", "type": "concept", "cluster": "Government Agencies", "node_size": 10, "label": "local governments"}, "federal government": {"concepts": "federal government", "type": "concept", "cluster": "Government Agencies", "node_size": 10, "label": "federal government"}, "state government": {"concepts": "state government", "type": "concept", "cluster": "Government Agencies", "node_size": 10, "label": "state government"}, "local funds": {"concepts": "local funds", "type": "concept", "cluster": "Local Communities", "node_size": 10, "label": "local funds"}, "local communities": {"concepts": "local communities", "type": "concept", "cluster": "Local Communities", "node_size": 10, "label": "local communities"}, "rural groups": {"concepts": "rural groups", "type": "concept", "cluster": "Local Communities", "node_size": 10, "label": "rural groups"}, "caribbean territories": {"concepts": "caribbean territories", "type": "concept", "cluster": "Territorial Governance", "node_size": 10, "label": "caribbean territories"}, "territorial governments": {"concepts": "territorial governments", "type": "concept", "cluster": "Territorial Governance", "node_size": 10, "label": "territorial governments"}, "pacific territories": {"concepts": "pacific territories", "type": "concept", "cluster": "Territorial Governance", "node_size": 10, "label": "pacific territories"}};
        const interClusterEdges = [["Geographic Regions", "Regulatory Agencies", {"weight": -0.2, "confidence": 0.44000000000000006, "type": "inter_cluster", "style": "solid"}], ["Geographic Regions", "Cultural & Social Impact", {"weight": -0.5, "confidence": 0.3875, "type": "inter_cluster", "style": "solid"}], ["Institutions & Programs", "Regulatory Agencies", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Institutions & Programs", "Government Agencies", {"weight": 0.6, "confidence": 0.47000000000000003, "type": "inter_cluster", "style": "solid"}], ["Institutions & Programs", "Local Communities", {"weight": 0.6, "confidence": 0.43, "type": "inter_cluster", "style": "solid"}], ["Institutions & Programs", "Environmental Challenges", {"weight": 0.5, "confidence": 0.38749999999999996, "type": "inter_cluster", "style": "solid"}], ["Institutions & Programs", "Geographic Regions", {"weight": 0.5, "confidence": 0.3625, "type": "inter_cluster", "style": "solid"}], ["Environmental Factors", "Cultural & Social Impact", {"weight": 0.4, "confidence": 0.29, "type": "inter_cluster", "style": "solid"}], ["Cultural & Social Impact", "System Dynamics", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Cultural & Social Impact", "Climate Metrics", {"weight": 0.4, "confidence": 0.61, "type": "inter_cluster", "style": "solid"}], ["Cultural & Social Impact", "Reef Symbiosis", {"weight": 0.4, "confidence": 0.6100000000000001, "type": "inter_cluster", "style": "solid"}], ["Cultural & Social Impact", "Local Communities", {"weight": 0.6, "confidence": 0.45999999999999996, "type": "inter_cluster", "style": "solid"}], ["Cultural & Social Impact", "Key Individuals", {"weight": 0.4, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Cultural & Social Impact", "Territorial Governance", {"weight": 0.2, "confidence": 0.15, "type": "inter_cluster", "style": "solid"}], ["Stress Factors", "Local Communities", {"weight": 0.8, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Stress Factors", "Cultural & Social Impact", {"weight": 0.75, "confidence": 0.5375, "type": "inter_cluster", "style": "solid"}], ["Stress Factors", "Geographic Regions", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["System Dynamics", "Local Communities", {"weight": 0.2, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["System Dynamics", "Environmental Challenges", {"weight": 0.75, "confidence": 0.5375, "type": "inter_cluster", "style": "solid"}], ["Key Individuals", "Coral Reef Protection", {"weight": 0.75, "confidence": 0.575, "type": "inter_cluster", "style": "solid"}], ["Regulatory Agencies", "Coral Reef Protection", {"weight": 0.25, "confidence": 0.625, "type": "inter_cluster", "style": "solid"}], ["Regulatory Agencies", "Coral Health", {"weight": 0.6, "confidence": 0.47000000000000003, "type": "inter_cluster", "style": "solid"}], ["Regulatory Agencies", "Stress Factors", {"weight": 0.6, "confidence": 0.43, "type": "inter_cluster", "style": "solid"}], ["Regulatory Agencies", "Environmental Factors", {"weight": 0.6, "confidence": 0.47000000000000003, "type": "inter_cluster", "style": "solid"}], ["Environmental Challenges", "Regulatory Agencies", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Environmental Challenges", "Coral Reef Protection", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Climate Metrics", "Marine Resource Management", {"weight": -0.2, "confidence": 0.78, "type": "inter_cluster", "style": "solid"}], ["Climate Metrics", "Coastal Pollution", {"weight": -0.4, "confidence": 0.66, "type": "inter_cluster", "style": "solid"}], ["Climate Metrics", "Cultural & Social Impact", {"weight": 0.75, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Climate Metrics", "Environmental Challenges", {"weight": -0.2, "confidence": 0.45999999999999996, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Biodiversity", "System Dynamics", {"weight": 0.6, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Biodiversity", "Coral Reef Protection", {"weight": 0.5, "confidence": 0.425, "type": "inter_cluster", "style": "solid"}], ["Coastal Pollution", "Reef Symbiosis", {"weight": 0.4, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Marine Resource Management", "Geographic Regions", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Marine Resource Management", "Territorial Governance", {"weight": 0.3333333333333333, "confidence": 0.2333333333333333, "type": "inter_cluster", "style": "solid"}], ["Coral Health", "Reef Symbiosis", {"weight": 0.25, "confidence": 0.575, "type": "inter_cluster", "style": "solid"}], ["Coral Health", "Local Communities", {"weight": 0.4, "confidence": 0.31, "type": "inter_cluster", "style": "solid"}], ["Coral Health", "Regulatory Agencies", {"weight": 0.5, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Coral Reef Protection", "Environmental Factors", {"weight": 0.4, "confidence": 0.6699999999999999, "type": "inter_cluster", "style": "solid"}], ["Coral Reef Protection", "System Dynamics", {"weight": 1.0, "confidence": 0.7333333333333334, "type": "inter_cluster", "style": "solid"}], ["Coral Reef Protection", "Marine Resource Management", {"weight": 0.2, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["Coral Reef Protection", "Coral Health", {"weight": 1.0, "confidence": 0.7749999999999999, "type": "inter_cluster", "style": "solid"}], ["Coral Reef Protection", "Ecosystem Biodiversity", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Coral Reef Protection", "Stress Factors", {"weight": 0.25, "confidence": 0.2, "type": "inter_cluster", "style": "solid"}], ["Reef Symbiosis", "Cultural & Social Impact", {"weight": 0.2, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Local Communities", "Coral Reef Protection", {"weight": 0.8, "confidence": 0.6300000000000001, "type": "inter_cluster", "style": "solid"}], ["Local Communities", "Cultural & Social Impact", {"weight": 0.2, "confidence": 0.48, "type": "inter_cluster", "style": "solid"}], ["Territorial Governance", "Reef Symbiosis", {"weight": 0.25, "confidence": 0.5625, "type": "inter_cluster", "style": "solid"}], ["Territorial Governance", "Marine Resource Management", {"weight": 0.75, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Territorial Governance", "Cultural & Social Impact", {"weight": 0.4, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Territorial Governance", "Ocean Chemistry", {"weight": 0.3333333333333333, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Geographic Regions": [["local stressors", {"concepts": "local stressors", "type": "concept", "cluster": "Geographic Regions", "node_size": 10, "label": "local stressors"}], ["localized stressors", {"concepts": "localized stressors", "type": "concept", "cluster": "Geographic Regions", "node_size": 10, "label": "localized stressors"}], ["stressors", {"concepts": "stressors", "type": "concept", "cluster": "Geographic Regions", "node_size": 10, "label": "stressors"}], ["global stressors", {"concepts": "global stressors", "type": "concept", "cluster": "Geographic Regions", "node_size": 10, "label": "global stressors"}]], "Institutions & Programs": [["d.c.", {"concepts": "d.c.", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "d.c."}], ["region 9", {"concepts": "region 9", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "region 9"}], ["guam", {"concepts": "guam", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "guam"}], ["manasses", {"concepts": "manasses", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "manasses"}], ["mobile alabama", {"concepts": "mobile alabama", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "mobile alabama"}], ["hawaii", {"concepts": "hawaii", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "hawaii"}], ["virgin islands", {"concepts": "virgin islands", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "virgin islands"}], ["american samoa", {"concepts": "american samoa", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "american samoa"}], ["chesapeake", {"concepts": "chesapeake", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "chesapeake"}], ["mobile", {"concepts": "mobile", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "mobile"}], ["epa regions", {"concepts": "epa regions", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "epa regions"}], ["alabama", {"concepts": "alabama", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "alabama"}], ["puerto rico", {"concepts": "puerto rico", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "puerto rico"}], ["virginia", {"concepts": "virginia", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "virginia"}], ["gulf of mexico", {"concepts": "gulf of mexico", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "gulf of mexico"}], ["region 4", {"concepts": "region 4", "type": "concept", "cluster": "Institutions & Programs", "node_size": 10, "label": "region 4"}]], "Environmental Factors": [["naval academy", {"concepts": "naval academy", "type": "concept", "cluster": "Environmental Factors", "node_size": 10, "label": "naval academy"}], ["galen koffman", {"concepts": "galen koffman", "type": "concept", "cluster": "Environmental Factors", "node_size": 10, "label": "galen koffman"}], ["epa", {"concepts": "epa", "type": "concept", "cluster": "Environmental Factors", "node_size": 10, "label": "epa"}], ["aaas fellowship", {"concepts": "aaas fellowship", "type": "concept", "cluster": "Environmental Factors", "node_size": 10, "label": "aaas fellowship"}], ["epa chesapeake bay program", {"concepts": "epa chesapeake bay program", "type": "concept", "cluster": "Environmental Factors", "node_size": 10, "label": "epa chesapeake bay program"}], ["navy", {"concepts": "navy", "type": "concept", "cluster": "Environmental Factors", "node_size": 10, "label": "navy"}], ["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Environmental Factors", "node_size": 10, "label": "noaa"}], ["food", {"concepts": "food", "type": "concept", "cluster": "Environmental Factors", "node_size": 10, "label": "food"}], ["serc", {"concepts": "serc", "type": "concept", "cluster": "Environmental Factors", "node_size": 10, "label": "serc"}], ["department of defense", {"concepts": "department of defense", "type": "concept", "cluster": "Environmental Factors", "node_size": 10, "label": "department of defense"}], ["department of the interior", {"concepts": "department of the interior", "type": "concept", "cluster": "Environmental Factors", "node_size": 10, "label": "department of the interior"}]], "Cultural & Social Impact": [["biocriteria", {"concepts": "biocriteria", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "biocriteria"}], ["dredging", {"concepts": "dredging", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "dredging"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "harmful organisms"}], ["best management practices", {"concepts": "best management practices", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "best management practices"}], ["bmps", {"concepts": "bmps", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "bmps"}], ["cesspools", {"concepts": "cesspools", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "cesspools"}], ["hard substrate", {"concepts": "hard substrate", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "hard substrate"}], ["plants", {"concepts": "plants", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "plants"}], ["co2", {"concepts": "co2", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "co2"}], ["pathogens", {"concepts": "pathogens", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "pathogens"}], ["animals", {"concepts": "animals", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "animals"}], ["co2 levels", {"concepts": "co2 levels", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "co2 levels"}], ["nutrients", {"concepts": "nutrients", "type": "concept", "cluster": "Cultural & Social Impact", "node_size": 10, "label": "nutrients"}]], "Stress Factors": [["historical", {"concepts": "historical", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "historical"}], ["cultural significance", {"concepts": "cultural significance", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "cultural significance"}], ["positive impact", {"concepts": "positive impact", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "positive impact"}], ["susan jackson", {"concepts": "susan jackson", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "susan jackson"}], ["importance", {"concepts": "importance", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "importance"}], ["sarah", {"concepts": "sarah", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "sarah"}], ["local ph", {"concepts": "local ph", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "local ph"}], ["nutrition", {"concepts": "nutrition", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "nutrition"}], ["family", {"concepts": "family", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "family"}], ["income", {"concepts": "income", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "income"}], ["emmett duffy", {"concepts": "emmett duffy", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "emmett duffy"}], ["cultural services", {"concepts": "cultural services", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "cultural services"}], ["society benefits", {"concepts": "society benefits", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "society benefits"}], ["sociological", {"concepts": "sociological", "type": "concept", "cluster": "Stress Factors", "node_size": 10, "label": "sociological"}]], "System Dynamics": [["robustness", {"concepts": "robustness", "type": "concept", "cluster": "System Dynamics", "node_size": 10, "label": "robustness"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "System Dynamics", "node_size": 10, "label": "mental modeler"}], ["system components", {"concepts": "system components", "type": "concept", "cluster": "System Dynamics", "node_size": 10, "label": "system components"}], ["systemic", {"concepts": "systemic", "type": "concept", "cluster": "System Dynamics", "node_size": 10, "label": "systemic"}], ["negative feedback loops", {"concepts": "negative feedback loops", "type": "concept", "cluster": "System Dynamics", "node_size": 10, "label": "negative feedback loops"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "System Dynamics", "node_size": 10, "label": "stakeholders"}], ["size", {"concepts": "size", "type": "concept", "cluster": "System Dynamics", "node_size": 10, "label": "size"}], ["system dynamics", {"concepts": "system dynamics", "type": "concept", "cluster": "System Dynamics", "node_size": 10, "label": "system dynamics"}], ["resources", {"concepts": "resources", "type": "concept", "cluster": "System Dynamics", "node_size": 10, "label": "resources"}], ["bcg", {"concepts": "bcg", "type": "concept", "cluster": "System Dynamics", "node_size": 10, "label": "bcg"}]], "Key Individuals": [["steven", {"concepts": "steven", "type": "concept", "cluster": "Key Individuals", "node_size": 10, "label": "steven"}], ["giancarlo ciccetti", {"concepts": "giancarlo ciccetti", "type": "concept", "cluster": "Key Individuals", "node_size": 10, "label": "giancarlo ciccetti"}]], "Regulatory Agencies": [["regulatory work", {"concepts": "regulatory work", "type": "concept", "cluster": "Regulatory Agencies", "node_size": 10, "label": "regulatory work"}]], "Environmental Challenges": [["negative impact", {"concepts": "negative impact", "type": "concept", "cluster": "Environmental Challenges", "node_size": 10, "label": "negative impact"}], ["region 2", {"concepts": "region 2", "type": "concept", "cluster": "Environmental Challenges", "node_size": 10, "label": "region 2"}], ["job security", {"concepts": "job security", "type": "concept", "cluster": "Environmental Challenges", "node_size": 10, "label": "job security"}], ["infrastructure", {"concepts": "infrastructure", "type": "concept", "cluster": "Environmental Challenges", "node_size": 10, "label": "infrastructure"}], ["army corps", {"concepts": "army corps", "type": "concept", "cluster": "Environmental Challenges", "node_size": 10, "label": "army corps"}], ["covid", {"concepts": "covid", "type": "concept", "cluster": "Environmental Challenges", "node_size": 10, "label": "covid"}], ["vims", {"concepts": "vims", "type": "concept", "cluster": "Environmental Challenges", "node_size": 10, "label": "vims"}], ["ph changes", {"concepts": "ph changes", "type": "concept", "cluster": "Environmental Challenges", "node_size": 10, "label": "ph changes"}]], "Climate Metrics": [["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Climate Metrics", "node_size": 10, "label": "climate change"}], ["atmospheric co2", {"concepts": "atmospheric co2", "type": "concept", "cluster": "Climate Metrics", "node_size": 10, "label": "atmospheric co2"}], ["global temperature", {"concepts": "global temperature", "type": "concept", "cluster": "Climate Metrics", "node_size": 10, "label": "global temperature"}], ["global temperature rise", {"concepts": "global temperature rise", "type": "concept", "cluster": "Climate Metrics", "node_size": 10, "label": "global temperature rise"}], ["sea surface temperatures", {"concepts": "sea surface temperatures", "type": "concept", "cluster": "Climate Metrics", "node_size": 10, "label": "sea surface temperatures"}], ["local temperature", {"concepts": "local temperature", "type": "concept", "cluster": "Climate Metrics", "node_size": 10, "label": "local temperature"}], ["global sea level rise", {"concepts": "global sea level rise", "type": "concept", "cluster": "Climate Metrics", "node_size": 10, "label": "global sea level rise"}], ["temperature change", {"concepts": "temperature change", "type": "concept", "cluster": "Climate Metrics", "node_size": 10, "label": "temperature change"}], ["sea level rise", {"concepts": "sea level rise", "type": "concept", "cluster": "Climate Metrics", "node_size": 10, "label": "sea level rise"}], ["temperature changes", {"concepts": "temperature changes", "type": "concept", "cluster": "Climate Metrics", "node_size": 10, "label": "temperature changes"}], ["temperature rise", {"concepts": "temperature rise", "type": "concept", "cluster": "Climate Metrics", "node_size": 10, "label": "temperature rise"}]], "Ocean Chemistry": [["water clarity", {"concepts": "water clarity", "type": "concept", "cluster": "Ocean Chemistry", "node_size": 10, "label": "water clarity"}], ["dissolved co2", {"concepts": "dissolved co2", "type": "concept", "cluster": "Ocean Chemistry", "node_size": 10, "label": "dissolved co2"}], ["ocean buffering", {"concepts": "ocean buffering", "type": "concept", "cluster": "Ocean Chemistry", "node_size": 10, "label": "ocean buffering"}], ["coastal acidification", {"concepts": "coastal acidification", "type": "concept", "cluster": "Ocean Chemistry", "node_size": 10, "label": "coastal acidification"}], ["acidic water", {"concepts": "acidic water", "type": "concept", "cluster": "Ocean Chemistry", "node_size": 10, "label": "acidic water"}], ["turbidity", {"concepts": "turbidity", "type": "concept", "cluster": "Ocean Chemistry", "node_size": 10, "label": "turbidity"}], ["calcium carbonate", {"concepts": "calcium carbonate", "type": "concept", "cluster": "Ocean Chemistry", "node_size": 10, "label": "calcium carbonate"}], ["ocean acidification", {"concepts": "ocean acidification", "type": "concept", "cluster": "Ocean Chemistry", "node_size": 10, "label": "ocean acidification"}], ["water chemistry", {"concepts": "water chemistry", "type": "concept", "cluster": "Ocean Chemistry", "node_size": 10, "label": "water chemistry"}]], "Ecosystem Biodiversity": [["food web supporting species", {"concepts": "food web supporting species", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "food web supporting species"}], ["ecosystem robustness", {"concepts": "ecosystem robustness", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "ecosystem robustness"}], ["aquatic nuisance species", {"concepts": "aquatic nuisance species", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "aquatic nuisance species"}], ["habitats", {"concepts": "habitats", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "habitats"}], ["endangered species", {"concepts": "endangered species", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "endangered species"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "invasive species"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "ecosystem services"}], ["shelter", {"concepts": "shelter", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "shelter"}], ["ecosystem benefits", {"concepts": "ecosystem benefits", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "ecosystem benefits"}], ["plant and animal species", {"concepts": "plant and animal species", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "plant and animal species"}], ["ecosystem", {"concepts": "ecosystem", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "ecosystem"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "biodiversity"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "species of conservation concern"}], ["nearshore systems", {"concepts": "nearshore systems", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "nearshore systems"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "habitat forming species"}], ["habitat", {"concepts": "habitat", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "habitat"}], ["key food web supporting species", {"concepts": "key food web supporting species", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "key food web supporting species"}]], "Coastal Pollution": [["vessel discharges", {"concepts": "vessel discharges", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "vessel discharges"}], ["runoff", {"concepts": "runoff", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "runoff"}], ["coastal flood protection", {"concepts": "coastal flood protection", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "coastal flood protection"}], ["nutrient loads", {"concepts": "nutrient loads", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "nutrient loads"}], ["coastline protection", {"concepts": "coastline protection", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "coastline protection"}], ["coastal protection", {"concepts": "coastal protection", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "coastal protection"}], ["land based pollution", {"concepts": "land based pollution", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "land based pollution"}], ["land-based pollution", {"concepts": "land-based pollution", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "land-based pollution"}], ["water quality", {"concepts": "water quality", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "water quality"}], ["bioassessments", {"concepts": "bioassessments", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "bioassessments"}], ["sediment", {"concepts": "sediment", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "sediment"}], ["waste management", {"concepts": "waste management", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "waste management"}], ["coastal issues", {"concepts": "coastal issues", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "coastal issues"}], ["wastewater", {"concepts": "wastewater", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "wastewater"}], ["polluted runoff", {"concepts": "polluted runoff", "type": "concept", "cluster": "Coastal Pollution", "node_size": 10, "label": "polluted runoff"}]], "Marine Resource Management": [["northeast", {"concepts": "northeast", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "northeast"}], ["fishing communities", {"concepts": "fishing communities", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "fishing communities"}], ["spatial distribution", {"concepts": "spatial distribution", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "spatial distribution"}], ["sustainable farming", {"concepts": "sustainable farming", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "sustainable farming"}], ["storms", {"concepts": "storms", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "storms"}], ["major storm events", {"concepts": "major storm events", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "major storm events"}], ["geochemistry", {"concepts": "geochemistry", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "geochemistry"}], ["coast guard", {"concepts": "coast guard", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "coast guard"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "marine resource management"}], ["geology", {"concepts": "geology", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "geology"}], ["food web dynamics", {"concepts": "food web dynamics", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "food web dynamics"}], ["ecosystem services.", {"concepts": "ecosystem services.", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem services."}], ["environmental social sciences", {"concepts": "environmental social sciences", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "environmental social sciences"}]], "Coral Health": [["coral bleaching", {"concepts": "coral bleaching", "type": "concept", "cluster": "Coral Health", "node_size": 10, "label": "coral bleaching"}], ["stony coral tissue loss disease", {"concepts": "stony coral tissue loss disease", "type": "concept", "cluster": "Coral Health", "node_size": 10, "label": "stony coral tissue loss disease"}], ["endangered coral species", {"concepts": "endangered coral species", "type": "concept", "cluster": "Coral Health", "node_size": 10, "label": "endangered coral species"}], ["coral expulsion", {"concepts": "coral expulsion", "type": "concept", "cluster": "Coral Health", "node_size": 10, "label": "coral expulsion"}], ["coral health", {"concepts": "coral health", "type": "concept", "cluster": "Coral Health", "node_size": 10, "label": "coral health"}]], "Coral Reef Protection": [["coral reef task force", {"concepts": "coral reef task force", "type": "concept", "cluster": "Coral Reef Protection", "node_size": 10, "label": "coral reef task force"}], ["coral reef", {"concepts": "coral reef", "type": "concept", "cluster": "Coral Reef Protection", "node_size": 10, "label": "coral reef"}], ["coral reef protection", {"concepts": "coral reef protection", "type": "concept", "cluster": "Coral Reef Protection", "node_size": 10, "label": "coral reef protection"}], ["coral reefs", {"concepts": "coral reefs", "type": "concept", "cluster": "Coral Reef Protection", "node_size": 10, "label": "coral reefs"}], ["coral reef ecosystems", {"concepts": "coral reef ecosystems", "type": "concept", "cluster": "Coral Reef Protection", "node_size": 10, "label": "coral reef ecosystems"}], ["u.s. coral reef task force", {"concepts": "u.s. coral reef task force", "type": "concept", "cluster": "Coral Reef Protection", "node_size": 10, "label": "u.s. coral reef task force"}], ["coral reef resilience.", {"concepts": "coral reef resilience.", "type": "concept", "cluster": "Coral Reef Protection", "node_size": 10, "label": "coral reef resilience."}], ["corals", {"concepts": "corals", "type": "concept", "cluster": "Coral Reef Protection", "node_size": 10, "label": "corals"}], ["corals program", {"concepts": "corals program", "type": "concept", "cluster": "Coral Reef Protection", "node_size": 10, "label": "corals program"}]], "Reef Symbiosis": [["zooxanthellae", {"concepts": "zooxanthellae", "type": "concept", "cluster": "Reef Symbiosis", "node_size": 10, "label": "zooxanthellae"}], ["artificial reefs", {"concepts": "artificial reefs", "type": "concept", "cluster": "Reef Symbiosis", "node_size": 10, "label": "artificial reefs"}]], "Government Agencies": [["federal agencies", {"concepts": "federal agencies", "type": "concept", "cluster": "Government Agencies", "node_size": 10, "label": "federal agencies"}], ["state governments", {"concepts": "state governments", "type": "concept", "cluster": "Government Agencies", "node_size": 10, "label": "state governments"}], ["local government", {"concepts": "local government", "type": "concept", "cluster": "Government Agencies", "node_size": 10, "label": "local government"}], ["local governments", {"concepts": "local governments", "type": "concept", "cluster": "Government Agencies", "node_size": 10, "label": "local governments"}], ["federal government", {"concepts": "federal government", "type": "concept", "cluster": "Government Agencies", "node_size": 10, "label": "federal government"}], ["state government", {"concepts": "state government", "type": "concept", "cluster": "Government Agencies", "node_size": 10, "label": "state government"}]], "Local Communities": [["local funds", {"concepts": "local funds", "type": "concept", "cluster": "Local Communities", "node_size": 10, "label": "local funds"}], ["local communities", {"concepts": "local communities", "type": "concept", "cluster": "Local Communities", "node_size": 10, "label": "local communities"}], ["rural groups", {"concepts": "rural groups", "type": "concept", "cluster": "Local Communities", "node_size": 10, "label": "rural groups"}]], "Territorial Governance": [["caribbean territories", {"concepts": "caribbean territories", "type": "concept", "cluster": "Territorial Governance", "node_size": 10, "label": "caribbean territories"}], ["territorial governments", {"concepts": "territorial governments", "type": "concept", "cluster": "Territorial Governance", "node_size": 10, "label": "territorial governments"}], ["pacific territories", {"concepts": "pacific territories", "type": "concept", "cluster": "Territorial Governance", "node_size": 10, "label": "pacific territories"}]]};
        const clusterEdges = {"Geographic Regions": [], "Institutions & Programs": [], "Environmental Factors": [], "Cultural & Social Impact": [], "Stress Factors": [], "System Dynamics": [], "Key Individuals": [], "Regulatory Agencies": [], "Environmental Challenges": [], "Climate Metrics": [], "Ocean Chemistry": [], "Ecosystem Biodiversity": [], "Coastal Pollution": [], "Marine Resource Management": [], "Coral Health": [], "Coral Reef Protection": [], "Reef Symbiosis": [], "Government Agencies": [], "Local Communities": [], "Territorial Governance": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
