
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"restoration projects (organizational)": {"concepts": "restoration projects (organizational)", "concept_list": ["restoration projects (organizational)"], "type": "cluster", "node_size": 18, "label": "restoration projects (organizational)"}, "Community Stakeholders": {"concepts": "flooding, salinity, ditching, drainage, thin layer deposition, drowning, sea level rise, runneling", "concept_list": ["flooding", "salinity", "ditching", "drainage", "thin layer deposition", "drowning", "sea level rise", "runneling"], "type": "cluster", "node_size": 39, "label": "Community Stakeholders"}, "Ecology & Management": {"concepts": "ecosystem services (social), stakeholders, community members (social), environmental community (social), nature community (social), tourism operators (social), stakeholders (social), resource users, local community (social), waterfront homeowners (social), property rights, private property, sea level rise (social), global change (social), social dynamics, system dynamics, interaction webs, social ecological (social), social ecological, behavior change (social), physiological, stress response, physiological stressors, climate change stressors, environmental stressors, stressors, adaptive potential", "concept_list": ["ecosystem services (social)", "stakeholders", "community members (social)", "environmental community (social)", "nature community (social)", "tourism operators (social)", "stakeholders (social)", "resource users", "local community (social)", "waterfront homeowners (social)", "property rights", "private property", "sea level rise (social)", "global change (social)", "social dynamics", "system dynamics", "interaction webs", "social ecological (social)", "social ecological", "behavior change (social)", "physiological", "stress response", "physiological stressors", "climate change stressors", "environmental stressors", "stressors", "adaptive potential"], "type": "cluster", "node_size": 96, "label": "Ecology & Management"}, "Impact Assessment": {"concepts": "biodiversity (educational), food-web, disturbance, restoration, community ecology (educational), crabs, plant communities (educational), stembor, management, educational practices, phragmites, legacy effects, ghost forest (educational), management interventions, research institutions, expertise, management components, monitoring, research, conservation, case studies (educational), chesapeake, forest mortality (educational), high impact, mental modeler, knowledge capturing", "concept_list": ["biodiversity (educational)", "food-web", "disturbance", "restoration", "community ecology (educational)", "crabs", "plant communities (educational)", "stembor", "management", "educational practices", "phragmites", "legacy effects", "ghost forest (educational)", "management interventions", "research institutions", "expertise", "management components", "monitoring", "research", "conservation", "case studies (educational)", "chesapeake", "forest mortality (educational)", "high impact", "mental modeler", "knowledge capturing"], "type": "cluster", "node_size": 93, "label": "Impact Assessment"}, "Biodiversity Conservation": {"concepts": "conservation concern, biodiversity preservation, species biodiversity, rare species, endangered species, biodiversity, genetic diversity, population genetic diversity", "concept_list": ["conservation concern", "biodiversity preservation", "species biodiversity", "rare species", "endangered species", "biodiversity", "genetic diversity", "population genetic diversity"], "type": "cluster", "node_size": 39, "label": "Biodiversity Conservation"}, "Ecosystem Components": {"concepts": "primary producers, habitat forming species, ecosystem engineers, associated organisms", "concept_list": ["primary producers", "habitat forming species", "ecosystem engineers", "associated organisms"], "type": "cluster", "node_size": 27, "label": "Ecosystem Components"}, "Invasive Species": {"concepts": "harmful organisms, invasive species, invasive species control", "concept_list": ["harmful organisms", "invasive species", "invasive species control"], "type": "cluster", "node_size": 24, "label": "Invasive Species"}, "Land Management": {"concepts": "planting, native habitat, farmland, agricultural land, restoration planting, prescribed burning, habitat loss, land acquisition", "concept_list": ["planting", "native habitat", "farmland", "agricultural land", "restoration planting", "prescribed burning", "habitat loss", "land acquisition"], "type": "cluster", "node_size": 39, "label": "Land Management"}, "Coastal Biodiversity": {"concepts": "coastal biodiversity, tidal marsh, intertidal marshes, tidal marshes", "concept_list": ["coastal biodiversity", "tidal marsh", "intertidal marshes", "tidal marshes"], "type": "cluster", "node_size": 27, "label": "Coastal Biodiversity"}, "Water Systems": {"concepts": "eutrophication, hydrology", "concept_list": ["eutrophication", "hydrology"], "type": "cluster", "node_size": 21, "label": "Water Systems"}, "Tidal Marsh Dynamics": {"concepts": "tidal marsh loss, tidal creek extension", "concept_list": ["tidal marsh loss", "tidal creek extension"], "type": "cluster", "node_size": 21, "label": "Tidal Marsh Dynamics"}, "Marsh Dynamics": {"concepts": "marsh loss, marsh interior, low marsh, high marsh, interior ponding, future marshes", "concept_list": ["marsh loss", "marsh interior", "low marsh", "high marsh", "interior ponding", "future marshes"], "type": "cluster", "node_size": 33, "label": "Marsh Dynamics"}, "Salt Marsh Ecosystem": {"concepts": "marsh grasses, salt marsh birds, salt marsh sparrow", "concept_list": ["marsh grasses", "salt marsh birds", "salt marsh sparrow"], "type": "cluster", "node_size": 24, "label": "Salt Marsh Ecosystem"}, "Marsh Adaptation Strategies": {"concepts": "marsh creation, waffle marshes, marsh migration corridors", "concept_list": ["marsh creation", "waffle marshes", "marsh migration corridors"], "type": "cluster", "node_size": 24, "label": "Marsh Adaptation Strategies"}, "Resource Management": {"concepts": "water quality management (organizational), marine resource management (organizational), oyster farmers (social), shorebirds (educational), fishermen (social)", "concept_list": ["water quality management (organizational)", "marine resource management (organizational)", "oyster farmers (social)", "shorebirds (educational)", "fishermen (social)"], "type": "cluster", "node_size": 30, "label": "Resource Management"}, "Coastal Education": {"concepts": "coastal ecosystems (educational), saltwater intrusion (educational), coastal zone (educational), watershed (educational), wetland ecology (educational)", "concept_list": ["coastal ecosystems (educational)", "saltwater intrusion (educational)", "coastal zone (educational)", "watershed (educational)", "wetland ecology (educational)"], "type": "cluster", "node_size": 30, "label": "Coastal Education"}, "Phragmites Control": {"concepts": "burning phragmites, herbicide", "concept_list": ["burning phragmites", "herbicide"], "type": "cluster", "node_size": 21, "label": "Phragmites Control"}, "Dredge Oil": {"concepts": "dredge oil, dredge oil creation, none, medium impact, easements, legacy impacts, low impact", "concept_list": ["dredge oil", "dredge oil creation", "none", "medium impact", "easements", "legacy impacts", "low impact"], "type": "cluster", "node_size": 36, "label": "Dredge Oil"}, "Population Dynamics": {"concepts": "population sizes, population genetics", "concept_list": ["population sizes", "population genetics"], "type": "cluster", "node_size": 21, "label": "Population Dynamics"}, "Organizational Management": {"concepts": "steering committee (organizational), management groups (organizational), regional managers (organizational), management team (organizational)", "concept_list": ["steering committee (organizational)", "management groups (organizational)", "regional managers (organizational)", "management team (organizational)"], "type": "cluster", "node_size": 27, "label": "Organizational Management"}, "Organizational Experts": {"concepts": "technical experts (organizational), researchers (organizational), academics (organizational), organizational structures, conceptual models (organizational), incentive structures (organizational), regulatory power (organizational), permitting (organizational), management activities (organizational)", "concept_list": ["technical experts (organizational)", "researchers (organizational)", "academics (organizational)", "organizational structures", "conceptual models (organizational)", "incentive structures (organizational)", "regulatory power (organizational)", "permitting (organizational)", "management activities (organizational)"], "type": "cluster", "node_size": 42, "label": "Organizational Experts"}};
        const conceptData = {"flooding": {"concepts": "flooding", "type": "concept", "cluster": "Community Stakeholders", "node_size": 10, "label": "flooding"}, "salinity": {"concepts": "salinity", "type": "concept", "cluster": "Community Stakeholders", "node_size": 10, "label": "salinity"}, "ditching": {"concepts": "ditching", "type": "concept", "cluster": "Community Stakeholders", "node_size": 10, "label": "ditching"}, "drainage": {"concepts": "drainage", "type": "concept", "cluster": "Community Stakeholders", "node_size": 10, "label": "drainage"}, "thin layer deposition": {"concepts": "thin layer deposition", "type": "concept", "cluster": "Community Stakeholders", "node_size": 10, "label": "thin layer deposition"}, "drowning": {"concepts": "drowning", "type": "concept", "cluster": "Community Stakeholders", "node_size": 10, "label": "drowning"}, "sea level rise": {"concepts": "sea level rise", "type": "concept", "cluster": "Community Stakeholders", "node_size": 10, "label": "sea level rise"}, "runneling": {"concepts": "runneling", "type": "concept", "cluster": "Community Stakeholders", "node_size": 10, "label": "runneling"}, "ecosystem services (social)": {"concepts": "ecosystem services (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "ecosystem services (social)"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "stakeholders"}, "community members (social)": {"concepts": "community members (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "community members (social)"}, "environmental community (social)": {"concepts": "environmental community (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "environmental community (social)"}, "nature community (social)": {"concepts": "nature community (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "nature community (social)"}, "tourism operators (social)": {"concepts": "tourism operators (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "tourism operators (social)"}, "stakeholders (social)": {"concepts": "stakeholders (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "stakeholders (social)"}, "resource users": {"concepts": "resource users", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "resource users"}, "local community (social)": {"concepts": "local community (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "local community (social)"}, "waterfront homeowners (social)": {"concepts": "waterfront homeowners (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "waterfront homeowners (social)"}, "property rights": {"concepts": "property rights", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "property rights"}, "private property": {"concepts": "private property", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "private property"}, "sea level rise (social)": {"concepts": "sea level rise (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "sea level rise (social)"}, "global change (social)": {"concepts": "global change (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "global change (social)"}, "social dynamics": {"concepts": "social dynamics", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "social dynamics"}, "system dynamics": {"concepts": "system dynamics", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "system dynamics"}, "interaction webs": {"concepts": "interaction webs", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "interaction webs"}, "social ecological (social)": {"concepts": "social ecological (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "social ecological (social)"}, "social ecological": {"concepts": "social ecological", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "social ecological"}, "behavior change (social)": {"concepts": "behavior change (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "behavior change (social)"}, "physiological": {"concepts": "physiological", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "physiological"}, "stress response": {"concepts": "stress response", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "stress response"}, "physiological stressors": {"concepts": "physiological stressors", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "physiological stressors"}, "climate change stressors": {"concepts": "climate change stressors", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "climate change stressors"}, "environmental stressors": {"concepts": "environmental stressors", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "environmental stressors"}, "stressors": {"concepts": "stressors", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "stressors"}, "adaptive potential": {"concepts": "adaptive potential", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "adaptive potential"}, "biodiversity (educational)": {"concepts": "biodiversity (educational)", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "biodiversity (educational)"}, "food-web": {"concepts": "food-web", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "food-web"}, "disturbance": {"concepts": "disturbance", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "disturbance"}, "restoration": {"concepts": "restoration", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "restoration"}, "community ecology (educational)": {"concepts": "community ecology (educational)", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "community ecology (educational)"}, "crabs": {"concepts": "crabs", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "crabs"}, "plant communities (educational)": {"concepts": "plant communities (educational)", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "plant communities (educational)"}, "stembor": {"concepts": "stembor", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "stembor"}, "management": {"concepts": "management", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "management"}, "educational practices": {"concepts": "educational practices", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "educational practices"}, "phragmites": {"concepts": "phragmites", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "phragmites"}, "legacy effects": {"concepts": "legacy effects", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "legacy effects"}, "ghost forest (educational)": {"concepts": "ghost forest (educational)", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "ghost forest (educational)"}, "management interventions": {"concepts": "management interventions", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "management interventions"}, "research institutions": {"concepts": "research institutions", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "research institutions"}, "expertise": {"concepts": "expertise", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "expertise"}, "management components": {"concepts": "management components", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "management components"}, "monitoring": {"concepts": "monitoring", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "monitoring"}, "research": {"concepts": "research", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "research"}, "conservation": {"concepts": "conservation", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "conservation"}, "case studies (educational)": {"concepts": "case studies (educational)", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "case studies (educational)"}, "chesapeake": {"concepts": "chesapeake", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "chesapeake"}, "forest mortality (educational)": {"concepts": "forest mortality (educational)", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "forest mortality (educational)"}, "high impact": {"concepts": "high impact", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "high impact"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "mental modeler"}, "knowledge capturing": {"concepts": "knowledge capturing", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "knowledge capturing"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "conservation concern"}, "biodiversity preservation": {"concepts": "biodiversity preservation", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "biodiversity preservation"}, "species biodiversity": {"concepts": "species biodiversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "species biodiversity"}, "rare species": {"concepts": "rare species", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "rare species"}, "endangered species": {"concepts": "endangered species", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "endangered species"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "biodiversity"}, "genetic diversity": {"concepts": "genetic diversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "genetic diversity"}, "population genetic diversity": {"concepts": "population genetic diversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "population genetic diversity"}, "primary producers": {"concepts": "primary producers", "type": "concept", "cluster": "Ecosystem Components", "node_size": 10, "label": "primary producers"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Ecosystem Components", "node_size": 10, "label": "habitat forming species"}, "ecosystem engineers": {"concepts": "ecosystem engineers", "type": "concept", "cluster": "Ecosystem Components", "node_size": 10, "label": "ecosystem engineers"}, "associated organisms": {"concepts": "associated organisms", "type": "concept", "cluster": "Ecosystem Components", "node_size": 10, "label": "associated organisms"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Invasive Species", "node_size": 10, "label": "harmful organisms"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Invasive Species", "node_size": 10, "label": "invasive species"}, "invasive species control": {"concepts": "invasive species control", "type": "concept", "cluster": "Invasive Species", "node_size": 10, "label": "invasive species control"}, "planting": {"concepts": "planting", "type": "concept", "cluster": "Land Management", "node_size": 10, "label": "planting"}, "native habitat": {"concepts": "native habitat", "type": "concept", "cluster": "Land Management", "node_size": 10, "label": "native habitat"}, "farmland": {"concepts": "farmland", "type": "concept", "cluster": "Land Management", "node_size": 10, "label": "farmland"}, "agricultural land": {"concepts": "agricultural land", "type": "concept", "cluster": "Land Management", "node_size": 10, "label": "agricultural land"}, "restoration planting": {"concepts": "restoration planting", "type": "concept", "cluster": "Land Management", "node_size": 10, "label": "restoration planting"}, "prescribed burning": {"concepts": "prescribed burning", "type": "concept", "cluster": "Land Management", "node_size": 10, "label": "prescribed burning"}, "habitat loss": {"concepts": "habitat loss", "type": "concept", "cluster": "Land Management", "node_size": 10, "label": "habitat loss"}, "land acquisition": {"concepts": "land acquisition", "type": "concept", "cluster": "Land Management", "node_size": 10, "label": "land acquisition"}, "coastal biodiversity": {"concepts": "coastal biodiversity", "type": "concept", "cluster": "Coastal Biodiversity", "node_size": 10, "label": "coastal biodiversity"}, "tidal marsh": {"concepts": "tidal marsh", "type": "concept", "cluster": "Coastal Biodiversity", "node_size": 10, "label": "tidal marsh"}, "intertidal marshes": {"concepts": "intertidal marshes", "type": "concept", "cluster": "Coastal Biodiversity", "node_size": 10, "label": "intertidal marshes"}, "tidal marshes": {"concepts": "tidal marshes", "type": "concept", "cluster": "Coastal Biodiversity", "node_size": 10, "label": "tidal marshes"}, "eutrophication": {"concepts": "eutrophication", "type": "concept", "cluster": "Water Systems", "node_size": 10, "label": "eutrophication"}, "hydrology": {"concepts": "hydrology", "type": "concept", "cluster": "Water Systems", "node_size": 10, "label": "hydrology"}, "tidal marsh loss": {"concepts": "tidal marsh loss", "type": "concept", "cluster": "Tidal Marsh Dynamics", "node_size": 10, "label": "tidal marsh loss"}, "tidal creek extension": {"concepts": "tidal creek extension", "type": "concept", "cluster": "Tidal Marsh Dynamics", "node_size": 10, "label": "tidal creek extension"}, "marsh loss": {"concepts": "marsh loss", "type": "concept", "cluster": "Marsh Dynamics", "node_size": 10, "label": "marsh loss"}, "marsh interior": {"concepts": "marsh interior", "type": "concept", "cluster": "Marsh Dynamics", "node_size": 10, "label": "marsh interior"}, "low marsh": {"concepts": "low marsh", "type": "concept", "cluster": "Marsh Dynamics", "node_size": 10, "label": "low marsh"}, "high marsh": {"concepts": "high marsh", "type": "concept", "cluster": "Marsh Dynamics", "node_size": 10, "label": "high marsh"}, "interior ponding": {"concepts": "interior ponding", "type": "concept", "cluster": "Marsh Dynamics", "node_size": 10, "label": "interior ponding"}, "future marshes": {"concepts": "future marshes", "type": "concept", "cluster": "Marsh Dynamics", "node_size": 10, "label": "future marshes"}, "marsh grasses": {"concepts": "marsh grasses", "type": "concept", "cluster": "Salt Marsh Ecosystem", "node_size": 10, "label": "marsh grasses"}, "salt marsh birds": {"concepts": "salt marsh birds", "type": "concept", "cluster": "Salt Marsh Ecosystem", "node_size": 10, "label": "salt marsh birds"}, "salt marsh sparrow": {"concepts": "salt marsh sparrow", "type": "concept", "cluster": "Salt Marsh Ecosystem", "node_size": 10, "label": "salt marsh sparrow"}, "marsh creation": {"concepts": "marsh creation", "type": "concept", "cluster": "Marsh Adaptation Strategies", "node_size": 10, "label": "marsh creation"}, "waffle marshes": {"concepts": "waffle marshes", "type": "concept", "cluster": "Marsh Adaptation Strategies", "node_size": 10, "label": "waffle marshes"}, "marsh migration corridors": {"concepts": "marsh migration corridors", "type": "concept", "cluster": "Marsh Adaptation Strategies", "node_size": 10, "label": "marsh migration corridors"}, "water quality management (organizational)": {"concepts": "water quality management (organizational)", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "water quality management (organizational)"}, "marine resource management (organizational)": {"concepts": "marine resource management (organizational)", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "marine resource management (organizational)"}, "oyster farmers (social)": {"concepts": "oyster farmers (social)", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "oyster farmers (social)"}, "shorebirds (educational)": {"concepts": "shorebirds (educational)", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "shorebirds (educational)"}, "fishermen (social)": {"concepts": "fishermen (social)", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "fishermen (social)"}, "coastal ecosystems (educational)": {"concepts": "coastal ecosystems (educational)", "type": "concept", "cluster": "Coastal Education", "node_size": 10, "label": "coastal ecosystems (educational)"}, "saltwater intrusion (educational)": {"concepts": "saltwater intrusion (educational)", "type": "concept", "cluster": "Coastal Education", "node_size": 10, "label": "saltwater intrusion (educational)"}, "coastal zone (educational)": {"concepts": "coastal zone (educational)", "type": "concept", "cluster": "Coastal Education", "node_size": 10, "label": "coastal zone (educational)"}, "watershed (educational)": {"concepts": "watershed (educational)", "type": "concept", "cluster": "Coastal Education", "node_size": 10, "label": "watershed (educational)"}, "wetland ecology (educational)": {"concepts": "wetland ecology (educational)", "type": "concept", "cluster": "Coastal Education", "node_size": 10, "label": "wetland ecology (educational)"}, "burning phragmites": {"concepts": "burning phragmites", "type": "concept", "cluster": "Phragmites Control", "node_size": 10, "label": "burning phragmites"}, "herbicide": {"concepts": "herbicide", "type": "concept", "cluster": "Phragmites Control", "node_size": 10, "label": "herbicide"}, "dredge oil": {"concepts": "dredge oil", "type": "concept", "cluster": "Dredge Oil", "node_size": 10, "label": "dredge oil"}, "dredge oil creation": {"concepts": "dredge oil creation", "type": "concept", "cluster": "Dredge Oil", "node_size": 10, "label": "dredge oil creation"}, "none": {"concepts": "none", "type": "concept", "cluster": "Dredge Oil", "node_size": 10, "label": "none"}, "medium impact": {"concepts": "medium impact", "type": "concept", "cluster": "Dredge Oil", "node_size": 10, "label": "medium impact"}, "easements": {"concepts": "easements", "type": "concept", "cluster": "Dredge Oil", "node_size": 10, "label": "easements"}, "legacy impacts": {"concepts": "legacy impacts", "type": "concept", "cluster": "Dredge Oil", "node_size": 10, "label": "legacy impacts"}, "low impact": {"concepts": "low impact", "type": "concept", "cluster": "Dredge Oil", "node_size": 10, "label": "low impact"}, "population sizes": {"concepts": "population sizes", "type": "concept", "cluster": "Population Dynamics", "node_size": 10, "label": "population sizes"}, "population genetics": {"concepts": "population genetics", "type": "concept", "cluster": "Population Dynamics", "node_size": 10, "label": "population genetics"}, "steering committee (organizational)": {"concepts": "steering committee (organizational)", "type": "concept", "cluster": "Organizational Management", "node_size": 10, "label": "steering committee (organizational)"}, "management groups (organizational)": {"concepts": "management groups (organizational)", "type": "concept", "cluster": "Organizational Management", "node_size": 10, "label": "management groups (organizational)"}, "regional managers (organizational)": {"concepts": "regional managers (organizational)", "type": "concept", "cluster": "Organizational Management", "node_size": 10, "label": "regional managers (organizational)"}, "management team (organizational)": {"concepts": "management team (organizational)", "type": "concept", "cluster": "Organizational Management", "node_size": 10, "label": "management team (organizational)"}, "technical experts (organizational)": {"concepts": "technical experts (organizational)", "type": "concept", "cluster": "Organizational Experts", "node_size": 10, "label": "technical experts (organizational)"}, "researchers (organizational)": {"concepts": "researchers (organizational)", "type": "concept", "cluster": "Organizational Experts", "node_size": 10, "label": "researchers (organizational)"}, "academics (organizational)": {"concepts": "academics (organizational)", "type": "concept", "cluster": "Organizational Experts", "node_size": 10, "label": "academics (organizational)"}, "organizational structures": {"concepts": "organizational structures", "type": "concept", "cluster": "Organizational Experts", "node_size": 10, "label": "organizational structures"}, "conceptual models (organizational)": {"concepts": "conceptual models (organizational)", "type": "concept", "cluster": "Organizational Experts", "node_size": 10, "label": "conceptual models (organizational)"}, "incentive structures (organizational)": {"concepts": "incentive structures (organizational)", "type": "concept", "cluster": "Organizational Experts", "node_size": 10, "label": "incentive structures (organizational)"}, "regulatory power (organizational)": {"concepts": "regulatory power (organizational)", "type": "concept", "cluster": "Organizational Experts", "node_size": 10, "label": "regulatory power (organizational)"}, "permitting (organizational)": {"concepts": "permitting (organizational)", "type": "concept", "cluster": "Organizational Experts", "node_size": 10, "label": "permitting (organizational)"}, "management activities (organizational)": {"concepts": "management activities (organizational)", "type": "concept", "cluster": "Organizational Experts", "node_size": 10, "label": "management activities (organizational)"}};
        const interClusterEdges = [["restoration projects (organizational)", "Coastal Biodiversity", {"weight": 1.0, "confidence": 0.6666666666666666, "type": "inter_cluster", "style": "solid"}], ["restoration projects (organizational)", "Salt Marsh Ecosystem", {"weight": 0.8, "confidence": 0.42000000000000004, "type": "inter_cluster", "style": "solid"}], ["restoration projects (organizational)", "Organizational Management", {"weight": 0.3333333333333333, "confidence": 0.19999999999999998, "type": "inter_cluster", "style": "solid"}], ["restoration projects (organizational)", "Coastal Education", {"weight": 0.5, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}], ["Community Stakeholders", "Marsh Adaptation Strategies", {"weight": -0.3333333333333333, "confidence": 0.4666666666666666, "type": "inter_cluster", "style": "solid"}], ["Ecology & Management", "Coastal Biodiversity", {"weight": 0.6, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Impact Assessment", "Coastal Biodiversity", {"weight": 0.6666666666666666, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["Impact Assessment", "Organizational Management", {"weight": 0.5, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}], ["Impact Assessment", "Phragmites Control", {"weight": 0.5, "confidence": 0.2, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Conservation", "Coastal Biodiversity", {"weight": 0.8, "confidence": 0.5800000000000001, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Conservation", "Invasive Species", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Land Management", "Biodiversity Conservation", {"weight": 1.0, "confidence": 0.56, "type": "inter_cluster", "style": "solid"}], ["Land Management", "Community Stakeholders", {"weight": -1.0, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Land Management", "Organizational Management", {"weight": 0.5, "confidence": 0.15, "type": "inter_cluster", "style": "solid"}], ["Coastal Biodiversity", "Salt Marsh Ecosystem", {"weight": 0.8, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Coastal Biodiversity", "Marsh Adaptation Strategies", {"weight": 0.6, "confidence": 0.32, "type": "inter_cluster", "style": "solid"}], ["Coastal Biodiversity", "Ecology & Management", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Water Systems", "Invasive Species", {"weight": 0.8, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Water Systems", "Coastal Biodiversity", {"weight": -0.4, "confidence": 0.38, "type": "inter_cluster", "style": "solid"}], ["Water Systems", "Marsh Dynamics", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Marsh Dynamics", "Salt Marsh Ecosystem", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Marsh Dynamics", "Land Management", {"weight": -0.6666666666666666, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Salt Marsh Ecosystem", "Marsh Adaptation Strategies", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["Marsh Adaptation Strategies", "Tidal Marsh Dynamics", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Marsh Adaptation Strategies", "Salt Marsh Ecosystem", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Marsh Adaptation Strategies", "Coastal Education", {"weight": 0.3333333333333333, "confidence": 0.19999999999999998, "type": "inter_cluster", "style": "solid"}], ["Marsh Adaptation Strategies", "Impact Assessment", {"weight": 0.5, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}], ["Resource Management", "Biodiversity Conservation", {"weight": 1.0, "confidence": 0.5333333333333333, "type": "inter_cluster", "style": "solid"}], ["Resource Management", "Salt Marsh Ecosystem", {"weight": 1.0, "confidence": 0.43333333333333335, "type": "inter_cluster", "style": "solid"}], ["Resource Management", "Invasive Species", {"weight": -0.75, "confidence": 0.325, "type": "inter_cluster", "style": "solid"}], ["Resource Management", "Population Dynamics", {"weight": 0.6, "confidence": 0.22000000000000003, "type": "inter_cluster", "style": "solid"}], ["Coastal Education", "Salt Marsh Ecosystem", {"weight": 0.6666666666666666, "confidence": 0.3666666666666667, "type": "inter_cluster", "style": "solid"}], ["Phragmites Control", "Coastal Biodiversity", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Dredge Oil", "Marsh Adaptation Strategies", {"weight": 1.0, "confidence": 0.7666666666666666, "type": "inter_cluster", "style": "solid"}], ["Organizational Management", "Phragmites Control", {"weight": 1.0, "confidence": 0.5333333333333333, "type": "inter_cluster", "style": "solid"}], ["Organizational Management", "Land Management", {"weight": 1.0, "confidence": 0.4666666666666666, "type": "inter_cluster", "style": "solid"}], ["Organizational Experts", "Biodiversity Conservation", {"weight": 1.0, "confidence": 0.5599999999999999, "type": "inter_cluster", "style": "solid"}], ["Organizational Experts", "restoration projects (organizational)", {"weight": 0.3333333333333333, "confidence": 0.16666666666666666, "type": "inter_cluster", "style": "solid"}], ["Organizational Experts", "Ecosystem Components", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Organizational Experts", "Tidal Marsh Dynamics", {"weight": 0.5, "confidence": 0.15, "type": "inter_cluster", "style": "solid"}], ["Organizational Experts", "Marsh Adaptation Strategies", {"weight": 0.25, "confidence": 0.1, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Community Stakeholders": [["flooding", {"concepts": "flooding", "type": "concept", "cluster": "Community Stakeholders", "node_size": 10, "label": "flooding"}], ["salinity", {"concepts": "salinity", "type": "concept", "cluster": "Community Stakeholders", "node_size": 10, "label": "salinity"}], ["ditching", {"concepts": "ditching", "type": "concept", "cluster": "Community Stakeholders", "node_size": 10, "label": "ditching"}], ["drainage", {"concepts": "drainage", "type": "concept", "cluster": "Community Stakeholders", "node_size": 10, "label": "drainage"}], ["thin layer deposition", {"concepts": "thin layer deposition", "type": "concept", "cluster": "Community Stakeholders", "node_size": 10, "label": "thin layer deposition"}], ["drowning", {"concepts": "drowning", "type": "concept", "cluster": "Community Stakeholders", "node_size": 10, "label": "drowning"}], ["sea level rise", {"concepts": "sea level rise", "type": "concept", "cluster": "Community Stakeholders", "node_size": 10, "label": "sea level rise"}], ["runneling", {"concepts": "runneling", "type": "concept", "cluster": "Community Stakeholders", "node_size": 10, "label": "runneling"}]], "Ecology & Management": [["ecosystem services (social)", {"concepts": "ecosystem services (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "ecosystem services (social)"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "stakeholders"}], ["community members (social)", {"concepts": "community members (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "community members (social)"}], ["environmental community (social)", {"concepts": "environmental community (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "environmental community (social)"}], ["nature community (social)", {"concepts": "nature community (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "nature community (social)"}], ["tourism operators (social)", {"concepts": "tourism operators (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "tourism operators (social)"}], ["stakeholders (social)", {"concepts": "stakeholders (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "stakeholders (social)"}], ["resource users", {"concepts": "resource users", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "resource users"}], ["local community (social)", {"concepts": "local community (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "local community (social)"}], ["waterfront homeowners (social)", {"concepts": "waterfront homeowners (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "waterfront homeowners (social)"}], ["property rights", {"concepts": "property rights", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "property rights"}], ["private property", {"concepts": "private property", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "private property"}], ["sea level rise (social)", {"concepts": "sea level rise (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "sea level rise (social)"}], ["global change (social)", {"concepts": "global change (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "global change (social)"}], ["social dynamics", {"concepts": "social dynamics", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "social dynamics"}], ["system dynamics", {"concepts": "system dynamics", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "system dynamics"}], ["interaction webs", {"concepts": "interaction webs", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "interaction webs"}], ["social ecological (social)", {"concepts": "social ecological (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "social ecological (social)"}], ["social ecological", {"concepts": "social ecological", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "social ecological"}], ["behavior change (social)", {"concepts": "behavior change (social)", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "behavior change (social)"}], ["physiological", {"concepts": "physiological", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "physiological"}], ["stress response", {"concepts": "stress response", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "stress response"}], ["physiological stressors", {"concepts": "physiological stressors", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "physiological stressors"}], ["climate change stressors", {"concepts": "climate change stressors", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "climate change stressors"}], ["environmental stressors", {"concepts": "environmental stressors", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "environmental stressors"}], ["stressors", {"concepts": "stressors", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "stressors"}], ["adaptive potential", {"concepts": "adaptive potential", "type": "concept", "cluster": "Ecology & Management", "node_size": 10, "label": "adaptive potential"}]], "Impact Assessment": [["biodiversity (educational)", {"concepts": "biodiversity (educational)", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "biodiversity (educational)"}], ["food-web", {"concepts": "food-web", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "food-web"}], ["disturbance", {"concepts": "disturbance", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "disturbance"}], ["restoration", {"concepts": "restoration", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "restoration"}], ["community ecology (educational)", {"concepts": "community ecology (educational)", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "community ecology (educational)"}], ["crabs", {"concepts": "crabs", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "crabs"}], ["plant communities (educational)", {"concepts": "plant communities (educational)", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "plant communities (educational)"}], ["stembor", {"concepts": "stembor", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "stembor"}], ["management", {"concepts": "management", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "management"}], ["educational practices", {"concepts": "educational practices", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "educational practices"}], ["phragmites", {"concepts": "phragmites", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "phragmites"}], ["legacy effects", {"concepts": "legacy effects", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "legacy effects"}], ["ghost forest (educational)", {"concepts": "ghost forest (educational)", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "ghost forest (educational)"}], ["management interventions", {"concepts": "management interventions", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "management interventions"}], ["research institutions", {"concepts": "research institutions", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "research institutions"}], ["expertise", {"concepts": "expertise", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "expertise"}], ["management components", {"concepts": "management components", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "management components"}], ["monitoring", {"concepts": "monitoring", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "monitoring"}], ["research", {"concepts": "research", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "research"}], ["conservation", {"concepts": "conservation", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "conservation"}], ["case studies (educational)", {"concepts": "case studies (educational)", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "case studies (educational)"}], ["chesapeake", {"concepts": "chesapeake", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "chesapeake"}], ["forest mortality (educational)", {"concepts": "forest mortality (educational)", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "forest mortality (educational)"}], ["high impact", {"concepts": "high impact", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "high impact"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "mental modeler"}], ["knowledge capturing", {"concepts": "knowledge capturing", "type": "concept", "cluster": "Impact Assessment", "node_size": 10, "label": "knowledge capturing"}]], "Biodiversity Conservation": [["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "conservation concern"}], ["biodiversity preservation", {"concepts": "biodiversity preservation", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "biodiversity preservation"}], ["species biodiversity", {"concepts": "species biodiversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "species biodiversity"}], ["rare species", {"concepts": "rare species", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "rare species"}], ["endangered species", {"concepts": "endangered species", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "endangered species"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "biodiversity"}], ["genetic diversity", {"concepts": "genetic diversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "genetic diversity"}], ["population genetic diversity", {"concepts": "population genetic diversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "population genetic diversity"}]], "Ecosystem Components": [["primary producers", {"concepts": "primary producers", "type": "concept", "cluster": "Ecosystem Components", "node_size": 10, "label": "primary producers"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Ecosystem Components", "node_size": 10, "label": "habitat forming species"}], ["ecosystem engineers", {"concepts": "ecosystem engineers", "type": "concept", "cluster": "Ecosystem Components", "node_size": 10, "label": "ecosystem engineers"}], ["associated organisms", {"concepts": "associated organisms", "type": "concept", "cluster": "Ecosystem Components", "node_size": 10, "label": "associated organisms"}]], "Invasive Species": [["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Invasive Species", "node_size": 10, "label": "harmful organisms"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Invasive Species", "node_size": 10, "label": "invasive species"}], ["invasive species control", {"concepts": "invasive species control", "type": "concept", "cluster": "Invasive Species", "node_size": 10, "label": "invasive species control"}]], "Land Management": [["planting", {"concepts": "planting", "type": "concept", "cluster": "Land Management", "node_size": 10, "label": "planting"}], ["native habitat", {"concepts": "native habitat", "type": "concept", "cluster": "Land Management", "node_size": 10, "label": "native habitat"}], ["farmland", {"concepts": "farmland", "type": "concept", "cluster": "Land Management", "node_size": 10, "label": "farmland"}], ["agricultural land", {"concepts": "agricultural land", "type": "concept", "cluster": "Land Management", "node_size": 10, "label": "agricultural land"}], ["restoration planting", {"concepts": "restoration planting", "type": "concept", "cluster": "Land Management", "node_size": 10, "label": "restoration planting"}], ["prescribed burning", {"concepts": "prescribed burning", "type": "concept", "cluster": "Land Management", "node_size": 10, "label": "prescribed burning"}], ["habitat loss", {"concepts": "habitat loss", "type": "concept", "cluster": "Land Management", "node_size": 10, "label": "habitat loss"}], ["land acquisition", {"concepts": "land acquisition", "type": "concept", "cluster": "Land Management", "node_size": 10, "label": "land acquisition"}]], "Coastal Biodiversity": [["coastal biodiversity", {"concepts": "coastal biodiversity", "type": "concept", "cluster": "Coastal Biodiversity", "node_size": 10, "label": "coastal biodiversity"}], ["tidal marsh", {"concepts": "tidal marsh", "type": "concept", "cluster": "Coastal Biodiversity", "node_size": 10, "label": "tidal marsh"}], ["intertidal marshes", {"concepts": "intertidal marshes", "type": "concept", "cluster": "Coastal Biodiversity", "node_size": 10, "label": "intertidal marshes"}], ["tidal marshes", {"concepts": "tidal marshes", "type": "concept", "cluster": "Coastal Biodiversity", "node_size": 10, "label": "tidal marshes"}]], "Water Systems": [["eutrophication", {"concepts": "eutrophication", "type": "concept", "cluster": "Water Systems", "node_size": 10, "label": "eutrophication"}], ["hydrology", {"concepts": "hydrology", "type": "concept", "cluster": "Water Systems", "node_size": 10, "label": "hydrology"}]], "Tidal Marsh Dynamics": [["tidal marsh loss", {"concepts": "tidal marsh loss", "type": "concept", "cluster": "Tidal Marsh Dynamics", "node_size": 10, "label": "tidal marsh loss"}], ["tidal creek extension", {"concepts": "tidal creek extension", "type": "concept", "cluster": "Tidal Marsh Dynamics", "node_size": 10, "label": "tidal creek extension"}]], "Marsh Dynamics": [["marsh loss", {"concepts": "marsh loss", "type": "concept", "cluster": "Marsh Dynamics", "node_size": 10, "label": "marsh loss"}], ["marsh interior", {"concepts": "marsh interior", "type": "concept", "cluster": "Marsh Dynamics", "node_size": 10, "label": "marsh interior"}], ["low marsh", {"concepts": "low marsh", "type": "concept", "cluster": "Marsh Dynamics", "node_size": 10, "label": "low marsh"}], ["high marsh", {"concepts": "high marsh", "type": "concept", "cluster": "Marsh Dynamics", "node_size": 10, "label": "high marsh"}], ["interior ponding", {"concepts": "interior ponding", "type": "concept", "cluster": "Marsh Dynamics", "node_size": 10, "label": "interior ponding"}], ["future marshes", {"concepts": "future marshes", "type": "concept", "cluster": "Marsh Dynamics", "node_size": 10, "label": "future marshes"}]], "Salt Marsh Ecosystem": [["marsh grasses", {"concepts": "marsh grasses", "type": "concept", "cluster": "Salt Marsh Ecosystem", "node_size": 10, "label": "marsh grasses"}], ["salt marsh birds", {"concepts": "salt marsh birds", "type": "concept", "cluster": "Salt Marsh Ecosystem", "node_size": 10, "label": "salt marsh birds"}], ["salt marsh sparrow", {"concepts": "salt marsh sparrow", "type": "concept", "cluster": "Salt Marsh Ecosystem", "node_size": 10, "label": "salt marsh sparrow"}]], "Marsh Adaptation Strategies": [["marsh creation", {"concepts": "marsh creation", "type": "concept", "cluster": "Marsh Adaptation Strategies", "node_size": 10, "label": "marsh creation"}], ["waffle marshes", {"concepts": "waffle marshes", "type": "concept", "cluster": "Marsh Adaptation Strategies", "node_size": 10, "label": "waffle marshes"}], ["marsh migration corridors", {"concepts": "marsh migration corridors", "type": "concept", "cluster": "Marsh Adaptation Strategies", "node_size": 10, "label": "marsh migration corridors"}]], "Resource Management": [["water quality management (organizational)", {"concepts": "water quality management (organizational)", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "water quality management (organizational)"}], ["marine resource management (organizational)", {"concepts": "marine resource management (organizational)", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "marine resource management (organizational)"}], ["oyster farmers (social)", {"concepts": "oyster farmers (social)", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "oyster farmers (social)"}], ["shorebirds (educational)", {"concepts": "shorebirds (educational)", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "shorebirds (educational)"}], ["fishermen (social)", {"concepts": "fishermen (social)", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "fishermen (social)"}]], "Coastal Education": [["coastal ecosystems (educational)", {"concepts": "coastal ecosystems (educational)", "type": "concept", "cluster": "Coastal Education", "node_size": 10, "label": "coastal ecosystems (educational)"}], ["saltwater intrusion (educational)", {"concepts": "saltwater intrusion (educational)", "type": "concept", "cluster": "Coastal Education", "node_size": 10, "label": "saltwater intrusion (educational)"}], ["coastal zone (educational)", {"concepts": "coastal zone (educational)", "type": "concept", "cluster": "Coastal Education", "node_size": 10, "label": "coastal zone (educational)"}], ["watershed (educational)", {"concepts": "watershed (educational)", "type": "concept", "cluster": "Coastal Education", "node_size": 10, "label": "watershed (educational)"}], ["wetland ecology (educational)", {"concepts": "wetland ecology (educational)", "type": "concept", "cluster": "Coastal Education", "node_size": 10, "label": "wetland ecology (educational)"}]], "Phragmites Control": [["burning phragmites", {"concepts": "burning phragmites", "type": "concept", "cluster": "Phragmites Control", "node_size": 10, "label": "burning phragmites"}], ["herbicide", {"concepts": "herbicide", "type": "concept", "cluster": "Phragmites Control", "node_size": 10, "label": "herbicide"}]], "Dredge Oil": [["dredge oil", {"concepts": "dredge oil", "type": "concept", "cluster": "Dredge Oil", "node_size": 10, "label": "dredge oil"}], ["dredge oil creation", {"concepts": "dredge oil creation", "type": "concept", "cluster": "Dredge Oil", "node_size": 10, "label": "dredge oil creation"}], ["none", {"concepts": "none", "type": "concept", "cluster": "Dredge Oil", "node_size": 10, "label": "none"}], ["medium impact", {"concepts": "medium impact", "type": "concept", "cluster": "Dredge Oil", "node_size": 10, "label": "medium impact"}], ["easements", {"concepts": "easements", "type": "concept", "cluster": "Dredge Oil", "node_size": 10, "label": "easements"}], ["legacy impacts", {"concepts": "legacy impacts", "type": "concept", "cluster": "Dredge Oil", "node_size": 10, "label": "legacy impacts"}], ["low impact", {"concepts": "low impact", "type": "concept", "cluster": "Dredge Oil", "node_size": 10, "label": "low impact"}]], "Population Dynamics": [["population sizes", {"concepts": "population sizes", "type": "concept", "cluster": "Population Dynamics", "node_size": 10, "label": "population sizes"}], ["population genetics", {"concepts": "population genetics", "type": "concept", "cluster": "Population Dynamics", "node_size": 10, "label": "population genetics"}]], "Organizational Management": [["steering committee (organizational)", {"concepts": "steering committee (organizational)", "type": "concept", "cluster": "Organizational Management", "node_size": 10, "label": "steering committee (organizational)"}], ["management groups (organizational)", {"concepts": "management groups (organizational)", "type": "concept", "cluster": "Organizational Management", "node_size": 10, "label": "management groups (organizational)"}], ["regional managers (organizational)", {"concepts": "regional managers (organizational)", "type": "concept", "cluster": "Organizational Management", "node_size": 10, "label": "regional managers (organizational)"}], ["management team (organizational)", {"concepts": "management team (organizational)", "type": "concept", "cluster": "Organizational Management", "node_size": 10, "label": "management team (organizational)"}]], "Organizational Experts": [["technical experts (organizational)", {"concepts": "technical experts (organizational)", "type": "concept", "cluster": "Organizational Experts", "node_size": 10, "label": "technical experts (organizational)"}], ["researchers (organizational)", {"concepts": "researchers (organizational)", "type": "concept", "cluster": "Organizational Experts", "node_size": 10, "label": "researchers (organizational)"}], ["academics (organizational)", {"concepts": "academics (organizational)", "type": "concept", "cluster": "Organizational Experts", "node_size": 10, "label": "academics (organizational)"}], ["organizational structures", {"concepts": "organizational structures", "type": "concept", "cluster": "Organizational Experts", "node_size": 10, "label": "organizational structures"}], ["conceptual models (organizational)", {"concepts": "conceptual models (organizational)", "type": "concept", "cluster": "Organizational Experts", "node_size": 10, "label": "conceptual models (organizational)"}], ["incentive structures (organizational)", {"concepts": "incentive structures (organizational)", "type": "concept", "cluster": "Organizational Experts", "node_size": 10, "label": "incentive structures (organizational)"}], ["regulatory power (organizational)", {"concepts": "regulatory power (organizational)", "type": "concept", "cluster": "Organizational Experts", "node_size": 10, "label": "regulatory power (organizational)"}], ["permitting (organizational)", {"concepts": "permitting (organizational)", "type": "concept", "cluster": "Organizational Experts", "node_size": 10, "label": "permitting (organizational)"}], ["management activities (organizational)", {"concepts": "management activities (organizational)", "type": "concept", "cluster": "Organizational Experts", "node_size": 10, "label": "management activities (organizational)"}]]};
        const clusterEdges = {"Community Stakeholders": [], "Ecology & Management": [], "Impact Assessment": [], "Biodiversity Conservation": [], "Ecosystem Components": [], "Invasive Species": [], "Land Management": [], "Coastal Biodiversity": [], "Water Systems": [], "Tidal Marsh Dynamics": [], "Marsh Dynamics": [], "Salt Marsh Ecosystem": [], "Marsh Adaptation Strategies": [], "Resource Management": [], "Coastal Education": [], "Phragmites Control": [], "Dredge Oil": [], "Population Dynamics": [], "Organizational Management": [], "Organizational Experts": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
