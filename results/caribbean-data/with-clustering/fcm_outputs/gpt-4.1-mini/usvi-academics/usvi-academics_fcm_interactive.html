
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization (Unconnected nodes removed)</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"senators": {"concepts": "senators", "concept_list": ["senators"], "type": "cluster", "node_size": 18, "label": "senators"}, "grazers": {"concepts": "grazers", "concept_list": ["grazers"], "type": "cluster", "node_size": 18, "label": "grazers"}, "wave buffering": {"concepts": "wave buffering, tangs, tang", "concept_list": ["wave buffering", "tangs", "tang"], "type": "cluster", "node_size": 24, "label": "wave buffering"}, "visual surveys": {"concepts": "visual surveys", "concept_list": ["visual surveys"], "type": "cluster", "node_size": 18, "label": "visual surveys"}, "sctld": {"concepts": "sctld", "concept_list": ["sctld"], "type": "cluster", "node_size": 18, "label": "sctld"}, "fishery co-op": {"concepts": "fishery co-op", "concept_list": ["fishery co-op"], "type": "cluster", "node_size": 18, "label": "fishery co-op"}, "st. thomas fisherman's association": {"concepts": "st. thomas fisherman's association", "concept_list": ["st. thomas fisherman's association"], "type": "cluster", "node_size": 18, "label": "st. thomas fisherman's association"}, "fishery protection": {"concepts": "fishery protection", "concept_list": ["fishery protection"], "type": "cluster", "node_size": 18, "label": "fishery protection"}, "fishery transparency": {"concepts": "fishery transparency", "concept_list": ["fishery transparency"], "type": "cluster", "node_size": 18, "label": "fishery transparency"}, "midnight parrotfish": {"concepts": "midnight parrotfish", "concept_list": ["midnight parrotfish"], "type": "cluster", "node_size": 18, "label": "midnight parrotfish"}, "undersized fish": {"concepts": "undersized fish", "concept_list": ["undersized fish"], "type": "cluster", "node_size": 18, "label": "undersized fish"}, "enforcement complaints": {"concepts": "enforcement complaints", "concept_list": ["enforcement complaints"], "type": "cluster", "node_size": 18, "label": "enforcement complaints"}, "Fishing Locations": {"concepts": "digital measurements, shell tagging, acoustic tagging, acoustic receivers", "concept_list": ["digital measurements", "shell tagging", "acoustic tagging", "acoustic receivers"], "type": "cluster", "node_size": 27, "label": "Fishing Locations"}, "Fishing Communities": {"concepts": "fish bay, fish pots", "concept_list": ["fish bay", "fish pots"], "type": "cluster", "node_size": 21, "label": "Fishing Communities"}, "Reef Types and Habitats": {"concepts": "reef health, reef degradation, coral cover decline, live coral loss, reef impacts, coral reef loss, coral reef decline, coral cover loss, coral health, coral mortality, coral degradation, coral reefs, coral genotypes, coral bleaching, coral disease, coral diseases, coral thermal stress, coral tissue loss disease, stony coral tissue loss disease, coral leaching, coral ecology", "concept_list": ["reef health", "reef degradation", "coral cover decline", "live coral loss", "reef impacts", "coral reef loss", "coral reef decline", "coral cover loss", "coral health", "coral mortality", "coral degradation", "coral reefs", "coral genotypes", "coral bleaching", "coral disease", "coral diseases", "coral thermal stress", "coral tissue loss disease", "stony coral tissue loss disease", "coral leaching", "coral ecology"], "type": "cluster", "node_size": 78, "label": "Reef Types and Habitats"}, "Marine Tracking Methods": {"concepts": "coral ridging shelf, barrier reefs, nearshore reefs, barrier reef, shelf edge reefs, fringing reefs, coral reef habitats, coral reefs", "concept_list": ["coral ridging shelf", "barrier reefs", "nearshore reefs", "barrier reef", "shelf edge reefs", "fringing reefs", "coral reef habitats", "coral reefs"], "type": "cluster", "node_size": 39, "label": "Marine Tracking Methods"}, "Reef Fisheries": {"concepts": "size limits, population size, grunt species", "concept_list": ["size limits", "population size", "grunt species"], "type": "cluster", "node_size": 24, "label": "Reef Fisheries"}, "Coral Reef Conservation": {"concepts": "coral reef research, coral reef ecologist, territorial coral reef monitoring program, noaa coral reef conservation program, coral reef monitoring, acropora corals, coral research, reef protection, coral reef conservation, coral conservation", "concept_list": ["coral reef research", "coral reef ecologist", "territorial coral reef monitoring program", "noaa coral reef conservation program", "coral reef monitoring", "acropora corals", "coral research", "reef protection", "coral reef conservation", "coral conservation"], "type": "cluster", "node_size": 45, "label": "Coral Reef Conservation"}, "Reef Biodiversity Survey": {"concepts": "reef species, reef visual census, coral", "concept_list": ["reef species", "reef visual census", "coral"], "type": "cluster", "node_size": 24, "label": "Reef Biodiversity Survey"}, "Population Decline": {"concepts": "mortality, population vulnerability, population depletion", "concept_list": ["mortality", "population vulnerability", "population depletion"], "type": "cluster", "node_size": 24, "label": "Population Decline"}, "Sampling Methods": {"concepts": "data collection, randomized sampling", "concept_list": ["data collection", "randomized sampling"], "type": "cluster", "node_size": 21, "label": "Sampling Methods"}, "Diver Research Team": {"concepts": "researchers, research team, research, diver-based studies", "concept_list": ["researchers", "research team", "research", "diver-based studies"], "type": "cluster", "node_size": 27, "label": "Diver Research Team"}, "Stakeholder Engagement": {"concepts": "public comments, research stakeholders, stakeholder group", "concept_list": ["public comments", "research stakeholders", "stakeholder group"], "type": "cluster", "node_size": 24, "label": "Stakeholder Engagement"}, "Recruitment Interviews": {"concepts": "recruitment, key informant interview", "concept_list": ["recruitment", "key informant interview"], "type": "cluster", "node_size": 21, "label": "Recruitment Interviews"}, "Water Quality Monitoring": {"concepts": "water conditions, turbidity, water quality", "concept_list": ["water conditions", "turbidity", "water quality"], "type": "cluster", "node_size": 24, "label": "Water Quality Monitoring"}, "Water Pollution Impact": {"concepts": "water pollution, water quality degradation, nutrient pollution, nitrification, runoff, poaching, deep water traps, raw sewage dumping", "concept_list": ["water pollution", "water quality degradation", "nutrient pollution", "nitrification", "runoff", "poaching", "deep water traps", "raw sewage dumping"], "type": "cluster", "node_size": 39, "label": "Water Pollution Impact"}, "Fishing Community Dynamics": {"concepts": "resource dependency, occupational shift, fishing community, fishing community cohesion, fishing community representation, regionalized communities, commissioner recommendations, commissioner, livelihoods, offshore trolling, fisheries associations, fishing community resistance, community opposition, fisherman's association, subsistence fishermen, livelihood, long term livelihood, fishermen livelihoods, fishers associations", "concept_list": ["resource dependency", "occupational shift", "fishing community", "fishing community cohesion", "fishing community representation", "regionalized communities", "commissioner recommendations", "commissioner", "livelihoods", "offshore trolling", "fisheries associations", "fishing community resistance", "community opposition", "fisherman's association", "subsistence fishermen", "livelihood", "long term livelihood", "fishermen livelihoods", "fishers associations"], "type": "cluster", "node_size": 72, "label": "Fishing Community Dynamics"}, "Coastal Sediment Dynamics": {"concepts": "shelf edge, salt river bay, home ranges, grammanik bank closure, shoreline decay, sand deposition, sedimentation, shoreline erosion, erosion, sediment movement, shallow shelf, bait fish habitat, broad deep shelf", "concept_list": ["shelf edge", "salt river bay", "home ranges", "grammanik bank closure", "shoreline decay", "sand deposition", "sedimentation", "shoreline erosion", "erosion", "sediment movement", "shallow shelf", "bait fish habitat", "broad deep shelf"], "type": "cluster", "node_size": 54, "label": "Coastal Sediment Dynamics"}, "Marine Ecosystem Challenges": {"concepts": "parrot fish reduction, lionfish, bait fish decline, ciguatera fish poisoning, yellowfin grouper, lionfish invasion, atlantic lionfish, hurricane impact, commercial species, surgeons, sea surface temperature, youth engagement, sargassum influx, hurricane hugo, seafood consumption, sea temperature rise, target species, pollution, sea temperature increase, lobster landings, pacific lionfish, depleted populations, red hind grouper protection, resource possession, ocean climate, data workshop, shipping, diving", "concept_list": ["parrot fish reduction", "lionfish", "bait fish decline", "ciguatera fish poisoning", "yellowfin grouper", "lionfish invasion", "atlantic lionfish", "hurricane impact", "commercial species", "surgeons", "sea surface temperature", "youth engagement", "sargassum influx", "hurricane hugo", "seafood consumption", "sea temperature rise", "target species", "pollution", "sea temperature increase", "lobster landings", "pacific lionfish", "depleted populations", "red hind grouper protection", "resource possession", "ocean climate", "data workshop", "shipping", "diving"], "type": "cluster", "node_size": 99, "label": "Marine Ecosystem Challenges"}, "Fisheries Management": {"concepts": "excess catches, stock assessment, stock rebuilding", "concept_list": ["excess catches", "stock assessment", "stock rebuilding"], "type": "cluster", "node_size": 24, "label": "Fisheries Management"}, "Coral Decline Factors": {"concepts": "long-term effects, life cycle, acropora loss, acropora, diadema die-off, white band disease, diademas die-off", "concept_list": ["long-term effects", "life cycle", "acropora loss", "acropora", "diadema die-off", "white band disease", "diademas die-off"], "type": "cluster", "node_size": 36, "label": "Coral Decline Factors"}, "U.S. Virgin Islands": {"concepts": "st. croix committee, st. croix, st. john, st. thomas committee, st. thomas, u.s. virgin islands", "concept_list": ["st. croix committee", "st. croix", "st. john", "st. thomas committee", "st. thomas", "u.s. virgin islands"], "type": "cluster", "node_size": 33, "label": "U.S. Virgin Islands"}, "Short-Term Planning": {"concepts": "short term management, department of planning, year-round closure, t-bar tags, short-term management", "concept_list": ["short term management", "department of planning", "year-round closure", "t-bar tags", "short-term management"], "type": "cluster", "node_size": 30, "label": "Short-Term Planning"}, "Fishery Types & Effort": {"concepts": "fishery closure, fishery effort, gill net fishery, red heine fishery, red hind fishery, commercial fishery, recreational fisher, parrot fish fishery, sport fishery, new fishery target, recreational fishery", "concept_list": ["fishery closure", "fishery effort", "gill net fishery", "red heine fishery", "red hind fishery", "commercial fishery", "recreational fisher", "parrot fish fishery", "sport fishery", "new fishery target", "recreational fishery"], "type": "cluster", "node_size": 48, "label": "Fishery Types & Effort"}, "Fisheries Research Insights": {"concepts": "fisheries data, fisheries knowledge, fishers' understanding, fisheries research, fishery independent survey, fishery data, fishery research, fisheries research participation, fishing research gaps, cooperative research, noaa collaboration", "concept_list": ["fisheries data", "fisheries knowledge", "fishers' understanding", "fisheries research", "fishery independent survey", "fishery data", "fishery research", "fisheries research participation", "fishing research gaps", "cooperative research", "noaa collaboration"], "type": "cluster", "node_size": 48, "label": "Fisheries Research Insights"}, "Fishery Management": {"concepts": "fishery decision-making, multi-use fishery, multi use fishery", "concept_list": ["fishery decision-making", "multi-use fishery", "multi use fishery"], "type": "cluster", "node_size": 24, "label": "Fishery Management"}, "Algal Dynamics": {"concepts": "algal area, algal dominance, algal composition, algal overgrowth, algal abundance", "concept_list": ["algal area", "algal dominance", "algal composition", "algal overgrowth", "algal abundance"], "type": "cluster", "node_size": 30, "label": "Algal Dynamics"}, "Species Ecology": {"concepts": "species diversity, ecologically important species, commercially important species, herbivores, species recovery, species abundance, species identification, stipulacea species, epiphytes, halophila species", "concept_list": ["species diversity", "ecologically important species", "commercially important species", "herbivores", "species recovery", "species abundance", "species identification", "stipulacea species", "epiphytes", "halophila species"], "type": "cluster", "node_size": 45, "label": "Species Ecology"}, "Spawning Aggregations": {"concepts": "multi species spawning, spawning timing, spawning aggregations, spawning aggregation, grouper spawning aggregations", "concept_list": ["multi species spawning", "spawning timing", "spawning aggregations", "spawning aggregation", "grouper spawning aggregations"], "type": "cluster", "node_size": 30, "label": "Spawning Aggregations"}, "Fish Spawning Behavior": {"concepts": "reproductive cycle, spawning groupers, snapper spawning, spawning snappers, yellowfin spawning, fish spawning, spawning behavior", "concept_list": ["reproductive cycle", "spawning groupers", "snapper spawning", "spawning snappers", "yellowfin spawning", "fish spawning", "spawning behavior"], "type": "cluster", "node_size": 36, "label": "Fish Spawning Behavior"}, "Storm Impact": {"concepts": "hurricanes, storm damage, storms", "concept_list": ["hurricanes", "storm damage", "storms"], "type": "cluster", "node_size": 24, "label": "Storm Impact"}, "Cruise Ship Pollution": {"concepts": "cruise ship waste, cruise ship pollution", "concept_list": ["cruise ship waste", "cruise ship pollution"], "type": "cluster", "node_size": 21, "label": "Cruise Ship Pollution"}, "Cultural Perspective": {"concepts": "cultural significance, cultural standpoint, cultural importance", "concept_list": ["cultural significance", "cultural standpoint", "cultural importance"], "type": "cluster", "node_size": 24, "label": "Cultural Perspective"}, "Caribbean Immigrant Issues": {"concepts": "immigrant communities, global issues, caribbean", "concept_list": ["immigrant communities", "global issues", "caribbean"], "type": "cluster", "node_size": 24, "label": "Caribbean Immigrant Issues"}, "Resource Inequality": {"concepts": "wealth disparity, land inheritance, intergenerational fishing, hind bank", "concept_list": ["wealth disparity", "land inheritance", "intergenerational fishing", "hind bank"], "type": "cluster", "node_size": 27, "label": "Resource Inequality"}, "Economic Impact Analysis": {"concepts": "economic impact, growth rates, supplemental income, economic payback, economic standpoint, spillover effect, long term effects, economic pressure, tax reasons, economic challenges, marketing center, fisher independence, tourism impact, tourism economy, tourism, tourism dependency, tourist island", "concept_list": ["economic impact", "growth rates", "supplemental income", "economic payback", "economic standpoint", "spillover effect", "long term effects", "economic pressure", "tax reasons", "economic challenges", "marketing center", "fisher independence", "tourism impact", "tourism economy", "tourism", "tourism dependency", "tourist island"], "type": "cluster", "node_size": 66, "label": "Economic Impact Analysis"}, "Regulatory Challenges": {"concepts": "regulation resistance, regulatory resistance, regulation", "concept_list": ["regulation resistance", "regulatory resistance", "regulation"], "type": "cluster", "node_size": 24, "label": "Regulatory Challenges"}, "Trap Management": {"concepts": "trap reduction committee, trap overuse, trap overexploitation, derelict traps", "concept_list": ["trap reduction committee", "trap overuse", "trap overexploitation", "derelict traps"], "type": "cluster", "node_size": 27, "label": "Trap Management"}, "Species Overexploitation": {"concepts": "species escape, species depletion, overexploitation", "concept_list": ["species escape", "species depletion", "overexploitation"], "type": "cluster", "node_size": 24, "label": "Species Overexploitation"}, "Trap Escape Design": {"concepts": "experimental traps, escape vent study, escape vents, trap design, escape panels", "concept_list": ["experimental traps", "escape vent study", "escape vents", "trap design", "escape panels"], "type": "cluster", "node_size": 30, "label": "Trap Escape Design"}, "Council Meetings": {"concepts": "sedar meetings, council meetings, council efforts, council", "concept_list": ["sedar meetings", "council meetings", "council efforts", "council"], "type": "cluster", "node_size": 27, "label": "Council Meetings"}, "Meeting Coordination": {"concepts": "fac meeting scheduling, fac meeting management, meeting facilitation", "concept_list": ["fac meeting scheduling", "fac meeting management", "meeting facilitation"], "type": "cluster", "node_size": 24, "label": "Meeting Coordination"}, "Fish Population Trends": {"concepts": "fish population, fish stocks, fish populations, fish population decline", "concept_list": ["fish population", "fish stocks", "fish populations", "fish population decline"], "type": "cluster", "node_size": 27, "label": "Fish Population Trends"}, "Fish Early Life": {"concepts": "juvenile fish communities, larval fish communities, juvenile fish, juvenile habitat, fish reproduction", "concept_list": ["juvenile fish communities", "larval fish communities", "juvenile fish", "juvenile habitat", "fish reproduction"], "type": "cluster", "node_size": 30, "label": "Fish Early Life"}, "Fish Market Dynamics": {"concepts": "fish demand, fish consumption, fish markets, fish market monitoring, fish market, local fish markets, local fish", "concept_list": ["fish demand", "fish consumption", "fish markets", "fish market monitoring", "fish market", "local fish markets", "local fish"], "type": "cluster", "node_size": 36, "label": "Fish Market Dynamics"}, "Fish Monitoring Insights": {"concepts": "fish biologist perspective, fish biologist, fish monitoring, fish size increase", "concept_list": ["fish biologist perspective", "fish biologist", "fish monitoring", "fish size increase"], "type": "cluster", "node_size": 27, "label": "Fish Monitoring Insights"}, "Fishing Operations": {"concepts": "fishing input, fishing aggregation buoys, pelagic fishing, island fishing regions, commercial fishing, fishing territories, fish traps, trap fishermen, trap fishing, trap design studies, fishing aggregating devices, fishing traps, bycatch reduction, fishing aggregation devices", "concept_list": ["fishing input", "fishing aggregation buoys", "pelagic fishing", "island fishing regions", "commercial fishing", "fishing territories", "fish traps", "trap fishermen", "trap fishing", "trap design studies", "fishing aggregating devices", "fishing traps", "bycatch reduction", "fishing aggregation devices"], "type": "cluster", "node_size": 57, "label": "Fishing Operations"}, "Fishing Regulations": {"concepts": "recreational fishing, shoreline fishing, grouper fishing restrictions, snapper fishing restrictions, fishing licenses, fishing restrictions, fishing regulations, fishing license, seasonal fishing closures, fishing area closures", "concept_list": ["recreational fishing", "shoreline fishing", "grouper fishing restrictions", "snapper fishing restrictions", "fishing licenses", "fishing restrictions", "fishing regulations", "fishing license", "seasonal fishing closures", "fishing area closures"], "type": "cluster", "node_size": 45, "label": "Fishing Regulations"}, "Fishing Industry Management": {"concepts": "fishing fines, fishing rights, fishing economics, fishing industry, fishing impact, coast guard, fishing profession, fishing overexploitation, fishing economy, fishing socialization, fishing families", "concept_list": ["fishing fines", "fishing rights", "fishing economics", "fishing industry", "fishing impact", "coast guard", "fishing profession", "fishing overexploitation", "fishing economy", "fishing socialization", "fishing families"], "type": "cluster", "node_size": 48, "label": "Fishing Industry Management"}, "Fishermen Collaboration": {"concepts": "fishermen respect, fishermen cohesiveness, fishermen's association, fishermen collaboration, fishermen cohesion, fisher groups", "concept_list": ["fishermen respect", "fishermen cohesiveness", "fishermen's association", "fishermen collaboration", "fishermen cohesion", "fisher groups"], "type": "cluster", "node_size": 33, "label": "Fishermen Collaboration"}, "Fishing Practices": {"concepts": "spear fishermen, commercial fisher, conch fishery, conch fishers", "concept_list": ["spear fishermen", "commercial fisher", "conch fishery", "conch fishers"], "type": "cluster", "node_size": 27, "label": "Fishing Practices"}, "Fishermen Categories": {"concepts": "usvi fishers, local fishermen, north side fishermen, south side fishermen, registered fishermen, part-time fishermen", "concept_list": ["usvi fishers", "local fishermen", "north side fishermen", "south side fishermen", "registered fishermen", "part-time fishermen"], "type": "cluster", "node_size": 33, "label": "Fishermen Categories"}, "Marine Reserve Management": {"concepts": "marine reserves, hind bank marine reserve, marine reserve, marine conservation district, marine reserve boundaries", "concept_list": ["marine reserves", "hind bank marine reserve", "marine reserve", "marine conservation district", "marine reserve boundaries"], "type": "cluster", "node_size": 30, "label": "Marine Reserve Management"}, "Marine Ecosystems": {"concepts": "pelagic species, marine systems, marine resources", "concept_list": ["pelagic species", "marine systems", "marine resources"], "type": "cluster", "node_size": 24, "label": "Marine Ecosystems"}, "Nassau Grouper Ecology": {"concepts": "grouper population, grouper, nassau grouper spawning, nassau grouper", "concept_list": ["grouper population", "grouper", "nassau grouper spawning", "nassau grouper"], "type": "cluster", "node_size": 27, "label": "Nassau Grouper Ecology"}, "Management Decision Making": {"concepts": "decision makers, management decisions, conflict resolution", "concept_list": ["decision makers", "management decisions", "conflict resolution"], "type": "cluster", "node_size": 24, "label": "Management Decision Making"}, "Lab Facilities": {"concepts": "westend east lab facility, farleigh dickinson lab", "concept_list": ["westend east lab facility", "farleigh dickinson lab"], "type": "cluster", "node_size": 21, "label": "Lab Facilities"}, "Climate Change Awareness": {"concepts": "climate change awareness, climate change concern, climate awareness", "concept_list": ["climate change awareness", "climate change concern", "climate awareness"], "type": "cluster", "node_size": 24, "label": "Climate Change Awareness"}, "Climate Change": {"concepts": "carbon dioxide, greenhouse gases, warming, global warming, climate change, global climate change, local climate change, local climate impacts", "concept_list": ["carbon dioxide", "greenhouse gases", "warming", "global warming", "climate change", "global climate change", "local climate change", "local climate impacts"], "type": "cluster", "node_size": 39, "label": "Climate Change"}, "Seagrass Ecosystems": {"concepts": "thalassia beds, seagrass plants, manatee grass, turtle grass, sea grass, sea grass blades", "concept_list": ["thalassia beds", "seagrass plants", "manatee grass", "turtle grass", "sea grass", "sea grass blades"], "type": "cluster", "node_size": 33, "label": "Seagrass Ecosystems"}, "Invasive Seagrass": {"concepts": "invasive seagrass, invasive species, invasive sea grass", "concept_list": ["invasive seagrass", "invasive species", "invasive sea grass"], "type": "cluster", "node_size": 24, "label": "Invasive Seagrass"}, "Regulatory Compliance": {"concepts": "regulations, local regulations, federal regulations", "concept_list": ["regulations", "local regulations", "federal regulations"], "type": "cluster", "node_size": 24, "label": "Regulatory Compliance"}, "Permit Compliance": {"concepts": "permits, permit compliance", "concept_list": ["permits", "permit compliance"], "type": "cluster", "node_size": 21, "label": "Permit Compliance"}, "Youth Employment": {"concepts": "youth employment, youth outreach", "concept_list": ["youth employment", "youth outreach"], "type": "cluster", "node_size": 21, "label": "Youth Employment"}, "University Engagement": {"concepts": "university, university employment, university involvement, university scientist, university committee", "concept_list": ["university", "university employment", "university involvement", "university scientist", "university committee"], "type": "cluster", "node_size": 30, "label": "University Engagement"}, "Fishermen Conflicts": {"concepts": "fisher conflicts, fishers conflict, fishermen-fishery manager relationship, fishers conflicts, fishermen behavior, fishermen intermarriage, fishermen input, fishermen, fishermen livelihood, fisheries personal grievances", "concept_list": ["fisher conflicts", "fishers conflict", "fishermen-fishery manager relationship", "fishers conflicts", "fishermen behavior", "fishermen intermarriage", "fishermen input", "fishermen", "fishermen livelihood", "fisheries personal grievances"], "type": "cluster", "node_size": 45, "label": "Fishermen Conflicts"}, "Fishery Negotiations": {"concepts": "fishery negotiation, fishery negotiations", "concept_list": ["fishery negotiation", "fishery negotiations"], "type": "cluster", "node_size": 21, "label": "Fishery Negotiations"}, "Fisher Relations": {"concepts": "fishers relationships, fishermen-fishery manager relations", "concept_list": ["fishers relationships", "fishermen-fishery manager relations"], "type": "cluster", "node_size": 21, "label": "Fisher Relations"}, "Fisheries Conflict Management": {"concepts": "fisheries governance, fishery conflicts, fishery management conflicts, fishery management conflict, fisheries politics, fishery management politics, fisheries conflict resolution", "concept_list": ["fisheries governance", "fishery conflicts", "fishery management conflicts", "fishery management conflict", "fisheries politics", "fishery management politics", "fisheries conflict resolution"], "type": "cluster", "node_size": 36, "label": "Fisheries Conflict Management"}, "Conch Conservation": {"concepts": "conch, undersized conch, conch population, queen conch, save our baby conch, moratorium", "concept_list": ["conch", "undersized conch", "conch population", "queen conch", "save our baby conch", "moratorium"], "type": "cluster", "node_size": 33, "label": "Conch Conservation"}, "Fish Species": {"concepts": "mahi mahi, tunas", "concept_list": ["mahi mahi", "tunas"], "type": "cluster", "node_size": 21, "label": "Fish Species"}, "Social Conflict Dynamics": {"concepts": "us versus them mentality, fairness, slave background, resource conflict", "concept_list": ["us versus them mentality", "fairness", "slave background", "resource conflict"], "type": "cluster", "node_size": 27, "label": "Social Conflict Dynamics"}, "Fisheries Stock Assessment": {"concepts": "usgs, sedar, aspic model", "concept_list": ["usgs", "sedar", "aspic model"], "type": "cluster", "node_size": 24, "label": "Fisheries Stock Assessment"}, "Caribbean Banking": {"concepts": "grammanik bank, puerto rico, virgin islands, usvi", "concept_list": ["grammanik bank", "puerto rico", "virgin islands", "usvi"], "type": "cluster", "node_size": 27, "label": "Caribbean Banking"}, "Law Enforcement Fines": {"concepts": "officers, fines", "concept_list": ["officers", "fines"], "type": "cluster", "node_size": 21, "label": "Law Enforcement Fines"}, "Fisheries Regulation": {"concepts": "no take reserve, magnuson-stevens act, fac withdrawal, magnuson-stevens restrictions", "concept_list": ["no take reserve", "magnuson-stevens act", "fac withdrawal", "magnuson-stevens restrictions"], "type": "cluster", "node_size": 27, "label": "Fisheries Regulation"}, "Sea Urchins": {"concepts": "diadema, urchins", "concept_list": ["diadema", "urchins"], "type": "cluster", "node_size": 21, "label": "Sea Urchins"}, "Facility Resource Management": {"concepts": "resource allocation, refrigeration, fac autonomy", "concept_list": ["resource allocation", "refrigeration", "fac autonomy"], "type": "cluster", "node_size": 24, "label": "Facility Resource Management"}, "Fishing Gear Impact": {"concepts": "trammel nets, bycatch, gill nets", "concept_list": ["trammel nets", "bycatch", "gill nets"], "type": "cluster", "node_size": 24, "label": "Fishing Gear Impact"}, "Caribbean Fishing Communities": {"concepts": "st. croix fishing community, st. thomas fishing community", "concept_list": ["st. croix fishing community", "st. thomas fishing community"], "type": "cluster", "node_size": 21, "label": "Caribbean Fishing Communities"}, "Snapper Species Monitoring": {"concepts": "latin snapper monitoring, mutton snapper, cubera snapper, snapper species, snapper, snappers, dog snapper, large snappers", "concept_list": ["latin snapper monitoring", "mutton snapper", "cubera snapper", "snapper species", "snapper", "snappers", "dog snapper", "large snappers"], "type": "cluster", "node_size": 39, "label": "Snapper Species Monitoring"}, "Red Hind Grouper": {"concepts": "red hind, red hind grouper", "concept_list": ["red hind", "red hind grouper"], "type": "cluster", "node_size": 21, "label": "Red Hind Grouper"}, "Snorkeling Activities": {"concepts": "snorkeling, snorkeling surveys, softball tournament, holiday food source, food source, holidays", "concept_list": ["snorkeling", "snorkeling surveys", "softball tournament", "holiday food source", "food source", "holidays"], "type": "cluster", "node_size": 33, "label": "Snorkeling Activities"}, "Funding Sources": {"concepts": "funding, federal funding, funds, grant", "concept_list": ["funding", "federal funding", "funds", "grant"], "type": "cluster", "node_size": 27, "label": "Funding Sources"}, "Government Involvement": {"concepts": "government response, federal oversight, federal government, political support", "concept_list": ["government response", "federal oversight", "federal government", "political support"], "type": "cluster", "node_size": 27, "label": "Government Involvement"}, "Government Relations": {"concepts": "local government relations, federal government relations, local government", "concept_list": ["local government relations", "federal government relations", "local government"], "type": "cluster", "node_size": 24, "label": "Government Relations"}, "Purse Nets Impact": {"concepts": "purse nets ban, local economy", "concept_list": ["purse nets ban", "local economy"], "type": "cluster", "node_size": 21, "label": "Purse Nets Impact"}, "Habitat Spatial Management": {"concepts": "spatial management, spatial stratification, habitat use, critical habitat, natural resources commissioner", "concept_list": ["spatial management", "spatial stratification", "habitat use", "critical habitat", "natural resources commissioner"], "type": "cluster", "node_size": 30, "label": "Habitat Spatial Management"}, "Environmental Resource Management": {"concepts": "department of planning and natural resources, chemical contaminants, natural resources, environmental conditions, non-manmade environmental factors, environmentalism, environmental ngos, environmental protection, environmental opposition, environmental side, ecological harm, environmental changes, habitat degradation, environmental protection division, division of environmental protection, environmental concerns, conservationist perspective", "concept_list": ["department of planning and natural resources", "chemical contaminants", "natural resources", "environmental conditions", "non-manmade environmental factors", "environmentalism", "environmental ngos", "environmental protection", "environmental opposition", "environmental side", "ecological harm", "environmental changes", "habitat degradation", "environmental protection division", "division of environmental protection", "environmental concerns", "conservationist perspective"], "type": "cluster", "node_size": 66, "label": "Environmental Resource Management"}, "Bird Habitat Impact": {"concepts": "bird population changes, habitat change, ecosystem, ecosystems, ecological roles, traditional ecological knowledge, resident populations, larval dispersal, habitats", "concept_list": ["bird population changes", "habitat change", "ecosystem", "ecosystems", "ecological roles", "traditional ecological knowledge", "resident populations", "larval dispersal", "habitats"], "type": "cluster", "node_size": 42, "label": "Bird Habitat Impact"}, "Bastille Day Fishing": {"concepts": "bastille day fishing, bastille day fishing tournament, french fishing heritage, fishing tournaments", "concept_list": ["bastille day fishing", "bastille day fishing tournament", "french fishing heritage", "fishing tournaments"], "type": "cluster", "node_size": 27, "label": "Bastille Day Fishing"}, "Seafloor Interaction": {"concepts": "bottom tending gear, burrowing", "concept_list": ["bottom tending gear", "burrowing"], "type": "cluster", "node_size": 21, "label": "Seafloor Interaction"}, "Marine Fishing Practices": {"concepts": "scuba diving, conch fishing, fishing moratorium, spear fishing", "concept_list": ["scuba diving", "conch fishing", "fishing moratorium", "spear fishing"], "type": "cluster", "node_size": 27, "label": "Marine Fishing Practices"}, "Coastal Protection": {"concepts": "coastal zone management, coastal protections, coastal protection", "concept_list": ["coastal zone management", "coastal protections", "coastal protection"], "type": "cluster", "node_size": 24, "label": "Coastal Protection"}, "Coastal Communities": {"concepts": "coastal communities, coastal development, coastal waters", "concept_list": ["coastal communities", "coastal development", "coastal waters"], "type": "cluster", "node_size": 24, "label": "Coastal Communities"}, "Catch Reporting": {"concepts": "catch reporting, catch limits, under reporting, catch data", "concept_list": ["catch reporting", "catch limits", "under reporting", "catch data"], "type": "cluster", "node_size": 27, "label": "Catch Reporting"}, "Seasonal Closures": {"concepts": "seasonal closures, catch seasons, seasonal moratorium", "concept_list": ["seasonal closures", "catch seasons", "seasonal moratorium"], "type": "cluster", "node_size": 24, "label": "Seasonal Closures"}, "Cultural Communities": {"concepts": "french community, puerto rican community, viequean expat community, west indian community, boat captains, boat patrol, national park service, megan's bay, beach maintenance, south charlotte amalia", "concept_list": ["french community", "puerto rican community", "viequean expat community", "west indian community", "boat captains", "boat patrol", "national park service", "megan's bay", "beach maintenance", "south charlotte amalia"], "type": "cluster", "node_size": 45, "label": "Cultural Communities"}, "Social Challenges": {"concepts": "personal grievances, peer pressure", "concept_list": ["personal grievances", "peer pressure"], "type": "cluster", "node_size": 21, "label": "Social Challenges"}, "Social Connections": {"concepts": "community relationships, family interactions, groupers, social gatherings, social activities", "concept_list": ["community relationships", "family interactions", "groupers", "social gatherings", "social activities"], "type": "cluster", "node_size": 30, "label": "Social Connections"}, "Fisheries Regulations": {"concepts": "fisheries regulation, fisheries regulations, fisheries regulations update, fishery regulations, fishery regulation", "concept_list": ["fisheries regulation", "fisheries regulations", "fisheries regulations update", "fishery regulations", "fishery regulation"], "type": "cluster", "node_size": 30, "label": "Fisheries Regulations"}, "Fishery Enforcement": {"concepts": "fisheries enforcement, fishery enforcement", "concept_list": ["fisheries enforcement", "fishery enforcement"], "type": "cluster", "node_size": 21, "label": "Fishery Enforcement"}, "Fish and Wildlife Management": {"concepts": "fish and wildlife, local fish and wildlife, usvi fish and wildlife, division of fish and wildlife", "concept_list": ["fish and wildlife", "local fish and wildlife", "usvi fish and wildlife", "division of fish and wildlife"], "type": "cluster", "node_size": 27, "label": "Fish and Wildlife Management"}, "Fish and Wildlife Leadership": {"concepts": "fish and wildlife office, fish and wildlife director", "concept_list": ["fish and wildlife office", "fish and wildlife director"], "type": "cluster", "node_size": 21, "label": "Fish and Wildlife Leadership"}, "Parrotfish Species": {"concepts": "parrotfish, parrot fishes, parrot fish, rainbow parrotfish", "concept_list": ["parrotfish", "parrot fishes", "parrot fish", "rainbow parrotfish"], "type": "cluster", "node_size": 27, "label": "Parrotfish Species"}, "Surgeonfish Types": {"concepts": "surgeon fish, tang fish", "concept_list": ["surgeon fish", "tang fish"], "type": "cluster", "node_size": 21, "label": "Surgeonfish Types"}, "Legal Enforcement": {"concepts": "law enforcement, enforcement, legal enforcement", "concept_list": ["law enforcement", "enforcement", "legal enforcement"], "type": "cluster", "node_size": 24, "label": "Legal Enforcement"}, "Enforcement Officers": {"concepts": "enforcement personnel, enforcement officers", "concept_list": ["enforcement personnel", "enforcement officers"], "type": "cluster", "node_size": 21, "label": "Enforcement Officers"}};
        const conceptData = {};
        const interClusterEdges = [["senators", "Water Pollution Impact", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["senators", "Species Overexploitation", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["wave buffering", "Funding Sources", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["visual surveys", "Marine Ecosystems", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["sctld", "Stakeholder Engagement", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["fishery co-op", "Fishery Enforcement", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["st. thomas fisherman's association", "senators", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["st. thomas fisherman's association", "Seafloor Interaction", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["st. thomas fisherman's association", "Red Hind Grouper", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["midnight parrotfish", "Reef Biodiversity Survey", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["undersized fish", "Trap Management", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["undersized fish", "Sea Urchins", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["enforcement complaints", "Short-Term Planning", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Fishing Locations", "Coral Decline Factors", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Fishing Communities", "Permit Compliance", {"weight": 1.0, "confidence": 0.6999999999999998, "type": "inter_cluster", "style": "solid"}], ["Reef Types and Habitats", "Fisher Relations", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Reef Fisheries", "Coral Decline Factors", {"weight": 1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Coral Reef Conservation", "Legal Enforcement", {"weight": 0.5, "confidence": 0.35, "type": "inter_cluster", "style": "solid"}], ["Coral Reef Conservation", "Snorkeling Activities", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Reef Biodiversity Survey", "Snapper Species Monitoring", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Population Decline", "Marine Ecosystems", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Population Decline", "Snapper Species Monitoring", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Population Decline", "undersized fish", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Sampling Methods", "Reef Types and Habitats", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Diver Research Team", "Species Ecology", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Diver Research Team", "Fishing Communities", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Engagement", "Fishermen Categories", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Recruitment Interviews", "Reef Fisheries", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Water Quality Monitoring", "Seagrass Ecosystems", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Water Quality Monitoring", "Regulatory Challenges", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Fishing Community Dynamics", "Fishing Communities", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Coastal Sediment Dynamics", "Reef Types and Habitats", {"weight": -1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystem Challenges", "Conch Conservation", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystem Challenges", "University Engagement", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Fish Monitoring Insights", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Facility Resource Management", {"weight": 1.0, "confidence": 0.6499999999999999, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Regulatory Challenges", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Fishery Types & Effort", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Marine Tracking Methods", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Purse Nets Impact", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Coral Decline Factors", "Species Overexploitation", {"weight": -1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Coral Decline Factors", "Fisheries Conflict Management", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["U.S. Virgin Islands", "Fisher Relations", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["U.S. Virgin Islands", "Water Pollution Impact", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Fishery Types & Effort", "Enforcement Officers", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Fisheries Research Insights", "Nassau Grouper Ecology", {"weight": 1.0, "confidence": 0.8333333333333334, "type": "inter_cluster", "style": "solid"}], ["Fisheries Research Insights", "Lab Facilities", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Fishery Management", "Climate Change Awareness", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Algal Dynamics", "Coastal Communities", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Spawning Aggregations", "Short-Term Planning", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Spawning Aggregations", "Storm Impact", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Cruise Ship Pollution", "Diver Research Team", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Cultural Perspective", "Nassau Grouper Ecology", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Cultural Perspective", "Fishermen Categories", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Cultural Perspective", "Fisheries Research Insights", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Caribbean Immigrant Issues", "Climate Change", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Resource Inequality", "Coastal Communities", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Economic Impact Analysis", "fishery protection", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Regulatory Challenges", "Stakeholder Engagement", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Regulatory Challenges", "Water Pollution Impact", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Trap Management", "Short-Term Planning", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Trap Escape Design", "Regulatory Compliance", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Trap Escape Design", "Reef Fisheries", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Trap Escape Design", "Seafloor Interaction", {"weight": 0.5, "confidence": 0.35, "type": "inter_cluster", "style": "solid"}], ["Council Meetings", "Fishing Gear Impact", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["Council Meetings", "Bastille Day Fishing", {"weight": 0.5, "confidence": 0.325, "type": "inter_cluster", "style": "solid"}], ["Meeting Coordination", "Fishermen Conflicts", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Fish Population Trends", "Species Ecology", {"weight": 1.0, "confidence": 0.8799999999999999, "type": "inter_cluster", "style": "solid"}], ["Fish Population Trends", "Council Meetings", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Fish Early Life", "Fish and Wildlife Management", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Fish Early Life", "Fish and Wildlife Leadership", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Fish Market Dynamics", "Sea Urchins", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Fish Market Dynamics", "Environmental Resource Management", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Fish Monitoring Insights", "Coral Reef Conservation", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Fishing Industry Management", "Fishing Operations", {"weight": 1.0, "confidence": 0.7166666666666667, "type": "inter_cluster", "style": "solid"}], ["Fishing Industry Management", "Fish Spawning Behavior", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Marine Reserve Management", "Coral Decline Factors", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Marine Reserve Management", "Fish Market Dynamics", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Marine Reserve Management", "Fish Population Trends", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystems", "visual surveys", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystems", "Species Overexploitation", {"weight": 1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Management Decision Making", "Catch Reporting", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Climate Change Awareness", "Coral Reef Conservation", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Climate Change", "Government Involvement", {"weight": 1.0, "confidence": 0.7333333333333334, "type": "inter_cluster", "style": "solid"}], ["Invasive Seagrass", "Storm Impact", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Permit Compliance", "Lab Facilities", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Youth Employment", "Fishermen Collaboration", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Fishermen Conflicts", "Marine Reserve Management", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Fishery Negotiations", "Short-Term Planning", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["Fishery Negotiations", "Nassau Grouper Ecology", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Fish Species", "Meeting Coordination", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Social Conflict Dynamics", "Law Enforcement Fines", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Caribbean Banking", "Fish Monitoring Insights", {"weight": 1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Fisheries Regulation", "Fish Early Life", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Fisheries Regulation", "Marine Fishing Practices", {"weight": -1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Fisheries Regulation", "senators", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Sea Urchins", "Funding Sources", {"weight": 1.0, "confidence": 0.625, "type": "inter_cluster", "style": "solid"}], ["Fishing Gear Impact", "Fishing Practices", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Caribbean Fishing Communities", "Habitat Spatial Management", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Caribbean Fishing Communities", "Permit Compliance", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Caribbean Fishing Communities", "Algal Dynamics", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Red Hind Grouper", "Coral Reef Conservation", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Funding Sources", "Trap Management", {"weight": 1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Funding Sources", "fishery transparency", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Government Involvement", "st. thomas fisherman's association", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Government Relations", "Facility Resource Management", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Habitat Spatial Management", "Fishing Regulations", {"weight": 1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["Bird Habitat Impact", "grazers", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Bastille Day Fishing", "Cultural Communities", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Bastille Day Fishing", "Fishery Management", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Seafloor Interaction", "Resource Inequality", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Marine Fishing Practices", "Storm Impact", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Coastal Protection", "Fishing Communities", {"weight": 1.0, "confidence": 0.675, "type": "inter_cluster", "style": "solid"}], ["Seasonal Closures", "Coastal Protection", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Cultural Communities", "Trap Management", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Social Challenges", "Coastal Protection", {"weight": 0.5, "confidence": 0.325, "type": "inter_cluster", "style": "solid"}], ["Social Connections", "Government Involvement", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Fisheries Regulations", "Fisheries Stock Assessment", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Fish and Wildlife Leadership", "Stakeholder Engagement", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Fish and Wildlife Leadership", "Fishery Enforcement", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Parrotfish Species", "Fishery Management", {"weight": 1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Surgeonfish Types", "Funding Sources", {"weight": 0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Enforcement Officers", "Species Ecology", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {};
        const clusterEdges = {"wave buffering": [], "Fishing Locations": [], "Fishing Communities": [], "Reef Types and Habitats": [], "Marine Tracking Methods": [], "Reef Fisheries": [], "Coral Reef Conservation": [], "Reef Biodiversity Survey": [], "Population Decline": [], "Sampling Methods": [], "Diver Research Team": [], "Stakeholder Engagement": [], "Recruitment Interviews": [], "Water Quality Monitoring": [], "Water Pollution Impact": [], "Fishing Community Dynamics": [], "Coastal Sediment Dynamics": [], "Marine Ecosystem Challenges": [], "Fisheries Management": [], "Coral Decline Factors": [], "U.S. Virgin Islands": [], "Short-Term Planning": [], "Fishery Types & Effort": [], "Fisheries Research Insights": [], "Fishery Management": [], "Algal Dynamics": [], "Species Ecology": [], "Spawning Aggregations": [], "Fish Spawning Behavior": [], "Storm Impact": [], "Cruise Ship Pollution": [], "Cultural Perspective": [], "Caribbean Immigrant Issues": [], "Resource Inequality": [], "Economic Impact Analysis": [], "Regulatory Challenges": [], "Trap Management": [], "Species Overexploitation": [], "Trap Escape Design": [], "Council Meetings": [], "Meeting Coordination": [], "Fish Population Trends": [], "Fish Early Life": [], "Fish Market Dynamics": [], "Fish Monitoring Insights": [], "Fishing Operations": [], "Fishing Regulations": [], "Fishing Industry Management": [], "Fishermen Collaboration": [], "Fishing Practices": [], "Fishermen Categories": [], "Marine Reserve Management": [], "Marine Ecosystems": [], "Nassau Grouper Ecology": [], "Management Decision Making": [], "Lab Facilities": [], "Climate Change Awareness": [], "Climate Change": [], "Seagrass Ecosystems": [], "Invasive Seagrass": [], "Regulatory Compliance": [], "Permit Compliance": [], "Youth Employment": [], "University Engagement": [], "Fishermen Conflicts": [], "Fishery Negotiations": [], "Fisher Relations": [], "Fisheries Conflict Management": [], "Conch Conservation": [], "Fish Species": [], "Social Conflict Dynamics": [], "Fisheries Stock Assessment": [], "Caribbean Banking": [], "Law Enforcement Fines": [], "Fisheries Regulation": [], "Sea Urchins": [], "Facility Resource Management": [], "Fishing Gear Impact": [], "Caribbean Fishing Communities": [], "Snapper Species Monitoring": [], "Red Hind Grouper": [], "Snorkeling Activities": [], "Funding Sources": [], "Government Involvement": [], "Government Relations": [], "Purse Nets Impact": [], "Habitat Spatial Management": [], "Environmental Resource Management": [], "Bird Habitat Impact": [], "Bastille Day Fishing": [], "Seafloor Interaction": [], "Marine Fishing Practices": [], "Coastal Protection": [], "Coastal Communities": [], "Catch Reporting": [], "Seasonal Closures": [], "Cultural Communities": [], "Social Challenges": [], "Social Connections": [], "Fisheries Regulations": [], "Fishery Enforcement": [], "Fish and Wildlife Management": [], "Fish and Wildlife Leadership": [], "Parrotfish Species": [], "Surgeonfish Types": [], "Legal Enforcement": [], "Enforcement Officers": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
