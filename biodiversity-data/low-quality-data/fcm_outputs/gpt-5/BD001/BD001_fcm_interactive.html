
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Marine Resource Management": {"concepts": "habitat protection, use cases, damaging assumption, thresholds, scientific analysis, bycatch, species extinction, baseline data, societal benefits, esa, perturbed systems, climate forces, ecosystem function, species diversity, collaboration, ecosystem resilience, gulf of mexico, substrate, feedbacks, user groups, case studies, quantifiable benefits, ecosystem services, population persistence, science analysis, decision makers, isolation, researchers, resilience, science actions, westernized thinking, research needs, data gaps, human community diversity, alaska natives, understanding of biodiversity, change acceptance, regulatory framework, study systems, ecosystem health, status quo, alaska, community diversity, coral habitat areas, task force, societal preferences, future research needs, climate stressors, linkages, ecosystem functioning, mandates, sanctuaries, conservation, biodiversity, research gaps, adaptation pathways, practitioners, concept mapping, themes, receiver variable, decision-making, acute stressors, concept list, ecological niches, subpopulation depletion, gear impacts, bycatch reduction, framework, aesthetics, scientific processes, mental models, unperturbed systems, community resilience, mental modeler, traditional metrics, ecosystem displacement, change, functional role, adaptation, participant expertise, species abundance, ecological niche, barriers, lack of understanding, climate change, ecological theory, overfishing, academic research, keystone species, mandate, ecosystem stressors, wind farming, coastal communities, re-engineered systems, concept creation, data collection, stressors, societal goals, dominant species, natural state, societal benefit, biodiversity data, biodiversity metrics, baseline ecosystem state, human health, human communities, social science research, organizational state, well-being, genetic diversity, ecosystem disturbance, subpopulation, global forces, biodiversity management, genetic diversity importance, chronic stressors, mmpa", "concept_list": ["habitat protection", "use cases", "damaging assumption", "thresholds", "scientific analysis", "bycatch", "species extinction", "baseline data", "societal benefits", "esa", "perturbed systems", "climate forces", "ecosystem function", "species diversity", "collaboration", "ecosystem resilience", "gulf of mexico", "substrate", "feedbacks", "user groups", "case studies", "quantifiable benefits", "ecosystem services", "population persistence", "science analysis", "decision makers", "isolation", "researchers", "resilience", "science actions", "westernized thinking", "research needs", "data gaps", "human community diversity", "alaska natives", "understanding of biodiversity", "change acceptance", "regulatory framework", "study systems", "ecosystem health", "status quo", "alaska", "community diversity", "coral habitat areas", "task force", "societal preferences", "future research needs", "climate stressors", "linkages", "ecosystem functioning", "mandates", "sanctuaries", "conservation", "biodiversity", "research gaps", "adaptation pathways", "practitioners", "concept mapping", "themes", "receiver variable", "decision-making", "acute stressors", "concept list", "ecological niches", "subpopulation depletion", "gear impacts", "bycatch reduction", "framework", "aesthetics", "scientific processes", "mental models", "unperturbed systems", "community resilience", "mental modeler", "traditional metrics", "ecosystem displacement", "change", "functional role", "adaptation", "participant expertise", "species abundance", "ecological niche", "barriers", "lack of understanding", "climate change", "ecological theory", "overfishing", "academic research", "keystone species", "mandate", "ecosystem stressors", "wind farming", "coastal communities", "re-engineered systems", "concept creation", "data collection", "stressors", "societal goals", "dominant species", "natural state", "societal benefit", "biodiversity data", "biodiversity metrics", "baseline ecosystem state", "human health", "human communities", "social science research", "organizational state", "well-being", "genetic diversity", "ecosystem disturbance", "subpopulation", "global forces", "biodiversity management", "genetic diversity importance", "chronic stressors", "mmpa"], "type": "cluster", "node_size": 366, "label": "Marine Resource Management"}, "Management Practices": {"concepts": "storm surge protection, fisheries management, climate-ready fisheries, us marine management, regional ocean planning, marine management, marine resource regulations, fishing pressure, us marine resources, marine sanctuaries, marine resource management", "concept_list": ["storm surge protection", "fisheries management", "climate-ready fisheries", "us marine management", "regional ocean planning", "marine management", "marine resource regulations", "fishing pressure", "us marine resources", "marine sanctuaries", "marine resource management"], "type": "cluster", "node_size": 48, "label": "Management Practices"}, "Ecosystem Biodiversity": {"concepts": "management actions, management intervention, managers, management effectiveness, highly managed systems, resource management, management policies, effective management, effective management policies, researcher-manager collaboration, management processes, management bodies, management issues, management gaps", "concept_list": ["management actions", "management intervention", "managers", "management effectiveness", "highly managed systems", "resource management", "management policies", "effective management", "effective management policies", "researcher-manager collaboration", "management processes", "management bodies", "management issues", "management gaps"], "type": "cluster", "node_size": 57, "label": "Ecosystem Biodiversity"}};
        const conceptData = {"habitat protection": {"concepts": "habitat protection", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "habitat protection"}, "use cases": {"concepts": "use cases", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "use cases"}, "damaging assumption": {"concepts": "damaging assumption", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "damaging assumption"}, "thresholds": {"concepts": "thresholds", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "thresholds"}, "scientific analysis": {"concepts": "scientific analysis", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "scientific analysis"}, "bycatch": {"concepts": "bycatch", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "bycatch"}, "species extinction": {"concepts": "species extinction", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species extinction"}, "baseline data": {"concepts": "baseline data", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "baseline data"}, "societal benefits": {"concepts": "societal benefits", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "societal benefits"}, "esa": {"concepts": "esa", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "esa"}, "perturbed systems": {"concepts": "perturbed systems", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "perturbed systems"}, "climate forces": {"concepts": "climate forces", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "climate forces"}, "ecosystem function": {"concepts": "ecosystem function", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem function"}, "species diversity": {"concepts": "species diversity", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species diversity"}, "collaboration": {"concepts": "collaboration", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "collaboration"}, "ecosystem resilience": {"concepts": "ecosystem resilience", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem resilience"}, "gulf of mexico": {"concepts": "gulf of mexico", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "gulf of mexico"}, "substrate": {"concepts": "substrate", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "substrate"}, "feedbacks": {"concepts": "feedbacks", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "feedbacks"}, "user groups": {"concepts": "user groups", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "user groups"}, "case studies": {"concepts": "case studies", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "case studies"}, "quantifiable benefits": {"concepts": "quantifiable benefits", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "quantifiable benefits"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem services"}, "population persistence": {"concepts": "population persistence", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "population persistence"}, "science analysis": {"concepts": "science analysis", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "science analysis"}, "decision makers": {"concepts": "decision makers", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "decision makers"}, "isolation": {"concepts": "isolation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "isolation"}, "researchers": {"concepts": "researchers", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "researchers"}, "resilience": {"concepts": "resilience", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "resilience"}, "science actions": {"concepts": "science actions", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "science actions"}, "westernized thinking": {"concepts": "westernized thinking", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "westernized thinking"}, "research needs": {"concepts": "research needs", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "research needs"}, "data gaps": {"concepts": "data gaps", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "data gaps"}, "human community diversity": {"concepts": "human community diversity", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "human community diversity"}, "alaska natives": {"concepts": "alaska natives", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "alaska natives"}, "understanding of biodiversity": {"concepts": "understanding of biodiversity", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "understanding of biodiversity"}, "change acceptance": {"concepts": "change acceptance", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "change acceptance"}, "regulatory framework": {"concepts": "regulatory framework", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "regulatory framework"}, "study systems": {"concepts": "study systems", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "study systems"}, "ecosystem health": {"concepts": "ecosystem health", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem health"}, "status quo": {"concepts": "status quo", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "status quo"}, "alaska": {"concepts": "alaska", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "alaska"}, "community diversity": {"concepts": "community diversity", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "community diversity"}, "coral habitat areas": {"concepts": "coral habitat areas", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "coral habitat areas"}, "task force": {"concepts": "task force", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "task force"}, "societal preferences": {"concepts": "societal preferences", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "societal preferences"}, "future research needs": {"concepts": "future research needs", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "future research needs"}, "climate stressors": {"concepts": "climate stressors", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "climate stressors"}, "linkages": {"concepts": "linkages", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "linkages"}, "ecosystem functioning": {"concepts": "ecosystem functioning", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem functioning"}, "mandates": {"concepts": "mandates", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "mandates"}, "sanctuaries": {"concepts": "sanctuaries", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "sanctuaries"}, "conservation": {"concepts": "conservation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "conservation"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "biodiversity"}, "research gaps": {"concepts": "research gaps", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "research gaps"}, "adaptation pathways": {"concepts": "adaptation pathways", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "adaptation pathways"}, "practitioners": {"concepts": "practitioners", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "practitioners"}, "concept mapping": {"concepts": "concept mapping", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "concept mapping"}, "themes": {"concepts": "themes", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "themes"}, "receiver variable": {"concepts": "receiver variable", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "receiver variable"}, "decision-making": {"concepts": "decision-making", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "decision-making"}, "acute stressors": {"concepts": "acute stressors", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "acute stressors"}, "concept list": {"concepts": "concept list", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "concept list"}, "ecological niches": {"concepts": "ecological niches", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecological niches"}, "subpopulation depletion": {"concepts": "subpopulation depletion", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "subpopulation depletion"}, "gear impacts": {"concepts": "gear impacts", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "gear impacts"}, "bycatch reduction": {"concepts": "bycatch reduction", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "bycatch reduction"}, "framework": {"concepts": "framework", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "framework"}, "aesthetics": {"concepts": "aesthetics", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "aesthetics"}, "scientific processes": {"concepts": "scientific processes", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "scientific processes"}, "mental models": {"concepts": "mental models", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "mental models"}, "unperturbed systems": {"concepts": "unperturbed systems", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "unperturbed systems"}, "community resilience": {"concepts": "community resilience", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "community resilience"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "mental modeler"}, "traditional metrics": {"concepts": "traditional metrics", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "traditional metrics"}, "ecosystem displacement": {"concepts": "ecosystem displacement", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem displacement"}, "change": {"concepts": "change", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "change"}, "functional role": {"concepts": "functional role", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "functional role"}, "adaptation": {"concepts": "adaptation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "adaptation"}, "participant expertise": {"concepts": "participant expertise", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "participant expertise"}, "species abundance": {"concepts": "species abundance", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species abundance"}, "ecological niche": {"concepts": "ecological niche", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecological niche"}, "barriers": {"concepts": "barriers", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "barriers"}, "lack of understanding": {"concepts": "lack of understanding", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "lack of understanding"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "climate change"}, "ecological theory": {"concepts": "ecological theory", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecological theory"}, "overfishing": {"concepts": "overfishing", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "overfishing"}, "academic research": {"concepts": "academic research", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "academic research"}, "keystone species": {"concepts": "keystone species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "keystone species"}, "mandate": {"concepts": "mandate", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "mandate"}, "ecosystem stressors": {"concepts": "ecosystem stressors", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem stressors"}, "wind farming": {"concepts": "wind farming", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "wind farming"}, "coastal communities": {"concepts": "coastal communities", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "coastal communities"}, "re-engineered systems": {"concepts": "re-engineered systems", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "re-engineered systems"}, "concept creation": {"concepts": "concept creation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "concept creation"}, "data collection": {"concepts": "data collection", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "data collection"}, "stressors": {"concepts": "stressors", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "stressors"}, "societal goals": {"concepts": "societal goals", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "societal goals"}, "dominant species": {"concepts": "dominant species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "dominant species"}, "natural state": {"concepts": "natural state", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "natural state"}, "societal benefit": {"concepts": "societal benefit", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "societal benefit"}, "biodiversity data": {"concepts": "biodiversity data", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "biodiversity data"}, "biodiversity metrics": {"concepts": "biodiversity metrics", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "biodiversity metrics"}, "baseline ecosystem state": {"concepts": "baseline ecosystem state", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "baseline ecosystem state"}, "human health": {"concepts": "human health", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "human health"}, "human communities": {"concepts": "human communities", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "human communities"}, "social science research": {"concepts": "social science research", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "social science research"}, "organizational state": {"concepts": "organizational state", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "organizational state"}, "well-being": {"concepts": "well-being", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "well-being"}, "genetic diversity": {"concepts": "genetic diversity", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "genetic diversity"}, "ecosystem disturbance": {"concepts": "ecosystem disturbance", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem disturbance"}, "subpopulation": {"concepts": "subpopulation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "subpopulation"}, "global forces": {"concepts": "global forces", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "global forces"}, "biodiversity management": {"concepts": "biodiversity management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "biodiversity management"}, "genetic diversity importance": {"concepts": "genetic diversity importance", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "genetic diversity importance"}, "chronic stressors": {"concepts": "chronic stressors", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "chronic stressors"}, "mmpa": {"concepts": "mmpa", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "mmpa"}, "storm surge protection": {"concepts": "storm surge protection", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "storm surge protection"}, "fisheries management": {"concepts": "fisheries management", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "fisheries management"}, "climate-ready fisheries": {"concepts": "climate-ready fisheries", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "climate-ready fisheries"}, "us marine management": {"concepts": "us marine management", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "us marine management"}, "regional ocean planning": {"concepts": "regional ocean planning", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "regional ocean planning"}, "marine management": {"concepts": "marine management", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "marine management"}, "marine resource regulations": {"concepts": "marine resource regulations", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "marine resource regulations"}, "fishing pressure": {"concepts": "fishing pressure", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "fishing pressure"}, "us marine resources": {"concepts": "us marine resources", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "us marine resources"}, "marine sanctuaries": {"concepts": "marine sanctuaries", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "marine sanctuaries"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "marine resource management"}, "management actions": {"concepts": "management actions", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "management actions"}, "management intervention": {"concepts": "management intervention", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "management intervention"}, "managers": {"concepts": "managers", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "managers"}, "management effectiveness": {"concepts": "management effectiveness", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "management effectiveness"}, "highly managed systems": {"concepts": "highly managed systems", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "highly managed systems"}, "resource management": {"concepts": "resource management", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "resource management"}, "management policies": {"concepts": "management policies", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "management policies"}, "effective management": {"concepts": "effective management", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "effective management"}, "effective management policies": {"concepts": "effective management policies", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "effective management policies"}, "researcher-manager collaboration": {"concepts": "researcher-manager collaboration", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "researcher-manager collaboration"}, "management processes": {"concepts": "management processes", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "management processes"}, "management bodies": {"concepts": "management bodies", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "management bodies"}, "management issues": {"concepts": "management issues", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "management issues"}, "management gaps": {"concepts": "management gaps", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "management gaps"}};
        const interClusterEdges = [["Marine Resource Management", "Ecosystem Biodiversity", {"weight": 1.0, "confidence": 0.7699999999999999, "type": "inter_cluster", "style": "solid"}], ["Marine Resource Management", "Management Practices", {"weight": 1.0, "confidence": 0.73, "type": "inter_cluster", "style": "solid"}], ["Management Practices", "Ecosystem Biodiversity", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Management Practices", "Marine Resource Management", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Biodiversity", "Management Practices", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Biodiversity", "Marine Resource Management", {"weight": 1.0, "confidence": 0.8400000000000001, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Marine Resource Management": [["habitat protection", {"concepts": "habitat protection", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "habitat protection"}], ["use cases", {"concepts": "use cases", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "use cases"}], ["damaging assumption", {"concepts": "damaging assumption", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "damaging assumption"}], ["thresholds", {"concepts": "thresholds", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "thresholds"}], ["scientific analysis", {"concepts": "scientific analysis", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "scientific analysis"}], ["bycatch", {"concepts": "bycatch", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "bycatch"}], ["species extinction", {"concepts": "species extinction", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species extinction"}], ["baseline data", {"concepts": "baseline data", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "baseline data"}], ["societal benefits", {"concepts": "societal benefits", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "societal benefits"}], ["esa", {"concepts": "esa", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "esa"}], ["perturbed systems", {"concepts": "perturbed systems", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "perturbed systems"}], ["climate forces", {"concepts": "climate forces", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "climate forces"}], ["ecosystem function", {"concepts": "ecosystem function", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem function"}], ["species diversity", {"concepts": "species diversity", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species diversity"}], ["collaboration", {"concepts": "collaboration", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "collaboration"}], ["ecosystem resilience", {"concepts": "ecosystem resilience", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem resilience"}], ["gulf of mexico", {"concepts": "gulf of mexico", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "gulf of mexico"}], ["substrate", {"concepts": "substrate", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "substrate"}], ["feedbacks", {"concepts": "feedbacks", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "feedbacks"}], ["user groups", {"concepts": "user groups", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "user groups"}], ["case studies", {"concepts": "case studies", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "case studies"}], ["quantifiable benefits", {"concepts": "quantifiable benefits", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "quantifiable benefits"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem services"}], ["population persistence", {"concepts": "population persistence", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "population persistence"}], ["science analysis", {"concepts": "science analysis", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "science analysis"}], ["decision makers", {"concepts": "decision makers", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "decision makers"}], ["isolation", {"concepts": "isolation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "isolation"}], ["researchers", {"concepts": "researchers", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "researchers"}], ["resilience", {"concepts": "resilience", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "resilience"}], ["science actions", {"concepts": "science actions", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "science actions"}], ["westernized thinking", {"concepts": "westernized thinking", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "westernized thinking"}], ["research needs", {"concepts": "research needs", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "research needs"}], ["data gaps", {"concepts": "data gaps", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "data gaps"}], ["human community diversity", {"concepts": "human community diversity", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "human community diversity"}], ["alaska natives", {"concepts": "alaska natives", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "alaska natives"}], ["understanding of biodiversity", {"concepts": "understanding of biodiversity", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "understanding of biodiversity"}], ["change acceptance", {"concepts": "change acceptance", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "change acceptance"}], ["regulatory framework", {"concepts": "regulatory framework", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "regulatory framework"}], ["study systems", {"concepts": "study systems", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "study systems"}], ["ecosystem health", {"concepts": "ecosystem health", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem health"}], ["status quo", {"concepts": "status quo", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "status quo"}], ["alaska", {"concepts": "alaska", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "alaska"}], ["community diversity", {"concepts": "community diversity", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "community diversity"}], ["coral habitat areas", {"concepts": "coral habitat areas", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "coral habitat areas"}], ["task force", {"concepts": "task force", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "task force"}], ["societal preferences", {"concepts": "societal preferences", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "societal preferences"}], ["future research needs", {"concepts": "future research needs", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "future research needs"}], ["climate stressors", {"concepts": "climate stressors", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "climate stressors"}], ["linkages", {"concepts": "linkages", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "linkages"}], ["ecosystem functioning", {"concepts": "ecosystem functioning", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem functioning"}], ["mandates", {"concepts": "mandates", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "mandates"}], ["sanctuaries", {"concepts": "sanctuaries", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "sanctuaries"}], ["conservation", {"concepts": "conservation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "conservation"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "biodiversity"}], ["research gaps", {"concepts": "research gaps", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "research gaps"}], ["adaptation pathways", {"concepts": "adaptation pathways", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "adaptation pathways"}], ["practitioners", {"concepts": "practitioners", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "practitioners"}], ["concept mapping", {"concepts": "concept mapping", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "concept mapping"}], ["themes", {"concepts": "themes", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "themes"}], ["receiver variable", {"concepts": "receiver variable", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "receiver variable"}], ["decision-making", {"concepts": "decision-making", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "decision-making"}], ["acute stressors", {"concepts": "acute stressors", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "acute stressors"}], ["concept list", {"concepts": "concept list", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "concept list"}], ["ecological niches", {"concepts": "ecological niches", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecological niches"}], ["subpopulation depletion", {"concepts": "subpopulation depletion", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "subpopulation depletion"}], ["gear impacts", {"concepts": "gear impacts", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "gear impacts"}], ["bycatch reduction", {"concepts": "bycatch reduction", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "bycatch reduction"}], ["framework", {"concepts": "framework", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "framework"}], ["aesthetics", {"concepts": "aesthetics", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "aesthetics"}], ["scientific processes", {"concepts": "scientific processes", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "scientific processes"}], ["mental models", {"concepts": "mental models", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "mental models"}], ["unperturbed systems", {"concepts": "unperturbed systems", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "unperturbed systems"}], ["community resilience", {"concepts": "community resilience", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "community resilience"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "mental modeler"}], ["traditional metrics", {"concepts": "traditional metrics", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "traditional metrics"}], ["ecosystem displacement", {"concepts": "ecosystem displacement", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem displacement"}], ["change", {"concepts": "change", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "change"}], ["functional role", {"concepts": "functional role", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "functional role"}], ["adaptation", {"concepts": "adaptation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "adaptation"}], ["participant expertise", {"concepts": "participant expertise", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "participant expertise"}], ["species abundance", {"concepts": "species abundance", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species abundance"}], ["ecological niche", {"concepts": "ecological niche", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecological niche"}], ["barriers", {"concepts": "barriers", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "barriers"}], ["lack of understanding", {"concepts": "lack of understanding", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "lack of understanding"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "climate change"}], ["ecological theory", {"concepts": "ecological theory", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecological theory"}], ["overfishing", {"concepts": "overfishing", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "overfishing"}], ["academic research", {"concepts": "academic research", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "academic research"}], ["keystone species", {"concepts": "keystone species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "keystone species"}], ["mandate", {"concepts": "mandate", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "mandate"}], ["ecosystem stressors", {"concepts": "ecosystem stressors", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem stressors"}], ["wind farming", {"concepts": "wind farming", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "wind farming"}], ["coastal communities", {"concepts": "coastal communities", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "coastal communities"}], ["re-engineered systems", {"concepts": "re-engineered systems", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "re-engineered systems"}], ["concept creation", {"concepts": "concept creation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "concept creation"}], ["data collection", {"concepts": "data collection", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "data collection"}], ["stressors", {"concepts": "stressors", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "stressors"}], ["societal goals", {"concepts": "societal goals", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "societal goals"}], ["dominant species", {"concepts": "dominant species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "dominant species"}], ["natural state", {"concepts": "natural state", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "natural state"}], ["societal benefit", {"concepts": "societal benefit", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "societal benefit"}], ["biodiversity data", {"concepts": "biodiversity data", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "biodiversity data"}], ["biodiversity metrics", {"concepts": "biodiversity metrics", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "biodiversity metrics"}], ["baseline ecosystem state", {"concepts": "baseline ecosystem state", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "baseline ecosystem state"}], ["human health", {"concepts": "human health", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "human health"}], ["human communities", {"concepts": "human communities", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "human communities"}], ["social science research", {"concepts": "social science research", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "social science research"}], ["organizational state", {"concepts": "organizational state", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "organizational state"}], ["well-being", {"concepts": "well-being", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "well-being"}], ["genetic diversity", {"concepts": "genetic diversity", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "genetic diversity"}], ["ecosystem disturbance", {"concepts": "ecosystem disturbance", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem disturbance"}], ["subpopulation", {"concepts": "subpopulation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "subpopulation"}], ["global forces", {"concepts": "global forces", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "global forces"}], ["biodiversity management", {"concepts": "biodiversity management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "biodiversity management"}], ["genetic diversity importance", {"concepts": "genetic diversity importance", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "genetic diversity importance"}], ["chronic stressors", {"concepts": "chronic stressors", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "chronic stressors"}], ["mmpa", {"concepts": "mmpa", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "mmpa"}]], "Management Practices": [["storm surge protection", {"concepts": "storm surge protection", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "storm surge protection"}], ["fisheries management", {"concepts": "fisheries management", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "fisheries management"}], ["climate-ready fisheries", {"concepts": "climate-ready fisheries", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "climate-ready fisheries"}], ["us marine management", {"concepts": "us marine management", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "us marine management"}], ["regional ocean planning", {"concepts": "regional ocean planning", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "regional ocean planning"}], ["marine management", {"concepts": "marine management", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "marine management"}], ["marine resource regulations", {"concepts": "marine resource regulations", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "marine resource regulations"}], ["fishing pressure", {"concepts": "fishing pressure", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "fishing pressure"}], ["us marine resources", {"concepts": "us marine resources", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "us marine resources"}], ["marine sanctuaries", {"concepts": "marine sanctuaries", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "marine sanctuaries"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Management Practices", "node_size": 10, "label": "marine resource management"}]], "Ecosystem Biodiversity": [["management actions", {"concepts": "management actions", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "management actions"}], ["management intervention", {"concepts": "management intervention", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "management intervention"}], ["managers", {"concepts": "managers", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "managers"}], ["management effectiveness", {"concepts": "management effectiveness", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "management effectiveness"}], ["highly managed systems", {"concepts": "highly managed systems", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "highly managed systems"}], ["resource management", {"concepts": "resource management", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "resource management"}], ["management policies", {"concepts": "management policies", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "management policies"}], ["effective management", {"concepts": "effective management", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "effective management"}], ["effective management policies", {"concepts": "effective management policies", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "effective management policies"}], ["researcher-manager collaboration", {"concepts": "researcher-manager collaboration", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "researcher-manager collaboration"}], ["management processes", {"concepts": "management processes", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "management processes"}], ["management bodies", {"concepts": "management bodies", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "management bodies"}], ["management issues", {"concepts": "management issues", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "management issues"}], ["management gaps", {"concepts": "management gaps", "type": "concept", "cluster": "Ecosystem Biodiversity", "node_size": 10, "label": "management gaps"}]]};
        const clusterEdges = {"Marine Resource Management": [], "Management Practices": [], "Ecosystem Biodiversity": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
