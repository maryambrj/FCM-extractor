
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"national fishing effects database": {"concepts": "national fishing effects database", "concept_list": ["national fishing effects database"], "type": "cluster", "node_size": 18, "label": "national fishing effects database"}, "Gill Nets Types": {"concepts": "gill nets, small mesh gill nets, smaller mesh gill nets, large mesh gill nets", "concept_list": ["gill nets", "small mesh gill nets", "smaller mesh gill nets", "large mesh gill nets"], "type": "cluster", "node_size": 27, "label": "Gill Nets Types"}, "Geographic Regions": {"concepts": "new york, long island, gulf of maine, new england, atlantic, mid atlantic", "concept_list": ["new york", "long island", "gulf of maine", "new england", "atlantic", "mid atlantic"], "type": "cluster", "node_size": 33, "label": "Geographic Regions"}, "Marine Species": {"concepts": "squid, summer flounder, southern species, dogfish, atlantic mackerel, river herring, turtles, species of conservation concern, directed species, target species, thread herring, blueline tilefish, species distributions, unmanaged forage species, non-target species, invasive species, tilefish, blueback, habitat, food web, whales, key food web supporting species, chub mackerel, forage species, spiny dogfish, native species, alewife, longfin squid, introduced species, sturgeon, monkfish, bycatch, habitat forming species, atlantic herring, illex squid, right whale, golden tilefish, butterfish, groundfish, shad, mackerel", "concept_list": ["squid", "summer flounder", "southern species", "dogfish", "atlantic mackerel", "river herring", "turtles", "species of conservation concern", "directed species", "target species", "thread herring", "blueline tilefish", "species distributions", "unmanaged forage species", "non-target species", "invasive species", "tilefish", "blueback", "habitat", "food web", "whales", "key food web supporting species", "chub mackerel", "forage species", "spiny dogfish", "native species", "alewife", "longfin squid", "introduced species", "sturgeon", "monkfish", "bycatch", "habitat forming species", "atlantic herring", "illex squid", "right whale", "golden tilefish", "butterfish", "groundfish", "shad", "mackerel"], "type": "cluster", "node_size": 138, "label": "Marine Species"}, "Marine Policy": {"concepts": "commercial interests, protected resource, medium term, mandates, marine resource management, risk policy, policy choices, nepa analyses, nepa documents, esa regulations, biological opinions, council process, council, ecosystem, turtle excluder devices, bycatch rates, area closures, bycatch management, esa issues, essential fish habitat, ecosystem approach, policies, permits, private reporting, regulations, adaptive management, educational program, magnuson act, forage species management policy, noaa, bycatch analysis, prevalence, rebuilding plan, cumulative effects analysis, marine mammal issues, observer coverage, eutrophication, bycatch reduction, esa, efh, climate change, biomass levels., management action, mrip program, river herring and shad caps", "concept_list": ["commercial interests", "protected resource", "medium term", "mandates", "marine resource management", "risk policy", "policy choices", "nepa analyses", "nepa documents", "esa regulations", "biological opinions", "council process", "council", "ecosystem", "turtle excluder devices", "bycatch rates", "area closures", "bycatch management", "esa issues", "essential fish habitat", "ecosystem approach", "policies", "permits", "private reporting", "regulations", "adaptive management", "educational program", "magnuson act", "forage species management policy", "noaa", "bycatch analysis", "prevalence", "rebuilding plan", "cumulative effects analysis", "marine mammal issues", "observer coverage", "eutrophication", "bycatch reduction", "esa", "efh", "climate change", "biomass levels.", "management action", "mrip program", "river herring and shad caps"], "type": "cluster", "node_size": 150, "label": "Marine Policy"}, "Research and Management": {"concepts": "planning coordinators, intersection, presence, mrep, assessment, commercial landings report, public relations, unmanaged forage, boem, bycatch information, research, genetic diversity, biodiversity perspective, prey species, reshuffle effort, deep water coral, historic amounts, static timeframe, gear strategies, ratios, staff, right whales, habitat issue, large whale take reduction, carson cisneros, conundrum, benefit, sturgeon bycatch reduction, liaison, jose montanez, canyon areas, willett kempton, educational, conceptual models, mental modeler, naturalized species, mud habitats, nmfs, vertical lines, wild oceans, regional populations, genetic stocks, driver, recreational interests, harmful organisms, track development, biomass levels, priorities, university of delaware, reasonable measures, canadian mackerel, pest species, possession limit, ecosystems, action, guidance document, antibiotic use, organizational, remnant run, support industries, european mackerel, genetics work, mental models, effort, distinct population segment, biodiversity, reduction", "concept_list": ["planning coordinators", "intersection", "presence", "mrep", "assessment", "commercial landings report", "public relations", "unmanaged forage", "boem", "bycatch information", "research", "genetic diversity", "biodiversity perspective", "prey species", "reshuffle effort", "deep water coral", "historic amounts", "static timeframe", "gear strategies", "ratios", "staff", "right whales", "habitat issue", "large whale take reduction", "carson cisneros", "conundrum", "benefit", "sturgeon bycatch reduction", "liaison", "jose montanez", "canyon areas", "willett kempton", "educational", "conceptual models", "mental modeler", "naturalized species", "mud habitats", "nmfs", "vertical lines", "wild oceans", "regional populations", "genetic stocks", "driver", "recreational interests", "harmful organisms", "track development", "biomass levels", "priorities", "university of delaware", "reasonable measures", "canadian mackerel", "pest species", "possession limit", "ecosystems", "action", "guidance document", "antibiotic use", "organizational", "remnant run", "support industries", "european mackerel", "genetics work", "mental models", "effort", "distinct population segment", "biodiversity", "reduction"], "type": "cluster", "node_size": 216, "label": "Research and Management"}, "Conservation & Wind Farms": {"concepts": "conservation concern, wind farms", "concept_list": ["conservation concern", "wind farms"], "type": "cluster", "node_size": 21, "label": "Conservation & Wind Farms"}, "Fishing Effort Control": {"concepts": "fishing effort, fishing effort reduction, fishing effort control", "concept_list": ["fishing effort", "fishing effort reduction", "fishing effort control"], "type": "cluster", "node_size": 24, "label": "Fishing Effort Control"}, "Reducing Fishing Impact": {"concepts": "fishing mortality, turtle catch reduction, fishing impacts", "concept_list": ["fishing mortality", "turtle catch reduction", "fishing impacts"], "type": "cluster", "node_size": 24, "label": "Reducing Fishing Impact"}, "Subsistence & Recreational Fishing": {"concepts": "subsistence fishing, exempted fishing permit, recreational catch", "concept_list": ["subsistence fishing", "exempted fishing permit", "recreational catch"], "type": "cluster", "node_size": 24, "label": "Subsistence & Recreational Fishing"}, "Fisheries Management Policy": {"concepts": "fishery management, fisheries management, aquaculture policy", "concept_list": ["fishery management", "fisheries management", "aquaculture policy"], "type": "cluster", "node_size": 24, "label": "Fisheries Management Policy"}, "Marine Aquaculture": {"concepts": "aquaculture, offshore aquaculture, aquaculture specialist", "concept_list": ["aquaculture", "offshore aquaculture", "aquaculture specialist"], "type": "cluster", "node_size": 24, "label": "Marine Aquaculture"}, "Global Fisheries": {"concepts": "fishery, manna fish farms, fishermen, foreign fisheries", "concept_list": ["fishery", "manna fish farms", "fishermen", "foreign fisheries"], "type": "cluster", "node_size": 27, "label": "Global Fisheries"}};
        const conceptData = {"gill nets": {"concepts": "gill nets", "type": "concept", "cluster": "Gill Nets Types", "node_size": 10, "label": "gill nets"}, "small mesh gill nets": {"concepts": "small mesh gill nets", "type": "concept", "cluster": "Gill Nets Types", "node_size": 10, "label": "small mesh gill nets"}, "smaller mesh gill nets": {"concepts": "smaller mesh gill nets", "type": "concept", "cluster": "Gill Nets Types", "node_size": 10, "label": "smaller mesh gill nets"}, "large mesh gill nets": {"concepts": "large mesh gill nets", "type": "concept", "cluster": "Gill Nets Types", "node_size": 10, "label": "large mesh gill nets"}, "new york": {"concepts": "new york", "type": "concept", "cluster": "Geographic Regions", "node_size": 10, "label": "new york"}, "long island": {"concepts": "long island", "type": "concept", "cluster": "Geographic Regions", "node_size": 10, "label": "long island"}, "gulf of maine": {"concepts": "gulf of maine", "type": "concept", "cluster": "Geographic Regions", "node_size": 10, "label": "gulf of maine"}, "new england": {"concepts": "new england", "type": "concept", "cluster": "Geographic Regions", "node_size": 10, "label": "new england"}, "atlantic": {"concepts": "atlantic", "type": "concept", "cluster": "Geographic Regions", "node_size": 10, "label": "atlantic"}, "mid atlantic": {"concepts": "mid atlantic", "type": "concept", "cluster": "Geographic Regions", "node_size": 10, "label": "mid atlantic"}, "squid": {"concepts": "squid", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "squid"}, "summer flounder": {"concepts": "summer flounder", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "summer flounder"}, "southern species": {"concepts": "southern species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "southern species"}, "dogfish": {"concepts": "dogfish", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "dogfish"}, "atlantic mackerel": {"concepts": "atlantic mackerel", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "atlantic mackerel"}, "river herring": {"concepts": "river herring", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "river herring"}, "turtles": {"concepts": "turtles", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "turtles"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "species of conservation concern"}, "directed species": {"concepts": "directed species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "directed species"}, "target species": {"concepts": "target species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "target species"}, "thread herring": {"concepts": "thread herring", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "thread herring"}, "blueline tilefish": {"concepts": "blueline tilefish", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "blueline tilefish"}, "species distributions": {"concepts": "species distributions", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "species distributions"}, "unmanaged forage species": {"concepts": "unmanaged forage species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "unmanaged forage species"}, "non-target species": {"concepts": "non-target species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "non-target species"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "invasive species"}, "tilefish": {"concepts": "tilefish", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "tilefish"}, "blueback": {"concepts": "blueback", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "blueback"}, "habitat": {"concepts": "habitat", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "habitat"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "food web"}, "whales": {"concepts": "whales", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "whales"}, "key food web supporting species": {"concepts": "key food web supporting species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "key food web supporting species"}, "chub mackerel": {"concepts": "chub mackerel", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "chub mackerel"}, "forage species": {"concepts": "forage species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "forage species"}, "spiny dogfish": {"concepts": "spiny dogfish", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "spiny dogfish"}, "native species": {"concepts": "native species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "native species"}, "alewife": {"concepts": "alewife", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "alewife"}, "longfin squid": {"concepts": "longfin squid", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "longfin squid"}, "introduced species": {"concepts": "introduced species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "introduced species"}, "sturgeon": {"concepts": "sturgeon", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "sturgeon"}, "monkfish": {"concepts": "monkfish", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "monkfish"}, "bycatch": {"concepts": "bycatch", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "bycatch"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "habitat forming species"}, "atlantic herring": {"concepts": "atlantic herring", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "atlantic herring"}, "illex squid": {"concepts": "illex squid", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "illex squid"}, "right whale": {"concepts": "right whale", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "right whale"}, "golden tilefish": {"concepts": "golden tilefish", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "golden tilefish"}, "butterfish": {"concepts": "butterfish", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "butterfish"}, "groundfish": {"concepts": "groundfish", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "groundfish"}, "shad": {"concepts": "shad", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "shad"}, "mackerel": {"concepts": "mackerel", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "mackerel"}, "commercial interests": {"concepts": "commercial interests", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "commercial interests"}, "protected resource": {"concepts": "protected resource", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "protected resource"}, "medium term": {"concepts": "medium term", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "medium term"}, "mandates": {"concepts": "mandates", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "mandates"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "marine resource management"}, "risk policy": {"concepts": "risk policy", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "risk policy"}, "policy choices": {"concepts": "policy choices", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "policy choices"}, "nepa analyses": {"concepts": "nepa analyses", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "nepa analyses"}, "nepa documents": {"concepts": "nepa documents", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "nepa documents"}, "esa regulations": {"concepts": "esa regulations", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "esa regulations"}, "biological opinions": {"concepts": "biological opinions", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "biological opinions"}, "council process": {"concepts": "council process", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "council process"}, "council": {"concepts": "council", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "council"}, "ecosystem": {"concepts": "ecosystem", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "ecosystem"}, "turtle excluder devices": {"concepts": "turtle excluder devices", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "turtle excluder devices"}, "bycatch rates": {"concepts": "bycatch rates", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "bycatch rates"}, "area closures": {"concepts": "area closures", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "area closures"}, "bycatch management": {"concepts": "bycatch management", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "bycatch management"}, "esa issues": {"concepts": "esa issues", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "esa issues"}, "essential fish habitat": {"concepts": "essential fish habitat", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "essential fish habitat"}, "ecosystem approach": {"concepts": "ecosystem approach", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "ecosystem approach"}, "policies": {"concepts": "policies", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "policies"}, "permits": {"concepts": "permits", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "permits"}, "private reporting": {"concepts": "private reporting", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "private reporting"}, "regulations": {"concepts": "regulations", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "regulations"}, "adaptive management": {"concepts": "adaptive management", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "adaptive management"}, "educational program": {"concepts": "educational program", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "educational program"}, "magnuson act": {"concepts": "magnuson act", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "magnuson act"}, "forage species management policy": {"concepts": "forage species management policy", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "forage species management policy"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "noaa"}, "bycatch analysis": {"concepts": "bycatch analysis", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "bycatch analysis"}, "prevalence": {"concepts": "prevalence", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "prevalence"}, "rebuilding plan": {"concepts": "rebuilding plan", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "rebuilding plan"}, "cumulative effects analysis": {"concepts": "cumulative effects analysis", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "cumulative effects analysis"}, "marine mammal issues": {"concepts": "marine mammal issues", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "marine mammal issues"}, "observer coverage": {"concepts": "observer coverage", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "observer coverage"}, "eutrophication": {"concepts": "eutrophication", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "eutrophication"}, "bycatch reduction": {"concepts": "bycatch reduction", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "bycatch reduction"}, "esa": {"concepts": "esa", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "esa"}, "efh": {"concepts": "efh", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "efh"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "climate change"}, "biomass levels.": {"concepts": "biomass levels.", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "biomass levels."}, "management action": {"concepts": "management action", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "management action"}, "mrip program": {"concepts": "mrip program", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "mrip program"}, "river herring and shad caps": {"concepts": "river herring and shad caps", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "river herring and shad caps"}, "planning coordinators": {"concepts": "planning coordinators", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "planning coordinators"}, "intersection": {"concepts": "intersection", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "intersection"}, "presence": {"concepts": "presence", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "presence"}, "mrep": {"concepts": "mrep", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "mrep"}, "assessment": {"concepts": "assessment", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "assessment"}, "commercial landings report": {"concepts": "commercial landings report", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "commercial landings report"}, "public relations": {"concepts": "public relations", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "public relations"}, "unmanaged forage": {"concepts": "unmanaged forage", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "unmanaged forage"}, "boem": {"concepts": "boem", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "boem"}, "bycatch information": {"concepts": "bycatch information", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "bycatch information"}, "research": {"concepts": "research", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "research"}, "genetic diversity": {"concepts": "genetic diversity", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "genetic diversity"}, "biodiversity perspective": {"concepts": "biodiversity perspective", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "biodiversity perspective"}, "prey species": {"concepts": "prey species", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "prey species"}, "reshuffle effort": {"concepts": "reshuffle effort", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "reshuffle effort"}, "deep water coral": {"concepts": "deep water coral", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "deep water coral"}, "historic amounts": {"concepts": "historic amounts", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "historic amounts"}, "static timeframe": {"concepts": "static timeframe", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "static timeframe"}, "gear strategies": {"concepts": "gear strategies", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "gear strategies"}, "ratios": {"concepts": "ratios", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "ratios"}, "staff": {"concepts": "staff", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "staff"}, "right whales": {"concepts": "right whales", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "right whales"}, "habitat issue": {"concepts": "habitat issue", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "habitat issue"}, "large whale take reduction": {"concepts": "large whale take reduction", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "large whale take reduction"}, "carson cisneros": {"concepts": "carson cisneros", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "carson cisneros"}, "conundrum": {"concepts": "conundrum", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "conundrum"}, "benefit": {"concepts": "benefit", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "benefit"}, "sturgeon bycatch reduction": {"concepts": "sturgeon bycatch reduction", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "sturgeon bycatch reduction"}, "liaison": {"concepts": "liaison", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "liaison"}, "jose montanez": {"concepts": "jose montanez", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "jose montanez"}, "canyon areas": {"concepts": "canyon areas", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "canyon areas"}, "willett kempton": {"concepts": "willett kempton", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "willett kempton"}, "educational": {"concepts": "educational", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "educational"}, "conceptual models": {"concepts": "conceptual models", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "conceptual models"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "mental modeler"}, "naturalized species": {"concepts": "naturalized species", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "naturalized species"}, "mud habitats": {"concepts": "mud habitats", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "mud habitats"}, "nmfs": {"concepts": "nmfs", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "nmfs"}, "vertical lines": {"concepts": "vertical lines", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "vertical lines"}, "wild oceans": {"concepts": "wild oceans", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "wild oceans"}, "regional populations": {"concepts": "regional populations", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "regional populations"}, "genetic stocks": {"concepts": "genetic stocks", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "genetic stocks"}, "driver": {"concepts": "driver", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "driver"}, "recreational interests": {"concepts": "recreational interests", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "recreational interests"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "harmful organisms"}, "track development": {"concepts": "track development", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "track development"}, "biomass levels": {"concepts": "biomass levels", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "biomass levels"}, "priorities": {"concepts": "priorities", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "priorities"}, "university of delaware": {"concepts": "university of delaware", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "university of delaware"}, "reasonable measures": {"concepts": "reasonable measures", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "reasonable measures"}, "canadian mackerel": {"concepts": "canadian mackerel", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "canadian mackerel"}, "pest species": {"concepts": "pest species", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "pest species"}, "possession limit": {"concepts": "possession limit", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "possession limit"}, "ecosystems": {"concepts": "ecosystems", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "ecosystems"}, "action": {"concepts": "action", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "action"}, "guidance document": {"concepts": "guidance document", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "guidance document"}, "antibiotic use": {"concepts": "antibiotic use", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "antibiotic use"}, "organizational": {"concepts": "organizational", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "organizational"}, "remnant run": {"concepts": "remnant run", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "remnant run"}, "support industries": {"concepts": "support industries", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "support industries"}, "european mackerel": {"concepts": "european mackerel", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "european mackerel"}, "genetics work": {"concepts": "genetics work", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "genetics work"}, "mental models": {"concepts": "mental models", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "mental models"}, "effort": {"concepts": "effort", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "effort"}, "distinct population segment": {"concepts": "distinct population segment", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "distinct population segment"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "biodiversity"}, "reduction": {"concepts": "reduction", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "reduction"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Conservation & Wind Farms", "node_size": 10, "label": "conservation concern"}, "wind farms": {"concepts": "wind farms", "type": "concept", "cluster": "Conservation & Wind Farms", "node_size": 10, "label": "wind farms"}, "fishing effort": {"concepts": "fishing effort", "type": "concept", "cluster": "Fishing Effort Control", "node_size": 10, "label": "fishing effort"}, "fishing effort reduction": {"concepts": "fishing effort reduction", "type": "concept", "cluster": "Fishing Effort Control", "node_size": 10, "label": "fishing effort reduction"}, "fishing effort control": {"concepts": "fishing effort control", "type": "concept", "cluster": "Fishing Effort Control", "node_size": 10, "label": "fishing effort control"}, "fishing mortality": {"concepts": "fishing mortality", "type": "concept", "cluster": "Reducing Fishing Impact", "node_size": 10, "label": "fishing mortality"}, "turtle catch reduction": {"concepts": "turtle catch reduction", "type": "concept", "cluster": "Reducing Fishing Impact", "node_size": 10, "label": "turtle catch reduction"}, "fishing impacts": {"concepts": "fishing impacts", "type": "concept", "cluster": "Reducing Fishing Impact", "node_size": 10, "label": "fishing impacts"}, "subsistence fishing": {"concepts": "subsistence fishing", "type": "concept", "cluster": "Subsistence & Recreational Fishing", "node_size": 10, "label": "subsistence fishing"}, "exempted fishing permit": {"concepts": "exempted fishing permit", "type": "concept", "cluster": "Subsistence & Recreational Fishing", "node_size": 10, "label": "exempted fishing permit"}, "recreational catch": {"concepts": "recreational catch", "type": "concept", "cluster": "Subsistence & Recreational Fishing", "node_size": 10, "label": "recreational catch"}, "fishery management": {"concepts": "fishery management", "type": "concept", "cluster": "Fisheries Management Policy", "node_size": 10, "label": "fishery management"}, "fisheries management": {"concepts": "fisheries management", "type": "concept", "cluster": "Fisheries Management Policy", "node_size": 10, "label": "fisheries management"}, "aquaculture policy": {"concepts": "aquaculture policy", "type": "concept", "cluster": "Fisheries Management Policy", "node_size": 10, "label": "aquaculture policy"}, "aquaculture": {"concepts": "aquaculture", "type": "concept", "cluster": "Marine Aquaculture", "node_size": 10, "label": "aquaculture"}, "offshore aquaculture": {"concepts": "offshore aquaculture", "type": "concept", "cluster": "Marine Aquaculture", "node_size": 10, "label": "offshore aquaculture"}, "aquaculture specialist": {"concepts": "aquaculture specialist", "type": "concept", "cluster": "Marine Aquaculture", "node_size": 10, "label": "aquaculture specialist"}, "fishery": {"concepts": "fishery", "type": "concept", "cluster": "Global Fisheries", "node_size": 10, "label": "fishery"}, "manna fish farms": {"concepts": "manna fish farms", "type": "concept", "cluster": "Global Fisheries", "node_size": 10, "label": "manna fish farms"}, "fishermen": {"concepts": "fishermen", "type": "concept", "cluster": "Global Fisheries", "node_size": 10, "label": "fishermen"}, "foreign fisheries": {"concepts": "foreign fisheries", "type": "concept", "cluster": "Global Fisheries", "node_size": 10, "label": "foreign fisheries"}};
        const interClusterEdges = [["national fishing effects database", "Reducing Fishing Impact", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["national fishing effects database", "Gill Nets Types", {"weight": 0.5, "confidence": 0.35, "type": "inter_cluster", "style": "solid"}], ["Gill Nets Types", "Global Fisheries", {"weight": 0.25, "confidence": 0.5375, "type": "inter_cluster", "style": "solid"}], ["Gill Nets Types", "Marine Policy", {"weight": -0.5, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Gill Nets Types", "Subsistence & Recreational Fishing", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Geographic Regions", "national fishing effects database", {"weight": 0.4, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Geographic Regions", "Marine Policy", {"weight": 0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Marine Species", "Global Fisheries", {"weight": 0.4, "confidence": 0.61, "type": "inter_cluster", "style": "solid"}], ["Marine Species", "Marine Policy", {"weight": 0.4, "confidence": 0.61, "type": "inter_cluster", "style": "solid"}], ["Marine Species", "Gill Nets Types", {"weight": 0.75, "confidence": 0.5249999999999999, "type": "inter_cluster", "style": "solid"}], ["Marine Species", "Conservation & Wind Farms", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Marine Species", "national fishing effects database", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Marine Species", "Geographic Regions", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Marine Policy", "Global Fisheries", {"weight": 0.75, "confidence": 0.575, "type": "inter_cluster", "style": "solid"}], ["Marine Policy", "Fishing Effort Control", {"weight": 0.5, "confidence": 0.425, "type": "inter_cluster", "style": "solid"}], ["Research and Management", "Marine Aquaculture", {"weight": 1.0, "confidence": 0.7749999999999999, "type": "inter_cluster", "style": "solid"}], ["Research and Management", "Gill Nets Types", {"weight": -0.5, "confidence": 0.35, "type": "inter_cluster", "style": "solid"}], ["Conservation & Wind Farms", "Marine Species", {"weight": 0.3333333333333333, "confidence": 0.7666666666666666, "type": "inter_cluster", "style": "solid"}], ["Conservation & Wind Farms", "Subsistence & Recreational Fishing", {"weight": 0.2, "confidence": 0.42000000000000004, "type": "inter_cluster", "style": "solid"}], ["Conservation & Wind Farms", "Geographic Regions", {"weight": 0.6666666666666666, "confidence": 0.4833333333333334, "type": "inter_cluster", "style": "solid"}], ["Conservation & Wind Farms", "Research and Management", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["Conservation & Wind Farms", "Gill Nets Types", {"weight": -0.5, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Fishing Effort Control", "Marine Policy", {"weight": 0.6, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Fishing Effort Control", "Marine Species", {"weight": 1.0, "confidence": 0.78, "type": "inter_cluster", "style": "solid"}], ["Fishing Effort Control", "Subsistence & Recreational Fishing", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Fishing Effort Control", "Fisheries Management Policy", {"weight": 0.5, "confidence": 0.425, "type": "inter_cluster", "style": "solid"}], ["Fishing Effort Control", "Conservation & Wind Farms", {"weight": 0.5, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Reducing Fishing Impact", "Fishing Effort Control", {"weight": 0.6, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Reducing Fishing Impact", "Global Fisheries", {"weight": -0.4, "confidence": 0.61, "type": "inter_cluster", "style": "solid"}], ["Reducing Fishing Impact", "Subsistence & Recreational Fishing", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Reducing Fishing Impact", "Gill Nets Types", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Reducing Fishing Impact", "Marine Aquaculture", {"weight": -0.6666666666666666, "confidence": 0.48333333333333334, "type": "inter_cluster", "style": "solid"}], ["Subsistence & Recreational Fishing", "Research and Management", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Subsistence & Recreational Fishing", "Global Fisheries", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management Policy", "Marine Aquaculture", {"weight": 1.0, "confidence": 0.77, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management Policy", "Fishing Effort Control", {"weight": 0.5, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management Policy", "Reducing Fishing Impact", {"weight": 0.5, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management Policy", "Marine Species", {"weight": 0.75, "confidence": 0.6125, "type": "inter_cluster", "style": "solid"}], ["Marine Aquaculture", "Conservation & Wind Farms", {"weight": 1.0, "confidence": 0.675, "type": "inter_cluster", "style": "solid"}], ["Marine Aquaculture", "national fishing effects database", {"weight": 0.6666666666666666, "confidence": 0.4833333333333334, "type": "inter_cluster", "style": "solid"}], ["Marine Aquaculture", "Gill Nets Types", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Marine Aquaculture", "Research and Management", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Global Fisheries", "Fishing Effort Control", {"weight": 1.0, "confidence": 0.79, "type": "inter_cluster", "style": "solid"}], ["Global Fisheries", "Marine Species", {"weight": 0.4, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Global Fisheries", "Marine Aquaculture", {"weight": 0.75, "confidence": 0.5249999999999999, "type": "inter_cluster", "style": "solid"}], ["Global Fisheries", "Gill Nets Types", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Global Fisheries", "Geographic Regions", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Global Fisheries", "Subsistence & Recreational Fishing", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Gill Nets Types": [["gill nets", {"concepts": "gill nets", "type": "concept", "cluster": "Gill Nets Types", "node_size": 10, "label": "gill nets"}], ["small mesh gill nets", {"concepts": "small mesh gill nets", "type": "concept", "cluster": "Gill Nets Types", "node_size": 10, "label": "small mesh gill nets"}], ["smaller mesh gill nets", {"concepts": "smaller mesh gill nets", "type": "concept", "cluster": "Gill Nets Types", "node_size": 10, "label": "smaller mesh gill nets"}], ["large mesh gill nets", {"concepts": "large mesh gill nets", "type": "concept", "cluster": "Gill Nets Types", "node_size": 10, "label": "large mesh gill nets"}]], "Geographic Regions": [["new york", {"concepts": "new york", "type": "concept", "cluster": "Geographic Regions", "node_size": 10, "label": "new york"}], ["long island", {"concepts": "long island", "type": "concept", "cluster": "Geographic Regions", "node_size": 10, "label": "long island"}], ["gulf of maine", {"concepts": "gulf of maine", "type": "concept", "cluster": "Geographic Regions", "node_size": 10, "label": "gulf of maine"}], ["new england", {"concepts": "new england", "type": "concept", "cluster": "Geographic Regions", "node_size": 10, "label": "new england"}], ["atlantic", {"concepts": "atlantic", "type": "concept", "cluster": "Geographic Regions", "node_size": 10, "label": "atlantic"}], ["mid atlantic", {"concepts": "mid atlantic", "type": "concept", "cluster": "Geographic Regions", "node_size": 10, "label": "mid atlantic"}]], "Marine Species": [["squid", {"concepts": "squid", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "squid"}], ["summer flounder", {"concepts": "summer flounder", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "summer flounder"}], ["southern species", {"concepts": "southern species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "southern species"}], ["dogfish", {"concepts": "dogfish", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "dogfish"}], ["atlantic mackerel", {"concepts": "atlantic mackerel", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "atlantic mackerel"}], ["river herring", {"concepts": "river herring", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "river herring"}], ["turtles", {"concepts": "turtles", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "turtles"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "species of conservation concern"}], ["directed species", {"concepts": "directed species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "directed species"}], ["target species", {"concepts": "target species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "target species"}], ["thread herring", {"concepts": "thread herring", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "thread herring"}], ["blueline tilefish", {"concepts": "blueline tilefish", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "blueline tilefish"}], ["species distributions", {"concepts": "species distributions", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "species distributions"}], ["unmanaged forage species", {"concepts": "unmanaged forage species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "unmanaged forage species"}], ["non-target species", {"concepts": "non-target species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "non-target species"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "invasive species"}], ["tilefish", {"concepts": "tilefish", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "tilefish"}], ["blueback", {"concepts": "blueback", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "blueback"}], ["habitat", {"concepts": "habitat", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "habitat"}], ["food web", {"concepts": "food web", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "food web"}], ["whales", {"concepts": "whales", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "whales"}], ["key food web supporting species", {"concepts": "key food web supporting species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "key food web supporting species"}], ["chub mackerel", {"concepts": "chub mackerel", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "chub mackerel"}], ["forage species", {"concepts": "forage species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "forage species"}], ["spiny dogfish", {"concepts": "spiny dogfish", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "spiny dogfish"}], ["native species", {"concepts": "native species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "native species"}], ["alewife", {"concepts": "alewife", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "alewife"}], ["longfin squid", {"concepts": "longfin squid", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "longfin squid"}], ["introduced species", {"concepts": "introduced species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "introduced species"}], ["sturgeon", {"concepts": "sturgeon", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "sturgeon"}], ["monkfish", {"concepts": "monkfish", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "monkfish"}], ["bycatch", {"concepts": "bycatch", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "bycatch"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "habitat forming species"}], ["atlantic herring", {"concepts": "atlantic herring", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "atlantic herring"}], ["illex squid", {"concepts": "illex squid", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "illex squid"}], ["right whale", {"concepts": "right whale", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "right whale"}], ["golden tilefish", {"concepts": "golden tilefish", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "golden tilefish"}], ["butterfish", {"concepts": "butterfish", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "butterfish"}], ["groundfish", {"concepts": "groundfish", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "groundfish"}], ["shad", {"concepts": "shad", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "shad"}], ["mackerel", {"concepts": "mackerel", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "mackerel"}]], "Marine Policy": [["commercial interests", {"concepts": "commercial interests", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "commercial interests"}], ["protected resource", {"concepts": "protected resource", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "protected resource"}], ["medium term", {"concepts": "medium term", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "medium term"}], ["mandates", {"concepts": "mandates", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "mandates"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "marine resource management"}], ["risk policy", {"concepts": "risk policy", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "risk policy"}], ["policy choices", {"concepts": "policy choices", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "policy choices"}], ["nepa analyses", {"concepts": "nepa analyses", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "nepa analyses"}], ["nepa documents", {"concepts": "nepa documents", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "nepa documents"}], ["esa regulations", {"concepts": "esa regulations", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "esa regulations"}], ["biological opinions", {"concepts": "biological opinions", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "biological opinions"}], ["council process", {"concepts": "council process", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "council process"}], ["council", {"concepts": "council", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "council"}], ["ecosystem", {"concepts": "ecosystem", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "ecosystem"}], ["turtle excluder devices", {"concepts": "turtle excluder devices", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "turtle excluder devices"}], ["bycatch rates", {"concepts": "bycatch rates", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "bycatch rates"}], ["area closures", {"concepts": "area closures", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "area closures"}], ["bycatch management", {"concepts": "bycatch management", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "bycatch management"}], ["esa issues", {"concepts": "esa issues", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "esa issues"}], ["essential fish habitat", {"concepts": "essential fish habitat", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "essential fish habitat"}], ["ecosystem approach", {"concepts": "ecosystem approach", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "ecosystem approach"}], ["policies", {"concepts": "policies", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "policies"}], ["permits", {"concepts": "permits", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "permits"}], ["private reporting", {"concepts": "private reporting", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "private reporting"}], ["regulations", {"concepts": "regulations", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "regulations"}], ["adaptive management", {"concepts": "adaptive management", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "adaptive management"}], ["educational program", {"concepts": "educational program", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "educational program"}], ["magnuson act", {"concepts": "magnuson act", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "magnuson act"}], ["forage species management policy", {"concepts": "forage species management policy", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "forage species management policy"}], ["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "noaa"}], ["bycatch analysis", {"concepts": "bycatch analysis", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "bycatch analysis"}], ["prevalence", {"concepts": "prevalence", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "prevalence"}], ["rebuilding plan", {"concepts": "rebuilding plan", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "rebuilding plan"}], ["cumulative effects analysis", {"concepts": "cumulative effects analysis", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "cumulative effects analysis"}], ["marine mammal issues", {"concepts": "marine mammal issues", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "marine mammal issues"}], ["observer coverage", {"concepts": "observer coverage", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "observer coverage"}], ["eutrophication", {"concepts": "eutrophication", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "eutrophication"}], ["bycatch reduction", {"concepts": "bycatch reduction", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "bycatch reduction"}], ["esa", {"concepts": "esa", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "esa"}], ["efh", {"concepts": "efh", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "efh"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "climate change"}], ["biomass levels.", {"concepts": "biomass levels.", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "biomass levels."}], ["management action", {"concepts": "management action", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "management action"}], ["mrip program", {"concepts": "mrip program", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "mrip program"}], ["river herring and shad caps", {"concepts": "river herring and shad caps", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "river herring and shad caps"}]], "Research and Management": [["planning coordinators", {"concepts": "planning coordinators", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "planning coordinators"}], ["intersection", {"concepts": "intersection", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "intersection"}], ["presence", {"concepts": "presence", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "presence"}], ["mrep", {"concepts": "mrep", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "mrep"}], ["assessment", {"concepts": "assessment", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "assessment"}], ["commercial landings report", {"concepts": "commercial landings report", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "commercial landings report"}], ["public relations", {"concepts": "public relations", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "public relations"}], ["unmanaged forage", {"concepts": "unmanaged forage", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "unmanaged forage"}], ["boem", {"concepts": "boem", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "boem"}], ["bycatch information", {"concepts": "bycatch information", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "bycatch information"}], ["research", {"concepts": "research", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "research"}], ["genetic diversity", {"concepts": "genetic diversity", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "genetic diversity"}], ["biodiversity perspective", {"concepts": "biodiversity perspective", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "biodiversity perspective"}], ["prey species", {"concepts": "prey species", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "prey species"}], ["reshuffle effort", {"concepts": "reshuffle effort", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "reshuffle effort"}], ["deep water coral", {"concepts": "deep water coral", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "deep water coral"}], ["historic amounts", {"concepts": "historic amounts", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "historic amounts"}], ["static timeframe", {"concepts": "static timeframe", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "static timeframe"}], ["gear strategies", {"concepts": "gear strategies", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "gear strategies"}], ["ratios", {"concepts": "ratios", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "ratios"}], ["staff", {"concepts": "staff", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "staff"}], ["right whales", {"concepts": "right whales", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "right whales"}], ["habitat issue", {"concepts": "habitat issue", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "habitat issue"}], ["large whale take reduction", {"concepts": "large whale take reduction", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "large whale take reduction"}], ["carson cisneros", {"concepts": "carson cisneros", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "carson cisneros"}], ["conundrum", {"concepts": "conundrum", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "conundrum"}], ["benefit", {"concepts": "benefit", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "benefit"}], ["sturgeon bycatch reduction", {"concepts": "sturgeon bycatch reduction", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "sturgeon bycatch reduction"}], ["liaison", {"concepts": "liaison", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "liaison"}], ["jose montanez", {"concepts": "jose montanez", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "jose montanez"}], ["canyon areas", {"concepts": "canyon areas", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "canyon areas"}], ["willett kempton", {"concepts": "willett kempton", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "willett kempton"}], ["educational", {"concepts": "educational", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "educational"}], ["conceptual models", {"concepts": "conceptual models", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "conceptual models"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "mental modeler"}], ["naturalized species", {"concepts": "naturalized species", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "naturalized species"}], ["mud habitats", {"concepts": "mud habitats", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "mud habitats"}], ["nmfs", {"concepts": "nmfs", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "nmfs"}], ["vertical lines", {"concepts": "vertical lines", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "vertical lines"}], ["wild oceans", {"concepts": "wild oceans", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "wild oceans"}], ["regional populations", {"concepts": "regional populations", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "regional populations"}], ["genetic stocks", {"concepts": "genetic stocks", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "genetic stocks"}], ["driver", {"concepts": "driver", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "driver"}], ["recreational interests", {"concepts": "recreational interests", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "recreational interests"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "harmful organisms"}], ["track development", {"concepts": "track development", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "track development"}], ["biomass levels", {"concepts": "biomass levels", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "biomass levels"}], ["priorities", {"concepts": "priorities", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "priorities"}], ["university of delaware", {"concepts": "university of delaware", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "university of delaware"}], ["reasonable measures", {"concepts": "reasonable measures", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "reasonable measures"}], ["canadian mackerel", {"concepts": "canadian mackerel", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "canadian mackerel"}], ["pest species", {"concepts": "pest species", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "pest species"}], ["possession limit", {"concepts": "possession limit", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "possession limit"}], ["ecosystems", {"concepts": "ecosystems", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "ecosystems"}], ["action", {"concepts": "action", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "action"}], ["guidance document", {"concepts": "guidance document", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "guidance document"}], ["antibiotic use", {"concepts": "antibiotic use", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "antibiotic use"}], ["organizational", {"concepts": "organizational", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "organizational"}], ["remnant run", {"concepts": "remnant run", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "remnant run"}], ["support industries", {"concepts": "support industries", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "support industries"}], ["european mackerel", {"concepts": "european mackerel", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "european mackerel"}], ["genetics work", {"concepts": "genetics work", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "genetics work"}], ["mental models", {"concepts": "mental models", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "mental models"}], ["effort", {"concepts": "effort", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "effort"}], ["distinct population segment", {"concepts": "distinct population segment", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "distinct population segment"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "biodiversity"}], ["reduction", {"concepts": "reduction", "type": "concept", "cluster": "Research and Management", "node_size": 10, "label": "reduction"}]], "Conservation & Wind Farms": [["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Conservation & Wind Farms", "node_size": 10, "label": "conservation concern"}], ["wind farms", {"concepts": "wind farms", "type": "concept", "cluster": "Conservation & Wind Farms", "node_size": 10, "label": "wind farms"}]], "Fishing Effort Control": [["fishing effort", {"concepts": "fishing effort", "type": "concept", "cluster": "Fishing Effort Control", "node_size": 10, "label": "fishing effort"}], ["fishing effort reduction", {"concepts": "fishing effort reduction", "type": "concept", "cluster": "Fishing Effort Control", "node_size": 10, "label": "fishing effort reduction"}], ["fishing effort control", {"concepts": "fishing effort control", "type": "concept", "cluster": "Fishing Effort Control", "node_size": 10, "label": "fishing effort control"}]], "Reducing Fishing Impact": [["fishing mortality", {"concepts": "fishing mortality", "type": "concept", "cluster": "Reducing Fishing Impact", "node_size": 10, "label": "fishing mortality"}], ["turtle catch reduction", {"concepts": "turtle catch reduction", "type": "concept", "cluster": "Reducing Fishing Impact", "node_size": 10, "label": "turtle catch reduction"}], ["fishing impacts", {"concepts": "fishing impacts", "type": "concept", "cluster": "Reducing Fishing Impact", "node_size": 10, "label": "fishing impacts"}]], "Subsistence & Recreational Fishing": [["subsistence fishing", {"concepts": "subsistence fishing", "type": "concept", "cluster": "Subsistence & Recreational Fishing", "node_size": 10, "label": "subsistence fishing"}], ["exempted fishing permit", {"concepts": "exempted fishing permit", "type": "concept", "cluster": "Subsistence & Recreational Fishing", "node_size": 10, "label": "exempted fishing permit"}], ["recreational catch", {"concepts": "recreational catch", "type": "concept", "cluster": "Subsistence & Recreational Fishing", "node_size": 10, "label": "recreational catch"}]], "Fisheries Management Policy": [["fishery management", {"concepts": "fishery management", "type": "concept", "cluster": "Fisheries Management Policy", "node_size": 10, "label": "fishery management"}], ["fisheries management", {"concepts": "fisheries management", "type": "concept", "cluster": "Fisheries Management Policy", "node_size": 10, "label": "fisheries management"}], ["aquaculture policy", {"concepts": "aquaculture policy", "type": "concept", "cluster": "Fisheries Management Policy", "node_size": 10, "label": "aquaculture policy"}]], "Marine Aquaculture": [["aquaculture", {"concepts": "aquaculture", "type": "concept", "cluster": "Marine Aquaculture", "node_size": 10, "label": "aquaculture"}], ["offshore aquaculture", {"concepts": "offshore aquaculture", "type": "concept", "cluster": "Marine Aquaculture", "node_size": 10, "label": "offshore aquaculture"}], ["aquaculture specialist", {"concepts": "aquaculture specialist", "type": "concept", "cluster": "Marine Aquaculture", "node_size": 10, "label": "aquaculture specialist"}]], "Global Fisheries": [["fishery", {"concepts": "fishery", "type": "concept", "cluster": "Global Fisheries", "node_size": 10, "label": "fishery"}], ["manna fish farms", {"concepts": "manna fish farms", "type": "concept", "cluster": "Global Fisheries", "node_size": 10, "label": "manna fish farms"}], ["fishermen", {"concepts": "fishermen", "type": "concept", "cluster": "Global Fisheries", "node_size": 10, "label": "fishermen"}], ["foreign fisheries", {"concepts": "foreign fisheries", "type": "concept", "cluster": "Global Fisheries", "node_size": 10, "label": "foreign fisheries"}]]};
        const clusterEdges = {"Gill Nets Types": [], "Geographic Regions": [], "Marine Species": [], "Marine Policy": [], "Research and Management": [], "Conservation & Wind Farms": [], "Fishing Effort Control": [], "Reducing Fishing Impact": [], "Subsistence & Recreational Fishing": [], "Fisheries Management Policy": [], "Marine Aquaculture": [], "Global Fisheries": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
