
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization (Unconnected nodes removed)</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"kwanzaa principles": {"concepts": "kwanzaa principles", "concept_list": ["kwanzaa principles"], "type": "cluster", "node_size": 18, "label": "kwanzaa principles"}, "black neighborhood": {"concepts": "black neighborhood", "concept_list": ["black neighborhood"], "type": "cluster", "node_size": 18, "label": "black neighborhood"}, "empowerment narrative": {"concepts": "empowerment narrative", "concept_list": ["empowerment narrative"], "type": "cluster", "node_size": 18, "label": "empowerment narrative"}, "food cooperative": {"concepts": "food cooperative", "concept_list": ["food cooperative"], "type": "cluster", "node_size": 18, "label": "food cooperative"}, "clientele": {"concepts": "clientele", "concept_list": ["clientele"], "type": "cluster", "node_size": 18, "label": "clientele"}, "social equity": {"concepts": "social equity", "concept_list": ["social equity"], "type": "cluster", "node_size": 18, "label": "social equity"}, "grassroots perspective": {"concepts": "grassroots perspective", "concept_list": ["grassroots perspective"], "type": "cluster", "node_size": 18, "label": "grassroots perspective"}, "community resources": {"concepts": "community resources", "concept_list": ["community resources"], "type": "cluster", "node_size": 18, "label": "community resources"}, "resilience": {"concepts": "resilience", "concept_list": ["resilience"], "type": "cluster", "node_size": 18, "label": "resilience"}, "social values": {"concepts": "social values", "concept_list": ["social values"], "type": "cluster", "node_size": 18, "label": "social values"}, "healthy food": {"concepts": "healthy food", "concept_list": ["healthy food"], "type": "cluster", "node_size": 18, "label": "healthy food"}, "emotional expression": {"concepts": "emotional expression", "concept_list": ["emotional expression"], "type": "cluster", "node_size": 18, "label": "emotional expression"}, "pastor role": {"concepts": "pastor role", "concept_list": ["pastor role"], "type": "cluster", "node_size": 18, "label": "pastor role"}, "structural barriers": {"concepts": "structural barriers", "concept_list": ["structural barriers"], "type": "cluster", "node_size": 18, "label": "structural barriers"}, "belief": {"concepts": "belief", "concept_list": ["belief"], "type": "cluster", "node_size": 18, "label": "belief"}, "warrior": {"concepts": "warrior", "concept_list": ["warrior"], "type": "cluster", "node_size": 18, "label": "warrior"}, "collective action": {"concepts": "collective action", "concept_list": ["collective action"], "type": "cluster", "node_size": 18, "label": "collective action"}, "state policy": {"concepts": "state policy", "concept_list": ["state policy"], "type": "cluster", "node_size": 18, "label": "state policy"}, "farmers market": {"concepts": "farmers market", "concept_list": ["farmers market"], "type": "cluster", "node_size": 18, "label": "farmers market"}, "doors": {"concepts": "doors", "concept_list": ["doors"], "type": "cluster", "node_size": 18, "label": "doors"}, "love": {"concepts": "love", "concept_list": ["love"], "type": "cluster", "node_size": 18, "label": "love"}, "stakeholder perspectives": {"concepts": "stakeholder perspectives", "concept_list": ["stakeholder perspectives"], "type": "cluster", "node_size": 18, "label": "stakeholder perspectives"}, "urban investment": {"concepts": "urban investment", "concept_list": ["urban investment"], "type": "cluster", "node_size": 18, "label": "urban investment"}, "convenience stores": {"concepts": "convenience stores", "concept_list": ["convenience stores"], "type": "cluster", "node_size": 18, "label": "convenience stores"}, "board of directors": {"concepts": "board of directors", "concept_list": ["board of directors"], "type": "cluster", "node_size": 18, "label": "board of directors"}, "cultural identity": {"concepts": "cultural identity", "concept_list": ["cultural identity"], "type": "cluster", "node_size": 18, "label": "cultural identity"}, "economic inequality": {"concepts": "economic inequality", "concept_list": ["economic inequality"], "type": "cluster", "node_size": 18, "label": "economic inequality"}, "funding": {"concepts": "funding", "concept_list": ["funding"], "type": "cluster", "node_size": 18, "label": "funding"}, "holistic approach": {"concepts": "holistic approach", "concept_list": ["holistic approach"], "type": "cluster", "node_size": 18, "label": "holistic approach"}, "empowerment struggle": {"concepts": "empowerment struggle", "concept_list": ["empowerment struggle"], "type": "cluster", "node_size": 18, "label": "empowerment struggle"}, "pastor": {"concepts": "pastor", "concept_list": ["pastor"], "type": "cluster", "node_size": 18, "label": "pastor"}, "social support": {"concepts": "social support", "concept_list": ["social support"], "type": "cluster", "node_size": 18, "label": "social support"}, "local policy": {"concepts": "local policy", "concept_list": ["local policy"], "type": "cluster", "node_size": 18, "label": "local policy"}, "concepts": {"concepts": "concepts", "concept_list": ["concepts"], "type": "cluster", "node_size": 18, "label": "concepts"}, "eating habits": {"concepts": "eating habits", "concept_list": ["eating habits"], "type": "cluster", "node_size": 18, "label": "eating habits"}, "lived experience": {"concepts": "lived experience", "concept_list": ["lived experience"], "type": "cluster", "node_size": 18, "label": "lived experience"}, "food giveaways": {"concepts": "food giveaways", "concept_list": ["food giveaways"], "type": "cluster", "node_size": 18, "label": "food giveaways"}, "fast food": {"concepts": "fast food", "concept_list": ["fast food"], "type": "cluster", "node_size": 18, "label": "fast food"}, "city of flint": {"concepts": "city of flint", "concept_list": ["city of flint"], "type": "cluster", "node_size": 18, "label": "city of flint"}, "retail relationship": {"concepts": "retail relationship", "concept_list": ["retail relationship"], "type": "cluster", "node_size": 18, "label": "retail relationship"}, "community solutions": {"concepts": "community solutions", "concept_list": ["community solutions"], "type": "cluster", "node_size": 18, "label": "community solutions"}, "social cohesion": {"concepts": "social cohesion", "concept_list": ["social cohesion"], "type": "cluster", "node_size": 18, "label": "social cohesion"}, "community empowerment": {"concepts": "community empowerment", "concept_list": ["community empowerment"], "type": "cluster", "node_size": 18, "label": "community empowerment"}, "community control": {"concepts": "community control", "concept_list": ["community control"], "type": "cluster", "node_size": 18, "label": "community control"}, "holistic understanding": {"concepts": "holistic understanding", "concept_list": ["holistic understanding"], "type": "cluster", "node_size": 18, "label": "holistic understanding"}, "group solidarity": {"concepts": "group solidarity", "concept_list": ["group solidarity"], "type": "cluster", "node_size": 18, "label": "group solidarity"}, "civic engagement": {"concepts": "civic engagement", "concept_list": ["civic engagement"], "type": "cluster", "node_size": 18, "label": "civic engagement"}, "life": {"concepts": "life", "concept_list": ["life"], "type": "cluster", "node_size": 18, "label": "life"}, "workmanship": {"concepts": "workmanship", "concept_list": ["workmanship"], "type": "cluster", "node_size": 18, "label": "workmanship"}, "social responsibility": {"concepts": "social responsibility", "concept_list": ["social responsibility"], "type": "cluster", "node_size": 18, "label": "social responsibility"}, "organizational priorities": {"concepts": "organizational priorities", "concept_list": ["organizational priorities"], "type": "cluster", "node_size": 18, "label": "organizational priorities"}, "collective voice": {"concepts": "collective voice", "concept_list": ["collective voice"], "type": "cluster", "node_size": 18, "label": "collective voice"}, "funding allocation": {"concepts": "funding allocation", "concept_list": ["funding allocation"], "type": "cluster", "node_size": 18, "label": "funding allocation"}, "encouragement": {"concepts": "encouragement", "concept_list": ["encouragement"], "type": "cluster", "node_size": 18, "label": "encouragement"}, "harvest": {"concepts": "harvest", "concept_list": ["harvest"], "type": "cluster", "node_size": 18, "label": "harvest"}, "psychological motivation": {"concepts": "psychological motivation", "concept_list": ["psychological motivation"], "type": "cluster", "node_size": 18, "label": "psychological motivation"}, "quality of life": {"concepts": "quality of life", "concept_list": ["quality of life"], "type": "cluster", "node_size": 18, "label": "quality of life"}, "social frustration": {"concepts": "social frustration", "concept_list": ["social frustration"], "type": "cluster", "node_size": 18, "label": "social frustration"}, "chain restaurants": {"concepts": "chain restaurants", "concept_list": ["chain restaurants"], "type": "cluster", "node_size": 18, "label": "chain restaurants"}, "transportation issue": {"concepts": "transportation issue", "concept_list": ["transportation issue"], "type": "cluster", "node_size": 18, "label": "transportation issue"}, "economic development": {"concepts": "economic development", "concept_list": ["economic development"], "type": "cluster", "node_size": 18, "label": "economic development"}, "investment": {"concepts": "investment", "concept_list": ["investment"], "type": "cluster", "node_size": 18, "label": "investment"}, "benefits": {"concepts": "benefits", "concept_list": ["benefits"], "type": "cluster", "node_size": 18, "label": "benefits"}, "kroger": {"concepts": "kroger", "concept_list": ["kroger"], "type": "cluster", "node_size": 18, "label": "kroger"}, "local restaurants": {"concepts": "local restaurants", "concept_list": ["local restaurants"], "type": "cluster", "node_size": 18, "label": "local restaurants"}, "supplemental nutrition programs": {"concepts": "supplemental nutrition programs", "concept_list": ["supplemental nutrition programs"], "type": "cluster", "node_size": 18, "label": "supplemental nutrition programs"}, "shared culture": {"concepts": "shared culture", "concept_list": ["shared culture"], "type": "cluster", "node_size": 18, "label": "shared culture"}, "decision making": {"concepts": "decision making", "concept_list": ["decision making"], "type": "cluster", "node_size": 18, "label": "decision making"}, "lifelong learning": {"concepts": "lifelong learning", "concept_list": ["lifelong learning"], "type": "cluster", "node_size": 18, "label": "lifelong learning"}, "cooperative economics": {"concepts": "cooperative economics", "concept_list": ["cooperative economics"], "type": "cluster", "node_size": 18, "label": "cooperative economics"}, "grassroots level": {"concepts": "grassroots level", "concept_list": ["grassroots level"], "type": "cluster", "node_size": 18, "label": "grassroots level"}, "supplemental nutrition program": {"concepts": "supplemental nutrition program", "concept_list": ["supplemental nutrition program"], "type": "cluster", "node_size": 18, "label": "supplemental nutrition program"}, "resource allocation": {"concepts": "resource allocation", "concept_list": ["resource allocation"], "type": "cluster", "node_size": 18, "label": "resource allocation"}, "political influence": {"concepts": "political influence", "concept_list": ["political influence"], "type": "cluster", "node_size": 18, "label": "political influence"}, "connections": {"concepts": "connections", "concept_list": ["connections"], "type": "cluster", "node_size": 18, "label": "connections"}, "community encouragement": {"concepts": "community encouragement", "concept_list": ["community encouragement"], "type": "cluster", "node_size": 18, "label": "community encouragement"}, "community identity": {"concepts": "community identity", "concept_list": ["community identity"], "type": "cluster", "node_size": 18, "label": "community identity"}, "coping mechanisms": {"concepts": "coping mechanisms", "concept_list": ["coping mechanisms"], "type": "cluster", "node_size": 18, "label": "coping mechanisms"}, "concept": {"concepts": "concept", "concept_list": ["concept"], "type": "cluster", "node_size": 18, "label": "concept"}, "business principles": {"concepts": "business principles", "concept_list": ["business principles"], "type": "cluster", "node_size": 18, "label": "business principles"}, "community anger": {"concepts": "community anger", "concept_list": ["community anger"], "type": "cluster", "node_size": 18, "label": "community anger"}, "cultural resilience": {"concepts": "cultural resilience", "concept_list": ["cultural resilience"], "type": "cluster", "node_size": 18, "label": "cultural resilience"}, "socio-political context": {"concepts": "socio-political context", "concept_list": ["socio-political context"], "type": "cluster", "node_size": 18, "label": "socio-political context"}, "self-determination": {"concepts": "self-determination", "concept_list": ["self-determination"], "type": "cluster", "node_size": 18, "label": "self-determination"}, "child health": {"concepts": "child health", "concept_list": ["child health"], "type": "cluster", "node_size": 18, "label": "child health"}, "food availability": {"concepts": "food availability", "concept_list": ["food availability"], "type": "cluster", "node_size": 18, "label": "food availability"}, "minority communities": {"concepts": "minority communities", "concept_list": ["minority communities"], "type": "cluster", "node_size": 18, "label": "minority communities"}, "religious identity": {"concepts": "religious identity", "concept_list": ["religious identity"], "type": "cluster", "node_size": 18, "label": "religious identity"}, "collective frustration": {"concepts": "collective frustration", "concept_list": ["collective frustration"], "type": "cluster", "node_size": 18, "label": "collective frustration"}, "works": {"concepts": "works", "concept_list": ["works"], "type": "cluster", "node_size": 18, "label": "works"}, "funding inequality": {"concepts": "funding inequality", "concept_list": ["funding inequality"], "type": "cluster", "node_size": 18, "label": "funding inequality"}, "investor support": {"concepts": "investor support", "concept_list": ["investor support"], "type": "cluster", "node_size": 18, "label": "investor support"}, "grocery store": {"concepts": "grocery store", "concept_list": ["grocery store"], "type": "cluster", "node_size": 18, "label": "grocery store"}, "general manager": {"concepts": "general manager", "concept_list": ["general manager"], "type": "cluster", "node_size": 18, "label": "general manager"}, "systemic neglect": {"concepts": "systemic neglect", "concept_list": ["systemic neglect"], "type": "cluster", "node_size": 18, "label": "systemic neglect"}, "trust in leadership": {"concepts": "trust in leadership", "concept_list": ["trust in leadership"], "type": "cluster", "node_size": 18, "label": "trust in leadership"}, "organizational competition": {"concepts": "organizational competition", "concept_list": ["organizational competition"], "type": "cluster", "node_size": 18, "label": "organizational competition"}, "farmers markets": {"concepts": "farmers markets", "concept_list": ["farmers markets"], "type": "cluster", "node_size": 18, "label": "farmers markets"}, "emotional resilience": {"concepts": "emotional resilience", "concept_list": ["emotional resilience"], "type": "cluster", "node_size": 18, "label": "emotional resilience"}, "moral obligation": {"concepts": "moral obligation", "concept_list": ["moral obligation"], "type": "cluster", "node_size": 18, "label": "moral obligation"}, "local economy": {"concepts": "local economy", "concept_list": ["local economy"], "type": "cluster", "node_size": 18, "label": "local economy"}, "participatory decision-making": {"concepts": "participatory decision-making", "concept_list": ["participatory decision-making"], "type": "cluster", "node_size": 18, "label": "participatory decision-making"}, "children": {"concepts": "children", "concept_list": ["children"], "type": "cluster", "node_size": 18, "label": "children"}, "urban areas": {"concepts": "urban areas", "concept_list": ["urban areas"], "type": "cluster", "node_size": 18, "label": "urban areas"}, "resource sharing": {"concepts": "resource sharing", "concept_list": ["resource sharing"], "type": "cluster", "node_size": 18, "label": "resource sharing"}, "belonging": {"concepts": "belonging", "concept_list": ["belonging"], "type": "cluster", "node_size": 18, "label": "belonging"}, "identity affirmation": {"concepts": "identity affirmation", "concept_list": ["identity affirmation"], "type": "cluster", "node_size": 18, "label": "identity affirmation"}, "health outcomes": {"concepts": "health outcomes", "concept_list": ["health outcomes"], "type": "cluster", "node_size": 18, "label": "health outcomes"}, "retail impact": {"concepts": "retail impact", "concept_list": ["retail impact"], "type": "cluster", "node_size": 18, "label": "retail impact"}, "cooperative model": {"concepts": "cooperative model", "concept_list": ["cooperative model"], "type": "cluster", "node_size": 18, "label": "cooperative model"}, "opportunities": {"concepts": "opportunities", "concept_list": ["opportunities"], "type": "cluster", "node_size": 18, "label": "opportunities"}, "poor eating habits": {"concepts": "poor eating habits", "concept_list": ["poor eating habits"], "type": "cluster", "node_size": 18, "label": "poor eating habits"}, "food": {"concepts": "food", "concept_list": ["food"], "type": "cluster", "node_size": 18, "label": "food"}, "group dynamics": {"concepts": "group dynamics", "concept_list": ["group dynamics"], "type": "cluster", "node_size": 18, "label": "group dynamics"}, "education": {"concepts": "education", "concept_list": ["education"], "type": "cluster", "node_size": 18, "label": "education"}, "power": {"concepts": "power", "concept_list": ["power"], "type": "cluster", "node_size": 18, "label": "power"}, "flint water crisis": {"concepts": "flint water crisis", "concept_list": ["flint water crisis"], "type": "cluster", "node_size": 18, "label": "flint water crisis"}, "opportunity": {"concepts": "opportunity", "concept_list": ["opportunity"], "type": "cluster", "node_size": 18, "label": "opportunity"}, "advocacy networks": {"concepts": "advocacy networks", "concept_list": ["advocacy networks"], "type": "cluster", "node_size": 18, "label": "advocacy networks"}, "leadership support": {"concepts": "leadership support", "concept_list": ["leadership support"], "type": "cluster", "node_size": 18, "label": "leadership support"}, "social inequality": {"concepts": "social inequality", "concept_list": ["social inequality"], "type": "cluster", "node_size": 18, "label": "social inequality"}, "social justice": {"concepts": "social justice", "concept_list": ["social justice"], "type": "cluster", "node_size": 18, "label": "social justice"}, "social advocacy": {"concepts": "social advocacy", "concept_list": ["social advocacy"], "type": "cluster", "node_size": 18, "label": "social advocacy"}, "flint": {"concepts": "flint", "concept_list": ["flint"], "type": "cluster", "node_size": 18, "label": "flint"}, "institutional priorities": {"concepts": "institutional priorities", "concept_list": ["institutional priorities"], "type": "cluster", "node_size": 18, "label": "institutional priorities"}, "community voice": {"concepts": "community voice", "concept_list": ["community voice"], "type": "cluster", "node_size": 18, "label": "community voice"}, "structural inequality": {"concepts": "structural inequality", "concept_list": ["structural inequality"], "type": "cluster", "node_size": 18, "label": "structural inequality"}, "school founder": {"concepts": "school founder", "concept_list": ["school founder"], "type": "cluster", "node_size": 18, "label": "school founder"}, "social respect": {"concepts": "social respect", "concept_list": ["social respect"], "type": "cluster", "node_size": 18, "label": "social respect"}, "community vision": {"concepts": "community vision", "concept_list": ["community vision"], "type": "cluster", "node_size": 18, "label": "community vision"}, "motivational message": {"concepts": "motivational message", "concept_list": ["motivational message"], "type": "cluster", "node_size": 18, "label": "motivational message"}, "connection": {"concepts": "connection", "concept_list": ["connection"], "type": "cluster", "node_size": 18, "label": "connection"}, "provision": {"concepts": "provision", "concept_list": ["provision"], "type": "cluster", "node_size": 18, "label": "provision"}, "path": {"concepts": "path", "concept_list": ["path"], "type": "cluster", "node_size": 18, "label": "path"}, "motivation": {"concepts": "motivation", "concept_list": ["motivation"], "type": "cluster", "node_size": 18, "label": "motivation"}, "project": {"concepts": "project", "concept_list": ["project"], "type": "cluster", "node_size": 18, "label": "project"}, "collective understanding": {"concepts": "collective understanding", "concept_list": ["collective understanding"], "type": "cluster", "node_size": 18, "label": "collective understanding"}, "community values": {"concepts": "community values", "concept_list": ["community values"], "type": "cluster", "node_size": 18, "label": "community values"}, "retail use": {"concepts": "retail use", "concept_list": ["retail use"], "type": "cluster", "node_size": 18, "label": "retail use"}, "food access": {"concepts": "food access", "concept_list": ["food access"], "type": "cluster", "node_size": 18, "label": "food access"}, "investor engagement": {"concepts": "investor engagement", "concept_list": ["investor engagement"], "type": "cluster", "node_size": 18, "label": "investor engagement"}, "chain restaurant": {"concepts": "chain restaurant", "concept_list": ["chain restaurant"], "type": "cluster", "node_size": 18, "label": "chain restaurant"}, "power brokers": {"concepts": "power brokers", "concept_list": ["power brokers"], "type": "cluster", "node_size": 18, "label": "power brokers"}, "organizational resources": {"concepts": "organizational resources", "concept_list": ["organizational resources"], "type": "cluster", "node_size": 18, "label": "organizational resources"}, "residents": {"concepts": "residents", "concept_list": ["residents"], "type": "cluster", "node_size": 18, "label": "residents"}, "cooking knowledge": {"concepts": "cooking knowledge", "concept_list": ["cooking knowledge"], "type": "cluster", "node_size": 18, "label": "cooking knowledge"}, "man of god": {"concepts": "man of god", "concept_list": ["man of god"], "type": "cluster", "node_size": 18, "label": "man of god"}, "inequality": {"concepts": "inequality", "concept_list": ["inequality"], "type": "cluster", "node_size": 18, "label": "inequality"}, "equity": {"concepts": "equity", "concept_list": ["equity"], "type": "cluster", "node_size": 18, "label": "equity"}, "marginalization": {"concepts": "marginalization", "concept_list": ["marginalization"], "type": "cluster", "node_size": 18, "label": "marginalization"}, "communal support": {"concepts": "communal support", "concept_list": ["communal support"], "type": "cluster", "node_size": 18, "label": "communal support"}, "desire": {"concepts": "desire", "concept_list": ["desire"], "type": "cluster", "node_size": 18, "label": "desire"}, "socio-economic status": {"concepts": "socio-economic status", "concept_list": ["socio-economic status"], "type": "cluster", "node_size": 18, "label": "socio-economic status"}, "food apartheid": {"concepts": "food apartheid", "concept_list": ["food apartheid"], "type": "cluster", "node_size": 18, "label": "food apartheid"}, "nutritious food": {"concepts": "nutritious food", "concept_list": ["nutritious food"], "type": "cluster", "node_size": 18, "label": "nutritious food"}, "dividends": {"concepts": "dividends", "concept_list": ["dividends"], "type": "cluster", "node_size": 18, "label": "dividends"}, "nutritious foods": {"concepts": "nutritious foods", "concept_list": ["nutritious foods"], "type": "cluster", "node_size": 18, "label": "nutritious foods"}, "social capital": {"concepts": "social capital", "concept_list": ["social capital"], "type": "cluster", "node_size": 18, "label": "social capital"}, "meijer": {"concepts": "meijer", "concept_list": ["meijer"], "type": "cluster", "node_size": 18, "label": "meijer"}, "customer ownership": {"concepts": "customer ownership", "concept_list": ["customer ownership"], "type": "cluster", "node_size": 18, "label": "customer ownership"}, "brown community": {"concepts": "brown community", "concept_list": ["brown community"], "type": "cluster", "node_size": 18, "label": "brown community"}, "feedback loops": {"concepts": "feedback loops", "concept_list": ["feedback loops"], "type": "cluster", "node_size": 18, "label": "feedback loops"}, "intergenerational support": {"concepts": "intergenerational support", "concept_list": ["intergenerational support"], "type": "cluster", "node_size": 18, "label": "intergenerational support"}, "fast casual": {"concepts": "fast casual", "concept_list": ["fast casual"], "type": "cluster", "node_size": 18, "label": "fast casual"}, "religious leadership": {"concepts": "religious leadership", "concept_list": ["religious leadership"], "type": "cluster", "node_size": 18, "label": "religious leadership"}, "researchers": {"concepts": "researchers", "concept_list": ["researchers"], "type": "cluster", "node_size": 18, "label": "researchers"}, "community exclusion": {"concepts": "community exclusion", "concept_list": ["community exclusion"], "type": "cluster", "node_size": 18, "label": "community exclusion"}, "systemic inequity": {"concepts": "systemic inequity", "concept_list": ["systemic inequity"], "type": "cluster", "node_size": 18, "label": "systemic inequity"}, "advocacy": {"concepts": "advocacy", "concept_list": ["advocacy"], "type": "cluster", "node_size": 18, "label": "advocacy"}, "moral commitment": {"concepts": "moral commitment", "concept_list": ["moral commitment"], "type": "cluster", "node_size": 18, "label": "moral commitment"}, "strength": {"concepts": "strength", "concept_list": ["strength"], "type": "cluster", "node_size": 18, "label": "strength"}, "spiritual motivation": {"concepts": "spiritual motivation", "concept_list": ["spiritual motivation"], "type": "cluster", "node_size": 18, "label": "spiritual motivation"}, "health education": {"concepts": "health education", "concept_list": ["health education"], "type": "cluster", "node_size": 18, "label": "health education"}, "resident education": {"concepts": "resident education", "concept_list": ["resident education"], "type": "cluster", "node_size": 18, "label": "resident education"}, "transportation issues": {"concepts": "transportation issues", "concept_list": ["transportation issues"], "type": "cluster", "node_size": 18, "label": "transportation issues"}, "moral responsibility": {"concepts": "moral responsibility", "concept_list": ["moral responsibility"], "type": "cluster", "node_size": 18, "label": "moral responsibility"}, "faith leadership": {"concepts": "faith leadership", "concept_list": ["faith leadership"], "type": "cluster", "node_size": 18, "label": "faith leadership"}, "kujichagulia": {"concepts": "kujichagulia", "concept_list": ["kujichagulia"], "type": "cluster", "node_size": 18, "label": "kujichagulia"}, "grocery store closure": {"concepts": "grocery store closure", "concept_list": ["grocery store closure"], "type": "cluster", "node_size": 18, "label": "grocery store closure"}, "nutritional food access": {"concepts": "nutritional food access", "concept_list": ["nutritional food access"], "type": "cluster", "node_size": 18, "label": "nutritional food access"}, "food system": {"concepts": "food system", "concept_list": ["food system"], "type": "cluster", "node_size": 18, "label": "food system"}, "source": {"concepts": "source", "concept_list": ["source"], "type": "cluster", "node_size": 18, "label": "source"}, "collective good": {"concepts": "collective good", "concept_list": ["collective good"], "type": "cluster", "node_size": 18, "label": "collective good"}, "collective resources": {"concepts": "collective resources", "concept_list": ["collective resources"], "type": "cluster", "node_size": 18, "label": "collective resources"}, "change": {"concepts": "change", "concept_list": ["change"], "type": "cluster", "node_size": 18, "label": "change"}, "voice empowerment": {"concepts": "voice empowerment", "concept_list": ["voice empowerment"], "type": "cluster", "node_size": 18, "label": "voice empowerment"}, "decision-making": {"concepts": "decision-making", "concept_list": ["decision-making"], "type": "cluster", "node_size": 18, "label": "decision-making"}, "convenience store": {"concepts": "convenience store", "concept_list": ["convenience store"], "type": "cluster", "node_size": 18, "label": "convenience store"}, "financial investment": {"concepts": "financial investment", "concept_list": ["financial investment"], "type": "cluster", "node_size": 18, "label": "financial investment"}, "impact": {"concepts": "impact", "concept_list": ["impact"], "type": "cluster", "node_size": 18, "label": "impact"}, "retail closures": {"concepts": "retail closures", "concept_list": ["retail closures"], "type": "cluster", "node_size": 18, "label": "retail closures"}, "program usage": {"concepts": "program usage", "concept_list": ["program usage"], "type": "cluster", "node_size": 18, "label": "program usage"}, "compassion": {"concepts": "compassion", "concept_list": ["compassion"], "type": "cluster", "node_size": 18, "label": "compassion"}, "population segment": {"concepts": "population segment", "concept_list": ["population segment"], "type": "cluster", "node_size": 18, "label": "population segment"}, "micro business development": {"concepts": "micro business development", "concept_list": ["micro business development"], "type": "cluster", "node_size": 18, "label": "micro business development"}, "job creation": {"concepts": "job creation", "concept_list": ["job creation"], "type": "cluster", "node_size": 18, "label": "job creation"}, "water crisis": {"concepts": "water crisis", "concept_list": ["water crisis"], "type": "cluster", "node_size": 18, "label": "water crisis"}, "social norms": {"concepts": "social norms", "concept_list": ["social norms"], "type": "cluster", "node_size": 18, "label": "social norms"}, "community programs": {"concepts": "community programs", "concept_list": ["community programs"], "type": "cluster", "node_size": 18, "label": "community programs"}, "access to healthy food": {"concepts": "access to healthy food", "concept_list": ["access to healthy food"], "type": "cluster", "node_size": 18, "label": "access to healthy food"}, "health equity": {"concepts": "health equity", "concept_list": ["health equity"], "type": "cluster", "node_size": 18, "label": "health equity"}};
        const conceptData = {};
        const interClusterEdges = [["black neighborhood", "community solutions", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["black neighborhood", "socio-political context", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["clientele", "group solidarity", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["social equity", "minority communities", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["grassroots perspective", "strength", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["grassroots perspective", "cooperative model", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["community resources", "poor eating habits", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["resilience", "health outcomes", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["emotional expression", "man of god", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["structural barriers", "organizational priorities", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["structural barriers", "shared culture", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["warrior", "residents", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["collective action", "trust in leadership", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["state policy", "systemic neglect", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["farmers market", "cultural identity", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["doors", "customer ownership", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["doors", "collective frustration", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["love", "equity", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["love", "decision-making", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["urban investment", "desire", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["urban investment", "collective resources", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["convenience stores", "resource allocation", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["board of directors", "education", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["board of directors", "psychological motivation", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["economic inequality", "belief", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["funding", "brown community", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["empowerment struggle", "food apartheid", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["pastor", "collective understanding", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["social support", "retail closures", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["local policy", "local economy", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["eating habits", "collective voice", {"weight": -1.0, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["lived experience", "impact", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["lived experience", "customer ownership", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["lived experience", "social capital", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["fast food", "structural barriers", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["retail relationship", "community vision", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["community solutions", "kroger", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["community control", "grassroots level", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["community control", "motivational message", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["holistic understanding", "funding inequality", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["holistic understanding", "provision", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["civic engagement", "pastor role", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["workmanship", "stakeholder perspectives", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["social responsibility", "community encouragement", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["harvest", "empowerment struggle", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["harvest", "social advocacy", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["psychological motivation", "empowerment narrative", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["psychological motivation", "cooking knowledge", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["quality of life", "coping mechanisms", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["social frustration", "collective frustration", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["social frustration", "leadership support", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["chain restaurants", "grocery store", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["transportation issue", "community exclusion", {"weight": 1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["transportation issue", "feedback loops", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["economic development", "works", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["kroger", "social cohesion", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["local restaurants", "identity affirmation", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["local restaurants", "encouragement", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["supplemental nutrition programs", "retail relationship", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["decision making", "investment", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["lifelong learning", "social support", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["cooperative economics", "compassion", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["grassroots level", "concepts", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["connections", "benefits", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["connections", "life", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["community encouragement", "investment", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["community encouragement", "food cooperative", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["community identity", "food cooperative", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["community identity", "health equity", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["community identity", "child health", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["community identity", "fast food", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["community identity", "flint water crisis", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["coping mechanisms", "social justice", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["concept", "community values", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["concept", "social responsibility", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["business principles", "health outcomes", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["business principles", "community empowerment", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["community anger", "grocery store closure", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["cultural resilience", "investor support", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["self-determination", "institutional priorities", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["food availability", "structural inequality", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["works", "socio-political context", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["funding inequality", "institutional priorities", {"weight": -1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["funding inequality", "local policy", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["investor support", "urban investment", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["grocery store", "social values", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["general manager", "advocacy", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["general manager", "shared culture", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["trust in leadership", "population segment", {"weight": 1.0, "confidence": 0.575, "type": "inter_cluster", "style": "solid"}], ["organizational competition", "empowerment narrative", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["organizational competition", "change", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["farmers markets", "advocacy", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["emotional resilience", "belonging", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["emotional resilience", "collective frustration", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["moral obligation", "doors", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["moral obligation", "quality of life", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["participatory decision-making", "investor engagement", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["children", "funding allocation", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["resource sharing", "city of flint", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["belonging", "collective resources", {"weight": 1.0, "confidence": 0.675, "type": "inter_cluster", "style": "solid"}], ["identity affirmation", "man of god", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["retail impact", "encouragement", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["retail impact", "advocacy", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["opportunities", "communal support", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["opportunities", "food apartheid", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["opportunities", "man of god", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["opportunities", "cooperative model", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["food", "emotional resilience", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["group dynamics", "transportation issues", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["power", "inequality", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["opportunity", "brown community", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["advocacy networks", "social inequality", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["social inequality", "coping mechanisms", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["flint", "compassion", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["flint", "religious identity", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["institutional priorities", "supplemental nutrition program", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["community voice", "community identity", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["community voice", "resource sharing", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["school founder", "health education", {"weight": 1.0, "confidence": 0.7333333333333334, "type": "inter_cluster", "style": "solid"}], ["social respect", "motivation", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["social respect", "researchers", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["motivational message", "social inequality", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["connection", "micro business development", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["path", "change", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["motivation", "concept", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["project", "doors", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["project", "desire", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["project", "decision making", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["collective understanding", "collective resources", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["collective understanding", "grassroots perspective", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["retail use", "chain restaurant", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["food access", "political influence", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["food access", "doors", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["food access", "school founder", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["chain restaurant", "food system", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["power brokers", "healthy food", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["organizational resources", "collective voice", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["organizational resources", "grocery store closure", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["inequality", "concept", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["marginalization", "holistic approach", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["communal support", "funding inequality", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["desire", "community empowerment", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["desire", "food giveaways", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["desire", "religious leadership", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["socio-economic status", "kujichagulia", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["nutritious food", "power brokers", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["dividends", "community vision", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["nutritious foods", "food access", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["customer ownership", "local economy", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["customer ownership", "clientele", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["brown community", "kwanzaa principles", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["feedback loops", "source", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["researchers", "motivation", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["community exclusion", "grocery store", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["community exclusion", "community anger", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["systemic inequity", "compassion", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["moral commitment", "cultural identity", {"weight": 1.0, "confidence": 0.6499999999999999, "type": "inter_cluster", "style": "solid"}], ["moral commitment", "food cooperative", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["moral commitment", "motivation", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["spiritual motivation", "job creation", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["resident education", "health education", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["transportation issues", "social equity", {"weight": -1.0, "confidence": 0.8000000000000002, "type": "inter_cluster", "style": "solid"}], ["transportation issues", "organizational competition", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["moral responsibility", "voice empowerment", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["moral responsibility", "resilience", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["faith leadership", "intergenerational support", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["faith leadership", "community programs", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["faith leadership", "pastor role", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["kujichagulia", "communal support", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["nutritional food access", "access to healthy food", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["food system", "intergenerational support", {"weight": 1.0, "confidence": 0.6333333333333333, "type": "inter_cluster", "style": "solid"}], ["source", "communal support", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["collective good", "funding allocation", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["change", "emotional resilience", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["voice empowerment", "water crisis", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["financial investment", "community resources", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["retail closures", "transportation issues", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["program usage", "communal support", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["compassion", "opportunities", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["micro business development", "collective resources", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["job creation", "health equity", {"weight": 1.0, "confidence": 0.7333333333333334, "type": "inter_cluster", "style": "solid"}], ["water crisis", "convenience store", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["social norms", "food system", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["social norms", "fast casual", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["community programs", "residents", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["access to healthy food", "meijer", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["health equity", "urban areas", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {};
        const clusterEdges = {};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
