
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"habitat-forming species": {"concepts": "habitat-forming species", "concept_list": ["habitat-forming species"], "type": "cluster", "node_size": 18, "label": "habitat-forming species"}, "federally funded program": {"concepts": "federally funded program", "concept_list": ["federally funded program"], "type": "cluster", "node_size": 18, "label": "federally funded program"}, "Conservation Management": {"concepts": "indigenous peoples, indigenize, indigenous knowledge, indigenous stewardship, indigenous people, endangered species, hawaiian cosmology, social constructs, indigenous-led conservation, hawaiian worldview, indigenous worldviews, indigenous resource management, indigenizing, humans as part of nature", "concept_list": ["indigenous peoples", "indigenize", "indigenous knowledge", "indigenous stewardship", "indigenous people", "endangered species", "hawaiian cosmology", "social constructs", "indigenous-led conservation", "hawaiian worldview", "indigenous worldviews", "indigenous resource management", "indigenizing", "humans as part of nature"], "type": "cluster", "node_size": 57, "label": "Conservation Management"}, "Colonial Impacts": {"concepts": "key food webs, conservation initiatives, resource management, species of conservation concern, conservation, framework, ecosystem services, policy, effective conservation, management plans, management actions, species recovery, endangered species conservation, biodiversity, stewardship efforts, endangered species act", "concept_list": ["key food webs", "conservation initiatives", "resource management", "species of conservation concern", "conservation", "framework", "ecosystem services", "policy", "effective conservation", "management plans", "management actions", "species recovery", "endangered species conservation", "biodiversity", "stewardship efforts", "endangered species act"], "type": "cluster", "node_size": 63, "label": "Colonial Impacts"}, "Reciprocal Relationships": {"concepts": "manifest destiny, intergenerational trauma, social injustice, genocide, colonial history, colonizer, social injustices, negative impacts, colonization, environmental injustices", "concept_list": ["manifest destiny", "intergenerational trauma", "social injustice", "genocide", "colonial history", "colonizer", "social injustices", "negative impacts", "colonization", "environmental injustices"], "type": "cluster", "node_size": 45, "label": "Reciprocal Relationships"}, "Collaborative Management": {"concepts": "reciprocal relationships, co-evolutionary relationships, community allies, allies, humans as a part of nature, community culture, positive relationship, relational relationship, team, interested parties, reciprocation of services, reciprocation, relationships, ancestral relationships, positive relationships", "concept_list": ["reciprocal relationships", "co-evolutionary relationships", "community allies", "allies", "humans as a part of nature", "community culture", "positive relationship", "relational relationship", "team", "interested parties", "reciprocation of services", "reciprocation", "relationships", "ancestral relationships", "positive relationships"], "type": "cluster", "node_size": 60, "label": "Collaborative Management"}, "Indigenous Stewardship": {"concepts": "stakeholder meeting, co-management frameworks, social construct, social contract, place-based knowledge, dc, collaborative management, harmful organisms, key actors, virtual meeting, framework., co-management, policy management actions, stakeholders", "concept_list": ["stakeholder meeting", "co-management frameworks", "social construct", "social contract", "place-based knowledge", "dc", "collaborative management", "harmful organisms", "key actors", "virtual meeting", "framework.", "co-management", "policy management actions", "stakeholders"], "type": "cluster", "node_size": 57, "label": "Indigenous Stewardship"}, "Research Software Tools": {"concepts": "noaa, adjustments, model, mental modular, mmp file, software, mobile, mentalmodeller.com, mental map, human environment connectivity, helicopter research, manuscript, research, biden memos", "concept_list": ["noaa", "adjustments", "model", "mental modular", "mmp file", "software", "mobile", "mentalmodeller.com", "mental map", "human environment connectivity", "helicopter research", "manuscript", "research", "biden memos"], "type": "cluster", "node_size": 57, "label": "Research Software Tools"}, "Environmental Justice": {"concepts": "blue boxes, pristine nature, environmental justice, environmentalism, tourism, human dimensions, alabama, research programs, sarah, species diversity, maryland, system's perspective, tribal-led initiatives, decision makers, aina, services, adversaries, negative relationship, research stressors, power differentials, team., holistic perspective, within species diversity, cultural identities, indigenize term, double arrows, human power", "concept_list": ["blue boxes", "pristine nature", "environmental justice", "environmentalism", "tourism", "human dimensions", "alabama", "research programs", "sarah", "species diversity", "maryland", "system's perspective", "tribal-led initiatives", "decision makers", "aina", "services", "adversaries", "negative relationship", "research stressors", "power differentials", "team.", "holistic perspective", "within species diversity", "cultural identities", "indigenize term", "double arrows", "human power"], "type": "cluster", "node_size": 96, "label": "Environmental Justice"}, "Native Hawaiian Communities": {"concepts": "native hawaiian, native hawaiian communities, native hawaiian community, native hawaiian communities.", "concept_list": ["native hawaiian", "native hawaiian communities", "native hawaiian community", "native hawaiian communities."], "type": "cluster", "node_size": 27, "label": "Native Hawaiian Communities"}, "Biocultural Diversity": {"concepts": "biocultural restoration, biocultural diversity", "concept_list": ["biocultural restoration", "biocultural diversity"], "type": "cluster", "node_size": 21, "label": "Biocultural Diversity"}, "Fishing Practices": {"concepts": "indigenous fishers, community-based subsistence fishing, marine resources, marine resource management, recreational fishing, commercial fishing", "concept_list": ["indigenous fishers", "community-based subsistence fishing", "marine resources", "marine resource management", "recreational fishing", "commercial fishing"], "type": "cluster", "node_size": 33, "label": "Fishing Practices"}, "Marine Conservation": {"concepts": "ocean plastics, humpback whale national marine sanctuary", "concept_list": ["ocean plastics", "humpback whale national marine sanctuary"], "type": "cluster", "node_size": 21, "label": "Marine Conservation"}, "Coastal Research": {"concepts": "edgewater, national estuarine research reserve", "concept_list": ["edgewater", "national estuarine research reserve"], "type": "cluster", "node_size": 21, "label": "Coastal Research"}, "Federal-State Relations": {"concepts": "federal system, state government, federal law", "concept_list": ["federal system", "state government", "federal law"], "type": "cluster", "node_size": 24, "label": "Federal-State Relations"}, "Judicial System": {"concepts": "judicial branch, state laws", "concept_list": ["judicial branch", "state laws"], "type": "cluster", "node_size": 21, "label": "Judicial System"}};
        const conceptData = {"indigenous peoples": {"concepts": "indigenous peoples", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "indigenous peoples"}, "indigenize": {"concepts": "indigenize", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "indigenize"}, "indigenous knowledge": {"concepts": "indigenous knowledge", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "indigenous knowledge"}, "indigenous stewardship": {"concepts": "indigenous stewardship", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "indigenous stewardship"}, "indigenous people": {"concepts": "indigenous people", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "indigenous people"}, "endangered species": {"concepts": "endangered species", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "endangered species"}, "hawaiian cosmology": {"concepts": "hawaiian cosmology", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "hawaiian cosmology"}, "social constructs": {"concepts": "social constructs", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "social constructs"}, "indigenous-led conservation": {"concepts": "indigenous-led conservation", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "indigenous-led conservation"}, "hawaiian worldview": {"concepts": "hawaiian worldview", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "hawaiian worldview"}, "indigenous worldviews": {"concepts": "indigenous worldviews", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "indigenous worldviews"}, "indigenous resource management": {"concepts": "indigenous resource management", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "indigenous resource management"}, "indigenizing": {"concepts": "indigenizing", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "indigenizing"}, "humans as part of nature": {"concepts": "humans as part of nature", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "humans as part of nature"}, "key food webs": {"concepts": "key food webs", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "key food webs"}, "conservation initiatives": {"concepts": "conservation initiatives", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "conservation initiatives"}, "resource management": {"concepts": "resource management", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "resource management"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "species of conservation concern"}, "conservation": {"concepts": "conservation", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "conservation"}, "framework": {"concepts": "framework", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "framework"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "ecosystem services"}, "policy": {"concepts": "policy", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "policy"}, "effective conservation": {"concepts": "effective conservation", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "effective conservation"}, "management plans": {"concepts": "management plans", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "management plans"}, "management actions": {"concepts": "management actions", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "management actions"}, "species recovery": {"concepts": "species recovery", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "species recovery"}, "endangered species conservation": {"concepts": "endangered species conservation", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "endangered species conservation"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "biodiversity"}, "stewardship efforts": {"concepts": "stewardship efforts", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "stewardship efforts"}, "endangered species act": {"concepts": "endangered species act", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "endangered species act"}, "manifest destiny": {"concepts": "manifest destiny", "type": "concept", "cluster": "Reciprocal Relationships", "node_size": 10, "label": "manifest destiny"}, "intergenerational trauma": {"concepts": "intergenerational trauma", "type": "concept", "cluster": "Reciprocal Relationships", "node_size": 10, "label": "intergenerational trauma"}, "social injustice": {"concepts": "social injustice", "type": "concept", "cluster": "Reciprocal Relationships", "node_size": 10, "label": "social injustice"}, "genocide": {"concepts": "genocide", "type": "concept", "cluster": "Reciprocal Relationships", "node_size": 10, "label": "genocide"}, "colonial history": {"concepts": "colonial history", "type": "concept", "cluster": "Reciprocal Relationships", "node_size": 10, "label": "colonial history"}, "colonizer": {"concepts": "colonizer", "type": "concept", "cluster": "Reciprocal Relationships", "node_size": 10, "label": "colonizer"}, "social injustices": {"concepts": "social injustices", "type": "concept", "cluster": "Reciprocal Relationships", "node_size": 10, "label": "social injustices"}, "negative impacts": {"concepts": "negative impacts", "type": "concept", "cluster": "Reciprocal Relationships", "node_size": 10, "label": "negative impacts"}, "colonization": {"concepts": "colonization", "type": "concept", "cluster": "Reciprocal Relationships", "node_size": 10, "label": "colonization"}, "environmental injustices": {"concepts": "environmental injustices", "type": "concept", "cluster": "Reciprocal Relationships", "node_size": 10, "label": "environmental injustices"}, "reciprocal relationships": {"concepts": "reciprocal relationships", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "reciprocal relationships"}, "co-evolutionary relationships": {"concepts": "co-evolutionary relationships", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "co-evolutionary relationships"}, "community allies": {"concepts": "community allies", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "community allies"}, "allies": {"concepts": "allies", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "allies"}, "humans as a part of nature": {"concepts": "humans as a part of nature", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "humans as a part of nature"}, "community culture": {"concepts": "community culture", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "community culture"}, "positive relationship": {"concepts": "positive relationship", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "positive relationship"}, "relational relationship": {"concepts": "relational relationship", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "relational relationship"}, "team": {"concepts": "team", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "team"}, "interested parties": {"concepts": "interested parties", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "interested parties"}, "reciprocation of services": {"concepts": "reciprocation of services", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "reciprocation of services"}, "reciprocation": {"concepts": "reciprocation", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "reciprocation"}, "relationships": {"concepts": "relationships", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "relationships"}, "ancestral relationships": {"concepts": "ancestral relationships", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "ancestral relationships"}, "positive relationships": {"concepts": "positive relationships", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "positive relationships"}, "stakeholder meeting": {"concepts": "stakeholder meeting", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "stakeholder meeting"}, "co-management frameworks": {"concepts": "co-management frameworks", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "co-management frameworks"}, "social construct": {"concepts": "social construct", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "social construct"}, "social contract": {"concepts": "social contract", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "social contract"}, "place-based knowledge": {"concepts": "place-based knowledge", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "place-based knowledge"}, "dc": {"concepts": "dc", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "dc"}, "collaborative management": {"concepts": "collaborative management", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "collaborative management"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "harmful organisms"}, "key actors": {"concepts": "key actors", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "key actors"}, "virtual meeting": {"concepts": "virtual meeting", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "virtual meeting"}, "framework.": {"concepts": "framework.", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "framework."}, "co-management": {"concepts": "co-management", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "co-management"}, "policy management actions": {"concepts": "policy management actions", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "policy management actions"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "stakeholders"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "noaa"}, "adjustments": {"concepts": "adjustments", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "adjustments"}, "model": {"concepts": "model", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "model"}, "mental modular": {"concepts": "mental modular", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "mental modular"}, "mmp file": {"concepts": "mmp file", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "mmp file"}, "software": {"concepts": "software", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "software"}, "mobile": {"concepts": "mobile", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "mobile"}, "mentalmodeller.com": {"concepts": "mentalmodeller.com", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "mentalmodeller.com"}, "mental map": {"concepts": "mental map", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "mental map"}, "human environment connectivity": {"concepts": "human environment connectivity", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "human environment connectivity"}, "helicopter research": {"concepts": "helicopter research", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "helicopter research"}, "manuscript": {"concepts": "manuscript", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "manuscript"}, "research": {"concepts": "research", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "research"}, "biden memos": {"concepts": "biden memos", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "biden memos"}, "blue boxes": {"concepts": "blue boxes", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "blue boxes"}, "pristine nature": {"concepts": "pristine nature", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "pristine nature"}, "environmental justice": {"concepts": "environmental justice", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "environmental justice"}, "environmentalism": {"concepts": "environmentalism", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "environmentalism"}, "tourism": {"concepts": "tourism", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "tourism"}, "human dimensions": {"concepts": "human dimensions", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "human dimensions"}, "alabama": {"concepts": "alabama", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "alabama"}, "research programs": {"concepts": "research programs", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "research programs"}, "sarah": {"concepts": "sarah", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "sarah"}, "species diversity": {"concepts": "species diversity", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "species diversity"}, "maryland": {"concepts": "maryland", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "maryland"}, "system's perspective": {"concepts": "system's perspective", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "system's perspective"}, "tribal-led initiatives": {"concepts": "tribal-led initiatives", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "tribal-led initiatives"}, "decision makers": {"concepts": "decision makers", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "decision makers"}, "aina": {"concepts": "aina", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "aina"}, "services": {"concepts": "services", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "services"}, "adversaries": {"concepts": "adversaries", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "adversaries"}, "negative relationship": {"concepts": "negative relationship", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "negative relationship"}, "research stressors": {"concepts": "research stressors", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "research stressors"}, "power differentials": {"concepts": "power differentials", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "power differentials"}, "team.": {"concepts": "team.", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "team."}, "holistic perspective": {"concepts": "holistic perspective", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "holistic perspective"}, "within species diversity": {"concepts": "within species diversity", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "within species diversity"}, "cultural identities": {"concepts": "cultural identities", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "cultural identities"}, "indigenize term": {"concepts": "indigenize term", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "indigenize term"}, "double arrows": {"concepts": "double arrows", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "double arrows"}, "human power": {"concepts": "human power", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "human power"}, "native hawaiian": {"concepts": "native hawaiian", "type": "concept", "cluster": "Native Hawaiian Communities", "node_size": 10, "label": "native hawaiian"}, "native hawaiian communities": {"concepts": "native hawaiian communities", "type": "concept", "cluster": "Native Hawaiian Communities", "node_size": 10, "label": "native hawaiian communities"}, "native hawaiian community": {"concepts": "native hawaiian community", "type": "concept", "cluster": "Native Hawaiian Communities", "node_size": 10, "label": "native hawaiian community"}, "native hawaiian communities.": {"concepts": "native hawaiian communities.", "type": "concept", "cluster": "Native Hawaiian Communities", "node_size": 10, "label": "native hawaiian communities."}, "biocultural restoration": {"concepts": "biocultural restoration", "type": "concept", "cluster": "Biocultural Diversity", "node_size": 10, "label": "biocultural restoration"}, "biocultural diversity": {"concepts": "biocultural diversity", "type": "concept", "cluster": "Biocultural Diversity", "node_size": 10, "label": "biocultural diversity"}, "indigenous fishers": {"concepts": "indigenous fishers", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "indigenous fishers"}, "community-based subsistence fishing": {"concepts": "community-based subsistence fishing", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "community-based subsistence fishing"}, "marine resources": {"concepts": "marine resources", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "marine resources"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "marine resource management"}, "recreational fishing": {"concepts": "recreational fishing", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "recreational fishing"}, "commercial fishing": {"concepts": "commercial fishing", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "commercial fishing"}, "ocean plastics": {"concepts": "ocean plastics", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "ocean plastics"}, "humpback whale national marine sanctuary": {"concepts": "humpback whale national marine sanctuary", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "humpback whale national marine sanctuary"}, "edgewater": {"concepts": "edgewater", "type": "concept", "cluster": "Coastal Research", "node_size": 10, "label": "edgewater"}, "national estuarine research reserve": {"concepts": "national estuarine research reserve", "type": "concept", "cluster": "Coastal Research", "node_size": 10, "label": "national estuarine research reserve"}, "federal system": {"concepts": "federal system", "type": "concept", "cluster": "Federal-State Relations", "node_size": 10, "label": "federal system"}, "state government": {"concepts": "state government", "type": "concept", "cluster": "Federal-State Relations", "node_size": 10, "label": "state government"}, "federal law": {"concepts": "federal law", "type": "concept", "cluster": "Federal-State Relations", "node_size": 10, "label": "federal law"}, "judicial branch": {"concepts": "judicial branch", "type": "concept", "cluster": "Judicial System", "node_size": 10, "label": "judicial branch"}, "state laws": {"concepts": "state laws", "type": "concept", "cluster": "Judicial System", "node_size": 10, "label": "state laws"}};
        const interClusterEdges = [["habitat-forming species", "Marine Conservation", {"weight": -0.25, "confidence": 0.175, "type": "inter_cluster", "style": "solid"}], ["federally funded program", "Coastal Research", {"weight": -0.25, "confidence": 0.6375, "type": "inter_cluster", "style": "solid"}], ["federally funded program", "Conservation Management", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Colonial Impacts", "Federal-State Relations", {"weight": 0.2, "confidence": 0.78, "type": "inter_cluster", "style": "solid"}], ["Colonial Impacts", "Research Software Tools", {"weight": 0.75, "confidence": 0.6125, "type": "inter_cluster", "style": "solid"}], ["Colonial Impacts", "habitat-forming species", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Reciprocal Relationships", "Environmental Justice", {"weight": -0.6666666666666666, "confidence": 0.5833333333333334, "type": "inter_cluster", "style": "solid"}], ["Reciprocal Relationships", "Indigenous Stewardship", {"weight": -0.6666666666666666, "confidence": 0.5166666666666667, "type": "inter_cluster", "style": "solid"}], ["Collaborative Management", "federally funded program", {"weight": -0.5, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Indigenous Stewardship", "Coastal Research", {"weight": 0.6, "confidence": 0.43, "type": "inter_cluster", "style": "solid"}], ["Indigenous Stewardship", "Colonial Impacts", {"weight": 0.3333333333333333, "confidence": 0.26666666666666666, "type": "inter_cluster", "style": "solid"}], ["Research Software Tools", "Reciprocal Relationships", {"weight": -0.6, "confidence": 0.7900000000000001, "type": "inter_cluster", "style": "solid"}], ["Research Software Tools", "Collaborative Management", {"weight": 0.5, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Research Software Tools", "federally funded program", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Environmental Justice", "Coastal Research", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Native Hawaiian Communities", "Collaborative Management", {"weight": 0.25, "confidence": 0.6375000000000001, "type": "inter_cluster", "style": "solid"}], ["Biocultural Diversity", "Conservation Management", {"weight": 0.4, "confidence": 0.6799999999999999, "type": "inter_cluster", "style": "solid"}], ["Biocultural Diversity", "Colonial Impacts", {"weight": 0.2, "confidence": 0.47000000000000003, "type": "inter_cluster", "style": "solid"}], ["Biocultural Diversity", "Fishing Practices", {"weight": -0.5, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Fishing Practices", "Research Software Tools", {"weight": -0.4, "confidence": 0.62, "type": "inter_cluster", "style": "solid"}], ["Marine Conservation", "Colonial Impacts", {"weight": 0.2, "confidence": 0.8300000000000001, "type": "inter_cluster", "style": "solid"}], ["Marine Conservation", "Indigenous Stewardship", {"weight": -0.2, "confidence": 0.76, "type": "inter_cluster", "style": "solid"}], ["Coastal Research", "Indigenous Stewardship", {"weight": 0.3333333333333333, "confidence": 0.7833333333333333, "type": "inter_cluster", "style": "solid"}], ["Coastal Research", "Fishing Practices", {"weight": 0.6, "confidence": 0.49000000000000005, "type": "inter_cluster", "style": "solid"}], ["Coastal Research", "Colonial Impacts", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Coastal Research", "habitat-forming species", {"weight": -0.25, "confidence": 0.1625, "type": "inter_cluster", "style": "solid"}], ["Federal-State Relations", "Conservation Management", {"weight": -0.2, "confidence": 0.53, "type": "inter_cluster", "style": "solid"}], ["Federal-State Relations", "Marine Conservation", {"weight": -0.4, "confidence": 0.27, "type": "inter_cluster", "style": "solid"}], ["Federal-State Relations", "Native Hawaiian Communities", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Judicial System", "Marine Conservation", {"weight": 0.4, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Judicial System", "Conservation Management", {"weight": 0.2, "confidence": 0.51, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Conservation Management": [["indigenous peoples", {"concepts": "indigenous peoples", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "indigenous peoples"}], ["indigenize", {"concepts": "indigenize", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "indigenize"}], ["indigenous knowledge", {"concepts": "indigenous knowledge", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "indigenous knowledge"}], ["indigenous stewardship", {"concepts": "indigenous stewardship", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "indigenous stewardship"}], ["indigenous people", {"concepts": "indigenous people", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "indigenous people"}], ["endangered species", {"concepts": "endangered species", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "endangered species"}], ["hawaiian cosmology", {"concepts": "hawaiian cosmology", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "hawaiian cosmology"}], ["social constructs", {"concepts": "social constructs", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "social constructs"}], ["indigenous-led conservation", {"concepts": "indigenous-led conservation", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "indigenous-led conservation"}], ["hawaiian worldview", {"concepts": "hawaiian worldview", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "hawaiian worldview"}], ["indigenous worldviews", {"concepts": "indigenous worldviews", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "indigenous worldviews"}], ["indigenous resource management", {"concepts": "indigenous resource management", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "indigenous resource management"}], ["indigenizing", {"concepts": "indigenizing", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "indigenizing"}], ["humans as part of nature", {"concepts": "humans as part of nature", "type": "concept", "cluster": "Conservation Management", "node_size": 10, "label": "humans as part of nature"}]], "Colonial Impacts": [["key food webs", {"concepts": "key food webs", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "key food webs"}], ["conservation initiatives", {"concepts": "conservation initiatives", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "conservation initiatives"}], ["resource management", {"concepts": "resource management", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "resource management"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "species of conservation concern"}], ["conservation", {"concepts": "conservation", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "conservation"}], ["framework", {"concepts": "framework", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "framework"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "ecosystem services"}], ["policy", {"concepts": "policy", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "policy"}], ["effective conservation", {"concepts": "effective conservation", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "effective conservation"}], ["management plans", {"concepts": "management plans", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "management plans"}], ["management actions", {"concepts": "management actions", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "management actions"}], ["species recovery", {"concepts": "species recovery", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "species recovery"}], ["endangered species conservation", {"concepts": "endangered species conservation", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "endangered species conservation"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "biodiversity"}], ["stewardship efforts", {"concepts": "stewardship efforts", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "stewardship efforts"}], ["endangered species act", {"concepts": "endangered species act", "type": "concept", "cluster": "Colonial Impacts", "node_size": 10, "label": "endangered species act"}]], "Reciprocal Relationships": [["manifest destiny", {"concepts": "manifest destiny", "type": "concept", "cluster": "Reciprocal Relationships", "node_size": 10, "label": "manifest destiny"}], ["intergenerational trauma", {"concepts": "intergenerational trauma", "type": "concept", "cluster": "Reciprocal Relationships", "node_size": 10, "label": "intergenerational trauma"}], ["social injustice", {"concepts": "social injustice", "type": "concept", "cluster": "Reciprocal Relationships", "node_size": 10, "label": "social injustice"}], ["genocide", {"concepts": "genocide", "type": "concept", "cluster": "Reciprocal Relationships", "node_size": 10, "label": "genocide"}], ["colonial history", {"concepts": "colonial history", "type": "concept", "cluster": "Reciprocal Relationships", "node_size": 10, "label": "colonial history"}], ["colonizer", {"concepts": "colonizer", "type": "concept", "cluster": "Reciprocal Relationships", "node_size": 10, "label": "colonizer"}], ["social injustices", {"concepts": "social injustices", "type": "concept", "cluster": "Reciprocal Relationships", "node_size": 10, "label": "social injustices"}], ["negative impacts", {"concepts": "negative impacts", "type": "concept", "cluster": "Reciprocal Relationships", "node_size": 10, "label": "negative impacts"}], ["colonization", {"concepts": "colonization", "type": "concept", "cluster": "Reciprocal Relationships", "node_size": 10, "label": "colonization"}], ["environmental injustices", {"concepts": "environmental injustices", "type": "concept", "cluster": "Reciprocal Relationships", "node_size": 10, "label": "environmental injustices"}]], "Collaborative Management": [["reciprocal relationships", {"concepts": "reciprocal relationships", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "reciprocal relationships"}], ["co-evolutionary relationships", {"concepts": "co-evolutionary relationships", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "co-evolutionary relationships"}], ["community allies", {"concepts": "community allies", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "community allies"}], ["allies", {"concepts": "allies", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "allies"}], ["humans as a part of nature", {"concepts": "humans as a part of nature", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "humans as a part of nature"}], ["community culture", {"concepts": "community culture", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "community culture"}], ["positive relationship", {"concepts": "positive relationship", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "positive relationship"}], ["relational relationship", {"concepts": "relational relationship", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "relational relationship"}], ["team", {"concepts": "team", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "team"}], ["interested parties", {"concepts": "interested parties", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "interested parties"}], ["reciprocation of services", {"concepts": "reciprocation of services", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "reciprocation of services"}], ["reciprocation", {"concepts": "reciprocation", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "reciprocation"}], ["relationships", {"concepts": "relationships", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "relationships"}], ["ancestral relationships", {"concepts": "ancestral relationships", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "ancestral relationships"}], ["positive relationships", {"concepts": "positive relationships", "type": "concept", "cluster": "Collaborative Management", "node_size": 10, "label": "positive relationships"}]], "Indigenous Stewardship": [["stakeholder meeting", {"concepts": "stakeholder meeting", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "stakeholder meeting"}], ["co-management frameworks", {"concepts": "co-management frameworks", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "co-management frameworks"}], ["social construct", {"concepts": "social construct", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "social construct"}], ["social contract", {"concepts": "social contract", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "social contract"}], ["place-based knowledge", {"concepts": "place-based knowledge", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "place-based knowledge"}], ["dc", {"concepts": "dc", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "dc"}], ["collaborative management", {"concepts": "collaborative management", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "collaborative management"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "harmful organisms"}], ["key actors", {"concepts": "key actors", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "key actors"}], ["virtual meeting", {"concepts": "virtual meeting", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "virtual meeting"}], ["framework.", {"concepts": "framework.", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "framework."}], ["co-management", {"concepts": "co-management", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "co-management"}], ["policy management actions", {"concepts": "policy management actions", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "policy management actions"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Indigenous Stewardship", "node_size": 10, "label": "stakeholders"}]], "Research Software Tools": [["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "noaa"}], ["adjustments", {"concepts": "adjustments", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "adjustments"}], ["model", {"concepts": "model", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "model"}], ["mental modular", {"concepts": "mental modular", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "mental modular"}], ["mmp file", {"concepts": "mmp file", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "mmp file"}], ["software", {"concepts": "software", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "software"}], ["mobile", {"concepts": "mobile", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "mobile"}], ["mentalmodeller.com", {"concepts": "mentalmodeller.com", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "mentalmodeller.com"}], ["mental map", {"concepts": "mental map", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "mental map"}], ["human environment connectivity", {"concepts": "human environment connectivity", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "human environment connectivity"}], ["helicopter research", {"concepts": "helicopter research", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "helicopter research"}], ["manuscript", {"concepts": "manuscript", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "manuscript"}], ["research", {"concepts": "research", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "research"}], ["biden memos", {"concepts": "biden memos", "type": "concept", "cluster": "Research Software Tools", "node_size": 10, "label": "biden memos"}]], "Environmental Justice": [["blue boxes", {"concepts": "blue boxes", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "blue boxes"}], ["pristine nature", {"concepts": "pristine nature", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "pristine nature"}], ["environmental justice", {"concepts": "environmental justice", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "environmental justice"}], ["environmentalism", {"concepts": "environmentalism", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "environmentalism"}], ["tourism", {"concepts": "tourism", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "tourism"}], ["human dimensions", {"concepts": "human dimensions", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "human dimensions"}], ["alabama", {"concepts": "alabama", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "alabama"}], ["research programs", {"concepts": "research programs", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "research programs"}], ["sarah", {"concepts": "sarah", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "sarah"}], ["species diversity", {"concepts": "species diversity", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "species diversity"}], ["maryland", {"concepts": "maryland", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "maryland"}], ["system's perspective", {"concepts": "system's perspective", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "system's perspective"}], ["tribal-led initiatives", {"concepts": "tribal-led initiatives", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "tribal-led initiatives"}], ["decision makers", {"concepts": "decision makers", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "decision makers"}], ["aina", {"concepts": "aina", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "aina"}], ["services", {"concepts": "services", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "services"}], ["adversaries", {"concepts": "adversaries", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "adversaries"}], ["negative relationship", {"concepts": "negative relationship", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "negative relationship"}], ["research stressors", {"concepts": "research stressors", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "research stressors"}], ["power differentials", {"concepts": "power differentials", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "power differentials"}], ["team.", {"concepts": "team.", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "team."}], ["holistic perspective", {"concepts": "holistic perspective", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "holistic perspective"}], ["within species diversity", {"concepts": "within species diversity", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "within species diversity"}], ["cultural identities", {"concepts": "cultural identities", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "cultural identities"}], ["indigenize term", {"concepts": "indigenize term", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "indigenize term"}], ["double arrows", {"concepts": "double arrows", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "double arrows"}], ["human power", {"concepts": "human power", "type": "concept", "cluster": "Environmental Justice", "node_size": 10, "label": "human power"}]], "Native Hawaiian Communities": [["native hawaiian", {"concepts": "native hawaiian", "type": "concept", "cluster": "Native Hawaiian Communities", "node_size": 10, "label": "native hawaiian"}], ["native hawaiian communities", {"concepts": "native hawaiian communities", "type": "concept", "cluster": "Native Hawaiian Communities", "node_size": 10, "label": "native hawaiian communities"}], ["native hawaiian community", {"concepts": "native hawaiian community", "type": "concept", "cluster": "Native Hawaiian Communities", "node_size": 10, "label": "native hawaiian community"}], ["native hawaiian communities.", {"concepts": "native hawaiian communities.", "type": "concept", "cluster": "Native Hawaiian Communities", "node_size": 10, "label": "native hawaiian communities."}]], "Biocultural Diversity": [["biocultural restoration", {"concepts": "biocultural restoration", "type": "concept", "cluster": "Biocultural Diversity", "node_size": 10, "label": "biocultural restoration"}], ["biocultural diversity", {"concepts": "biocultural diversity", "type": "concept", "cluster": "Biocultural Diversity", "node_size": 10, "label": "biocultural diversity"}]], "Fishing Practices": [["indigenous fishers", {"concepts": "indigenous fishers", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "indigenous fishers"}], ["community-based subsistence fishing", {"concepts": "community-based subsistence fishing", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "community-based subsistence fishing"}], ["marine resources", {"concepts": "marine resources", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "marine resources"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "marine resource management"}], ["recreational fishing", {"concepts": "recreational fishing", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "recreational fishing"}], ["commercial fishing", {"concepts": "commercial fishing", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "commercial fishing"}]], "Marine Conservation": [["ocean plastics", {"concepts": "ocean plastics", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "ocean plastics"}], ["humpback whale national marine sanctuary", {"concepts": "humpback whale national marine sanctuary", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "humpback whale national marine sanctuary"}]], "Coastal Research": [["edgewater", {"concepts": "edgewater", "type": "concept", "cluster": "Coastal Research", "node_size": 10, "label": "edgewater"}], ["national estuarine research reserve", {"concepts": "national estuarine research reserve", "type": "concept", "cluster": "Coastal Research", "node_size": 10, "label": "national estuarine research reserve"}]], "Federal-State Relations": [["federal system", {"concepts": "federal system", "type": "concept", "cluster": "Federal-State Relations", "node_size": 10, "label": "federal system"}], ["state government", {"concepts": "state government", "type": "concept", "cluster": "Federal-State Relations", "node_size": 10, "label": "state government"}], ["federal law", {"concepts": "federal law", "type": "concept", "cluster": "Federal-State Relations", "node_size": 10, "label": "federal law"}]], "Judicial System": [["judicial branch", {"concepts": "judicial branch", "type": "concept", "cluster": "Judicial System", "node_size": 10, "label": "judicial branch"}], ["state laws", {"concepts": "state laws", "type": "concept", "cluster": "Judicial System", "node_size": 10, "label": "state laws"}]]};
        const clusterEdges = {"Conservation Management": [], "Colonial Impacts": [], "Reciprocal Relationships": [], "Collaborative Management": [], "Indigenous Stewardship": [], "Research Software Tools": [], "Environmental Justice": [], "Native Hawaiian Communities": [], "Biocultural Diversity": [], "Fishing Practices": [], "Marine Conservation": [], "Coastal Research": [], "Federal-State Relations": [], "Judicial System": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
