
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Government and Politics": {"concepts": "waiters, relationship, pr, conch, assistance, conch regulations, inequality, heart disease, key informant interview, fund, proposals, cancer, fishing, maintenance costs, jet ski competition, construction, catch, resolution, statistics, bartenders, washington, electricity, conflict resolution, net ban, farmers, organizing, decisions, mayor, facilities, overfishing, octopus, pr culture, equipment aid, rules, shark, court, parking lot, pipeline, poor, decision-making, resources, decision-makers, athletes, lack of enforcement, commercial license, researchers, decision making, locker rooms, coop, resource management, permits, causes for conflict, personnel shortage, sub-secret\u00e1rio, lei 278, health, envy, conflicts, votes, jet skis, power, pier, hope, red snapper, regulations", "concept_list": ["waiters", "relationship", "pr", "conch", "assistance", "conch regulations", "inequality", "heart disease", "key informant interview", "fund", "proposals", "cancer", "fishing", "maintenance costs", "jet ski competition", "construction", "catch", "resolution", "statistics", "bartenders", "washington", "electricity", "conflict resolution", "net ban", "farmers", "organizing", "decisions", "mayor", "facilities", "overfishing", "octopus", "pr culture", "equipment aid", "rules", "shark", "court", "parking lot", "pipeline", "poor", "decision-making", "resources", "decision-makers", "athletes", "lack of enforcement", "commercial license", "researchers", "decision making", "locker rooms", "coop", "resource management", "permits", "causes for conflict", "personnel shortage", "sub-secret\u00e1rio", "lei 278", "health", "envy", "conflicts", "votes", "jet skis", "power", "pier", "hope", "red snapper", "regulations"], "type": "cluster", "node_size": 210, "label": "Government and Politics"}, "Community Collaboration": {"concepts": "lobster season, municipalities, government investment, government positions, lobsters, government officials, government, lobster, country, federal money, protest, subsidies, political parties, political division, federal funding, politics, racism", "concept_list": ["lobster season", "municipalities", "government investment", "government positions", "lobsters", "government officials", "government", "lobster", "country", "federal money", "protest", "subsidies", "political parties", "political division", "federal funding", "politics", "racism"], "type": "cluster", "node_size": 66, "label": "Community Collaboration"}, "Fish and Market": {"concepts": "communication, community problems, community action, participatory action, grouper, community cooperation, media, collaboration, community division, meetings", "concept_list": ["communication", "community problems", "community action", "participatory action", "grouper", "community cooperation", "media", "collaboration", "community division", "meetings"], "type": "cluster", "node_size": 45, "label": "Fish and Market"}, "Fishing and Tourism": {"concepts": "fish behavior, fish stocks, fish market, fish import, algae growth, fish to eat", "concept_list": ["fish behavior", "fish stocks", "fish market", "fish import", "algae growth", "fish to eat"], "type": "cluster", "node_size": 33, "label": "Fishing and Tourism"}, "Resource Management Conflicts": {"concepts": "artisanal fishing, tourism dependency, fishing license, recreational licenses, commercial fishing license, fishing equipment, fishing platform, tourism, illegal fishing, fishing regulations, restaurant activity, tourism industry, tourism activity", "concept_list": ["artisanal fishing", "tourism dependency", "fishing license", "recreational licenses", "commercial fishing license", "fishing equipment", "fishing platform", "tourism", "illegal fishing", "fishing regulations", "restaurant activity", "tourism industry", "tourism activity"], "type": "cluster", "node_size": 54, "label": "Resource Management Conflicts"}, "Coastal Livelihoods": {"concepts": "bahia house resort, guayama dner office, livelihood, plastic nets, small boats, boats, department of agriculture, bay of guayama, water temperature, enforcers, livelihood dependency, licenses, guayama, water currents, fish restaurants, license, big companies, enforcement, ocean currents", "concept_list": ["bahia house resort", "guayama dner office", "livelihood", "plastic nets", "small boats", "boats", "department of agriculture", "bay of guayama", "water temperature", "enforcers", "livelihood dependency", "licenses", "guayama", "water currents", "fish restaurants", "license", "big companies", "enforcement", "ocean currents"], "type": "cluster", "node_size": 72, "label": "Coastal Livelihoods"}, "Puerto Rico Locations": {"concepts": "comit\u00e9 multisectorial del gasoducto, el conquistador, pozuelo, puerto rico, fajardo, patilla, dner, noaa, dorados, sargassum, el ni\u00f1o, manaubo, pescader\u00edas, san juan, villa pesquera, arroyo", "concept_list": ["comit\u00e9 multisectorial del gasoducto", "el conquistador", "pozuelo", "puerto rico", "fajardo", "patilla", "dner", "noaa", "dorados", "sargassum", "el ni\u00f1o", "manaubo", "pescader\u00edas", "san juan", "villa pesquera", "arroyo"], "type": "cluster", "node_size": 63, "label": "Puerto Rico Locations"}, "Coastal Ecosystems": {"concepts": "reef species, coastal communities, coral damage, mangrove, coral reefs, pollution, coastal pollution, coast", "concept_list": ["reef species", "coastal communities", "coral damage", "mangrove", "coral reefs", "pollution", "coastal pollution", "coast"], "type": "cluster", "node_size": 39, "label": "Coastal Ecosystems"}, "Fisheries Management": {"concepts": "recreational fishermen, recreational fishers, fishers, fishermen, fishery managers, fishery management, fisher protests, pr fisheries, commercial fisherman, commercial fisher, local fisheries, puerto rican fisheries, fishery manager, cooperative fishers, recreational fisherman, commercial fishermen", "concept_list": ["recreational fishermen", "recreational fishers", "fishers", "fishermen", "fishery managers", "fishery management", "fisher protests", "pr fisheries", "commercial fisherman", "commercial fisher", "local fisheries", "puerto rican fisheries", "fishery manager", "cooperative fishers", "recreational fisherman", "commercial fishermen"], "type": "cluster", "node_size": 63, "label": "Fisheries Management"}, "Weather Patterns": {"concepts": "weather conditions, weather, bad weather, summer months, hurricanes, seasonal, climate change, storms, weather patterns", "concept_list": ["weather conditions", "weather", "bad weather", "summer months", "hurricanes", "seasonal", "climate change", "storms", "weather patterns"], "type": "cluster", "node_size": 42, "label": "Weather Patterns"}};
        const conceptData = {"waiters": {"concepts": "waiters", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "waiters"}, "relationship": {"concepts": "relationship", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "relationship"}, "pr": {"concepts": "pr", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "pr"}, "conch": {"concepts": "conch", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "conch"}, "assistance": {"concepts": "assistance", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "assistance"}, "conch regulations": {"concepts": "conch regulations", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "conch regulations"}, "inequality": {"concepts": "inequality", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "inequality"}, "heart disease": {"concepts": "heart disease", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "heart disease"}, "key informant interview": {"concepts": "key informant interview", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "key informant interview"}, "fund": {"concepts": "fund", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "fund"}, "proposals": {"concepts": "proposals", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "proposals"}, "cancer": {"concepts": "cancer", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "cancer"}, "fishing": {"concepts": "fishing", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "fishing"}, "maintenance costs": {"concepts": "maintenance costs", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "maintenance costs"}, "jet ski competition": {"concepts": "jet ski competition", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "jet ski competition"}, "construction": {"concepts": "construction", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "construction"}, "catch": {"concepts": "catch", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "catch"}, "resolution": {"concepts": "resolution", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "resolution"}, "statistics": {"concepts": "statistics", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "statistics"}, "bartenders": {"concepts": "bartenders", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "bartenders"}, "washington": {"concepts": "washington", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "washington"}, "electricity": {"concepts": "electricity", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "electricity"}, "conflict resolution": {"concepts": "conflict resolution", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "conflict resolution"}, "net ban": {"concepts": "net ban", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "net ban"}, "farmers": {"concepts": "farmers", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "farmers"}, "organizing": {"concepts": "organizing", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "organizing"}, "decisions": {"concepts": "decisions", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "decisions"}, "mayor": {"concepts": "mayor", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "mayor"}, "facilities": {"concepts": "facilities", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "facilities"}, "overfishing": {"concepts": "overfishing", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "overfishing"}, "octopus": {"concepts": "octopus", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "octopus"}, "pr culture": {"concepts": "pr culture", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "pr culture"}, "equipment aid": {"concepts": "equipment aid", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "equipment aid"}, "rules": {"concepts": "rules", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "rules"}, "shark": {"concepts": "shark", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "shark"}, "court": {"concepts": "court", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "court"}, "parking lot": {"concepts": "parking lot", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "parking lot"}, "pipeline": {"concepts": "pipeline", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "pipeline"}, "poor": {"concepts": "poor", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "poor"}, "decision-making": {"concepts": "decision-making", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "decision-making"}, "resources": {"concepts": "resources", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "resources"}, "decision-makers": {"concepts": "decision-makers", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "decision-makers"}, "athletes": {"concepts": "athletes", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "athletes"}, "lack of enforcement": {"concepts": "lack of enforcement", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "lack of enforcement"}, "commercial license": {"concepts": "commercial license", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "commercial license"}, "researchers": {"concepts": "researchers", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "researchers"}, "decision making": {"concepts": "decision making", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "decision making"}, "locker rooms": {"concepts": "locker rooms", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "locker rooms"}, "coop": {"concepts": "coop", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "coop"}, "resource management": {"concepts": "resource management", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "resource management"}, "permits": {"concepts": "permits", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "permits"}, "causes for conflict": {"concepts": "causes for conflict", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "causes for conflict"}, "personnel shortage": {"concepts": "personnel shortage", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "personnel shortage"}, "sub-secret\u00e1rio": {"concepts": "sub-secret\u00e1rio", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "sub-secret\u00e1rio"}, "lei 278": {"concepts": "lei 278", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "lei 278"}, "health": {"concepts": "health", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "health"}, "envy": {"concepts": "envy", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "envy"}, "conflicts": {"concepts": "conflicts", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "conflicts"}, "votes": {"concepts": "votes", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "votes"}, "jet skis": {"concepts": "jet skis", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "jet skis"}, "power": {"concepts": "power", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "power"}, "pier": {"concepts": "pier", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "pier"}, "hope": {"concepts": "hope", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "hope"}, "red snapper": {"concepts": "red snapper", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "red snapper"}, "regulations": {"concepts": "regulations", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "regulations"}, "lobster season": {"concepts": "lobster season", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "lobster season"}, "municipalities": {"concepts": "municipalities", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "municipalities"}, "government investment": {"concepts": "government investment", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "government investment"}, "government positions": {"concepts": "government positions", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "government positions"}, "lobsters": {"concepts": "lobsters", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "lobsters"}, "government officials": {"concepts": "government officials", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "government officials"}, "government": {"concepts": "government", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "government"}, "lobster": {"concepts": "lobster", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "lobster"}, "country": {"concepts": "country", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "country"}, "federal money": {"concepts": "federal money", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "federal money"}, "protest": {"concepts": "protest", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "protest"}, "subsidies": {"concepts": "subsidies", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "subsidies"}, "political parties": {"concepts": "political parties", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "political parties"}, "political division": {"concepts": "political division", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "political division"}, "federal funding": {"concepts": "federal funding", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "federal funding"}, "politics": {"concepts": "politics", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "politics"}, "racism": {"concepts": "racism", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "racism"}, "communication": {"concepts": "communication", "type": "concept", "cluster": "Fish and Market", "node_size": 10, "label": "communication"}, "community problems": {"concepts": "community problems", "type": "concept", "cluster": "Fish and Market", "node_size": 10, "label": "community problems"}, "community action": {"concepts": "community action", "type": "concept", "cluster": "Fish and Market", "node_size": 10, "label": "community action"}, "participatory action": {"concepts": "participatory action", "type": "concept", "cluster": "Fish and Market", "node_size": 10, "label": "participatory action"}, "grouper": {"concepts": "grouper", "type": "concept", "cluster": "Fish and Market", "node_size": 10, "label": "grouper"}, "community cooperation": {"concepts": "community cooperation", "type": "concept", "cluster": "Fish and Market", "node_size": 10, "label": "community cooperation"}, "media": {"concepts": "media", "type": "concept", "cluster": "Fish and Market", "node_size": 10, "label": "media"}, "collaboration": {"concepts": "collaboration", "type": "concept", "cluster": "Fish and Market", "node_size": 10, "label": "collaboration"}, "community division": {"concepts": "community division", "type": "concept", "cluster": "Fish and Market", "node_size": 10, "label": "community division"}, "meetings": {"concepts": "meetings", "type": "concept", "cluster": "Fish and Market", "node_size": 10, "label": "meetings"}, "fish behavior": {"concepts": "fish behavior", "type": "concept", "cluster": "Fishing and Tourism", "node_size": 10, "label": "fish behavior"}, "fish stocks": {"concepts": "fish stocks", "type": "concept", "cluster": "Fishing and Tourism", "node_size": 10, "label": "fish stocks"}, "fish market": {"concepts": "fish market", "type": "concept", "cluster": "Fishing and Tourism", "node_size": 10, "label": "fish market"}, "fish import": {"concepts": "fish import", "type": "concept", "cluster": "Fishing and Tourism", "node_size": 10, "label": "fish import"}, "algae growth": {"concepts": "algae growth", "type": "concept", "cluster": "Fishing and Tourism", "node_size": 10, "label": "algae growth"}, "fish to eat": {"concepts": "fish to eat", "type": "concept", "cluster": "Fishing and Tourism", "node_size": 10, "label": "fish to eat"}, "artisanal fishing": {"concepts": "artisanal fishing", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "artisanal fishing"}, "tourism dependency": {"concepts": "tourism dependency", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "tourism dependency"}, "fishing license": {"concepts": "fishing license", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "fishing license"}, "recreational licenses": {"concepts": "recreational licenses", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "recreational licenses"}, "commercial fishing license": {"concepts": "commercial fishing license", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "commercial fishing license"}, "fishing equipment": {"concepts": "fishing equipment", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "fishing equipment"}, "fishing platform": {"concepts": "fishing platform", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "fishing platform"}, "tourism": {"concepts": "tourism", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "tourism"}, "illegal fishing": {"concepts": "illegal fishing", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "illegal fishing"}, "fishing regulations": {"concepts": "fishing regulations", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "fishing regulations"}, "restaurant activity": {"concepts": "restaurant activity", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "restaurant activity"}, "tourism industry": {"concepts": "tourism industry", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "tourism industry"}, "tourism activity": {"concepts": "tourism activity", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "tourism activity"}, "bahia house resort": {"concepts": "bahia house resort", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "bahia house resort"}, "guayama dner office": {"concepts": "guayama dner office", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "guayama dner office"}, "livelihood": {"concepts": "livelihood", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "livelihood"}, "plastic nets": {"concepts": "plastic nets", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "plastic nets"}, "small boats": {"concepts": "small boats", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "small boats"}, "boats": {"concepts": "boats", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "boats"}, "department of agriculture": {"concepts": "department of agriculture", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "department of agriculture"}, "bay of guayama": {"concepts": "bay of guayama", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "bay of guayama"}, "water temperature": {"concepts": "water temperature", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "water temperature"}, "enforcers": {"concepts": "enforcers", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "enforcers"}, "livelihood dependency": {"concepts": "livelihood dependency", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "livelihood dependency"}, "licenses": {"concepts": "licenses", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "licenses"}, "guayama": {"concepts": "guayama", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "guayama"}, "water currents": {"concepts": "water currents", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "water currents"}, "fish restaurants": {"concepts": "fish restaurants", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "fish restaurants"}, "license": {"concepts": "license", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "license"}, "big companies": {"concepts": "big companies", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "big companies"}, "enforcement": {"concepts": "enforcement", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "enforcement"}, "ocean currents": {"concepts": "ocean currents", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "ocean currents"}, "comit\u00e9 multisectorial del gasoducto": {"concepts": "comit\u00e9 multisectorial del gasoducto", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "comit\u00e9 multisectorial del gasoducto"}, "el conquistador": {"concepts": "el conquistador", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "el conquistador"}, "pozuelo": {"concepts": "pozuelo", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "pozuelo"}, "puerto rico": {"concepts": "puerto rico", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "puerto rico"}, "fajardo": {"concepts": "fajardo", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "fajardo"}, "patilla": {"concepts": "patilla", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "patilla"}, "dner": {"concepts": "dner", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "dner"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "noaa"}, "dorados": {"concepts": "dorados", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "dorados"}, "sargassum": {"concepts": "sargassum", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "sargassum"}, "el ni\u00f1o": {"concepts": "el ni\u00f1o", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "el ni\u00f1o"}, "manaubo": {"concepts": "manaubo", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "manaubo"}, "pescader\u00edas": {"concepts": "pescader\u00edas", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "pescader\u00edas"}, "san juan": {"concepts": "san juan", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "san juan"}, "villa pesquera": {"concepts": "villa pesquera", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "villa pesquera"}, "arroyo": {"concepts": "arroyo", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "arroyo"}, "reef species": {"concepts": "reef species", "type": "concept", "cluster": "Coastal Ecosystems", "node_size": 10, "label": "reef species"}, "coastal communities": {"concepts": "coastal communities", "type": "concept", "cluster": "Coastal Ecosystems", "node_size": 10, "label": "coastal communities"}, "coral damage": {"concepts": "coral damage", "type": "concept", "cluster": "Coastal Ecosystems", "node_size": 10, "label": "coral damage"}, "mangrove": {"concepts": "mangrove", "type": "concept", "cluster": "Coastal Ecosystems", "node_size": 10, "label": "mangrove"}, "coral reefs": {"concepts": "coral reefs", "type": "concept", "cluster": "Coastal Ecosystems", "node_size": 10, "label": "coral reefs"}, "pollution": {"concepts": "pollution", "type": "concept", "cluster": "Coastal Ecosystems", "node_size": 10, "label": "pollution"}, "coastal pollution": {"concepts": "coastal pollution", "type": "concept", "cluster": "Coastal Ecosystems", "node_size": 10, "label": "coastal pollution"}, "coast": {"concepts": "coast", "type": "concept", "cluster": "Coastal Ecosystems", "node_size": 10, "label": "coast"}, "recreational fishermen": {"concepts": "recreational fishermen", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "recreational fishermen"}, "recreational fishers": {"concepts": "recreational fishers", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "recreational fishers"}, "fishers": {"concepts": "fishers", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishers"}, "fishermen": {"concepts": "fishermen", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishermen"}, "fishery managers": {"concepts": "fishery managers", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishery managers"}, "fishery management": {"concepts": "fishery management", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishery management"}, "fisher protests": {"concepts": "fisher protests", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fisher protests"}, "pr fisheries": {"concepts": "pr fisheries", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "pr fisheries"}, "commercial fisherman": {"concepts": "commercial fisherman", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "commercial fisherman"}, "commercial fisher": {"concepts": "commercial fisher", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "commercial fisher"}, "local fisheries": {"concepts": "local fisheries", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "local fisheries"}, "puerto rican fisheries": {"concepts": "puerto rican fisheries", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "puerto rican fisheries"}, "fishery manager": {"concepts": "fishery manager", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishery manager"}, "cooperative fishers": {"concepts": "cooperative fishers", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "cooperative fishers"}, "recreational fisherman": {"concepts": "recreational fisherman", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "recreational fisherman"}, "commercial fishermen": {"concepts": "commercial fishermen", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "commercial fishermen"}, "weather conditions": {"concepts": "weather conditions", "type": "concept", "cluster": "Weather Patterns", "node_size": 10, "label": "weather conditions"}, "weather": {"concepts": "weather", "type": "concept", "cluster": "Weather Patterns", "node_size": 10, "label": "weather"}, "bad weather": {"concepts": "bad weather", "type": "concept", "cluster": "Weather Patterns", "node_size": 10, "label": "bad weather"}, "summer months": {"concepts": "summer months", "type": "concept", "cluster": "Weather Patterns", "node_size": 10, "label": "summer months"}, "hurricanes": {"concepts": "hurricanes", "type": "concept", "cluster": "Weather Patterns", "node_size": 10, "label": "hurricanes"}, "seasonal": {"concepts": "seasonal", "type": "concept", "cluster": "Weather Patterns", "node_size": 10, "label": "seasonal"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Weather Patterns", "node_size": 10, "label": "climate change"}, "storms": {"concepts": "storms", "type": "concept", "cluster": "Weather Patterns", "node_size": 10, "label": "storms"}, "weather patterns": {"concepts": "weather patterns", "type": "concept", "cluster": "Weather Patterns", "node_size": 10, "label": "weather patterns"}};
        const interClusterEdges = [["Government and Politics", "Fishing and Tourism", {"weight": -1.0, "confidence": 0.76, "type": "inter_cluster", "style": "solid"}], ["Government and Politics", "Resource Management Conflicts", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Government and Politics", "Puerto Rico Locations", {"weight": -0.8, "confidence": 0.5900000000000001, "type": "inter_cluster", "style": "solid"}], ["Government and Politics", "Weather Patterns", {"weight": -0.8, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Government and Politics", "Community Collaboration", {"weight": -0.75, "confidence": 0.5625, "type": "inter_cluster", "style": "solid"}], ["Government and Politics", "Fish and Market", {"weight": -0.25, "confidence": 0.5249999999999999, "type": "inter_cluster", "style": "solid"}], ["Government and Politics", "Coastal Livelihoods", {"weight": -0.6666666666666666, "confidence": 0.48333333333333334, "type": "inter_cluster", "style": "solid"}], ["Community Collaboration", "Coastal Livelihoods", {"weight": -1.0, "confidence": 0.7300000000000001, "type": "inter_cluster", "style": "solid"}], ["Community Collaboration", "Resource Management Conflicts", {"weight": -0.5, "confidence": 0.7625, "type": "inter_cluster", "style": "solid"}], ["Community Collaboration", "Government and Politics", {"weight": -0.8, "confidence": 0.5800000000000001, "type": "inter_cluster", "style": "solid"}], ["Community Collaboration", "Coastal Ecosystems", {"weight": -1.0, "confidence": 0.7250000000000001, "type": "inter_cluster", "style": "solid"}], ["Community Collaboration", "Weather Patterns", {"weight": -0.8, "confidence": 0.5599999999999999, "type": "inter_cluster", "style": "solid"}], ["Community Collaboration", "Puerto Rico Locations", {"weight": -0.6, "confidence": 0.43, "type": "inter_cluster", "style": "solid"}], ["Fish and Market", "Community Collaboration", {"weight": -1.0, "confidence": 0.7300000000000001, "type": "inter_cluster", "style": "solid"}], ["Fish and Market", "Fishing and Tourism", {"weight": -1.0, "confidence": 0.6799999999999999, "type": "inter_cluster", "style": "solid"}], ["Fish and Market", "Fisheries Management", {"weight": 0.4, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Fish and Market", "Weather Patterns", {"weight": -0.4, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Fish and Market", "Coastal Livelihoods", {"weight": -0.6, "confidence": 0.41, "type": "inter_cluster", "style": "solid"}], ["Fishing and Tourism", "Coastal Ecosystems", {"weight": -0.8, "confidence": 0.64, "type": "inter_cluster", "style": "solid"}], ["Fishing and Tourism", "Resource Management Conflicts", {"weight": -0.8, "confidence": 0.62, "type": "inter_cluster", "style": "solid"}], ["Fishing and Tourism", "Coastal Livelihoods", {"weight": -0.8, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Fishing and Tourism", "Community Collaboration", {"weight": -0.8, "confidence": 0.58, "type": "inter_cluster", "style": "solid"}], ["Fishing and Tourism", "Fish and Market", {"weight": -0.8, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Fishing and Tourism", "Fisheries Management", {"weight": -0.75, "confidence": 0.5875, "type": "inter_cluster", "style": "solid"}], ["Fishing and Tourism", "Government and Politics", {"weight": -0.75, "confidence": 0.575, "type": "inter_cluster", "style": "solid"}], ["Resource Management Conflicts", "Fish and Market", {"weight": -0.6, "confidence": 0.7100000000000001, "type": "inter_cluster", "style": "solid"}], ["Resource Management Conflicts", "Fishing and Tourism", {"weight": -1.0, "confidence": 0.7875, "type": "inter_cluster", "style": "solid"}], ["Resource Management Conflicts", "Community Collaboration", {"weight": -0.8, "confidence": 0.5900000000000001, "type": "inter_cluster", "style": "solid"}], ["Resource Management Conflicts", "Weather Patterns", {"weight": -1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["Resource Management Conflicts", "Puerto Rico Locations", {"weight": -0.4, "confidence": 0.27999999999999997, "type": "inter_cluster", "style": "solid"}], ["Coastal Livelihoods", "Fishing and Tourism", {"weight": -1.0, "confidence": 0.74, "type": "inter_cluster", "style": "solid"}], ["Coastal Livelihoods", "Fisheries Management", {"weight": -0.4, "confidence": 0.61, "type": "inter_cluster", "style": "solid"}], ["Coastal Livelihoods", "Puerto Rico Locations", {"weight": -0.5, "confidence": 0.35, "type": "inter_cluster", "style": "solid"}], ["Puerto Rico Locations", "Fish and Market", {"weight": -0.6, "confidence": 0.41, "type": "inter_cluster", "style": "solid"}], ["Coastal Ecosystems", "Fishing and Tourism", {"weight": -1.0, "confidence": 0.7899999999999999, "type": "inter_cluster", "style": "solid"}], ["Coastal Ecosystems", "Government and Politics", {"weight": -0.6, "confidence": 0.77, "type": "inter_cluster", "style": "solid"}], ["Coastal Ecosystems", "Puerto Rico Locations", {"weight": -1.0, "confidence": 0.74, "type": "inter_cluster", "style": "solid"}], ["Coastal Ecosystems", "Resource Management Conflicts", {"weight": -0.3333333333333333, "confidence": 0.7666666666666666, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Government and Politics", {"weight": -0.6, "confidence": 0.74, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Community Collaboration", {"weight": -0.6, "confidence": 0.7300000000000001, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Resource Management Conflicts", {"weight": -0.5, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Fishing and Tourism", {"weight": -1.0, "confidence": 0.7749999999999999, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Coastal Ecosystems", {"weight": -0.8, "confidence": 0.6100000000000001, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Puerto Rico Locations", {"weight": -0.6, "confidence": 0.42000000000000004, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Coastal Livelihoods", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Weather Patterns", "Coastal Livelihoods", {"weight": -0.6, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Weather Patterns", "Puerto Rico Locations", {"weight": -0.6, "confidence": 0.74, "type": "inter_cluster", "style": "solid"}], ["Weather Patterns", "Fish and Market", {"weight": -0.6, "confidence": 0.6900000000000001, "type": "inter_cluster", "style": "solid"}], ["Weather Patterns", "Fishing and Tourism", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Weather Patterns", "Community Collaboration", {"weight": -1.0, "confidence": 0.7125, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Government and Politics": [["waiters", {"concepts": "waiters", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "waiters"}], ["relationship", {"concepts": "relationship", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "relationship"}], ["pr", {"concepts": "pr", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "pr"}], ["conch", {"concepts": "conch", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "conch"}], ["assistance", {"concepts": "assistance", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "assistance"}], ["conch regulations", {"concepts": "conch regulations", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "conch regulations"}], ["inequality", {"concepts": "inequality", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "inequality"}], ["heart disease", {"concepts": "heart disease", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "heart disease"}], ["key informant interview", {"concepts": "key informant interview", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "key informant interview"}], ["fund", {"concepts": "fund", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "fund"}], ["proposals", {"concepts": "proposals", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "proposals"}], ["cancer", {"concepts": "cancer", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "cancer"}], ["fishing", {"concepts": "fishing", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "fishing"}], ["maintenance costs", {"concepts": "maintenance costs", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "maintenance costs"}], ["jet ski competition", {"concepts": "jet ski competition", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "jet ski competition"}], ["construction", {"concepts": "construction", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "construction"}], ["catch", {"concepts": "catch", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "catch"}], ["resolution", {"concepts": "resolution", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "resolution"}], ["statistics", {"concepts": "statistics", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "statistics"}], ["bartenders", {"concepts": "bartenders", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "bartenders"}], ["washington", {"concepts": "washington", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "washington"}], ["electricity", {"concepts": "electricity", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "electricity"}], ["conflict resolution", {"concepts": "conflict resolution", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "conflict resolution"}], ["net ban", {"concepts": "net ban", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "net ban"}], ["farmers", {"concepts": "farmers", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "farmers"}], ["organizing", {"concepts": "organizing", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "organizing"}], ["decisions", {"concepts": "decisions", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "decisions"}], ["mayor", {"concepts": "mayor", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "mayor"}], ["facilities", {"concepts": "facilities", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "facilities"}], ["overfishing", {"concepts": "overfishing", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "overfishing"}], ["octopus", {"concepts": "octopus", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "octopus"}], ["pr culture", {"concepts": "pr culture", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "pr culture"}], ["equipment aid", {"concepts": "equipment aid", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "equipment aid"}], ["rules", {"concepts": "rules", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "rules"}], ["shark", {"concepts": "shark", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "shark"}], ["court", {"concepts": "court", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "court"}], ["parking lot", {"concepts": "parking lot", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "parking lot"}], ["pipeline", {"concepts": "pipeline", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "pipeline"}], ["poor", {"concepts": "poor", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "poor"}], ["decision-making", {"concepts": "decision-making", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "decision-making"}], ["resources", {"concepts": "resources", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "resources"}], ["decision-makers", {"concepts": "decision-makers", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "decision-makers"}], ["athletes", {"concepts": "athletes", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "athletes"}], ["lack of enforcement", {"concepts": "lack of enforcement", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "lack of enforcement"}], ["commercial license", {"concepts": "commercial license", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "commercial license"}], ["researchers", {"concepts": "researchers", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "researchers"}], ["decision making", {"concepts": "decision making", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "decision making"}], ["locker rooms", {"concepts": "locker rooms", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "locker rooms"}], ["coop", {"concepts": "coop", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "coop"}], ["resource management", {"concepts": "resource management", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "resource management"}], ["permits", {"concepts": "permits", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "permits"}], ["causes for conflict", {"concepts": "causes for conflict", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "causes for conflict"}], ["personnel shortage", {"concepts": "personnel shortage", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "personnel shortage"}], ["sub-secret\u00e1rio", {"concepts": "sub-secret\u00e1rio", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "sub-secret\u00e1rio"}], ["lei 278", {"concepts": "lei 278", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "lei 278"}], ["health", {"concepts": "health", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "health"}], ["envy", {"concepts": "envy", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "envy"}], ["conflicts", {"concepts": "conflicts", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "conflicts"}], ["votes", {"concepts": "votes", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "votes"}], ["jet skis", {"concepts": "jet skis", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "jet skis"}], ["power", {"concepts": "power", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "power"}], ["pier", {"concepts": "pier", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "pier"}], ["hope", {"concepts": "hope", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "hope"}], ["red snapper", {"concepts": "red snapper", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "red snapper"}], ["regulations", {"concepts": "regulations", "type": "concept", "cluster": "Government and Politics", "node_size": 10, "label": "regulations"}]], "Community Collaboration": [["lobster season", {"concepts": "lobster season", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "lobster season"}], ["municipalities", {"concepts": "municipalities", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "municipalities"}], ["government investment", {"concepts": "government investment", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "government investment"}], ["government positions", {"concepts": "government positions", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "government positions"}], ["lobsters", {"concepts": "lobsters", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "lobsters"}], ["government officials", {"concepts": "government officials", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "government officials"}], ["government", {"concepts": "government", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "government"}], ["lobster", {"concepts": "lobster", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "lobster"}], ["country", {"concepts": "country", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "country"}], ["federal money", {"concepts": "federal money", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "federal money"}], ["protest", {"concepts": "protest", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "protest"}], ["subsidies", {"concepts": "subsidies", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "subsidies"}], ["political parties", {"concepts": "political parties", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "political parties"}], ["political division", {"concepts": "political division", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "political division"}], ["federal funding", {"concepts": "federal funding", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "federal funding"}], ["politics", {"concepts": "politics", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "politics"}], ["racism", {"concepts": "racism", "type": "concept", "cluster": "Community Collaboration", "node_size": 10, "label": "racism"}]], "Fish and Market": [["communication", {"concepts": "communication", "type": "concept", "cluster": "Fish and Market", "node_size": 10, "label": "communication"}], ["community problems", {"concepts": "community problems", "type": "concept", "cluster": "Fish and Market", "node_size": 10, "label": "community problems"}], ["community action", {"concepts": "community action", "type": "concept", "cluster": "Fish and Market", "node_size": 10, "label": "community action"}], ["participatory action", {"concepts": "participatory action", "type": "concept", "cluster": "Fish and Market", "node_size": 10, "label": "participatory action"}], ["grouper", {"concepts": "grouper", "type": "concept", "cluster": "Fish and Market", "node_size": 10, "label": "grouper"}], ["community cooperation", {"concepts": "community cooperation", "type": "concept", "cluster": "Fish and Market", "node_size": 10, "label": "community cooperation"}], ["media", {"concepts": "media", "type": "concept", "cluster": "Fish and Market", "node_size": 10, "label": "media"}], ["collaboration", {"concepts": "collaboration", "type": "concept", "cluster": "Fish and Market", "node_size": 10, "label": "collaboration"}], ["community division", {"concepts": "community division", "type": "concept", "cluster": "Fish and Market", "node_size": 10, "label": "community division"}], ["meetings", {"concepts": "meetings", "type": "concept", "cluster": "Fish and Market", "node_size": 10, "label": "meetings"}]], "Fishing and Tourism": [["fish behavior", {"concepts": "fish behavior", "type": "concept", "cluster": "Fishing and Tourism", "node_size": 10, "label": "fish behavior"}], ["fish stocks", {"concepts": "fish stocks", "type": "concept", "cluster": "Fishing and Tourism", "node_size": 10, "label": "fish stocks"}], ["fish market", {"concepts": "fish market", "type": "concept", "cluster": "Fishing and Tourism", "node_size": 10, "label": "fish market"}], ["fish import", {"concepts": "fish import", "type": "concept", "cluster": "Fishing and Tourism", "node_size": 10, "label": "fish import"}], ["algae growth", {"concepts": "algae growth", "type": "concept", "cluster": "Fishing and Tourism", "node_size": 10, "label": "algae growth"}], ["fish to eat", {"concepts": "fish to eat", "type": "concept", "cluster": "Fishing and Tourism", "node_size": 10, "label": "fish to eat"}]], "Resource Management Conflicts": [["artisanal fishing", {"concepts": "artisanal fishing", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "artisanal fishing"}], ["tourism dependency", {"concepts": "tourism dependency", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "tourism dependency"}], ["fishing license", {"concepts": "fishing license", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "fishing license"}], ["recreational licenses", {"concepts": "recreational licenses", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "recreational licenses"}], ["commercial fishing license", {"concepts": "commercial fishing license", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "commercial fishing license"}], ["fishing equipment", {"concepts": "fishing equipment", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "fishing equipment"}], ["fishing platform", {"concepts": "fishing platform", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "fishing platform"}], ["tourism", {"concepts": "tourism", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "tourism"}], ["illegal fishing", {"concepts": "illegal fishing", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "illegal fishing"}], ["fishing regulations", {"concepts": "fishing regulations", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "fishing regulations"}], ["restaurant activity", {"concepts": "restaurant activity", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "restaurant activity"}], ["tourism industry", {"concepts": "tourism industry", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "tourism industry"}], ["tourism activity", {"concepts": "tourism activity", "type": "concept", "cluster": "Resource Management Conflicts", "node_size": 10, "label": "tourism activity"}]], "Coastal Livelihoods": [["bahia house resort", {"concepts": "bahia house resort", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "bahia house resort"}], ["guayama dner office", {"concepts": "guayama dner office", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "guayama dner office"}], ["livelihood", {"concepts": "livelihood", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "livelihood"}], ["plastic nets", {"concepts": "plastic nets", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "plastic nets"}], ["small boats", {"concepts": "small boats", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "small boats"}], ["boats", {"concepts": "boats", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "boats"}], ["department of agriculture", {"concepts": "department of agriculture", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "department of agriculture"}], ["bay of guayama", {"concepts": "bay of guayama", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "bay of guayama"}], ["water temperature", {"concepts": "water temperature", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "water temperature"}], ["enforcers", {"concepts": "enforcers", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "enforcers"}], ["livelihood dependency", {"concepts": "livelihood dependency", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "livelihood dependency"}], ["licenses", {"concepts": "licenses", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "licenses"}], ["guayama", {"concepts": "guayama", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "guayama"}], ["water currents", {"concepts": "water currents", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "water currents"}], ["fish restaurants", {"concepts": "fish restaurants", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "fish restaurants"}], ["license", {"concepts": "license", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "license"}], ["big companies", {"concepts": "big companies", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "big companies"}], ["enforcement", {"concepts": "enforcement", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "enforcement"}], ["ocean currents", {"concepts": "ocean currents", "type": "concept", "cluster": "Coastal Livelihoods", "node_size": 10, "label": "ocean currents"}]], "Puerto Rico Locations": [["comit\u00e9 multisectorial del gasoducto", {"concepts": "comit\u00e9 multisectorial del gasoducto", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "comit\u00e9 multisectorial del gasoducto"}], ["el conquistador", {"concepts": "el conquistador", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "el conquistador"}], ["pozuelo", {"concepts": "pozuelo", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "pozuelo"}], ["puerto rico", {"concepts": "puerto rico", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "puerto rico"}], ["fajardo", {"concepts": "fajardo", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "fajardo"}], ["patilla", {"concepts": "patilla", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "patilla"}], ["dner", {"concepts": "dner", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "dner"}], ["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "noaa"}], ["dorados", {"concepts": "dorados", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "dorados"}], ["sargassum", {"concepts": "sargassum", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "sargassum"}], ["el ni\u00f1o", {"concepts": "el ni\u00f1o", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "el ni\u00f1o"}], ["manaubo", {"concepts": "manaubo", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "manaubo"}], ["pescader\u00edas", {"concepts": "pescader\u00edas", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "pescader\u00edas"}], ["san juan", {"concepts": "san juan", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "san juan"}], ["villa pesquera", {"concepts": "villa pesquera", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "villa pesquera"}], ["arroyo", {"concepts": "arroyo", "type": "concept", "cluster": "Puerto Rico Locations", "node_size": 10, "label": "arroyo"}]], "Coastal Ecosystems": [["reef species", {"concepts": "reef species", "type": "concept", "cluster": "Coastal Ecosystems", "node_size": 10, "label": "reef species"}], ["coastal communities", {"concepts": "coastal communities", "type": "concept", "cluster": "Coastal Ecosystems", "node_size": 10, "label": "coastal communities"}], ["coral damage", {"concepts": "coral damage", "type": "concept", "cluster": "Coastal Ecosystems", "node_size": 10, "label": "coral damage"}], ["mangrove", {"concepts": "mangrove", "type": "concept", "cluster": "Coastal Ecosystems", "node_size": 10, "label": "mangrove"}], ["coral reefs", {"concepts": "coral reefs", "type": "concept", "cluster": "Coastal Ecosystems", "node_size": 10, "label": "coral reefs"}], ["pollution", {"concepts": "pollution", "type": "concept", "cluster": "Coastal Ecosystems", "node_size": 10, "label": "pollution"}], ["coastal pollution", {"concepts": "coastal pollution", "type": "concept", "cluster": "Coastal Ecosystems", "node_size": 10, "label": "coastal pollution"}], ["coast", {"concepts": "coast", "type": "concept", "cluster": "Coastal Ecosystems", "node_size": 10, "label": "coast"}]], "Fisheries Management": [["recreational fishermen", {"concepts": "recreational fishermen", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "recreational fishermen"}], ["recreational fishers", {"concepts": "recreational fishers", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "recreational fishers"}], ["fishers", {"concepts": "fishers", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishers"}], ["fishermen", {"concepts": "fishermen", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishermen"}], ["fishery managers", {"concepts": "fishery managers", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishery managers"}], ["fishery management", {"concepts": "fishery management", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishery management"}], ["fisher protests", {"concepts": "fisher protests", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fisher protests"}], ["pr fisheries", {"concepts": "pr fisheries", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "pr fisheries"}], ["commercial fisherman", {"concepts": "commercial fisherman", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "commercial fisherman"}], ["commercial fisher", {"concepts": "commercial fisher", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "commercial fisher"}], ["local fisheries", {"concepts": "local fisheries", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "local fisheries"}], ["puerto rican fisheries", {"concepts": "puerto rican fisheries", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "puerto rican fisheries"}], ["fishery manager", {"concepts": "fishery manager", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishery manager"}], ["cooperative fishers", {"concepts": "cooperative fishers", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "cooperative fishers"}], ["recreational fisherman", {"concepts": "recreational fisherman", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "recreational fisherman"}], ["commercial fishermen", {"concepts": "commercial fishermen", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "commercial fishermen"}]], "Weather Patterns": [["weather conditions", {"concepts": "weather conditions", "type": "concept", "cluster": "Weather Patterns", "node_size": 10, "label": "weather conditions"}], ["weather", {"concepts": "weather", "type": "concept", "cluster": "Weather Patterns", "node_size": 10, "label": "weather"}], ["bad weather", {"concepts": "bad weather", "type": "concept", "cluster": "Weather Patterns", "node_size": 10, "label": "bad weather"}], ["summer months", {"concepts": "summer months", "type": "concept", "cluster": "Weather Patterns", "node_size": 10, "label": "summer months"}], ["hurricanes", {"concepts": "hurricanes", "type": "concept", "cluster": "Weather Patterns", "node_size": 10, "label": "hurricanes"}], ["seasonal", {"concepts": "seasonal", "type": "concept", "cluster": "Weather Patterns", "node_size": 10, "label": "seasonal"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Weather Patterns", "node_size": 10, "label": "climate change"}], ["storms", {"concepts": "storms", "type": "concept", "cluster": "Weather Patterns", "node_size": 10, "label": "storms"}], ["weather patterns", {"concepts": "weather patterns", "type": "concept", "cluster": "Weather Patterns", "node_size": 10, "label": "weather patterns"}]]};
        const clusterEdges = {"Government and Politics": [], "Community Collaboration": [], "Fish and Market": [], "Fishing and Tourism": [], "Resource Management Conflicts": [], "Coastal Livelihoods": [], "Puerto Rico Locations": [], "Coastal Ecosystems": [], "Fisheries Management": [], "Weather Patterns": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
