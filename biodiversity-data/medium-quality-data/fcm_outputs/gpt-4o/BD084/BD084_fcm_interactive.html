
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Management Collaboration": {"concepts": "hatcheries, hatchery fish release, hatchery salmon, hatchery releases, hatchery production, hatchery fish, aquaculture", "concept_list": ["hatcheries", "hatchery fish release", "hatchery salmon", "hatchery releases", "hatchery production", "hatchery fish", "aquaculture"], "type": "cluster", "node_size": 36, "label": "Management Collaboration"}, "Ecosystem Dynamics": {"concepts": "stakeholder groups, science group, resource management, portfolio effects, individual meetings, community members, charismatic megafauna, collaborative discussion, return timing, collaborative model, state managers, management approaches, federal managers, managers, collaborative tool, tribal managers, management strategy evaluations, management trade-offs, trade-offs, management group, portfolio effect", "concept_list": ["stakeholder groups", "science group", "resource management", "portfolio effects", "individual meetings", "community members", "charismatic megafauna", "collaborative discussion", "return timing", "collaborative model", "state managers", "management approaches", "federal managers", "managers", "collaborative tool", "tribal managers", "management strategy evaluations", "management trade-offs", "trade-offs", "management group", "portfolio effect"], "type": "cluster", "node_size": 78, "label": "Ecosystem Dynamics"}, "Qualitative Resilience": {"concepts": "natural system, natural origin, semi quantitative, buffering, phil levin, summer run, conservation, simulations, unintended consequences, academics, relationships, scenario analysis, spring run, simulate scenarios, gulf of mexico, recovery, noaa, access, noah, population, genetic diversity, measure, life cycle modeling, diversity, orcas, tribes, web dynamics, mse, chesapeake bay, biodiversity, upwelling, system dynamics, white house, relative weights, human dimensions, escapement goals, competition, dive shop, life history, integrated population models, age diversity, case studies, variability", "concept_list": ["natural system", "natural origin", "semi quantitative", "buffering", "phil levin", "summer run", "conservation", "simulations", "unintended consequences", "academics", "relationships", "scenario analysis", "spring run", "simulate scenarios", "gulf of mexico", "recovery", "noaa", "access", "noah", "population", "genetic diversity", "measure", "life cycle modeling", "diversity", "orcas", "tribes", "web dynamics", "mse", "chesapeake bay", "biodiversity", "upwelling", "system dynamics", "white house", "relative weights", "human dimensions", "escapement goals", "competition", "dive shop", "life history", "integrated population models", "age diversity", "case studies", "variability"], "type": "cluster", "node_size": 144, "label": "Qualitative Resilience"}, "Salmon Ecology": {"concepts": "qualitative perspective, resilience, perspectives, holistic approach, operationalize, conceptualize, scoping, perspective, stressors, interviews, cultural impact", "concept_list": ["qualitative perspective", "resilience", "perspectives", "holistic approach", "operationalize", "conceptualize", "scoping", "perspective", "stressors", "interviews", "cultural impact"], "type": "cluster", "node_size": 48, "label": "Salmon Ecology"}, "Hatchery Operations": {"concepts": "chinook salmon, salmon, wild salmon, salmon predators, nutrient enhancement, salmon nutrients, pink salmon", "concept_list": ["chinook salmon", "salmon", "wild salmon", "salmon predators", "nutrient enhancement", "salmon nutrients", "pink salmon"], "type": "cluster", "node_size": 36, "label": "Hatchery Operations"}, "Stream Ecology": {"concepts": "stream ecology, conservation concern, habitat restoration, habitat forming, environmental variables, keystone species, habitat forming species, key food web supporting species, habitat, conservation organizations, ecosystem services, stream bed structure, key food web", "concept_list": ["stream ecology", "conservation concern", "habitat restoration", "habitat forming", "environmental variables", "keystone species", "habitat forming species", "key food web supporting species", "habitat", "conservation organizations", "ecosystem services", "stream bed structure", "key food web"], "type": "cluster", "node_size": 54, "label": "Stream Ecology"}, "Marine Conservation": {"concepts": "marine mammal protection act, coastal, marine, endangered species act, stakeholders, marine resource management, humpbacks, puget sound stocks, puget sound, naturalist, stillaguamish river, climate change, weak stock management, food web interactions, winter run, ngo practitioners, ecotourism operators, oyster farmers, alaska fish, waterfront homeowners, mental model", "concept_list": ["marine mammal protection act", "coastal", "marine", "endangered species act", "stakeholders", "marine resource management", "humpbacks", "puget sound stocks", "puget sound", "naturalist", "stillaguamish river", "climate change", "weak stock management", "food web interactions", "winter run", "ngo practitioners", "ecotourism operators", "oyster farmers", "alaska fish", "waterfront homeowners", "mental model"], "type": "cluster", "node_size": 78, "label": "Marine Conservation"}, "Ocean Conditions": {"concepts": "sea surface temperature, adult abundance, marine predators, zooplankton, natural urban fish, freshwater ecosystems, marine survival, ocean conditions, large scale ocean conditions, marine resource users, coastal stocks, marine environment, freshwater", "concept_list": ["sea surface temperature", "adult abundance", "marine predators", "zooplankton", "natural urban fish", "freshwater ecosystems", "marine survival", "ocean conditions", "large scale ocean conditions", "marine resource users", "coastal stocks", "marine environment", "freshwater"], "type": "cluster", "node_size": 54, "label": "Ocean Conditions"}, "Wild Fish": {"concepts": "wild fish, older fish, harmful organisms, bigger fish, wild fish conservancy, natural origin fish", "concept_list": ["wild fish", "older fish", "harmful organisms", "bigger fish", "wild fish conservancy", "natural origin fish"], "type": "cluster", "node_size": 33, "label": "Wild Fish"}, "Marine Mammals": {"concepts": "sea lions, northern resident killer whales, killer whales, harbor seals, humpback whales, whale watching", "concept_list": ["sea lions", "northern resident killer whales", "killer whales", "harbor seals", "humpback whales", "whale watching"], "type": "cluster", "node_size": 33, "label": "Marine Mammals"}, "North American Fisheries": {"concepts": "canadian fisheries, alaskan fisheries", "concept_list": ["canadian fisheries", "alaskan fisheries"], "type": "cluster", "node_size": 21, "label": "North American Fisheries"}, "Fishing Sector": {"concepts": "fishermen, fishing industry", "concept_list": ["fishermen", "fishing industry"], "type": "cluster", "node_size": 21, "label": "Fishing Sector"}, "Fisheries Regulation": {"concepts": "fisheries management, harvest control rules", "concept_list": ["fisheries management", "harvest control rules"], "type": "cluster", "node_size": 21, "label": "Fisheries Regulation"}};
        const conceptData = {"hatcheries": {"concepts": "hatcheries", "type": "concept", "cluster": "Management Collaboration", "node_size": 10, "label": "hatcheries"}, "hatchery fish release": {"concepts": "hatchery fish release", "type": "concept", "cluster": "Management Collaboration", "node_size": 10, "label": "hatchery fish release"}, "hatchery salmon": {"concepts": "hatchery salmon", "type": "concept", "cluster": "Management Collaboration", "node_size": 10, "label": "hatchery salmon"}, "hatchery releases": {"concepts": "hatchery releases", "type": "concept", "cluster": "Management Collaboration", "node_size": 10, "label": "hatchery releases"}, "hatchery production": {"concepts": "hatchery production", "type": "concept", "cluster": "Management Collaboration", "node_size": 10, "label": "hatchery production"}, "hatchery fish": {"concepts": "hatchery fish", "type": "concept", "cluster": "Management Collaboration", "node_size": 10, "label": "hatchery fish"}, "aquaculture": {"concepts": "aquaculture", "type": "concept", "cluster": "Management Collaboration", "node_size": 10, "label": "aquaculture"}, "stakeholder groups": {"concepts": "stakeholder groups", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "stakeholder groups"}, "science group": {"concepts": "science group", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "science group"}, "resource management": {"concepts": "resource management", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "resource management"}, "portfolio effects": {"concepts": "portfolio effects", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "portfolio effects"}, "individual meetings": {"concepts": "individual meetings", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "individual meetings"}, "community members": {"concepts": "community members", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "community members"}, "charismatic megafauna": {"concepts": "charismatic megafauna", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "charismatic megafauna"}, "collaborative discussion": {"concepts": "collaborative discussion", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "collaborative discussion"}, "return timing": {"concepts": "return timing", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "return timing"}, "collaborative model": {"concepts": "collaborative model", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "collaborative model"}, "state managers": {"concepts": "state managers", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "state managers"}, "management approaches": {"concepts": "management approaches", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "management approaches"}, "federal managers": {"concepts": "federal managers", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "federal managers"}, "managers": {"concepts": "managers", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "managers"}, "collaborative tool": {"concepts": "collaborative tool", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "collaborative tool"}, "tribal managers": {"concepts": "tribal managers", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "tribal managers"}, "management strategy evaluations": {"concepts": "management strategy evaluations", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "management strategy evaluations"}, "management trade-offs": {"concepts": "management trade-offs", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "management trade-offs"}, "trade-offs": {"concepts": "trade-offs", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "trade-offs"}, "management group": {"concepts": "management group", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "management group"}, "portfolio effect": {"concepts": "portfolio effect", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "portfolio effect"}, "natural system": {"concepts": "natural system", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "natural system"}, "natural origin": {"concepts": "natural origin", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "natural origin"}, "semi quantitative": {"concepts": "semi quantitative", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "semi quantitative"}, "buffering": {"concepts": "buffering", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "buffering"}, "phil levin": {"concepts": "phil levin", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "phil levin"}, "summer run": {"concepts": "summer run", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "summer run"}, "conservation": {"concepts": "conservation", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "conservation"}, "simulations": {"concepts": "simulations", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "simulations"}, "unintended consequences": {"concepts": "unintended consequences", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "unintended consequences"}, "academics": {"concepts": "academics", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "academics"}, "relationships": {"concepts": "relationships", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "relationships"}, "scenario analysis": {"concepts": "scenario analysis", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "scenario analysis"}, "spring run": {"concepts": "spring run", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "spring run"}, "simulate scenarios": {"concepts": "simulate scenarios", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "simulate scenarios"}, "gulf of mexico": {"concepts": "gulf of mexico", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "gulf of mexico"}, "recovery": {"concepts": "recovery", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "recovery"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "noaa"}, "access": {"concepts": "access", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "access"}, "noah": {"concepts": "noah", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "noah"}, "population": {"concepts": "population", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "population"}, "genetic diversity": {"concepts": "genetic diversity", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "genetic diversity"}, "measure": {"concepts": "measure", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "measure"}, "life cycle modeling": {"concepts": "life cycle modeling", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "life cycle modeling"}, "diversity": {"concepts": "diversity", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "diversity"}, "orcas": {"concepts": "orcas", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "orcas"}, "tribes": {"concepts": "tribes", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "tribes"}, "web dynamics": {"concepts": "web dynamics", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "web dynamics"}, "mse": {"concepts": "mse", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "mse"}, "chesapeake bay": {"concepts": "chesapeake bay", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "chesapeake bay"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "biodiversity"}, "upwelling": {"concepts": "upwelling", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "upwelling"}, "system dynamics": {"concepts": "system dynamics", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "system dynamics"}, "white house": {"concepts": "white house", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "white house"}, "relative weights": {"concepts": "relative weights", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "relative weights"}, "human dimensions": {"concepts": "human dimensions", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "human dimensions"}, "escapement goals": {"concepts": "escapement goals", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "escapement goals"}, "competition": {"concepts": "competition", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "competition"}, "dive shop": {"concepts": "dive shop", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "dive shop"}, "life history": {"concepts": "life history", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "life history"}, "integrated population models": {"concepts": "integrated population models", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "integrated population models"}, "age diversity": {"concepts": "age diversity", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "age diversity"}, "case studies": {"concepts": "case studies", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "case studies"}, "variability": {"concepts": "variability", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "variability"}, "qualitative perspective": {"concepts": "qualitative perspective", "type": "concept", "cluster": "Salmon Ecology", "node_size": 10, "label": "qualitative perspective"}, "resilience": {"concepts": "resilience", "type": "concept", "cluster": "Salmon Ecology", "node_size": 10, "label": "resilience"}, "perspectives": {"concepts": "perspectives", "type": "concept", "cluster": "Salmon Ecology", "node_size": 10, "label": "perspectives"}, "holistic approach": {"concepts": "holistic approach", "type": "concept", "cluster": "Salmon Ecology", "node_size": 10, "label": "holistic approach"}, "operationalize": {"concepts": "operationalize", "type": "concept", "cluster": "Salmon Ecology", "node_size": 10, "label": "operationalize"}, "conceptualize": {"concepts": "conceptualize", "type": "concept", "cluster": "Salmon Ecology", "node_size": 10, "label": "conceptualize"}, "scoping": {"concepts": "scoping", "type": "concept", "cluster": "Salmon Ecology", "node_size": 10, "label": "scoping"}, "perspective": {"concepts": "perspective", "type": "concept", "cluster": "Salmon Ecology", "node_size": 10, "label": "perspective"}, "stressors": {"concepts": "stressors", "type": "concept", "cluster": "Salmon Ecology", "node_size": 10, "label": "stressors"}, "interviews": {"concepts": "interviews", "type": "concept", "cluster": "Salmon Ecology", "node_size": 10, "label": "interviews"}, "cultural impact": {"concepts": "cultural impact", "type": "concept", "cluster": "Salmon Ecology", "node_size": 10, "label": "cultural impact"}, "chinook salmon": {"concepts": "chinook salmon", "type": "concept", "cluster": "Hatchery Operations", "node_size": 10, "label": "chinook salmon"}, "salmon": {"concepts": "salmon", "type": "concept", "cluster": "Hatchery Operations", "node_size": 10, "label": "salmon"}, "wild salmon": {"concepts": "wild salmon", "type": "concept", "cluster": "Hatchery Operations", "node_size": 10, "label": "wild salmon"}, "salmon predators": {"concepts": "salmon predators", "type": "concept", "cluster": "Hatchery Operations", "node_size": 10, "label": "salmon predators"}, "nutrient enhancement": {"concepts": "nutrient enhancement", "type": "concept", "cluster": "Hatchery Operations", "node_size": 10, "label": "nutrient enhancement"}, "salmon nutrients": {"concepts": "salmon nutrients", "type": "concept", "cluster": "Hatchery Operations", "node_size": 10, "label": "salmon nutrients"}, "pink salmon": {"concepts": "pink salmon", "type": "concept", "cluster": "Hatchery Operations", "node_size": 10, "label": "pink salmon"}, "stream ecology": {"concepts": "stream ecology", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "stream ecology"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "conservation concern"}, "habitat restoration": {"concepts": "habitat restoration", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "habitat restoration"}, "habitat forming": {"concepts": "habitat forming", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "habitat forming"}, "environmental variables": {"concepts": "environmental variables", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "environmental variables"}, "keystone species": {"concepts": "keystone species", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "keystone species"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "habitat forming species"}, "key food web supporting species": {"concepts": "key food web supporting species", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "key food web supporting species"}, "habitat": {"concepts": "habitat", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "habitat"}, "conservation organizations": {"concepts": "conservation organizations", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "conservation organizations"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "ecosystem services"}, "stream bed structure": {"concepts": "stream bed structure", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "stream bed structure"}, "key food web": {"concepts": "key food web", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "key food web"}, "marine mammal protection act": {"concepts": "marine mammal protection act", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "marine mammal protection act"}, "coastal": {"concepts": "coastal", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "coastal"}, "marine": {"concepts": "marine", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "marine"}, "endangered species act": {"concepts": "endangered species act", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "endangered species act"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "stakeholders"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "marine resource management"}, "humpbacks": {"concepts": "humpbacks", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "humpbacks"}, "puget sound stocks": {"concepts": "puget sound stocks", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "puget sound stocks"}, "puget sound": {"concepts": "puget sound", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "puget sound"}, "naturalist": {"concepts": "naturalist", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "naturalist"}, "stillaguamish river": {"concepts": "stillaguamish river", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "stillaguamish river"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "climate change"}, "weak stock management": {"concepts": "weak stock management", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "weak stock management"}, "food web interactions": {"concepts": "food web interactions", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "food web interactions"}, "winter run": {"concepts": "winter run", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "winter run"}, "ngo practitioners": {"concepts": "ngo practitioners", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "ngo practitioners"}, "ecotourism operators": {"concepts": "ecotourism operators", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "ecotourism operators"}, "oyster farmers": {"concepts": "oyster farmers", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "oyster farmers"}, "alaska fish": {"concepts": "alaska fish", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "alaska fish"}, "waterfront homeowners": {"concepts": "waterfront homeowners", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "waterfront homeowners"}, "mental model": {"concepts": "mental model", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "mental model"}, "sea surface temperature": {"concepts": "sea surface temperature", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "sea surface temperature"}, "adult abundance": {"concepts": "adult abundance", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "adult abundance"}, "marine predators": {"concepts": "marine predators", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "marine predators"}, "zooplankton": {"concepts": "zooplankton", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "zooplankton"}, "natural urban fish": {"concepts": "natural urban fish", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "natural urban fish"}, "freshwater ecosystems": {"concepts": "freshwater ecosystems", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "freshwater ecosystems"}, "marine survival": {"concepts": "marine survival", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "marine survival"}, "ocean conditions": {"concepts": "ocean conditions", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "ocean conditions"}, "large scale ocean conditions": {"concepts": "large scale ocean conditions", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "large scale ocean conditions"}, "marine resource users": {"concepts": "marine resource users", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "marine resource users"}, "coastal stocks": {"concepts": "coastal stocks", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "coastal stocks"}, "marine environment": {"concepts": "marine environment", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "marine environment"}, "freshwater": {"concepts": "freshwater", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "freshwater"}, "wild fish": {"concepts": "wild fish", "type": "concept", "cluster": "Wild Fish", "node_size": 10, "label": "wild fish"}, "older fish": {"concepts": "older fish", "type": "concept", "cluster": "Wild Fish", "node_size": 10, "label": "older fish"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Wild Fish", "node_size": 10, "label": "harmful organisms"}, "bigger fish": {"concepts": "bigger fish", "type": "concept", "cluster": "Wild Fish", "node_size": 10, "label": "bigger fish"}, "wild fish conservancy": {"concepts": "wild fish conservancy", "type": "concept", "cluster": "Wild Fish", "node_size": 10, "label": "wild fish conservancy"}, "natural origin fish": {"concepts": "natural origin fish", "type": "concept", "cluster": "Wild Fish", "node_size": 10, "label": "natural origin fish"}, "sea lions": {"concepts": "sea lions", "type": "concept", "cluster": "Marine Mammals", "node_size": 10, "label": "sea lions"}, "northern resident killer whales": {"concepts": "northern resident killer whales", "type": "concept", "cluster": "Marine Mammals", "node_size": 10, "label": "northern resident killer whales"}, "killer whales": {"concepts": "killer whales", "type": "concept", "cluster": "Marine Mammals", "node_size": 10, "label": "killer whales"}, "harbor seals": {"concepts": "harbor seals", "type": "concept", "cluster": "Marine Mammals", "node_size": 10, "label": "harbor seals"}, "humpback whales": {"concepts": "humpback whales", "type": "concept", "cluster": "Marine Mammals", "node_size": 10, "label": "humpback whales"}, "whale watching": {"concepts": "whale watching", "type": "concept", "cluster": "Marine Mammals", "node_size": 10, "label": "whale watching"}, "canadian fisheries": {"concepts": "canadian fisheries", "type": "concept", "cluster": "North American Fisheries", "node_size": 10, "label": "canadian fisheries"}, "alaskan fisheries": {"concepts": "alaskan fisheries", "type": "concept", "cluster": "North American Fisheries", "node_size": 10, "label": "alaskan fisheries"}, "fishermen": {"concepts": "fishermen", "type": "concept", "cluster": "Fishing Sector", "node_size": 10, "label": "fishermen"}, "fishing industry": {"concepts": "fishing industry", "type": "concept", "cluster": "Fishing Sector", "node_size": 10, "label": "fishing industry"}, "fisheries management": {"concepts": "fisheries management", "type": "concept", "cluster": "Fisheries Regulation", "node_size": 10, "label": "fisheries management"}, "harvest control rules": {"concepts": "harvest control rules", "type": "concept", "cluster": "Fisheries Regulation", "node_size": 10, "label": "harvest control rules"}};
        const interClusterEdges = [["Management Collaboration", "Wild Fish", {"weight": -0.6, "confidence": 0.7899999999999999, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Dynamics", "Stream Ecology", {"weight": 0.6, "confidence": 0.44000000000000006, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Dynamics", "Marine Conservation", {"weight": 0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Dynamics", "Fisheries Regulation", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Dynamics", "Ocean Conditions", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Qualitative Resilience", "Salmon Ecology", {"weight": 0.5, "confidence": 0.35, "type": "inter_cluster", "style": "solid"}], ["Salmon Ecology", "Marine Mammals", {"weight": -0.2, "confidence": 0.44000000000000006, "type": "inter_cluster", "style": "solid"}], ["Hatchery Operations", "Salmon Ecology", {"weight": 0.8, "confidence": 0.64, "type": "inter_cluster", "style": "solid"}], ["Hatchery Operations", "Fishing Sector", {"weight": 0.25, "confidence": 0.575, "type": "inter_cluster", "style": "solid"}], ["Hatchery Operations", "Ecosystem Dynamics", {"weight": 0.2, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Stream Ecology", "Salmon Ecology", {"weight": 1.0, "confidence": 0.7333333333333334, "type": "inter_cluster", "style": "solid"}], ["Marine Conservation", "Ecosystem Dynamics", {"weight": 0.6, "confidence": 0.74, "type": "inter_cluster", "style": "solid"}], ["Marine Conservation", "Hatchery Operations", {"weight": 0.4, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Marine Conservation", "Stream Ecology", {"weight": 0.2, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Marine Conservation", "Fishing Sector", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Ocean Conditions", "Wild Fish", {"weight": 0.2, "confidence": 0.44000000000000006, "type": "inter_cluster", "style": "solid"}], ["Ocean Conditions", "Ecosystem Dynamics", {"weight": -0.5, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Ocean Conditions", "North American Fisheries", {"weight": -0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Ocean Conditions", "Management Collaboration", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Wild Fish", "Ecosystem Dynamics", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Wild Fish", "Qualitative Resilience", {"weight": 0.25, "confidence": 0.575, "type": "inter_cluster", "style": "solid"}], ["Wild Fish", "Stream Ecology", {"weight": 0.5, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Wild Fish", "Fisheries Regulation", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Marine Mammals", "Wild Fish", {"weight": -0.2, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Marine Mammals", "Qualitative Resilience", {"weight": -0.75, "confidence": 0.5875, "type": "inter_cluster", "style": "solid"}], ["Marine Mammals", "Hatchery Operations", {"weight": 0.2, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Marine Mammals", "Ecosystem Dynamics", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["North American Fisheries", "Marine Mammals", {"weight": 0.4, "confidence": 0.57, "type": "inter_cluster", "style": "solid"}], ["North American Fisheries", "Hatchery Operations", {"weight": 0.3333333333333333, "confidence": 0.7166666666666667, "type": "inter_cluster", "style": "solid"}], ["North American Fisheries", "Salmon Ecology", {"weight": -0.2, "confidence": 0.43, "type": "inter_cluster", "style": "solid"}], ["North American Fisheries", "Stream Ecology", {"weight": 0.2, "confidence": 0.43, "type": "inter_cluster", "style": "solid"}], ["North American Fisheries", "Wild Fish", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Fishing Sector", "Ecosystem Dynamics", {"weight": -0.25, "confidence": 0.5625, "type": "inter_cluster", "style": "solid"}], ["Fishing Sector", "Qualitative Resilience", {"weight": 0.2, "confidence": 0.44000000000000006, "type": "inter_cluster", "style": "solid"}], ["Fishing Sector", "Salmon Ecology", {"weight": 0.75, "confidence": 0.49999999999999994, "type": "inter_cluster", "style": "solid"}], ["Fishing Sector", "Fisheries Regulation", {"weight": 0.4, "confidence": 0.29000000000000004, "type": "inter_cluster", "style": "solid"}], ["Fishing Sector", "Management Collaboration", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Fishing Sector", "Wild Fish", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Fisheries Regulation", "Marine Mammals", {"weight": 0.25, "confidence": 0.5625, "type": "inter_cluster", "style": "solid"}], ["Fisheries Regulation", "Salmon Ecology", {"weight": 0.6, "confidence": 0.44000000000000006, "type": "inter_cluster", "style": "solid"}], ["Fisheries Regulation", "Ocean Conditions", {"weight": -0.75, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Management Collaboration": [["hatcheries", {"concepts": "hatcheries", "type": "concept", "cluster": "Management Collaboration", "node_size": 10, "label": "hatcheries"}], ["hatchery fish release", {"concepts": "hatchery fish release", "type": "concept", "cluster": "Management Collaboration", "node_size": 10, "label": "hatchery fish release"}], ["hatchery salmon", {"concepts": "hatchery salmon", "type": "concept", "cluster": "Management Collaboration", "node_size": 10, "label": "hatchery salmon"}], ["hatchery releases", {"concepts": "hatchery releases", "type": "concept", "cluster": "Management Collaboration", "node_size": 10, "label": "hatchery releases"}], ["hatchery production", {"concepts": "hatchery production", "type": "concept", "cluster": "Management Collaboration", "node_size": 10, "label": "hatchery production"}], ["hatchery fish", {"concepts": "hatchery fish", "type": "concept", "cluster": "Management Collaboration", "node_size": 10, "label": "hatchery fish"}], ["aquaculture", {"concepts": "aquaculture", "type": "concept", "cluster": "Management Collaboration", "node_size": 10, "label": "aquaculture"}]], "Ecosystem Dynamics": [["stakeholder groups", {"concepts": "stakeholder groups", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "stakeholder groups"}], ["science group", {"concepts": "science group", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "science group"}], ["resource management", {"concepts": "resource management", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "resource management"}], ["portfolio effects", {"concepts": "portfolio effects", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "portfolio effects"}], ["individual meetings", {"concepts": "individual meetings", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "individual meetings"}], ["community members", {"concepts": "community members", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "community members"}], ["charismatic megafauna", {"concepts": "charismatic megafauna", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "charismatic megafauna"}], ["collaborative discussion", {"concepts": "collaborative discussion", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "collaborative discussion"}], ["return timing", {"concepts": "return timing", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "return timing"}], ["collaborative model", {"concepts": "collaborative model", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "collaborative model"}], ["state managers", {"concepts": "state managers", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "state managers"}], ["management approaches", {"concepts": "management approaches", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "management approaches"}], ["federal managers", {"concepts": "federal managers", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "federal managers"}], ["managers", {"concepts": "managers", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "managers"}], ["collaborative tool", {"concepts": "collaborative tool", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "collaborative tool"}], ["tribal managers", {"concepts": "tribal managers", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "tribal managers"}], ["management strategy evaluations", {"concepts": "management strategy evaluations", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "management strategy evaluations"}], ["management trade-offs", {"concepts": "management trade-offs", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "management trade-offs"}], ["trade-offs", {"concepts": "trade-offs", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "trade-offs"}], ["management group", {"concepts": "management group", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "management group"}], ["portfolio effect", {"concepts": "portfolio effect", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "portfolio effect"}]], "Qualitative Resilience": [["natural system", {"concepts": "natural system", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "natural system"}], ["natural origin", {"concepts": "natural origin", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "natural origin"}], ["semi quantitative", {"concepts": "semi quantitative", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "semi quantitative"}], ["buffering", {"concepts": "buffering", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "buffering"}], ["phil levin", {"concepts": "phil levin", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "phil levin"}], ["summer run", {"concepts": "summer run", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "summer run"}], ["conservation", {"concepts": "conservation", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "conservation"}], ["simulations", {"concepts": "simulations", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "simulations"}], ["unintended consequences", {"concepts": "unintended consequences", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "unintended consequences"}], ["academics", {"concepts": "academics", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "academics"}], ["relationships", {"concepts": "relationships", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "relationships"}], ["scenario analysis", {"concepts": "scenario analysis", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "scenario analysis"}], ["spring run", {"concepts": "spring run", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "spring run"}], ["simulate scenarios", {"concepts": "simulate scenarios", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "simulate scenarios"}], ["gulf of mexico", {"concepts": "gulf of mexico", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "gulf of mexico"}], ["recovery", {"concepts": "recovery", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "recovery"}], ["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "noaa"}], ["access", {"concepts": "access", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "access"}], ["noah", {"concepts": "noah", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "noah"}], ["population", {"concepts": "population", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "population"}], ["genetic diversity", {"concepts": "genetic diversity", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "genetic diversity"}], ["measure", {"concepts": "measure", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "measure"}], ["life cycle modeling", {"concepts": "life cycle modeling", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "life cycle modeling"}], ["diversity", {"concepts": "diversity", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "diversity"}], ["orcas", {"concepts": "orcas", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "orcas"}], ["tribes", {"concepts": "tribes", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "tribes"}], ["web dynamics", {"concepts": "web dynamics", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "web dynamics"}], ["mse", {"concepts": "mse", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "mse"}], ["chesapeake bay", {"concepts": "chesapeake bay", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "chesapeake bay"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "biodiversity"}], ["upwelling", {"concepts": "upwelling", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "upwelling"}], ["system dynamics", {"concepts": "system dynamics", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "system dynamics"}], ["white house", {"concepts": "white house", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "white house"}], ["relative weights", {"concepts": "relative weights", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "relative weights"}], ["human dimensions", {"concepts": "human dimensions", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "human dimensions"}], ["escapement goals", {"concepts": "escapement goals", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "escapement goals"}], ["competition", {"concepts": "competition", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "competition"}], ["dive shop", {"concepts": "dive shop", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "dive shop"}], ["life history", {"concepts": "life history", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "life history"}], ["integrated population models", {"concepts": "integrated population models", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "integrated population models"}], ["age diversity", {"concepts": "age diversity", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "age diversity"}], ["case studies", {"concepts": "case studies", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "case studies"}], ["variability", {"concepts": "variability", "type": "concept", "cluster": "Qualitative Resilience", "node_size": 10, "label": "variability"}]], "Salmon Ecology": [["qualitative perspective", {"concepts": "qualitative perspective", "type": "concept", "cluster": "Salmon Ecology", "node_size": 10, "label": "qualitative perspective"}], ["resilience", {"concepts": "resilience", "type": "concept", "cluster": "Salmon Ecology", "node_size": 10, "label": "resilience"}], ["perspectives", {"concepts": "perspectives", "type": "concept", "cluster": "Salmon Ecology", "node_size": 10, "label": "perspectives"}], ["holistic approach", {"concepts": "holistic approach", "type": "concept", "cluster": "Salmon Ecology", "node_size": 10, "label": "holistic approach"}], ["operationalize", {"concepts": "operationalize", "type": "concept", "cluster": "Salmon Ecology", "node_size": 10, "label": "operationalize"}], ["conceptualize", {"concepts": "conceptualize", "type": "concept", "cluster": "Salmon Ecology", "node_size": 10, "label": "conceptualize"}], ["scoping", {"concepts": "scoping", "type": "concept", "cluster": "Salmon Ecology", "node_size": 10, "label": "scoping"}], ["perspective", {"concepts": "perspective", "type": "concept", "cluster": "Salmon Ecology", "node_size": 10, "label": "perspective"}], ["stressors", {"concepts": "stressors", "type": "concept", "cluster": "Salmon Ecology", "node_size": 10, "label": "stressors"}], ["interviews", {"concepts": "interviews", "type": "concept", "cluster": "Salmon Ecology", "node_size": 10, "label": "interviews"}], ["cultural impact", {"concepts": "cultural impact", "type": "concept", "cluster": "Salmon Ecology", "node_size": 10, "label": "cultural impact"}]], "Hatchery Operations": [["chinook salmon", {"concepts": "chinook salmon", "type": "concept", "cluster": "Hatchery Operations", "node_size": 10, "label": "chinook salmon"}], ["salmon", {"concepts": "salmon", "type": "concept", "cluster": "Hatchery Operations", "node_size": 10, "label": "salmon"}], ["wild salmon", {"concepts": "wild salmon", "type": "concept", "cluster": "Hatchery Operations", "node_size": 10, "label": "wild salmon"}], ["salmon predators", {"concepts": "salmon predators", "type": "concept", "cluster": "Hatchery Operations", "node_size": 10, "label": "salmon predators"}], ["nutrient enhancement", {"concepts": "nutrient enhancement", "type": "concept", "cluster": "Hatchery Operations", "node_size": 10, "label": "nutrient enhancement"}], ["salmon nutrients", {"concepts": "salmon nutrients", "type": "concept", "cluster": "Hatchery Operations", "node_size": 10, "label": "salmon nutrients"}], ["pink salmon", {"concepts": "pink salmon", "type": "concept", "cluster": "Hatchery Operations", "node_size": 10, "label": "pink salmon"}]], "Stream Ecology": [["stream ecology", {"concepts": "stream ecology", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "stream ecology"}], ["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "conservation concern"}], ["habitat restoration", {"concepts": "habitat restoration", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "habitat restoration"}], ["habitat forming", {"concepts": "habitat forming", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "habitat forming"}], ["environmental variables", {"concepts": "environmental variables", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "environmental variables"}], ["keystone species", {"concepts": "keystone species", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "keystone species"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "habitat forming species"}], ["key food web supporting species", {"concepts": "key food web supporting species", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "key food web supporting species"}], ["habitat", {"concepts": "habitat", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "habitat"}], ["conservation organizations", {"concepts": "conservation organizations", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "conservation organizations"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "ecosystem services"}], ["stream bed structure", {"concepts": "stream bed structure", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "stream bed structure"}], ["key food web", {"concepts": "key food web", "type": "concept", "cluster": "Stream Ecology", "node_size": 10, "label": "key food web"}]], "Marine Conservation": [["marine mammal protection act", {"concepts": "marine mammal protection act", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "marine mammal protection act"}], ["coastal", {"concepts": "coastal", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "coastal"}], ["marine", {"concepts": "marine", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "marine"}], ["endangered species act", {"concepts": "endangered species act", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "endangered species act"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "stakeholders"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "marine resource management"}], ["humpbacks", {"concepts": "humpbacks", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "humpbacks"}], ["puget sound stocks", {"concepts": "puget sound stocks", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "puget sound stocks"}], ["puget sound", {"concepts": "puget sound", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "puget sound"}], ["naturalist", {"concepts": "naturalist", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "naturalist"}], ["stillaguamish river", {"concepts": "stillaguamish river", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "stillaguamish river"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "climate change"}], ["weak stock management", {"concepts": "weak stock management", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "weak stock management"}], ["food web interactions", {"concepts": "food web interactions", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "food web interactions"}], ["winter run", {"concepts": "winter run", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "winter run"}], ["ngo practitioners", {"concepts": "ngo practitioners", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "ngo practitioners"}], ["ecotourism operators", {"concepts": "ecotourism operators", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "ecotourism operators"}], ["oyster farmers", {"concepts": "oyster farmers", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "oyster farmers"}], ["alaska fish", {"concepts": "alaska fish", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "alaska fish"}], ["waterfront homeowners", {"concepts": "waterfront homeowners", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "waterfront homeowners"}], ["mental model", {"concepts": "mental model", "type": "concept", "cluster": "Marine Conservation", "node_size": 10, "label": "mental model"}]], "Ocean Conditions": [["sea surface temperature", {"concepts": "sea surface temperature", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "sea surface temperature"}], ["adult abundance", {"concepts": "adult abundance", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "adult abundance"}], ["marine predators", {"concepts": "marine predators", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "marine predators"}], ["zooplankton", {"concepts": "zooplankton", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "zooplankton"}], ["natural urban fish", {"concepts": "natural urban fish", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "natural urban fish"}], ["freshwater ecosystems", {"concepts": "freshwater ecosystems", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "freshwater ecosystems"}], ["marine survival", {"concepts": "marine survival", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "marine survival"}], ["ocean conditions", {"concepts": "ocean conditions", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "ocean conditions"}], ["large scale ocean conditions", {"concepts": "large scale ocean conditions", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "large scale ocean conditions"}], ["marine resource users", {"concepts": "marine resource users", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "marine resource users"}], ["coastal stocks", {"concepts": "coastal stocks", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "coastal stocks"}], ["marine environment", {"concepts": "marine environment", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "marine environment"}], ["freshwater", {"concepts": "freshwater", "type": "concept", "cluster": "Ocean Conditions", "node_size": 10, "label": "freshwater"}]], "Wild Fish": [["wild fish", {"concepts": "wild fish", "type": "concept", "cluster": "Wild Fish", "node_size": 10, "label": "wild fish"}], ["older fish", {"concepts": "older fish", "type": "concept", "cluster": "Wild Fish", "node_size": 10, "label": "older fish"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Wild Fish", "node_size": 10, "label": "harmful organisms"}], ["bigger fish", {"concepts": "bigger fish", "type": "concept", "cluster": "Wild Fish", "node_size": 10, "label": "bigger fish"}], ["wild fish conservancy", {"concepts": "wild fish conservancy", "type": "concept", "cluster": "Wild Fish", "node_size": 10, "label": "wild fish conservancy"}], ["natural origin fish", {"concepts": "natural origin fish", "type": "concept", "cluster": "Wild Fish", "node_size": 10, "label": "natural origin fish"}]], "Marine Mammals": [["sea lions", {"concepts": "sea lions", "type": "concept", "cluster": "Marine Mammals", "node_size": 10, "label": "sea lions"}], ["northern resident killer whales", {"concepts": "northern resident killer whales", "type": "concept", "cluster": "Marine Mammals", "node_size": 10, "label": "northern resident killer whales"}], ["killer whales", {"concepts": "killer whales", "type": "concept", "cluster": "Marine Mammals", "node_size": 10, "label": "killer whales"}], ["harbor seals", {"concepts": "harbor seals", "type": "concept", "cluster": "Marine Mammals", "node_size": 10, "label": "harbor seals"}], ["humpback whales", {"concepts": "humpback whales", "type": "concept", "cluster": "Marine Mammals", "node_size": 10, "label": "humpback whales"}], ["whale watching", {"concepts": "whale watching", "type": "concept", "cluster": "Marine Mammals", "node_size": 10, "label": "whale watching"}]], "North American Fisheries": [["canadian fisheries", {"concepts": "canadian fisheries", "type": "concept", "cluster": "North American Fisheries", "node_size": 10, "label": "canadian fisheries"}], ["alaskan fisheries", {"concepts": "alaskan fisheries", "type": "concept", "cluster": "North American Fisheries", "node_size": 10, "label": "alaskan fisheries"}]], "Fishing Sector": [["fishermen", {"concepts": "fishermen", "type": "concept", "cluster": "Fishing Sector", "node_size": 10, "label": "fishermen"}], ["fishing industry", {"concepts": "fishing industry", "type": "concept", "cluster": "Fishing Sector", "node_size": 10, "label": "fishing industry"}]], "Fisheries Regulation": [["fisheries management", {"concepts": "fisheries management", "type": "concept", "cluster": "Fisheries Regulation", "node_size": 10, "label": "fisheries management"}], ["harvest control rules", {"concepts": "harvest control rules", "type": "concept", "cluster": "Fisheries Regulation", "node_size": 10, "label": "harvest control rules"}]]};
        const clusterEdges = {"Management Collaboration": [], "Ecosystem Dynamics": [], "Qualitative Resilience": [], "Salmon Ecology": [], "Hatchery Operations": [], "Stream Ecology": [], "Marine Conservation": [], "Ocean Conditions": [], "Wild Fish": [], "Marine Mammals": [], "North American Fisheries": [], "Fishing Sector": [], "Fisheries Regulation": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
