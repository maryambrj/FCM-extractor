
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"marine biodiversity": {"concepts": "marine biodiversity", "concept_list": ["marine biodiversity"], "type": "cluster", "node_size": 18, "label": "marine biodiversity"}, "Water Quality Issues": {"concepts": "nutrient reduction, nutrient cycling, nutrient input level, nutrient runoff, nutrient input", "concept_list": ["nutrient reduction", "nutrient cycling", "nutrient input level", "nutrient runoff", "nutrient input"], "type": "cluster", "node_size": 30, "label": "Water Quality Issues"}, "Pollution Sources": {"concepts": "water clarity, plankton growth, eutrophication, macroalgae", "concept_list": ["water clarity", "plankton growth", "eutrophication", "macroalgae"], "type": "cluster", "node_size": 27, "label": "Pollution Sources"}, "Functional Biodiversity": {"concepts": "sewage stream, sediment, freshwater, nutrient pollution", "concept_list": ["sewage stream", "sediment", "freshwater", "nutrient pollution"], "type": "cluster", "node_size": 27, "label": "Functional Biodiversity"}, "Biodiversity Conservation": {"concepts": "functional diversity, functional group biodiversity, diversity categories, biodiversity components, ecological diversity, biodiversity, functional group diversity", "concept_list": ["functional diversity", "functional group biodiversity", "diversity categories", "biodiversity components", "ecological diversity", "biodiversity", "functional group diversity"], "type": "cluster", "node_size": 36, "label": "Biodiversity Conservation"}, "Nutrient Management": {"concepts": "biodiversity impact, conservation concern, biodiversity index, biodiversity management, species richness, benthos diversity, species of conservation concern, biodiversity condition", "concept_list": ["biodiversity impact", "conservation concern", "biodiversity index", "biodiversity management", "species richness", "benthos diversity", "species of conservation concern", "biodiversity condition"], "type": "cluster", "node_size": 39, "label": "Nutrient Management"}, "Species Tolerance": {"concepts": "burrowing fauna, surface burrowing fauna, deep-burrowing fauna, sediment fauna, invertebrates, clear water species", "concept_list": ["burrowing fauna", "surface burrowing fauna", "deep-burrowing fauna", "sediment fauna", "invertebrates", "clear water species"], "type": "cluster", "node_size": 33, "label": "Species Tolerance"}, "Species Ecology": {"concepts": "species replacement, species conservation, species distribution, species diversity, species identification, species interactions, food web species, species competition, species abundance", "concept_list": ["species replacement", "species conservation", "species distribution", "species diversity", "species identification", "species interactions", "food web species", "species competition", "species abundance"], "type": "cluster", "node_size": 42, "label": "Species Ecology"}, "Benthic Marine Habitat": {"concepts": "deepwater habitat, seafloor fauna, marine setting, benthic habitat, benthic diversity, seafloor", "concept_list": ["deepwater habitat", "seafloor fauna", "marine setting", "benthic habitat", "benthic diversity", "seafloor"], "type": "cluster", "node_size": 33, "label": "Benthic Marine Habitat"}, "Salt Marshes": {"concepts": "salt marshes, marshes, salt marsh", "concept_list": ["salt marshes", "marshes", "salt marsh"], "type": "cluster", "node_size": 24, "label": "Salt Marshes"}, "Coastal Habitat Assessment": {"concepts": "estuarine ecology, coastal marine ecological classification standard, benthic bioassessment, seagrass loss, shallow water habitat", "concept_list": ["estuarine ecology", "coastal marine ecological classification standard", "benthic bioassessment", "seagrass loss", "shallow water habitat"], "type": "cluster", "node_size": 30, "label": "Coastal Habitat Assessment"}, "Ecosystem Health Monitoring": {"concepts": "ecological indicators, ecological health, index of biotic integrity, environmental monitoring, bioassessment framework, ecosystem health, ecosystem monitoring, causal link, ecosystem productivity, ecosystem dynamics, ecosystem resilience, ecological balance, ecological mapping, healthy ecosystem, ecological management", "concept_list": ["ecological indicators", "ecological health", "index of biotic integrity", "environmental monitoring", "bioassessment framework", "ecosystem health", "ecosystem monitoring", "causal link", "ecosystem productivity", "ecosystem dynamics", "ecosystem resilience", "ecological balance", "ecological mapping", "healthy ecosystem", "ecological management"], "type": "cluster", "node_size": 60, "label": "Ecosystem Health Monitoring"}, "Environmental Impact": {"concepts": "environmental stressors, stressor, environmental impact, environmental sustainability, human activities, environmental factors, environmental policy, human effects, environmental change, environmental improvement", "concept_list": ["environmental stressors", "stressor", "environmental impact", "environmental sustainability", "human activities", "environmental factors", "environmental policy", "human effects", "environmental change", "environmental improvement"], "type": "cluster", "node_size": 45, "label": "Environmental Impact"}, "Nature Appreciation & Support": {"concepts": "beauty of nature, nature, enjoyment of nature, nature enjoyment, human-nature interaction, aesthetic value, society, social factors, environmental education, environmental support, environmental awareness, fishing, public support", "concept_list": ["beauty of nature", "nature", "enjoyment of nature", "nature enjoyment", "human-nature interaction", "aesthetic value", "society", "social factors", "environmental education", "environmental support", "environmental awareness", "fishing", "public support"], "type": "cluster", "node_size": 54, "label": "Nature Appreciation & Support"}, "Marine Biodiversity Monitoring": {"concepts": "plankton, taxonomy, camera systems, epifauna, creeks, beaches, fishes, tube-building fauna, tube building fauna", "concept_list": ["plankton", "taxonomy", "camera systems", "epifauna", "creeks", "beaches", "fishes", "tube-building fauna", "tube building fauna"], "type": "cluster", "node_size": 42, "label": "Marine Biodiversity Monitoring"}, "Environmental Decision Making": {"concepts": "decision making, ecosystem connectivity, environmental stewardship, mental modeler, environmental governance, decision making tools, ecosystem functions, development, social willingness, cartography, willingness to support, regulatory purposes, ecosystem, ecosystem services valuation, environmental decision making, environmental benefits, environmental management, ecological balance, environmental management decisions, ecosystem services, contract staff, environmental decision-making", "concept_list": ["decision making", "ecosystem connectivity", "environmental stewardship", "mental modeler", "environmental governance", "decision making tools", "ecosystem functions", "development", "social willingness", "cartography", "willingness to support", "regulatory purposes", "ecosystem", "ecosystem services valuation", "environmental decision making", "environmental benefits", "environmental management", "ecological balance", "environmental management decisions", "ecosystem services", "contract staff", "environmental decision-making"], "type": "cluster", "node_size": 81, "label": "Environmental Decision Making"}, "Ecological Management Networks": {"concepts": "non-regulatory management, cmecs, noaa, ecological condition, ecological networks", "concept_list": ["non-regulatory management", "cmecs", "noaa", "ecological condition", "ecological networks"], "type": "cluster", "node_size": 30, "label": "Ecological Management Networks"}, "Oxygen Distribution": {"concepts": "oxygen stratification, oxygen gradient", "concept_list": ["oxygen stratification", "oxygen gradient"], "type": "cluster", "node_size": 21, "label": "Oxygen Distribution"}, "Oxygen Deficiency": {"concepts": "anoxia, hypoxia, oxygen depletion, nutrient-driven hypoxia, dissolved oxygen", "concept_list": ["anoxia", "hypoxia", "oxygen depletion", "nutrient-driven hypoxia", "dissolved oxygen"], "type": "cluster", "node_size": 30, "label": "Oxygen Deficiency"}, "Habitat Formation": {"concepts": "habitat forming species, habitat-forming species", "concept_list": ["habitat forming species", "habitat-forming species"], "type": "cluster", "node_size": 21, "label": "Habitat Formation"}, "Habitat Diversity": {"concepts": "habitat complexity, habitat mosaics, habitat diversity, habitat biodiversity", "concept_list": ["habitat complexity", "habitat mosaics", "habitat diversity", "habitat biodiversity"], "type": "cluster", "node_size": 27, "label": "Habitat Diversity"}, "Habitat Conservation": {"concepts": "habitat restoration, habitat protection", "concept_list": ["habitat restoration", "habitat protection"], "type": "cluster", "node_size": 21, "label": "Habitat Conservation"}, "Habitat Degradation": {"concepts": "habitat loss, habitat destruction, habitat fragmentation", "concept_list": ["habitat loss", "habitat destruction", "habitat fragmentation"], "type": "cluster", "node_size": 24, "label": "Habitat Degradation"}, "Habitat Assessment": {"concepts": "habitat quality, historical habitat data", "concept_list": ["habitat quality", "historical habitat data"], "type": "cluster", "node_size": 21, "label": "Habitat Assessment"}};
        const conceptData = {"nutrient reduction": {"concepts": "nutrient reduction", "type": "concept", "cluster": "Water Quality Issues", "node_size": 10, "label": "nutrient reduction"}, "nutrient cycling": {"concepts": "nutrient cycling", "type": "concept", "cluster": "Water Quality Issues", "node_size": 10, "label": "nutrient cycling"}, "nutrient input level": {"concepts": "nutrient input level", "type": "concept", "cluster": "Water Quality Issues", "node_size": 10, "label": "nutrient input level"}, "nutrient runoff": {"concepts": "nutrient runoff", "type": "concept", "cluster": "Water Quality Issues", "node_size": 10, "label": "nutrient runoff"}, "nutrient input": {"concepts": "nutrient input", "type": "concept", "cluster": "Water Quality Issues", "node_size": 10, "label": "nutrient input"}, "water clarity": {"concepts": "water clarity", "type": "concept", "cluster": "Pollution Sources", "node_size": 10, "label": "water clarity"}, "plankton growth": {"concepts": "plankton growth", "type": "concept", "cluster": "Pollution Sources", "node_size": 10, "label": "plankton growth"}, "eutrophication": {"concepts": "eutrophication", "type": "concept", "cluster": "Pollution Sources", "node_size": 10, "label": "eutrophication"}, "macroalgae": {"concepts": "macroalgae", "type": "concept", "cluster": "Pollution Sources", "node_size": 10, "label": "macroalgae"}, "sewage stream": {"concepts": "sewage stream", "type": "concept", "cluster": "Functional Biodiversity", "node_size": 10, "label": "sewage stream"}, "sediment": {"concepts": "sediment", "type": "concept", "cluster": "Functional Biodiversity", "node_size": 10, "label": "sediment"}, "freshwater": {"concepts": "freshwater", "type": "concept", "cluster": "Functional Biodiversity", "node_size": 10, "label": "freshwater"}, "nutrient pollution": {"concepts": "nutrient pollution", "type": "concept", "cluster": "Functional Biodiversity", "node_size": 10, "label": "nutrient pollution"}, "functional diversity": {"concepts": "functional diversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "functional diversity"}, "functional group biodiversity": {"concepts": "functional group biodiversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "functional group biodiversity"}, "diversity categories": {"concepts": "diversity categories", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "diversity categories"}, "biodiversity components": {"concepts": "biodiversity components", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "biodiversity components"}, "ecological diversity": {"concepts": "ecological diversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "ecological diversity"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "biodiversity"}, "functional group diversity": {"concepts": "functional group diversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "functional group diversity"}, "biodiversity impact": {"concepts": "biodiversity impact", "type": "concept", "cluster": "Nutrient Management", "node_size": 10, "label": "biodiversity impact"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Nutrient Management", "node_size": 10, "label": "conservation concern"}, "biodiversity index": {"concepts": "biodiversity index", "type": "concept", "cluster": "Nutrient Management", "node_size": 10, "label": "biodiversity index"}, "biodiversity management": {"concepts": "biodiversity management", "type": "concept", "cluster": "Nutrient Management", "node_size": 10, "label": "biodiversity management"}, "species richness": {"concepts": "species richness", "type": "concept", "cluster": "Nutrient Management", "node_size": 10, "label": "species richness"}, "benthos diversity": {"concepts": "benthos diversity", "type": "concept", "cluster": "Nutrient Management", "node_size": 10, "label": "benthos diversity"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Nutrient Management", "node_size": 10, "label": "species of conservation concern"}, "biodiversity condition": {"concepts": "biodiversity condition", "type": "concept", "cluster": "Nutrient Management", "node_size": 10, "label": "biodiversity condition"}, "burrowing fauna": {"concepts": "burrowing fauna", "type": "concept", "cluster": "Species Tolerance", "node_size": 10, "label": "burrowing fauna"}, "surface burrowing fauna": {"concepts": "surface burrowing fauna", "type": "concept", "cluster": "Species Tolerance", "node_size": 10, "label": "surface burrowing fauna"}, "deep-burrowing fauna": {"concepts": "deep-burrowing fauna", "type": "concept", "cluster": "Species Tolerance", "node_size": 10, "label": "deep-burrowing fauna"}, "sediment fauna": {"concepts": "sediment fauna", "type": "concept", "cluster": "Species Tolerance", "node_size": 10, "label": "sediment fauna"}, "invertebrates": {"concepts": "invertebrates", "type": "concept", "cluster": "Species Tolerance", "node_size": 10, "label": "invertebrates"}, "clear water species": {"concepts": "clear water species", "type": "concept", "cluster": "Species Tolerance", "node_size": 10, "label": "clear water species"}, "species replacement": {"concepts": "species replacement", "type": "concept", "cluster": "Species Ecology", "node_size": 10, "label": "species replacement"}, "species conservation": {"concepts": "species conservation", "type": "concept", "cluster": "Species Ecology", "node_size": 10, "label": "species conservation"}, "species distribution": {"concepts": "species distribution", "type": "concept", "cluster": "Species Ecology", "node_size": 10, "label": "species distribution"}, "species diversity": {"concepts": "species diversity", "type": "concept", "cluster": "Species Ecology", "node_size": 10, "label": "species diversity"}, "species identification": {"concepts": "species identification", "type": "concept", "cluster": "Species Ecology", "node_size": 10, "label": "species identification"}, "species interactions": {"concepts": "species interactions", "type": "concept", "cluster": "Species Ecology", "node_size": 10, "label": "species interactions"}, "food web species": {"concepts": "food web species", "type": "concept", "cluster": "Species Ecology", "node_size": 10, "label": "food web species"}, "species competition": {"concepts": "species competition", "type": "concept", "cluster": "Species Ecology", "node_size": 10, "label": "species competition"}, "species abundance": {"concepts": "species abundance", "type": "concept", "cluster": "Species Ecology", "node_size": 10, "label": "species abundance"}, "deepwater habitat": {"concepts": "deepwater habitat", "type": "concept", "cluster": "Benthic Marine Habitat", "node_size": 10, "label": "deepwater habitat"}, "seafloor fauna": {"concepts": "seafloor fauna", "type": "concept", "cluster": "Benthic Marine Habitat", "node_size": 10, "label": "seafloor fauna"}, "marine setting": {"concepts": "marine setting", "type": "concept", "cluster": "Benthic Marine Habitat", "node_size": 10, "label": "marine setting"}, "benthic habitat": {"concepts": "benthic habitat", "type": "concept", "cluster": "Benthic Marine Habitat", "node_size": 10, "label": "benthic habitat"}, "benthic diversity": {"concepts": "benthic diversity", "type": "concept", "cluster": "Benthic Marine Habitat", "node_size": 10, "label": "benthic diversity"}, "seafloor": {"concepts": "seafloor", "type": "concept", "cluster": "Benthic Marine Habitat", "node_size": 10, "label": "seafloor"}, "salt marshes": {"concepts": "salt marshes", "type": "concept", "cluster": "Salt Marshes", "node_size": 10, "label": "salt marshes"}, "marshes": {"concepts": "marshes", "type": "concept", "cluster": "Salt Marshes", "node_size": 10, "label": "marshes"}, "salt marsh": {"concepts": "salt marsh", "type": "concept", "cluster": "Salt Marshes", "node_size": 10, "label": "salt marsh"}, "estuarine ecology": {"concepts": "estuarine ecology", "type": "concept", "cluster": "Coastal Habitat Assessment", "node_size": 10, "label": "estuarine ecology"}, "coastal marine ecological classification standard": {"concepts": "coastal marine ecological classification standard", "type": "concept", "cluster": "Coastal Habitat Assessment", "node_size": 10, "label": "coastal marine ecological classification standard"}, "benthic bioassessment": {"concepts": "benthic bioassessment", "type": "concept", "cluster": "Coastal Habitat Assessment", "node_size": 10, "label": "benthic bioassessment"}, "seagrass loss": {"concepts": "seagrass loss", "type": "concept", "cluster": "Coastal Habitat Assessment", "node_size": 10, "label": "seagrass loss"}, "shallow water habitat": {"concepts": "shallow water habitat", "type": "concept", "cluster": "Coastal Habitat Assessment", "node_size": 10, "label": "shallow water habitat"}, "ecological indicators": {"concepts": "ecological indicators", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "ecological indicators"}, "ecological health": {"concepts": "ecological health", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "ecological health"}, "index of biotic integrity": {"concepts": "index of biotic integrity", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "index of biotic integrity"}, "environmental monitoring": {"concepts": "environmental monitoring", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "environmental monitoring"}, "bioassessment framework": {"concepts": "bioassessment framework", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "bioassessment framework"}, "ecosystem health": {"concepts": "ecosystem health", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "ecosystem health"}, "ecosystem monitoring": {"concepts": "ecosystem monitoring", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "ecosystem monitoring"}, "causal link": {"concepts": "causal link", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "causal link"}, "ecosystem productivity": {"concepts": "ecosystem productivity", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "ecosystem productivity"}, "ecosystem dynamics": {"concepts": "ecosystem dynamics", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "ecosystem dynamics"}, "ecosystem resilience": {"concepts": "ecosystem resilience", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "ecosystem resilience"}, "ecological balance": {"concepts": "ecological balance", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "ecological balance"}, "ecological mapping": {"concepts": "ecological mapping", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "ecological mapping"}, "healthy ecosystem": {"concepts": "healthy ecosystem", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "healthy ecosystem"}, "ecological management": {"concepts": "ecological management", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "ecological management"}, "environmental stressors": {"concepts": "environmental stressors", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "environmental stressors"}, "stressor": {"concepts": "stressor", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "stressor"}, "environmental impact": {"concepts": "environmental impact", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "environmental impact"}, "environmental sustainability": {"concepts": "environmental sustainability", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "environmental sustainability"}, "human activities": {"concepts": "human activities", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "human activities"}, "environmental factors": {"concepts": "environmental factors", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "environmental factors"}, "environmental policy": {"concepts": "environmental policy", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "environmental policy"}, "human effects": {"concepts": "human effects", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "human effects"}, "environmental change": {"concepts": "environmental change", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "environmental change"}, "environmental improvement": {"concepts": "environmental improvement", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "environmental improvement"}, "beauty of nature": {"concepts": "beauty of nature", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "beauty of nature"}, "nature": {"concepts": "nature", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "nature"}, "enjoyment of nature": {"concepts": "enjoyment of nature", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "enjoyment of nature"}, "nature enjoyment": {"concepts": "nature enjoyment", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "nature enjoyment"}, "human-nature interaction": {"concepts": "human-nature interaction", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "human-nature interaction"}, "aesthetic value": {"concepts": "aesthetic value", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "aesthetic value"}, "society": {"concepts": "society", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "society"}, "social factors": {"concepts": "social factors", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "social factors"}, "environmental education": {"concepts": "environmental education", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "environmental education"}, "environmental support": {"concepts": "environmental support", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "environmental support"}, "environmental awareness": {"concepts": "environmental awareness", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "environmental awareness"}, "fishing": {"concepts": "fishing", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "fishing"}, "public support": {"concepts": "public support", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "public support"}, "plankton": {"concepts": "plankton", "type": "concept", "cluster": "Marine Biodiversity Monitoring", "node_size": 10, "label": "plankton"}, "taxonomy": {"concepts": "taxonomy", "type": "concept", "cluster": "Marine Biodiversity Monitoring", "node_size": 10, "label": "taxonomy"}, "camera systems": {"concepts": "camera systems", "type": "concept", "cluster": "Marine Biodiversity Monitoring", "node_size": 10, "label": "camera systems"}, "epifauna": {"concepts": "epifauna", "type": "concept", "cluster": "Marine Biodiversity Monitoring", "node_size": 10, "label": "epifauna"}, "creeks": {"concepts": "creeks", "type": "concept", "cluster": "Marine Biodiversity Monitoring", "node_size": 10, "label": "creeks"}, "beaches": {"concepts": "beaches", "type": "concept", "cluster": "Marine Biodiversity Monitoring", "node_size": 10, "label": "beaches"}, "fishes": {"concepts": "fishes", "type": "concept", "cluster": "Marine Biodiversity Monitoring", "node_size": 10, "label": "fishes"}, "tube-building fauna": {"concepts": "tube-building fauna", "type": "concept", "cluster": "Marine Biodiversity Monitoring", "node_size": 10, "label": "tube-building fauna"}, "tube building fauna": {"concepts": "tube building fauna", "type": "concept", "cluster": "Marine Biodiversity Monitoring", "node_size": 10, "label": "tube building fauna"}, "decision making": {"concepts": "decision making", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "decision making"}, "ecosystem connectivity": {"concepts": "ecosystem connectivity", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "ecosystem connectivity"}, "environmental stewardship": {"concepts": "environmental stewardship", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "environmental stewardship"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "mental modeler"}, "environmental governance": {"concepts": "environmental governance", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "environmental governance"}, "decision making tools": {"concepts": "decision making tools", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "decision making tools"}, "ecosystem functions": {"concepts": "ecosystem functions", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "ecosystem functions"}, "development": {"concepts": "development", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "development"}, "social willingness": {"concepts": "social willingness", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "social willingness"}, "cartography": {"concepts": "cartography", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "cartography"}, "willingness to support": {"concepts": "willingness to support", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "willingness to support"}, "regulatory purposes": {"concepts": "regulatory purposes", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "regulatory purposes"}, "ecosystem": {"concepts": "ecosystem", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "ecosystem"}, "ecosystem services valuation": {"concepts": "ecosystem services valuation", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "ecosystem services valuation"}, "environmental decision making": {"concepts": "environmental decision making", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "environmental decision making"}, "environmental benefits": {"concepts": "environmental benefits", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "environmental benefits"}, "environmental management": {"concepts": "environmental management", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "environmental management"}, "environmental management decisions": {"concepts": "environmental management decisions", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "environmental management decisions"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "ecosystem services"}, "contract staff": {"concepts": "contract staff", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "contract staff"}, "environmental decision-making": {"concepts": "environmental decision-making", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "environmental decision-making"}, "non-regulatory management": {"concepts": "non-regulatory management", "type": "concept", "cluster": "Ecological Management Networks", "node_size": 10, "label": "non-regulatory management"}, "cmecs": {"concepts": "cmecs", "type": "concept", "cluster": "Ecological Management Networks", "node_size": 10, "label": "cmecs"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Ecological Management Networks", "node_size": 10, "label": "noaa"}, "ecological condition": {"concepts": "ecological condition", "type": "concept", "cluster": "Ecological Management Networks", "node_size": 10, "label": "ecological condition"}, "ecological networks": {"concepts": "ecological networks", "type": "concept", "cluster": "Ecological Management Networks", "node_size": 10, "label": "ecological networks"}, "oxygen stratification": {"concepts": "oxygen stratification", "type": "concept", "cluster": "Oxygen Distribution", "node_size": 10, "label": "oxygen stratification"}, "oxygen gradient": {"concepts": "oxygen gradient", "type": "concept", "cluster": "Oxygen Distribution", "node_size": 10, "label": "oxygen gradient"}, "anoxia": {"concepts": "anoxia", "type": "concept", "cluster": "Oxygen Deficiency", "node_size": 10, "label": "anoxia"}, "hypoxia": {"concepts": "hypoxia", "type": "concept", "cluster": "Oxygen Deficiency", "node_size": 10, "label": "hypoxia"}, "oxygen depletion": {"concepts": "oxygen depletion", "type": "concept", "cluster": "Oxygen Deficiency", "node_size": 10, "label": "oxygen depletion"}, "nutrient-driven hypoxia": {"concepts": "nutrient-driven hypoxia", "type": "concept", "cluster": "Oxygen Deficiency", "node_size": 10, "label": "nutrient-driven hypoxia"}, "dissolved oxygen": {"concepts": "dissolved oxygen", "type": "concept", "cluster": "Oxygen Deficiency", "node_size": 10, "label": "dissolved oxygen"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Habitat Formation", "node_size": 10, "label": "habitat forming species"}, "habitat-forming species": {"concepts": "habitat-forming species", "type": "concept", "cluster": "Habitat Formation", "node_size": 10, "label": "habitat-forming species"}, "habitat complexity": {"concepts": "habitat complexity", "type": "concept", "cluster": "Habitat Diversity", "node_size": 10, "label": "habitat complexity"}, "habitat mosaics": {"concepts": "habitat mosaics", "type": "concept", "cluster": "Habitat Diversity", "node_size": 10, "label": "habitat mosaics"}, "habitat diversity": {"concepts": "habitat diversity", "type": "concept", "cluster": "Habitat Diversity", "node_size": 10, "label": "habitat diversity"}, "habitat biodiversity": {"concepts": "habitat biodiversity", "type": "concept", "cluster": "Habitat Diversity", "node_size": 10, "label": "habitat biodiversity"}, "habitat restoration": {"concepts": "habitat restoration", "type": "concept", "cluster": "Habitat Conservation", "node_size": 10, "label": "habitat restoration"}, "habitat protection": {"concepts": "habitat protection", "type": "concept", "cluster": "Habitat Conservation", "node_size": 10, "label": "habitat protection"}, "habitat loss": {"concepts": "habitat loss", "type": "concept", "cluster": "Habitat Degradation", "node_size": 10, "label": "habitat loss"}, "habitat destruction": {"concepts": "habitat destruction", "type": "concept", "cluster": "Habitat Degradation", "node_size": 10, "label": "habitat destruction"}, "habitat fragmentation": {"concepts": "habitat fragmentation", "type": "concept", "cluster": "Habitat Degradation", "node_size": 10, "label": "habitat fragmentation"}, "habitat quality": {"concepts": "habitat quality", "type": "concept", "cluster": "Habitat Assessment", "node_size": 10, "label": "habitat quality"}, "historical habitat data": {"concepts": "historical habitat data", "type": "concept", "cluster": "Habitat Assessment", "node_size": 10, "label": "historical habitat data"}};
        const interClusterEdges = [["marine biodiversity", "Nature Appreciation & Support", {"weight": 1.0, "confidence": 0.8625, "type": "inter_cluster", "style": "solid"}], ["marine biodiversity", "Habitat Diversity", {"weight": 1.0, "confidence": 0.8375, "type": "inter_cluster", "style": "solid"}], ["marine biodiversity", "Salt Marshes", {"weight": 1.0, "confidence": 0.7833333333333333, "type": "inter_cluster", "style": "solid"}], ["Water Quality Issues", "marine biodiversity", {"weight": -0.2, "confidence": 0.89, "type": "inter_cluster", "style": "solid"}], ["Water Quality Issues", "Benthic Marine Habitat", {"weight": 0.2, "confidence": 0.8400000000000001, "type": "inter_cluster", "style": "solid"}], ["Water Quality Issues", "Species Ecology", {"weight": 0.6, "confidence": 0.7699999999999999, "type": "inter_cluster", "style": "solid"}], ["Pollution Sources", "Habitat Assessment", {"weight": -1.0, "confidence": 0.7700000000000001, "type": "inter_cluster", "style": "solid"}], ["Functional Biodiversity", "Biodiversity Conservation", {"weight": -1.0, "confidence": 0.875, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Conservation", "Nature Appreciation & Support", {"weight": 1.0, "confidence": 0.8250000000000001, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Conservation", "Habitat Conservation", {"weight": 1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Nutrient Management", "Habitat Degradation", {"weight": -1.0, "confidence": 0.8166666666666668, "type": "inter_cluster", "style": "solid"}], ["Species Tolerance", "Nutrient Management", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Species Ecology", "Habitat Conservation", {"weight": 1.0, "confidence": 0.7666666666666666, "type": "inter_cluster", "style": "solid"}], ["Species Ecology", "Environmental Decision Making", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Benthic Marine Habitat", "Species Tolerance", {"weight": 1.0, "confidence": 0.89, "type": "inter_cluster", "style": "solid"}], ["Benthic Marine Habitat", "Species Ecology", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Salt Marshes", "Species Tolerance", {"weight": 1.0, "confidence": 0.7875000000000001, "type": "inter_cluster", "style": "solid"}], ["Salt Marshes", "marine biodiversity", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Salt Marshes", "Ecosystem Health Monitoring", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitat Assessment", "Habitat Diversity", {"weight": 1.0, "confidence": 0.7875000000000001, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitat Assessment", "Habitat Formation", {"weight": 1.0, "confidence": 0.7625, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitat Assessment", "Oxygen Deficiency", {"weight": 0.3333333333333333, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Health Monitoring", "Ecological Management Networks", {"weight": 1.0, "confidence": 0.8375, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Health Monitoring", "Functional Biodiversity", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Environmental Impact", "Benthic Marine Habitat", {"weight": -1.0, "confidence": 0.86, "type": "inter_cluster", "style": "solid"}], ["Environmental Impact", "Environmental Decision Making", {"weight": -0.2, "confidence": 0.8099999999999999, "type": "inter_cluster", "style": "solid"}], ["Environmental Impact", "Biodiversity Conservation", {"weight": -1.0, "confidence": 0.875, "type": "inter_cluster", "style": "solid"}], ["Environmental Impact", "Habitat Assessment", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Nature Appreciation & Support", "Ecosystem Health Monitoring", {"weight": 1.0, "confidence": 0.76, "type": "inter_cluster", "style": "solid"}], ["Marine Biodiversity Monitoring", "Nutrient Management", {"weight": 1.0, "confidence": 0.78, "type": "inter_cluster", "style": "solid"}], ["Marine Biodiversity Monitoring", "Biodiversity Conservation", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Environmental Decision Making", "Habitat Degradation", {"weight": -0.6, "confidence": 0.79, "type": "inter_cluster", "style": "solid"}], ["Environmental Decision Making", "Salt Marshes", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Ecological Management Networks", "Species Tolerance", {"weight": 1.0, "confidence": 0.7625, "type": "inter_cluster", "style": "solid"}], ["Oxygen Distribution", "Oxygen Deficiency", {"weight": 1.0, "confidence": 0.875, "type": "inter_cluster", "style": "solid"}], ["Oxygen Deficiency", "Habitat Diversity", {"weight": -1.0, "confidence": 0.9099999999999999, "type": "inter_cluster", "style": "solid"}], ["Oxygen Deficiency", "Salt Marshes", {"weight": -1.0, "confidence": 0.7300000000000001, "type": "inter_cluster", "style": "solid"}], ["Oxygen Deficiency", "Benthic Marine Habitat", {"weight": -1.0, "confidence": 0.9166666666666666, "type": "inter_cluster", "style": "solid"}], ["Oxygen Deficiency", "Biodiversity Conservation", {"weight": -1.0, "confidence": 0.9166666666666666, "type": "inter_cluster", "style": "solid"}], ["Habitat Formation", "Habitat Conservation", {"weight": 1.0, "confidence": 0.7749999999999999, "type": "inter_cluster", "style": "solid"}], ["Habitat Diversity", "Habitat Formation", {"weight": 1.0, "confidence": 0.86, "type": "inter_cluster", "style": "solid"}], ["Habitat Diversity", "Habitat Assessment", {"weight": 1.0, "confidence": 0.8250000000000001, "type": "inter_cluster", "style": "solid"}], ["Habitat Diversity", "Coastal Habitat Assessment", {"weight": 1.0, "confidence": 0.7833333333333332, "type": "inter_cluster", "style": "solid"}], ["Habitat Diversity", "Water Quality Issues", {"weight": -1.0, "confidence": 0.95, "type": "inter_cluster", "style": "solid"}], ["Habitat Conservation", "Habitat Assessment", {"weight": 1.0, "confidence": 0.77, "type": "inter_cluster", "style": "solid"}], ["Habitat Conservation", "Water Quality Issues", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Habitat Degradation", "Habitat Assessment", {"weight": -1.0, "confidence": 0.8833333333333333, "type": "inter_cluster", "style": "solid"}], ["Habitat Degradation", "Ecological Management Networks", {"weight": -1.0, "confidence": 0.7500000000000001, "type": "inter_cluster", "style": "solid"}], ["Habitat Assessment", "Salt Marshes", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Habitat Assessment", "Biodiversity Conservation", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Water Quality Issues": [["nutrient reduction", {"concepts": "nutrient reduction", "type": "concept", "cluster": "Water Quality Issues", "node_size": 10, "label": "nutrient reduction"}], ["nutrient cycling", {"concepts": "nutrient cycling", "type": "concept", "cluster": "Water Quality Issues", "node_size": 10, "label": "nutrient cycling"}], ["nutrient input level", {"concepts": "nutrient input level", "type": "concept", "cluster": "Water Quality Issues", "node_size": 10, "label": "nutrient input level"}], ["nutrient runoff", {"concepts": "nutrient runoff", "type": "concept", "cluster": "Water Quality Issues", "node_size": 10, "label": "nutrient runoff"}], ["nutrient input", {"concepts": "nutrient input", "type": "concept", "cluster": "Water Quality Issues", "node_size": 10, "label": "nutrient input"}]], "Pollution Sources": [["water clarity", {"concepts": "water clarity", "type": "concept", "cluster": "Pollution Sources", "node_size": 10, "label": "water clarity"}], ["plankton growth", {"concepts": "plankton growth", "type": "concept", "cluster": "Pollution Sources", "node_size": 10, "label": "plankton growth"}], ["eutrophication", {"concepts": "eutrophication", "type": "concept", "cluster": "Pollution Sources", "node_size": 10, "label": "eutrophication"}], ["macroalgae", {"concepts": "macroalgae", "type": "concept", "cluster": "Pollution Sources", "node_size": 10, "label": "macroalgae"}]], "Functional Biodiversity": [["sewage stream", {"concepts": "sewage stream", "type": "concept", "cluster": "Functional Biodiversity", "node_size": 10, "label": "sewage stream"}], ["sediment", {"concepts": "sediment", "type": "concept", "cluster": "Functional Biodiversity", "node_size": 10, "label": "sediment"}], ["freshwater", {"concepts": "freshwater", "type": "concept", "cluster": "Functional Biodiversity", "node_size": 10, "label": "freshwater"}], ["nutrient pollution", {"concepts": "nutrient pollution", "type": "concept", "cluster": "Functional Biodiversity", "node_size": 10, "label": "nutrient pollution"}]], "Biodiversity Conservation": [["functional diversity", {"concepts": "functional diversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "functional diversity"}], ["functional group biodiversity", {"concepts": "functional group biodiversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "functional group biodiversity"}], ["diversity categories", {"concepts": "diversity categories", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "diversity categories"}], ["biodiversity components", {"concepts": "biodiversity components", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "biodiversity components"}], ["ecological diversity", {"concepts": "ecological diversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "ecological diversity"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "biodiversity"}], ["functional group diversity", {"concepts": "functional group diversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "functional group diversity"}]], "Nutrient Management": [["biodiversity impact", {"concepts": "biodiversity impact", "type": "concept", "cluster": "Nutrient Management", "node_size": 10, "label": "biodiversity impact"}], ["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Nutrient Management", "node_size": 10, "label": "conservation concern"}], ["biodiversity index", {"concepts": "biodiversity index", "type": "concept", "cluster": "Nutrient Management", "node_size": 10, "label": "biodiversity index"}], ["biodiversity management", {"concepts": "biodiversity management", "type": "concept", "cluster": "Nutrient Management", "node_size": 10, "label": "biodiversity management"}], ["species richness", {"concepts": "species richness", "type": "concept", "cluster": "Nutrient Management", "node_size": 10, "label": "species richness"}], ["benthos diversity", {"concepts": "benthos diversity", "type": "concept", "cluster": "Nutrient Management", "node_size": 10, "label": "benthos diversity"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Nutrient Management", "node_size": 10, "label": "species of conservation concern"}], ["biodiversity condition", {"concepts": "biodiversity condition", "type": "concept", "cluster": "Nutrient Management", "node_size": 10, "label": "biodiversity condition"}]], "Species Tolerance": [["burrowing fauna", {"concepts": "burrowing fauna", "type": "concept", "cluster": "Species Tolerance", "node_size": 10, "label": "burrowing fauna"}], ["surface burrowing fauna", {"concepts": "surface burrowing fauna", "type": "concept", "cluster": "Species Tolerance", "node_size": 10, "label": "surface burrowing fauna"}], ["deep-burrowing fauna", {"concepts": "deep-burrowing fauna", "type": "concept", "cluster": "Species Tolerance", "node_size": 10, "label": "deep-burrowing fauna"}], ["sediment fauna", {"concepts": "sediment fauna", "type": "concept", "cluster": "Species Tolerance", "node_size": 10, "label": "sediment fauna"}], ["invertebrates", {"concepts": "invertebrates", "type": "concept", "cluster": "Species Tolerance", "node_size": 10, "label": "invertebrates"}], ["clear water species", {"concepts": "clear water species", "type": "concept", "cluster": "Species Tolerance", "node_size": 10, "label": "clear water species"}]], "Species Ecology": [["species replacement", {"concepts": "species replacement", "type": "concept", "cluster": "Species Ecology", "node_size": 10, "label": "species replacement"}], ["species conservation", {"concepts": "species conservation", "type": "concept", "cluster": "Species Ecology", "node_size": 10, "label": "species conservation"}], ["species distribution", {"concepts": "species distribution", "type": "concept", "cluster": "Species Ecology", "node_size": 10, "label": "species distribution"}], ["species diversity", {"concepts": "species diversity", "type": "concept", "cluster": "Species Ecology", "node_size": 10, "label": "species diversity"}], ["species identification", {"concepts": "species identification", "type": "concept", "cluster": "Species Ecology", "node_size": 10, "label": "species identification"}], ["species interactions", {"concepts": "species interactions", "type": "concept", "cluster": "Species Ecology", "node_size": 10, "label": "species interactions"}], ["food web species", {"concepts": "food web species", "type": "concept", "cluster": "Species Ecology", "node_size": 10, "label": "food web species"}], ["species competition", {"concepts": "species competition", "type": "concept", "cluster": "Species Ecology", "node_size": 10, "label": "species competition"}], ["species abundance", {"concepts": "species abundance", "type": "concept", "cluster": "Species Ecology", "node_size": 10, "label": "species abundance"}]], "Benthic Marine Habitat": [["deepwater habitat", {"concepts": "deepwater habitat", "type": "concept", "cluster": "Benthic Marine Habitat", "node_size": 10, "label": "deepwater habitat"}], ["seafloor fauna", {"concepts": "seafloor fauna", "type": "concept", "cluster": "Benthic Marine Habitat", "node_size": 10, "label": "seafloor fauna"}], ["marine setting", {"concepts": "marine setting", "type": "concept", "cluster": "Benthic Marine Habitat", "node_size": 10, "label": "marine setting"}], ["benthic habitat", {"concepts": "benthic habitat", "type": "concept", "cluster": "Benthic Marine Habitat", "node_size": 10, "label": "benthic habitat"}], ["benthic diversity", {"concepts": "benthic diversity", "type": "concept", "cluster": "Benthic Marine Habitat", "node_size": 10, "label": "benthic diversity"}], ["seafloor", {"concepts": "seafloor", "type": "concept", "cluster": "Benthic Marine Habitat", "node_size": 10, "label": "seafloor"}]], "Salt Marshes": [["salt marshes", {"concepts": "salt marshes", "type": "concept", "cluster": "Salt Marshes", "node_size": 10, "label": "salt marshes"}], ["marshes", {"concepts": "marshes", "type": "concept", "cluster": "Salt Marshes", "node_size": 10, "label": "marshes"}], ["salt marsh", {"concepts": "salt marsh", "type": "concept", "cluster": "Salt Marshes", "node_size": 10, "label": "salt marsh"}]], "Coastal Habitat Assessment": [["estuarine ecology", {"concepts": "estuarine ecology", "type": "concept", "cluster": "Coastal Habitat Assessment", "node_size": 10, "label": "estuarine ecology"}], ["coastal marine ecological classification standard", {"concepts": "coastal marine ecological classification standard", "type": "concept", "cluster": "Coastal Habitat Assessment", "node_size": 10, "label": "coastal marine ecological classification standard"}], ["benthic bioassessment", {"concepts": "benthic bioassessment", "type": "concept", "cluster": "Coastal Habitat Assessment", "node_size": 10, "label": "benthic bioassessment"}], ["seagrass loss", {"concepts": "seagrass loss", "type": "concept", "cluster": "Coastal Habitat Assessment", "node_size": 10, "label": "seagrass loss"}], ["shallow water habitat", {"concepts": "shallow water habitat", "type": "concept", "cluster": "Coastal Habitat Assessment", "node_size": 10, "label": "shallow water habitat"}]], "Ecosystem Health Monitoring": [["ecological indicators", {"concepts": "ecological indicators", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "ecological indicators"}], ["ecological health", {"concepts": "ecological health", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "ecological health"}], ["index of biotic integrity", {"concepts": "index of biotic integrity", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "index of biotic integrity"}], ["environmental monitoring", {"concepts": "environmental monitoring", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "environmental monitoring"}], ["bioassessment framework", {"concepts": "bioassessment framework", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "bioassessment framework"}], ["ecosystem health", {"concepts": "ecosystem health", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "ecosystem health"}], ["ecosystem monitoring", {"concepts": "ecosystem monitoring", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "ecosystem monitoring"}], ["causal link", {"concepts": "causal link", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "causal link"}], ["ecosystem productivity", {"concepts": "ecosystem productivity", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "ecosystem productivity"}], ["ecosystem dynamics", {"concepts": "ecosystem dynamics", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "ecosystem dynamics"}], ["ecosystem resilience", {"concepts": "ecosystem resilience", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "ecosystem resilience"}], ["ecological balance", {"concepts": "ecological balance", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "ecological balance"}], ["ecological mapping", {"concepts": "ecological mapping", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "ecological mapping"}], ["healthy ecosystem", {"concepts": "healthy ecosystem", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "healthy ecosystem"}], ["ecological management", {"concepts": "ecological management", "type": "concept", "cluster": "Ecosystem Health Monitoring", "node_size": 10, "label": "ecological management"}]], "Environmental Impact": [["environmental stressors", {"concepts": "environmental stressors", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "environmental stressors"}], ["stressor", {"concepts": "stressor", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "stressor"}], ["environmental impact", {"concepts": "environmental impact", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "environmental impact"}], ["environmental sustainability", {"concepts": "environmental sustainability", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "environmental sustainability"}], ["human activities", {"concepts": "human activities", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "human activities"}], ["environmental factors", {"concepts": "environmental factors", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "environmental factors"}], ["environmental policy", {"concepts": "environmental policy", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "environmental policy"}], ["human effects", {"concepts": "human effects", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "human effects"}], ["environmental change", {"concepts": "environmental change", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "environmental change"}], ["environmental improvement", {"concepts": "environmental improvement", "type": "concept", "cluster": "Environmental Impact", "node_size": 10, "label": "environmental improvement"}]], "Nature Appreciation & Support": [["beauty of nature", {"concepts": "beauty of nature", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "beauty of nature"}], ["nature", {"concepts": "nature", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "nature"}], ["enjoyment of nature", {"concepts": "enjoyment of nature", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "enjoyment of nature"}], ["nature enjoyment", {"concepts": "nature enjoyment", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "nature enjoyment"}], ["human-nature interaction", {"concepts": "human-nature interaction", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "human-nature interaction"}], ["aesthetic value", {"concepts": "aesthetic value", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "aesthetic value"}], ["society", {"concepts": "society", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "society"}], ["social factors", {"concepts": "social factors", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "social factors"}], ["environmental education", {"concepts": "environmental education", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "environmental education"}], ["environmental support", {"concepts": "environmental support", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "environmental support"}], ["environmental awareness", {"concepts": "environmental awareness", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "environmental awareness"}], ["fishing", {"concepts": "fishing", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "fishing"}], ["public support", {"concepts": "public support", "type": "concept", "cluster": "Nature Appreciation & Support", "node_size": 10, "label": "public support"}]], "Marine Biodiversity Monitoring": [["plankton", {"concepts": "plankton", "type": "concept", "cluster": "Marine Biodiversity Monitoring", "node_size": 10, "label": "plankton"}], ["taxonomy", {"concepts": "taxonomy", "type": "concept", "cluster": "Marine Biodiversity Monitoring", "node_size": 10, "label": "taxonomy"}], ["camera systems", {"concepts": "camera systems", "type": "concept", "cluster": "Marine Biodiversity Monitoring", "node_size": 10, "label": "camera systems"}], ["epifauna", {"concepts": "epifauna", "type": "concept", "cluster": "Marine Biodiversity Monitoring", "node_size": 10, "label": "epifauna"}], ["creeks", {"concepts": "creeks", "type": "concept", "cluster": "Marine Biodiversity Monitoring", "node_size": 10, "label": "creeks"}], ["beaches", {"concepts": "beaches", "type": "concept", "cluster": "Marine Biodiversity Monitoring", "node_size": 10, "label": "beaches"}], ["fishes", {"concepts": "fishes", "type": "concept", "cluster": "Marine Biodiversity Monitoring", "node_size": 10, "label": "fishes"}], ["tube-building fauna", {"concepts": "tube-building fauna", "type": "concept", "cluster": "Marine Biodiversity Monitoring", "node_size": 10, "label": "tube-building fauna"}], ["tube building fauna", {"concepts": "tube building fauna", "type": "concept", "cluster": "Marine Biodiversity Monitoring", "node_size": 10, "label": "tube building fauna"}]], "Environmental Decision Making": [["decision making", {"concepts": "decision making", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "decision making"}], ["ecosystem connectivity", {"concepts": "ecosystem connectivity", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "ecosystem connectivity"}], ["environmental stewardship", {"concepts": "environmental stewardship", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "environmental stewardship"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "mental modeler"}], ["environmental governance", {"concepts": "environmental governance", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "environmental governance"}], ["decision making tools", {"concepts": "decision making tools", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "decision making tools"}], ["ecosystem functions", {"concepts": "ecosystem functions", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "ecosystem functions"}], ["development", {"concepts": "development", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "development"}], ["social willingness", {"concepts": "social willingness", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "social willingness"}], ["cartography", {"concepts": "cartography", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "cartography"}], ["willingness to support", {"concepts": "willingness to support", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "willingness to support"}], ["regulatory purposes", {"concepts": "regulatory purposes", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "regulatory purposes"}], ["ecosystem", {"concepts": "ecosystem", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "ecosystem"}], ["ecosystem services valuation", {"concepts": "ecosystem services valuation", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "ecosystem services valuation"}], ["environmental decision making", {"concepts": "environmental decision making", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "environmental decision making"}], ["environmental benefits", {"concepts": "environmental benefits", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "environmental benefits"}], ["environmental management", {"concepts": "environmental management", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "environmental management"}], ["environmental management decisions", {"concepts": "environmental management decisions", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "environmental management decisions"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "ecosystem services"}], ["contract staff", {"concepts": "contract staff", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "contract staff"}], ["environmental decision-making", {"concepts": "environmental decision-making", "type": "concept", "cluster": "Environmental Decision Making", "node_size": 10, "label": "environmental decision-making"}]], "Ecological Management Networks": [["non-regulatory management", {"concepts": "non-regulatory management", "type": "concept", "cluster": "Ecological Management Networks", "node_size": 10, "label": "non-regulatory management"}], ["cmecs", {"concepts": "cmecs", "type": "concept", "cluster": "Ecological Management Networks", "node_size": 10, "label": "cmecs"}], ["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Ecological Management Networks", "node_size": 10, "label": "noaa"}], ["ecological condition", {"concepts": "ecological condition", "type": "concept", "cluster": "Ecological Management Networks", "node_size": 10, "label": "ecological condition"}], ["ecological networks", {"concepts": "ecological networks", "type": "concept", "cluster": "Ecological Management Networks", "node_size": 10, "label": "ecological networks"}]], "Oxygen Distribution": [["oxygen stratification", {"concepts": "oxygen stratification", "type": "concept", "cluster": "Oxygen Distribution", "node_size": 10, "label": "oxygen stratification"}], ["oxygen gradient", {"concepts": "oxygen gradient", "type": "concept", "cluster": "Oxygen Distribution", "node_size": 10, "label": "oxygen gradient"}]], "Oxygen Deficiency": [["anoxia", {"concepts": "anoxia", "type": "concept", "cluster": "Oxygen Deficiency", "node_size": 10, "label": "anoxia"}], ["hypoxia", {"concepts": "hypoxia", "type": "concept", "cluster": "Oxygen Deficiency", "node_size": 10, "label": "hypoxia"}], ["oxygen depletion", {"concepts": "oxygen depletion", "type": "concept", "cluster": "Oxygen Deficiency", "node_size": 10, "label": "oxygen depletion"}], ["nutrient-driven hypoxia", {"concepts": "nutrient-driven hypoxia", "type": "concept", "cluster": "Oxygen Deficiency", "node_size": 10, "label": "nutrient-driven hypoxia"}], ["dissolved oxygen", {"concepts": "dissolved oxygen", "type": "concept", "cluster": "Oxygen Deficiency", "node_size": 10, "label": "dissolved oxygen"}]], "Habitat Formation": [["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Habitat Formation", "node_size": 10, "label": "habitat forming species"}], ["habitat-forming species", {"concepts": "habitat-forming species", "type": "concept", "cluster": "Habitat Formation", "node_size": 10, "label": "habitat-forming species"}]], "Habitat Diversity": [["habitat complexity", {"concepts": "habitat complexity", "type": "concept", "cluster": "Habitat Diversity", "node_size": 10, "label": "habitat complexity"}], ["habitat mosaics", {"concepts": "habitat mosaics", "type": "concept", "cluster": "Habitat Diversity", "node_size": 10, "label": "habitat mosaics"}], ["habitat diversity", {"concepts": "habitat diversity", "type": "concept", "cluster": "Habitat Diversity", "node_size": 10, "label": "habitat diversity"}], ["habitat biodiversity", {"concepts": "habitat biodiversity", "type": "concept", "cluster": "Habitat Diversity", "node_size": 10, "label": "habitat biodiversity"}]], "Habitat Conservation": [["habitat restoration", {"concepts": "habitat restoration", "type": "concept", "cluster": "Habitat Conservation", "node_size": 10, "label": "habitat restoration"}], ["habitat protection", {"concepts": "habitat protection", "type": "concept", "cluster": "Habitat Conservation", "node_size": 10, "label": "habitat protection"}]], "Habitat Degradation": [["habitat loss", {"concepts": "habitat loss", "type": "concept", "cluster": "Habitat Degradation", "node_size": 10, "label": "habitat loss"}], ["habitat destruction", {"concepts": "habitat destruction", "type": "concept", "cluster": "Habitat Degradation", "node_size": 10, "label": "habitat destruction"}], ["habitat fragmentation", {"concepts": "habitat fragmentation", "type": "concept", "cluster": "Habitat Degradation", "node_size": 10, "label": "habitat fragmentation"}]], "Habitat Assessment": [["habitat quality", {"concepts": "habitat quality", "type": "concept", "cluster": "Habitat Assessment", "node_size": 10, "label": "habitat quality"}], ["historical habitat data", {"concepts": "historical habitat data", "type": "concept", "cluster": "Habitat Assessment", "node_size": 10, "label": "historical habitat data"}]]};
        const clusterEdges = {"Water Quality Issues": [], "Pollution Sources": [], "Functional Biodiversity": [], "Biodiversity Conservation": [], "Nutrient Management": [], "Species Tolerance": [], "Species Ecology": [], "Benthic Marine Habitat": [], "Salt Marshes": [], "Coastal Habitat Assessment": [], "Ecosystem Health Monitoring": [], "Environmental Impact": [], "Nature Appreciation & Support": [], "Marine Biodiversity Monitoring": [], "Environmental Decision Making": [], "Ecological Management Networks": [], "Oxygen Distribution": [], "Oxygen Deficiency": [], "Habitat Formation": [], "Habitat Diversity": [], "Habitat Conservation": [], "Habitat Degradation": [], "Habitat Assessment": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
