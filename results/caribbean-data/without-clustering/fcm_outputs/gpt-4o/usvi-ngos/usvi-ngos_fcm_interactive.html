
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization (Unconnected nodes removed)</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"grammanik banks": {"concepts": "grammanik banks", "concept_list": ["grammanik banks"], "type": "cluster", "node_size": 18, "label": "grammanik banks"}, "coral reef funding": {"concepts": "coral reef funding", "concept_list": ["coral reef funding"], "type": "cluster", "node_size": 18, "label": "coral reef funding"}, "hurricanes": {"concepts": "hurricanes", "concept_list": ["hurricanes"], "type": "cluster", "node_size": 18, "label": "hurricanes"}, "sustainable fisheries": {"concepts": "sustainable fisheries", "concept_list": ["sustainable fisheries"], "type": "cluster", "node_size": 18, "label": "sustainable fisheries"}, "high temperatures": {"concepts": "high temperatures", "concept_list": ["high temperatures"], "type": "cluster", "node_size": 18, "label": "high temperatures"}, "fisheries dependence": {"concepts": "fisheries dependence", "concept_list": ["fisheries dependence"], "type": "cluster", "node_size": 18, "label": "fisheries dependence"}, "fish pots": {"concepts": "fish pots", "concept_list": ["fish pots"], "type": "cluster", "node_size": 18, "label": "fish pots"}, "grow tables": {"concepts": "grow tables", "concept_list": ["grow tables"], "type": "cluster", "node_size": 18, "label": "grow tables"}, "cultural identity": {"concepts": "cultural identity", "concept_list": ["cultural identity"], "type": "cluster", "node_size": 18, "label": "cultural identity"}, "coral tagging": {"concepts": "coral tagging", "concept_list": ["coral tagging"], "type": "cluster", "node_size": 18, "label": "coral tagging"}, "researchers": {"concepts": "researchers", "concept_list": ["researchers"], "type": "cluster", "node_size": 18, "label": "researchers"}, "nitrates": {"concepts": "nitrates", "concept_list": ["nitrates"], "type": "cluster", "node_size": 18, "label": "nitrates"}, "amoxicillin": {"concepts": "amoxicillin", "concept_list": ["amoxicillin"], "type": "cluster", "node_size": 18, "label": "amoxicillin"}, "l'oreal": {"concepts": "l'oreal", "concept_list": ["l'oreal"], "type": "cluster", "node_size": 18, "label": "l'oreal"}, "usvi fisheries": {"concepts": "usvi fisheries", "concept_list": ["usvi fisheries"], "type": "cluster", "node_size": 18, "label": "usvi fisheries"}, "antibiotics": {"concepts": "antibiotics", "concept_list": ["antibiotics"], "type": "cluster", "node_size": 18, "label": "antibiotics"}, "coral reef solutions": {"concepts": "coral reef solutions", "concept_list": ["coral reef solutions"], "type": "cluster", "node_size": 18, "label": "coral reef solutions"}, "coral reef projections": {"concepts": "coral reef projections", "concept_list": ["coral reef projections"], "type": "cluster", "node_size": 18, "label": "coral reef projections"}, "coral reef partnerships": {"concepts": "coral reef partnerships", "concept_list": ["coral reef partnerships"], "type": "cluster", "node_size": 18, "label": "coral reef partnerships"}, "coral reef vulnerabilities": {"concepts": "coral reef vulnerabilities", "concept_list": ["coral reef vulnerabilities"], "type": "cluster", "node_size": 18, "label": "coral reef vulnerabilities"}, "coral decline": {"concepts": "coral decline", "concept_list": ["coral decline"], "type": "cluster", "node_size": 18, "label": "coral decline"}, "communication": {"concepts": "communication", "concept_list": ["communication"], "type": "cluster", "node_size": 18, "label": "communication"}, "coral reef intentions": {"concepts": "coral reef intentions", "concept_list": ["coral reef intentions"], "type": "cluster", "node_size": 18, "label": "coral reef intentions"}, "coral reef initiatives": {"concepts": "coral reef initiatives", "concept_list": ["coral reef initiatives"], "type": "cluster", "node_size": 18, "label": "coral reef initiatives"}, "animal husbandry": {"concepts": "animal husbandry", "concept_list": ["animal husbandry"], "type": "cluster", "node_size": 18, "label": "animal husbandry"}, "coral reef changes": {"concepts": "coral reef changes", "concept_list": ["coral reef changes"], "type": "cluster", "node_size": 18, "label": "coral reef changes"}, "coral reef aims": {"concepts": "coral reef aims", "concept_list": ["coral reef aims"], "type": "cluster", "node_size": 18, "label": "coral reef aims"}, "fisheries councils": {"concepts": "fisheries councils", "concept_list": ["fisheries councils"], "type": "cluster", "node_size": 18, "label": "fisheries councils"}, "pelagic fish": {"concepts": "pelagic fish", "concept_list": ["pelagic fish"], "type": "cluster", "node_size": 18, "label": "pelagic fish"}, "coral reef protocols": {"concepts": "coral reef protocols", "concept_list": ["coral reef protocols"], "type": "cluster", "node_size": 18, "label": "coral reef protocols"}, "collaboration group": {"concepts": "collaboration group", "concept_list": ["collaboration group"], "type": "cluster", "node_size": 18, "label": "collaboration group"}, "diving": {"concepts": "diving", "concept_list": ["diving"], "type": "cluster", "node_size": 18, "label": "diving"}, "grouper": {"concepts": "grouper", "concept_list": ["grouper"], "type": "cluster", "node_size": 18, "label": "grouper"}, "coral reef requirements": {"concepts": "coral reef requirements", "concept_list": ["coral reef requirements"], "type": "cluster", "node_size": 18, "label": "coral reef requirements"}, "coral reef policy": {"concepts": "coral reef policy", "concept_list": ["coral reef policy"], "type": "cluster", "node_size": 18, "label": "coral reef policy"}, "pathogen": {"concepts": "pathogen", "concept_list": ["pathogen"], "type": "cluster", "node_size": 18, "label": "pathogen"}, "commercial fishers": {"concepts": "commercial fishers", "concept_list": ["commercial fishers"], "type": "cluster", "node_size": 18, "label": "commercial fishers"}, "dynamic shift": {"concepts": "dynamic shift", "concept_list": ["dynamic shift"], "type": "cluster", "node_size": 18, "label": "dynamic shift"}, "fish populations": {"concepts": "fish populations", "concept_list": ["fish populations"], "type": "cluster", "node_size": 18, "label": "fish populations"}, "coral reef education": {"concepts": "coral reef education", "concept_list": ["coral reef education"], "type": "cluster", "node_size": 18, "label": "coral reef education"}, "coral reef relationships": {"concepts": "coral reef relationships", "concept_list": ["coral reef relationships"], "type": "cluster", "node_size": 18, "label": "coral reef relationships"}, "coral reef decline": {"concepts": "coral reef decline", "concept_list": ["coral reef decline"], "type": "cluster", "node_size": 18, "label": "coral reef decline"}, "older generation": {"concepts": "older generation", "concept_list": ["older generation"], "type": "cluster", "node_size": 18, "label": "older generation"}, "coral larval stage": {"concepts": "coral larval stage", "concept_list": ["coral larval stage"], "type": "cluster", "node_size": 18, "label": "coral larval stage"}, "coral reef pressures": {"concepts": "coral reef pressures", "concept_list": ["coral reef pressures"], "type": "cluster", "node_size": 18, "label": "coral reef pressures"}, "national park service": {"concepts": "national park service", "concept_list": ["national park service"], "type": "cluster", "node_size": 18, "label": "national park service"}, "core": {"concepts": "core", "concept_list": ["core"], "type": "cluster", "node_size": 18, "label": "core"}, "tourism outreach": {"concepts": "tourism outreach", "concept_list": ["tourism outreach"], "type": "cluster", "node_size": 18, "label": "tourism outreach"}, "corals": {"concepts": "corals", "concept_list": ["corals"], "type": "cluster", "node_size": 18, "label": "corals"}, "coral reef resources": {"concepts": "coral reef resources", "concept_list": ["coral reef resources"], "type": "cluster", "node_size": 18, "label": "coral reef resources"}, "healthy reefs": {"concepts": "healthy reefs", "concept_list": ["healthy reefs"], "type": "cluster", "node_size": 18, "label": "healthy reefs"}, "coral reef cycles": {"concepts": "coral reef cycles", "concept_list": ["coral reef cycles"], "type": "cluster", "node_size": 18, "label": "coral reef cycles"}, "catch limits": {"concepts": "catch limits", "concept_list": ["catch limits"], "type": "cluster", "node_size": 18, "label": "catch limits"}, "coral reef guidelines": {"concepts": "coral reef guidelines", "concept_list": ["coral reef guidelines"], "type": "cluster", "node_size": 18, "label": "coral reef guidelines"}, "orbicellas": {"concepts": "orbicellas", "concept_list": ["orbicellas"], "type": "cluster", "node_size": 18, "label": "orbicellas"}, "coral reef communities": {"concepts": "coral reef communities", "concept_list": ["coral reef communities"], "type": "cluster", "node_size": 18, "label": "coral reef communities"}, "coral reef impact": {"concepts": "coral reef impact", "concept_list": ["coral reef impact"], "type": "cluster", "node_size": 18, "label": "coral reef impact"}, "coral reef aspirations": {"concepts": "coral reef aspirations", "concept_list": ["coral reef aspirations"], "type": "cluster", "node_size": 18, "label": "coral reef aspirations"}, "septic tanks": {"concepts": "septic tanks", "concept_list": ["septic tanks"], "type": "cluster", "node_size": 18, "label": "septic tanks"}, "coral reef methods": {"concepts": "coral reef methods", "concept_list": ["coral reef methods"], "type": "cluster", "node_size": 18, "label": "coral reef methods"}, "commercial waste": {"concepts": "commercial waste", "concept_list": ["commercial waste"], "type": "cluster", "node_size": 18, "label": "commercial waste"}, "coral reefs": {"concepts": "coral reefs", "concept_list": ["coral reefs"], "type": "cluster", "node_size": 18, "label": "coral reefs"}, "tourism revenue": {"concepts": "tourism revenue", "concept_list": ["tourism revenue"], "type": "cluster", "node_size": 18, "label": "tourism revenue"}, "coral reef dependencies": {"concepts": "coral reef dependencies", "concept_list": ["coral reef dependencies"], "type": "cluster", "node_size": 18, "label": "coral reef dependencies"}, "cultural importance": {"concepts": "cultural importance", "concept_list": ["cultural importance"], "type": "cluster", "node_size": 18, "label": "cultural importance"}, "fringing reef": {"concepts": "fringing reef", "concept_list": ["fringing reef"], "type": "cluster", "node_size": 18, "label": "fringing reef"}, "territorial waters": {"concepts": "territorial waters", "concept_list": ["territorial waters"], "type": "cluster", "node_size": 18, "label": "territorial waters"}, "spawning aggregation": {"concepts": "spawning aggregation", "concept_list": ["spawning aggregation"], "type": "cluster", "node_size": 18, "label": "spawning aggregation"}, "coral reef effects": {"concepts": "coral reef effects", "concept_list": ["coral reef effects"], "type": "cluster", "node_size": 18, "label": "coral reef effects"}, "toxic sunscreens": {"concepts": "toxic sunscreens", "concept_list": ["toxic sunscreens"], "type": "cluster", "node_size": 18, "label": "toxic sunscreens"}, "marine science camp": {"concepts": "marine science camp", "concept_list": ["marine science camp"], "type": "cluster", "node_size": 18, "label": "marine science camp"}, "coral reef standards": {"concepts": "coral reef standards", "concept_list": ["coral reef standards"], "type": "cluster", "node_size": 18, "label": "coral reef standards"}, "mangroves": {"concepts": "mangroves", "concept_list": ["mangroves"], "type": "cluster", "node_size": 18, "label": "mangroves"}, "university of the virgin islands": {"concepts": "university of the virgin islands", "concept_list": ["university of the virgin islands"], "type": "cluster", "node_size": 18, "label": "university of the virgin islands"}, "coral reef feedbacks": {"concepts": "coral reef feedbacks", "concept_list": ["coral reef feedbacks"], "type": "cluster", "node_size": 18, "label": "coral reef feedbacks"}, "spawning season": {"concepts": "spawning season", "concept_list": ["spawning season"], "type": "cluster", "node_size": 18, "label": "spawning season"}, "infection": {"concepts": "infection", "concept_list": ["infection"], "type": "cluster", "node_size": 18, "label": "infection"}, "coral reef preferences": {"concepts": "coral reef preferences", "concept_list": ["coral reef preferences"], "type": "cluster", "node_size": 18, "label": "coral reef preferences"}, "usvi fishery managers": {"concepts": "usvi fishery managers", "concept_list": ["usvi fishery managers"], "type": "cluster", "node_size": 18, "label": "usvi fishery managers"}, "food chain": {"concepts": "food chain", "concept_list": ["food chain"], "type": "cluster", "node_size": 18, "label": "food chain"}, "irresponsible development": {"concepts": "irresponsible development", "concept_list": ["irresponsible development"], "type": "cluster", "node_size": 18, "label": "irresponsible development"}, "coral reef strategies": {"concepts": "coral reef strategies", "concept_list": ["coral reef strategies"], "type": "cluster", "node_size": 18, "label": "coral reef strategies"}, "coral reef objectives": {"concepts": "coral reef objectives", "concept_list": ["coral reef objectives"], "type": "cluster", "node_size": 18, "label": "coral reef objectives"}, "coral reef desires": {"concepts": "coral reef desires", "concept_list": ["coral reef desires"], "type": "cluster", "node_size": 18, "label": "coral reef desires"}, "development practices": {"concepts": "development practices", "concept_list": ["development practices"], "type": "cluster", "node_size": 18, "label": "development practices"}, "competition": {"concepts": "competition", "concept_list": ["competition"], "type": "cluster", "node_size": 18, "label": "competition"}, "seaweed blooms": {"concepts": "seaweed blooms", "concept_list": ["seaweed blooms"], "type": "cluster", "node_size": 18, "label": "seaweed blooms"}, "community": {"concepts": "community", "concept_list": ["community"], "type": "cluster", "node_size": 18, "label": "community"}, "fishery researchers": {"concepts": "fishery researchers", "concept_list": ["fishery researchers"], "type": "cluster", "node_size": 18, "label": "fishery researchers"}, "coral reef recovery": {"concepts": "coral reef recovery", "concept_list": ["coral reef recovery"], "type": "cluster", "node_size": 18, "label": "coral reef recovery"}, "coral reef techniques": {"concepts": "coral reef techniques", "concept_list": ["coral reef techniques"], "type": "cluster", "node_size": 18, "label": "coral reef techniques"}, "pollution": {"concepts": "pollution", "concept_list": ["pollution"], "type": "cluster", "node_size": 18, "label": "pollution"}, "disease resistant corals": {"concepts": "disease resistant corals", "concept_list": ["disease resistant corals"], "type": "cluster", "node_size": 18, "label": "disease resistant corals"}, "fisheries": {"concepts": "fisheries", "concept_list": ["fisheries"], "type": "cluster", "node_size": 18, "label": "fisheries"}, "coral reef drivers": {"concepts": "coral reef drivers", "concept_list": ["coral reef drivers"], "type": "cluster", "node_size": 18, "label": "coral reef drivers"}, "coral reef priorities": {"concepts": "coral reef priorities", "concept_list": ["coral reef priorities"], "type": "cluster", "node_size": 18, "label": "coral reef priorities"}, "coral head": {"concepts": "coral head", "concept_list": ["coral head"], "type": "cluster", "node_size": 18, "label": "coral head"}, "farming": {"concepts": "farming", "concept_list": ["farming"], "type": "cluster", "node_size": 18, "label": "farming"}, "endemic zone": {"concepts": "endemic zone", "concept_list": ["endemic zone"], "type": "cluster", "node_size": 18, "label": "endemic zone"}, "coral reef importance": {"concepts": "coral reef importance", "concept_list": ["coral reef importance"], "type": "cluster", "node_size": 18, "label": "coral reef importance"}, "electron microscope": {"concepts": "electron microscope", "concept_list": ["electron microscope"], "type": "cluster", "node_size": 18, "label": "electron microscope"}, "white plague": {"concepts": "white plague", "concept_list": ["white plague"], "type": "cluster", "node_size": 18, "label": "white plague"}, "coral treatment": {"concepts": "coral treatment", "concept_list": ["coral treatment"], "type": "cluster", "node_size": 18, "label": "coral treatment"}, "coral reef networks": {"concepts": "coral reef networks", "concept_list": ["coral reef networks"], "type": "cluster", "node_size": 18, "label": "coral reef networks"}, "micro-fragmentation": {"concepts": "micro-fragmentation", "concept_list": ["micro-fragmentation"], "type": "cluster", "node_size": 18, "label": "micro-fragmentation"}, "juvenile fish habitat": {"concepts": "juvenile fish habitat", "concept_list": ["juvenile fish habitat"], "type": "cluster", "node_size": 18, "label": "juvenile fish habitat"}, "monitoring station": {"concepts": "monitoring station", "concept_list": ["monitoring station"], "type": "cluster", "node_size": 18, "label": "monitoring station"}, "oceans": {"concepts": "oceans", "concept_list": ["oceans"], "type": "cluster", "node_size": 18, "label": "oceans"}, "cultural differences": {"concepts": "cultural differences", "concept_list": ["cultural differences"], "type": "cluster", "node_size": 18, "label": "cultural differences"}, "bacteria": {"concepts": "bacteria", "concept_list": ["bacteria"], "type": "cluster", "node_size": 18, "label": "bacteria"}, "coral reef survival": {"concepts": "coral reef survival", "concept_list": ["coral reef survival"], "type": "cluster", "node_size": 18, "label": "coral reef survival"}, "conservation efforts": {"concepts": "conservation efforts", "concept_list": ["conservation efforts"], "type": "cluster", "node_size": 18, "label": "conservation efforts"}, "irma": {"concepts": "irma", "concept_list": ["irma"], "type": "cluster", "node_size": 18, "label": "irma"}, "coral reef adaptations": {"concepts": "coral reef adaptations", "concept_list": ["coral reef adaptations"], "type": "cluster", "node_size": 18, "label": "coral reef adaptations"}, "coral reef approaches": {"concepts": "coral reef approaches", "concept_list": ["coral reef approaches"], "type": "cluster", "node_size": 18, "label": "coral reef approaches"}, "coral reef significance": {"concepts": "coral reef significance", "concept_list": ["coral reef significance"], "type": "cluster", "node_size": 18, "label": "coral reef significance"}, "coral reef futures": {"concepts": "coral reef futures", "concept_list": ["coral reef futures"], "type": "cluster", "node_size": 18, "label": "coral reef futures"}, "coral reef impacts": {"concepts": "coral reef impacts", "concept_list": ["coral reef impacts"], "type": "cluster", "node_size": 18, "label": "coral reef impacts"}, "marine biologists": {"concepts": "marine biologists", "concept_list": ["marine biologists"], "type": "cluster", "node_size": 18, "label": "marine biologists"}, "coral reef periods": {"concepts": "coral reef periods", "concept_list": ["coral reef periods"], "type": "cluster", "node_size": 18, "label": "coral reef periods"}, "pathogens": {"concepts": "pathogens", "concept_list": ["pathogens"], "type": "cluster", "node_size": 18, "label": "pathogens"}, "coral reef management": {"concepts": "coral reef management", "concept_list": ["coral reef management"], "type": "cluster", "node_size": 18, "label": "coral reef management"}, "authorities": {"concepts": "authorities", "concept_list": ["authorities"], "type": "cluster", "node_size": 18, "label": "authorities"}, "coral reef opportunities": {"concepts": "coral reef opportunities", "concept_list": ["coral reef opportunities"], "type": "cluster", "node_size": 18, "label": "coral reef opportunities"}, "council meetings": {"concepts": "council meetings", "concept_list": ["council meetings"], "type": "cluster", "node_size": 18, "label": "council meetings"}, "marine biologist": {"concepts": "marine biologist", "concept_list": ["marine biologist"], "type": "cluster", "node_size": 18, "label": "marine biologist"}, "federal government": {"concepts": "federal government", "concept_list": ["federal government"], "type": "cluster", "node_size": 18, "label": "federal government"}, "lionfish removal": {"concepts": "lionfish removal", "concept_list": ["lionfish removal"], "type": "cluster", "node_size": 18, "label": "lionfish removal"}, "fisheries management": {"concepts": "fisheries management", "concept_list": ["fisheries management"], "type": "cluster", "node_size": 18, "label": "fisheries management"}, "outreach campaigns": {"concepts": "outreach campaigns", "concept_list": ["outreach campaigns"], "type": "cluster", "node_size": 18, "label": "outreach campaigns"}, "coral reef health": {"concepts": "coral reef health", "concept_list": ["coral reef health"], "type": "cluster", "node_size": 18, "label": "coral reef health"}, "coral reef": {"concepts": "coral reef", "concept_list": ["coral reef"], "type": "cluster", "node_size": 18, "label": "coral reef"}, "coral reef missions": {"concepts": "coral reef missions", "concept_list": ["coral reef missions"], "type": "cluster", "node_size": 18, "label": "coral reef missions"}, "coral reef research": {"concepts": "coral reef research", "concept_list": ["coral reef research"], "type": "cluster", "node_size": 18, "label": "coral reef research"}, "us virgin islands": {"concepts": "us virgin islands", "concept_list": ["us virgin islands"], "type": "cluster", "node_size": 18, "label": "us virgin islands"}, "coral reef loss": {"concepts": "coral reef loss", "concept_list": ["coral reef loss"], "type": "cluster", "node_size": 18, "label": "coral reef loss"}, "coral reef needs": {"concepts": "coral reef needs", "concept_list": ["coral reef needs"], "type": "cluster", "node_size": 18, "label": "coral reef needs"}, "reef responsible program": {"concepts": "reef responsible program", "concept_list": ["reef responsible program"], "type": "cluster", "node_size": 18, "label": "reef responsible program"}, "management decisions": {"concepts": "management decisions", "concept_list": ["management decisions"], "type": "cluster", "node_size": 18, "label": "management decisions"}, "coral reef purposes": {"concepts": "coral reef purposes", "concept_list": ["coral reef purposes"], "type": "cluster", "node_size": 18, "label": "coral reef purposes"}, "usvi fishers": {"concepts": "usvi fishers", "concept_list": ["usvi fishers"], "type": "cluster", "node_size": 18, "label": "usvi fishers"}, "coral reef projects": {"concepts": "coral reef projects", "concept_list": ["coral reef projects"], "type": "cluster", "node_size": 18, "label": "coral reef projects"}, "coral reef responses": {"concepts": "coral reef responses", "concept_list": ["coral reef responses"], "type": "cluster", "node_size": 18, "label": "coral reef responses"}, "coral reef alliances": {"concepts": "coral reef alliances", "concept_list": ["coral reef alliances"], "type": "cluster", "node_size": 18, "label": "coral reef alliances"}, "coral reef patterns": {"concepts": "coral reef patterns", "concept_list": ["coral reef patterns"], "type": "cluster", "node_size": 18, "label": "coral reef patterns"}, "coral reef outreach": {"concepts": "coral reef outreach", "concept_list": ["coral reef outreach"], "type": "cluster", "node_size": 18, "label": "coral reef outreach"}, "misinformation": {"concepts": "misinformation", "concept_list": ["misinformation"], "type": "cluster", "node_size": 18, "label": "misinformation"}, "coral reef stakeholders": {"concepts": "coral reef stakeholders", "concept_list": ["coral reef stakeholders"], "type": "cluster", "node_size": 18, "label": "coral reef stakeholders"}, "division of fish and wildlife": {"concepts": "division of fish and wildlife", "concept_list": ["division of fish and wildlife"], "type": "cluster", "node_size": 18, "label": "division of fish and wildlife"}, "coral reef ecosystem": {"concepts": "coral reef ecosystem", "concept_list": ["coral reef ecosystem"], "type": "cluster", "node_size": 18, "label": "coral reef ecosystem"}, "coral reef protection": {"concepts": "coral reef protection", "concept_list": ["coral reef protection"], "type": "cluster", "node_size": 18, "label": "coral reef protection"}, "coral reef dangers": {"concepts": "coral reef dangers", "concept_list": ["coral reef dangers"], "type": "cluster", "node_size": 18, "label": "coral reef dangers"}, "education activities": {"concepts": "education activities", "concept_list": ["education activities"], "type": "cluster", "node_size": 18, "label": "education activities"}, "cruise ship docks": {"concepts": "cruise ship docks", "concept_list": ["cruise ship docks"], "type": "cluster", "node_size": 18, "label": "cruise ship docks"}, "coral health": {"concepts": "coral health", "concept_list": ["coral health"], "type": "cluster", "node_size": 18, "label": "coral health"}, "fishers": {"concepts": "fishers", "concept_list": ["fishers"], "type": "cluster", "node_size": 18, "label": "fishers"}, "coral reef trends": {"concepts": "coral reef trends", "concept_list": ["coral reef trends"], "type": "cluster", "node_size": 18, "label": "coral reef trends"}, "coral reef alternatives": {"concepts": "coral reef alternatives", "concept_list": ["coral reef alternatives"], "type": "cluster", "node_size": 18, "label": "coral reef alternatives"}, "surfrider foundation": {"concepts": "surfrider foundation", "concept_list": ["surfrider foundation"], "type": "cluster", "node_size": 18, "label": "surfrider foundation"}, "runoff": {"concepts": "runoff", "concept_list": ["runoff"], "type": "cluster", "node_size": 18, "label": "runoff"}, "environmental changes": {"concepts": "environmental changes", "concept_list": ["environmental changes"], "type": "cluster", "node_size": 18, "label": "environmental changes"}, "coral reef threats": {"concepts": "coral reef threats", "concept_list": ["coral reef threats"], "type": "cluster", "node_size": 18, "label": "coral reef threats"}, "coral reef options": {"concepts": "coral reef options", "concept_list": ["coral reef options"], "type": "cluster", "node_size": 18, "label": "coral reef options"}, "coastal communities": {"concepts": "coastal communities", "concept_list": ["coastal communities"], "type": "cluster", "node_size": 18, "label": "coastal communities"}, "nutrient pollution": {"concepts": "nutrient pollution", "concept_list": ["nutrient pollution"], "type": "cluster", "node_size": 18, "label": "nutrient pollution"}, "coral reef possibilities": {"concepts": "coral reef possibilities", "concept_list": ["coral reef possibilities"], "type": "cluster", "node_size": 18, "label": "coral reef possibilities"}, "tourism": {"concepts": "tourism", "concept_list": ["tourism"], "type": "cluster", "node_size": 18, "label": "tourism"}, "coral reef actions": {"concepts": "coral reef actions", "concept_list": ["coral reef actions"], "type": "cluster", "node_size": 18, "label": "coral reef actions"}, "gps coordinate": {"concepts": "gps coordinate", "concept_list": ["gps coordinate"], "type": "cluster", "node_size": 18, "label": "gps coordinate"}, "territorial government": {"concepts": "territorial government", "concept_list": ["territorial government"], "type": "cluster", "node_size": 18, "label": "territorial government"}, "coral reef efforts": {"concepts": "coral reef efforts", "concept_list": ["coral reef efforts"], "type": "cluster", "node_size": 18, "label": "coral reef efforts"}, "coral reef role": {"concepts": "coral reef role", "concept_list": ["coral reef role"], "type": "cluster", "node_size": 18, "label": "coral reef role"}, "stony coral tissue loss disease": {"concepts": "stony coral tissue loss disease", "concept_list": ["stony coral tissue loss disease"], "type": "cluster", "node_size": 18, "label": "stony coral tissue loss disease"}, "coral reef governance": {"concepts": "coral reef governance", "concept_list": ["coral reef governance"], "type": "cluster", "node_size": 18, "label": "coral reef governance"}, "public input": {"concepts": "public input", "concept_list": ["public input"], "type": "cluster", "node_size": 18, "label": "public input"}, "marine scientists": {"concepts": "marine scientists", "concept_list": ["marine scientists"], "type": "cluster", "node_size": 18, "label": "marine scientists"}, "coral reef technologies": {"concepts": "coral reef technologies", "concept_list": ["coral reef technologies"], "type": "cluster", "node_size": 18, "label": "coral reef technologies"}, "community relationships": {"concepts": "community relationships", "concept_list": ["community relationships"], "type": "cluster", "node_size": 18, "label": "community relationships"}, "fishing communities": {"concepts": "fishing communities", "concept_list": ["fishing communities"], "type": "cluster", "node_size": 18, "label": "fishing communities"}, "coral reef predictions": {"concepts": "coral reef predictions", "concept_list": ["coral reef predictions"], "type": "cluster", "node_size": 18, "label": "coral reef predictions"}, "veterinarian": {"concepts": "veterinarian", "concept_list": ["veterinarian"], "type": "cluster", "node_size": 18, "label": "veterinarian"}, "treatment strategies": {"concepts": "treatment strategies", "concept_list": ["treatment strategies"], "type": "cluster", "node_size": 18, "label": "treatment strategies"}, "north side": {"concepts": "north side", "concept_list": ["north side"], "type": "cluster", "node_size": 18, "label": "north side"}, "ngo": {"concepts": "ngo", "concept_list": ["ngo"], "type": "cluster", "node_size": 18, "label": "ngo"}, "oxybenzones": {"concepts": "oxybenzones", "concept_list": ["oxybenzones"], "type": "cluster", "node_size": 18, "label": "oxybenzones"}, "coral reef frameworks": {"concepts": "coral reef frameworks", "concept_list": ["coral reef frameworks"], "type": "cluster", "node_size": 18, "label": "coral reef frameworks"}, "construction": {"concepts": "construction", "concept_list": ["construction"], "type": "cluster", "node_size": 18, "label": "construction"}, "bleaching event": {"concepts": "bleaching event", "concept_list": ["bleaching event"], "type": "cluster", "node_size": 18, "label": "bleaching event"}, "mesh sizes": {"concepts": "mesh sizes", "concept_list": ["mesh sizes"], "type": "cluster", "node_size": 18, "label": "mesh sizes"}, "trapping": {"concepts": "trapping", "concept_list": ["trapping"], "type": "cluster", "node_size": 18, "label": "trapping"}, "coral reef potentials": {"concepts": "coral reef potentials", "concept_list": ["coral reef potentials"], "type": "cluster", "node_size": 18, "label": "coral reef potentials"}, "coral reef function": {"concepts": "coral reef function", "concept_list": ["coral reef function"], "type": "cluster", "node_size": 18, "label": "coral reef function"}, "coral reef influences": {"concepts": "coral reef influences", "concept_list": ["coral reef influences"], "type": "cluster", "node_size": 18, "label": "coral reef influences"}, "south florida": {"concepts": "south florida", "concept_list": ["south florida"], "type": "cluster", "node_size": 18, "label": "south florida"}, "coral reef monitoring": {"concepts": "coral reef monitoring", "concept_list": ["coral reef monitoring"], "type": "cluster", "node_size": 18, "label": "coral reef monitoring"}, "micro fragmentation": {"concepts": "micro fragmentation", "concept_list": ["micro fragmentation"], "type": "cluster", "node_size": 18, "label": "micro fragmentation"}, "decision makers": {"concepts": "decision makers", "concept_list": ["decision makers"], "type": "cluster", "node_size": 18, "label": "decision makers"}, "brain corals": {"concepts": "brain corals", "concept_list": ["brain corals"], "type": "cluster", "node_size": 18, "label": "brain corals"}, "fishery management.": {"concepts": "fishery management.", "concept_list": ["fishery management."], "type": "cluster", "node_size": 18, "label": "fishery management."}, "rivers": {"concepts": "rivers", "concept_list": ["rivers"], "type": "cluster", "node_size": 18, "label": "rivers"}, "virgin islands": {"concepts": "virgin islands", "concept_list": ["virgin islands"], "type": "cluster", "node_size": 18, "label": "virgin islands"}, "uvi collaboration": {"concepts": "uvi collaboration", "concept_list": ["uvi collaboration"], "type": "cluster", "node_size": 18, "label": "uvi collaboration"}, "lionfish": {"concepts": "lionfish", "concept_list": ["lionfish"], "type": "cluster", "node_size": 18, "label": "lionfish"}, "reef builders": {"concepts": "reef builders", "concept_list": ["reef builders"], "type": "cluster", "node_size": 18, "label": "reef builders"}, "coral reef degradation": {"concepts": "coral reef degradation", "concept_list": ["coral reef degradation"], "type": "cluster", "node_size": 18, "label": "coral reef degradation"}, "coral reef awareness": {"concepts": "coral reef awareness", "concept_list": ["coral reef awareness"], "type": "cluster", "node_size": 18, "label": "coral reef awareness"}, "environmental changes.": {"concepts": "environmental changes.", "concept_list": ["environmental changes."], "type": "cluster", "node_size": 18, "label": "environmental changes."}, "decision making": {"concepts": "decision making", "concept_list": ["decision making"], "type": "cluster", "node_size": 18, "label": "decision making"}, "habitat loss": {"concepts": "habitat loss", "concept_list": ["habitat loss"], "type": "cluster", "node_size": 18, "label": "habitat loss"}, "storms": {"concepts": "storms", "concept_list": ["storms"], "type": "cluster", "node_size": 18, "label": "storms"}, "coral reef targets": {"concepts": "coral reef targets", "concept_list": ["coral reef targets"], "type": "cluster", "node_size": 18, "label": "coral reef targets"}, "community-based group": {"concepts": "community-based group", "concept_list": ["community-based group"], "type": "cluster", "node_size": 18, "label": "community-based group"}, "fish sizes": {"concepts": "fish sizes", "concept_list": ["fish sizes"], "type": "cluster", "node_size": 18, "label": "fish sizes"}, "moat laboratories": {"concepts": "moat laboratories", "concept_list": ["moat laboratories"], "type": "cluster", "node_size": 18, "label": "moat laboratories"}, "fire break": {"concepts": "fire break", "concept_list": ["fire break"], "type": "cluster", "node_size": 18, "label": "fire break"}, "healthy fisheries": {"concepts": "healthy fisheries", "concept_list": ["healthy fisheries"], "type": "cluster", "node_size": 18, "label": "healthy fisheries"}, "nassau grouper": {"concepts": "nassau grouper", "concept_list": ["nassau grouper"], "type": "cluster", "node_size": 18, "label": "nassau grouper"}, "usgs": {"concepts": "usgs", "concept_list": ["usgs"], "type": "cluster", "node_size": 18, "label": "usgs"}, "sargassum seaweed": {"concepts": "sargassum seaweed", "concept_list": ["sargassum seaweed"], "type": "cluster", "node_size": 18, "label": "sargassum seaweed"}, "recreational fisheries": {"concepts": "recreational fisheries", "concept_list": ["recreational fisheries"], "type": "cluster", "node_size": 18, "label": "recreational fisheries"}, "coral reef goals": {"concepts": "coral reef goals", "concept_list": ["coral reef goals"], "type": "cluster", "node_size": 18, "label": "coral reef goals"}, "coral reef science": {"concepts": "coral reef science", "concept_list": ["coral reef science"], "type": "cluster", "node_size": 18, "label": "coral reef science"}, "coral reef dynamics": {"concepts": "coral reef dynamics", "concept_list": ["coral reef dynamics"], "type": "cluster", "node_size": 18, "label": "coral reef dynamics"}, "conservation": {"concepts": "conservation", "concept_list": ["conservation"], "type": "cluster", "node_size": 18, "label": "conservation"}, "epidemic": {"concepts": "epidemic", "concept_list": ["epidemic"], "type": "cluster", "node_size": 18, "label": "epidemic"}, "coral reef processes": {"concepts": "coral reef processes", "concept_list": ["coral reef processes"], "type": "cluster", "node_size": 18, "label": "coral reef processes"}, "disease invasion": {"concepts": "disease invasion", "concept_list": ["disease invasion"], "type": "cluster", "node_size": 18, "label": "disease invasion"}, "st. john": {"concepts": "st. john", "concept_list": ["st. john"], "type": "cluster", "node_size": 18, "label": "st. john"}, "coral reef choices": {"concepts": "coral reef choices", "concept_list": ["coral reef choices"], "type": "cluster", "node_size": 18, "label": "coral reef choices"}, "shoreline": {"concepts": "shoreline", "concept_list": ["shoreline"], "type": "cluster", "node_size": 18, "label": "shoreline"}, "fish stocks recovery": {"concepts": "fish stocks recovery", "concept_list": ["fish stocks recovery"], "type": "cluster", "node_size": 18, "label": "fish stocks recovery"}, "fisherman": {"concepts": "fisherman", "concept_list": ["fisherman"], "type": "cluster", "node_size": 18, "label": "fisherman"}, "sargassum": {"concepts": "sargassum", "concept_list": ["sargassum"], "type": "cluster", "node_size": 18, "label": "sargassum"}, "climate change": {"concepts": "climate change", "concept_list": ["climate change"], "type": "cluster", "node_size": 18, "label": "climate change"}, "coral reef benefits": {"concepts": "coral reef benefits", "concept_list": ["coral reef benefits"], "type": "cluster", "node_size": 18, "label": "coral reef benefits"}};
        const conceptData = {};
        const interClusterEdges = [["coral reef funding", "fringing reef", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["hurricanes", "coral reef options", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["fisheries dependence", "coral reef policy", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["coral tagging", "coral reef role", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["researchers", "development practices", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["amoxicillin", "coral reef methods", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["l'oreal", "coral health", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["l'oreal", "coral reef choices", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["usvi fisheries", "food chain", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["coral reef solutions", "tourism outreach", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["coral reef partnerships", "council meetings", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["coral reef partnerships", "coral reef resources", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["coral reef partnerships", "mesh sizes", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["coral reef partnerships", "coral reef impact", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["coral reef vulnerabilities", "ngo", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["coral decline", "coral reef dangers", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["communication", "coral reef stakeholders", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["communication", "coral larval stage", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["coral reef initiatives", "coral reef threats", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["collaboration group", "coral reef loss", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["diving", "coral reef solutions", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["grouper", "juvenile fish habitat", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["coral reef requirements", "coral reef solutions", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["pathogen", "coral reef alliances", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["commercial fishers", "coral reef partnerships", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["commercial fishers", "cultural identity", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["dynamic shift", "disease invasion", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["coral reef relationships", "marine scientists", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["older generation", "coral reef education", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["coral larval stage", "epidemic", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["coral reef pressures", "fish pots", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["coral reef pressures", "coral reef drivers", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["national park service", "usvi fishers", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["core", "coral reef cycles", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["corals", "coral reef protocols", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["healthy reefs", "coral reef influences", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["coral reef guidelines", "coral reef decline", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["orbicellas", "coral reef impact", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["septic tanks", "spawning aggregation", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["coral reefs", "fire break", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["tourism revenue", "coral reef management", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["coral reef dependencies", "catch limits", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["cultural importance", "marine biologist", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["fringing reef", "cultural differences", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["territorial waters", "seaweed blooms", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["coral reef effects", "coral reef periods", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["toxic sunscreens", "community", {"weight": -1.0, "confidence": 0.8500000000000001, "type": "inter_cluster", "style": "solid"}], ["marine science camp", "coral reef opportunities", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["coral reef standards", "antibiotics", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["mangroves", "coral larval stage", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["university of the virgin islands", "coral reef techniques", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["coral reef feedbacks", "treatment strategies", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["coral reef preferences", "coral reef science", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["usvi fishery managers", "spawning season", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["food chain", "coral reef", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["irresponsible development", "sustainable fisheries", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["irresponsible development", "coral reef communities", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["coral reef objectives", "coral reef methods", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["coral reef objectives", "fish populations", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["coral reef desires", "us virgin islands", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["competition", "coral reef health", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["seaweed blooms", "healthy fisheries", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["community", "coral reef standards", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["pollution", "coral reef targets", {"weight": -1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["disease resistant corals", "coral reef needs", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["farming", "coral reef pressures", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["farming", "coral reef communities", {"weight": -0.5, "confidence": 0.35, "type": "inter_cluster", "style": "solid"}], ["endemic zone", "fire break", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["coral reef importance", "commercial waste", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["electron microscope", "coral reef solutions", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["electron microscope", "coral reef intentions", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["white plague", "coral reef efforts", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["coral reef networks", "tourism", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["juvenile fish habitat", "infection", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["oceans", "micro-fragmentation", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["oceans", "coral reef decline", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["bacteria", "grouper", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["bacteria", "coral reef aims", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["coral reef survival", "coral reef relationships", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["conservation efforts", "veterinarian", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["conservation efforts", "coral reef changes", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["irma", "tourism revenue", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["irma", "orbicellas", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["irma", "coral reef trends", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["coral reef adaptations", "dynamic shift", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["coral reef approaches", "irma", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["coral reef approaches", "nitrates", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["coral reef significance", "uvi collaboration", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["coral reef futures", "coral head", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["coral reef futures", "coral reef priorities", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["coral reef futures", "coral reef strategies", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["coral reef impacts", "high temperatures", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["marine biologists", "spawning aggregation", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["coral reef periods", "nitrates", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["authorities", "coastal communities", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["marine biologist", "coral reef technologies", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["federal government", "grow tables", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["fisheries management", "coral reefs", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["outreach campaigns", "fish stocks recovery", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["coral reef health", "coral reef desires", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["coral reef health", "climate change", {"weight": -1.0, "confidence": 0.95, "type": "inter_cluster", "style": "solid"}], ["us virgin islands", "oceans", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["us virgin islands", "coral reef standards", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["coral reef loss", "fisheries councils", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["coral reef loss", "coral reef patterns", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["reef responsible program", "coral reef opportunities", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["management decisions", "sargassum seaweed", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["coral reef purposes", "usgs", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["coral reef purposes", "treatment strategies", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["usvi fishers", "storms", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["coral reef outreach", "coral reef governance", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["misinformation", "micro-fragmentation", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["misinformation", "conservation", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["division of fish and wildlife", "coral reef impacts", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["coral reef protection", "coral reef monitoring", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["fishers", "coral reef research", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["coral reef trends", "coral reef missions", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["surfrider foundation", "coral reef projections", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["runoff", "reef builders", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["coral reef options", "pelagic fish", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["coastal communities", "coral reef education", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["nutrient pollution", "coral reef", {"weight": -1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["nutrient pollution", "coral reef function", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["nutrient pollution", "coral reef awareness", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["coral reef possibilities", "mesh sizes", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["tourism", "coral treatment", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["coral reef actions", "coral reef ecosystem", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["gps coordinate", "coral reef frameworks", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["territorial government", "coral reef dependencies", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["coral reef role", "cruise ship docks", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["stony coral tissue loss disease", "spawning aggregation", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["coral reef governance", "tourism", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["public input", "coral reef networks", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["public input", "grammanik banks", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["marine scientists", "lionfish", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["marine scientists", "coral reef alternatives", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["coral reef technologies", "bleaching event", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["community relationships", "lionfish removal", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["coral reef predictions", "coral reef projects", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["veterinarian", "marine scientists", {"weight": 1.0, "confidence": 0.7749999999999999, "type": "inter_cluster", "style": "solid"}], ["north side", "oxybenzones", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["north side", "coral reef futures", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["oxybenzones", "coral reef recovery", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["construction", "environmental changes", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["construction", "stony coral tissue loss disease", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["trapping", "fishery management.", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["coral reef potentials", "researchers", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["south florida", "pathogens", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["micro fragmentation", "endemic zone", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["decision makers", "fishing communities", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["brain corals", "coral reef influences", {"weight": 0.5, "confidence": 0.35, "type": "inter_cluster", "style": "solid"}], ["rivers", "coral reef goals", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["rivers", "community", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["virgin islands", "cultural importance", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["uvi collaboration", "electron microscope", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["lionfish", "fishery researchers", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["coral reef degradation", "orbicellas", {"weight": -1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["environmental changes.", "fishery researchers", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["decision making", "older generation", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["habitat loss", "coral reef frameworks", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["storms", "coral reef processes", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["storms", "coral reef responses", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["coral reef targets", "education activities", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["community-based group", "territorial government", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["fish sizes", "coral reef protocols", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["moat laboratories", "coral reef predictions", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["nassau grouper", "university of the virgin islands", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["recreational fisheries", "coral decline", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["recreational fisheries", "coral reef communities", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["coral reef science", "coral reef aims", {"weight": 1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["coral reef dynamics", "coral reef pressures", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["coral reef processes", "marine science camp", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["coral reef processes", "coral reef aspirations", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["st. john", "monitoring station", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["coral reef choices", "animal husbandry", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["shoreline", "coral reef research", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["fisherman", "mesh sizes", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["sargassum", "fish stocks recovery", {"weight": -1.0, "confidence": 0.675, "type": "inter_cluster", "style": "solid"}], ["coral reef benefits", "fisheries", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {};
        const clusterEdges = {};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
