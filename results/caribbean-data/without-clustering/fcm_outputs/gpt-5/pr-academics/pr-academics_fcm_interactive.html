
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"water temperature": {"concepts": "water temperature", "concept_list": ["water temperature"], "type": "cluster", "node_size": 18, "label": "water temperature"}, "collective action": {"concepts": "collective action", "concept_list": ["collective action"], "type": "cluster", "node_size": 18, "label": "collective action"}, "cultural continuity": {"concepts": "cultural continuity", "concept_list": ["cultural continuity"], "type": "cluster", "node_size": 18, "label": "cultural continuity"}, "stakeholder engagement": {"concepts": "stakeholder engagement", "concept_list": ["stakeholder engagement"], "type": "cluster", "node_size": 18, "label": "stakeholder engagement"}, "health concerns": {"concepts": "health concerns", "concept_list": ["health concerns"], "type": "cluster", "node_size": 18, "label": "health concerns"}, "drought conditions": {"concepts": "drought conditions", "concept_list": ["drought conditions"], "type": "cluster", "node_size": 18, "label": "drought conditions"}, "resource decline": {"concepts": "resource decline", "concept_list": ["resource decline"], "type": "cluster", "node_size": 18, "label": "resource decline"}, "problem resolution": {"concepts": "problem resolution", "concept_list": ["problem resolution"], "type": "cluster", "node_size": 18, "label": "problem resolution"}, "open forum": {"concepts": "open forum", "concept_list": ["open forum"], "type": "cluster", "node_size": 18, "label": "open forum"}, "pollution impact": {"concepts": "pollution impact", "concept_list": ["pollution impact"], "type": "cluster", "node_size": 18, "label": "pollution impact"}, "hurricane risk": {"concepts": "hurricane risk", "concept_list": ["hurricane risk"], "type": "cluster", "node_size": 18, "label": "hurricane risk"}, "pit tagging": {"concepts": "pit tagging", "concept_list": ["pit tagging"], "type": "cluster", "node_size": 18, "label": "pit tagging"}, "biologists": {"concepts": "biologists", "concept_list": ["biologists"], "type": "cluster", "node_size": 18, "label": "biologists"}, "west coast refusals": {"concepts": "west coast refusals", "concept_list": ["west coast refusals"], "type": "cluster", "node_size": 18, "label": "west coast refusals"}, "fairness perception": {"concepts": "fairness perception", "concept_list": ["fairness perception"], "type": "cluster", "node_size": 18, "label": "fairness perception"}, "imported fish": {"concepts": "imported fish", "concept_list": ["imported fish"], "type": "cluster", "node_size": 18, "label": "imported fish"}, "tourism sector": {"concepts": "tourism sector", "concept_list": ["tourism sector"], "type": "cluster", "node_size": 18, "label": "tourism sector"}, "cold fronts": {"concepts": "cold fronts", "concept_list": ["cold fronts"], "type": "cluster", "node_size": 18, "label": "cold fronts"}, "climate change": {"concepts": "climate change", "concept_list": ["climate change"], "type": "cluster", "node_size": 18, "label": "climate change"}, "community cohesion": {"concepts": "community cohesion", "concept_list": ["community cohesion"], "type": "cluster", "node_size": 18, "label": "community cohesion"}, "environmentalists": {"concepts": "environmentalists", "concept_list": ["environmentalists"], "type": "cluster", "node_size": 18, "label": "environmentalists"}, "community conflict": {"concepts": "community conflict", "concept_list": ["community conflict"], "type": "cluster", "node_size": 18, "label": "community conflict"}, "decision-making transparency": {"concepts": "decision-making transparency", "concept_list": ["decision-making transparency"], "type": "cluster", "node_size": 18, "label": "decision-making transparency"}, "spawning season closures": {"concepts": "spawning season closures", "concept_list": ["spawning season closures"], "type": "cluster", "node_size": 18, "label": "spawning season closures"}, "intergroup conflict": {"concepts": "intergroup conflict", "concept_list": ["intergroup conflict"], "type": "cluster", "node_size": 18, "label": "intergroup conflict"}, "coastal communities": {"concepts": "coastal communities", "concept_list": ["coastal communities"], "type": "cluster", "node_size": 18, "label": "coastal communities"}, "underwater drones": {"concepts": "underwater drones", "concept_list": ["underwater drones"], "type": "cluster", "node_size": 18, "label": "underwater drones"}, "local markets": {"concepts": "local markets", "concept_list": ["local markets"], "type": "cluster", "node_size": 18, "label": "local markets"}, "port sampling": {"concepts": "port sampling", "concept_list": ["port sampling"], "type": "cluster", "node_size": 18, "label": "port sampling"}, "institutional trust": {"concepts": "institutional trust", "concept_list": ["institutional trust"], "type": "cluster", "node_size": 18, "label": "institutional trust"}, "fisher identity": {"concepts": "fisher identity", "concept_list": ["fisher identity"], "type": "cluster", "node_size": 18, "label": "fisher identity"}, "consistency": {"concepts": "consistency", "concept_list": ["consistency"], "type": "cluster", "node_size": 18, "label": "consistency"}, "scientific management": {"concepts": "scientific management", "concept_list": ["scientific management"], "type": "cluster", "node_size": 18, "label": "scientific management"}, "stakeholder debate": {"concepts": "stakeholder debate", "concept_list": ["stakeholder debate"], "type": "cluster", "node_size": 18, "label": "stakeholder debate"}, "frustration": {"concepts": "frustration", "concept_list": ["frustration"], "type": "cluster", "node_size": 18, "label": "frustration"}, "tarpon": {"concepts": "tarpon", "concept_list": ["tarpon"], "type": "cluster", "node_size": 18, "label": "tarpon"}, "trust issues": {"concepts": "trust issues", "concept_list": ["trust issues"], "type": "cluster", "node_size": 18, "label": "trust issues"}, "adaptive strategies": {"concepts": "adaptive strategies", "concept_list": ["adaptive strategies"], "type": "cluster", "node_size": 18, "label": "adaptive strategies"}, "fuel supply": {"concepts": "fuel supply", "concept_list": ["fuel supply"], "type": "cluster", "node_size": 18, "label": "fuel supply"}, "decision transparency": {"concepts": "decision transparency", "concept_list": ["decision transparency"], "type": "cluster", "node_size": 18, "label": "decision transparency"}, "fisher independence": {"concepts": "fisher independence", "concept_list": ["fisher independence"], "type": "cluster", "node_size": 18, "label": "fisher independence"}, "enforcement challenges": {"concepts": "enforcement challenges", "concept_list": ["enforcement challenges"], "type": "cluster", "node_size": 18, "label": "enforcement challenges"}, "law approval": {"concepts": "law approval", "concept_list": ["law approval"], "type": "cluster", "node_size": 18, "label": "law approval"}, "managers": {"concepts": "managers", "concept_list": ["managers"], "type": "cluster", "node_size": 18, "label": "managers"}, "east coast compliance": {"concepts": "east coast compliance", "concept_list": ["east coast compliance"], "type": "cluster", "node_size": 18, "label": "east coast compliance"}, "fair management": {"concepts": "fair management", "concept_list": ["fair management"], "type": "cluster", "node_size": 18, "label": "fair management"}, "drought": {"concepts": "drought", "concept_list": ["drought"], "type": "cluster", "node_size": 18, "label": "drought"}, "vieques cohesion": {"concepts": "vieques cohesion", "concept_list": ["vieques cohesion"], "type": "cluster", "node_size": 18, "label": "vieques cohesion"}, "economic dependency": {"concepts": "economic dependency", "concept_list": ["economic dependency"], "type": "cluster", "node_size": 18, "label": "economic dependency"}, "fishery managers": {"concepts": "fishery managers", "concept_list": ["fishery managers"], "type": "cluster", "node_size": 18, "label": "fishery managers"}, "cooperative structures": {"concepts": "cooperative structures", "concept_list": ["cooperative structures"], "type": "cluster", "node_size": 18, "label": "cooperative structures"}, "fish distribution": {"concepts": "fish distribution", "concept_list": ["fish distribution"], "type": "cluster", "node_size": 18, "label": "fish distribution"}, "knowledge gap": {"concepts": "knowledge gap", "concept_list": ["knowledge gap"], "type": "cluster", "node_size": 18, "label": "knowledge gap"}, "long-term management": {"concepts": "long-term management", "concept_list": ["long-term management"], "type": "cluster", "node_size": 18, "label": "long-term management"}, "government collaboration": {"concepts": "government collaboration", "concept_list": ["government collaboration"], "type": "cluster", "node_size": 18, "label": "government collaboration"}, "colonial attitude": {"concepts": "colonial attitude", "concept_list": ["colonial attitude"], "type": "cluster", "node_size": 18, "label": "colonial attitude"}, "allowable catch": {"concepts": "allowable catch", "concept_list": ["allowable catch"], "type": "cluster", "node_size": 18, "label": "allowable catch"}, "scientific research": {"concepts": "scientific research", "concept_list": ["scientific research"], "type": "cluster", "node_size": 18, "label": "scientific research"}, "accountability": {"concepts": "accountability", "concept_list": ["accountability"], "type": "cluster", "node_size": 18, "label": "accountability"}, "organizational cohesion": {"concepts": "organizational cohesion", "concept_list": ["organizational cohesion"], "type": "cluster", "node_size": 18, "label": "organizational cohesion"}, "policy barriers": {"concepts": "policy barriers", "concept_list": ["policy barriers"], "type": "cluster", "node_size": 18, "label": "policy barriers"}, "legislative challenges": {"concepts": "legislative challenges", "concept_list": ["legislative challenges"], "type": "cluster", "node_size": 18, "label": "legislative challenges"}, "lack of compliance": {"concepts": "lack of compliance", "concept_list": ["lack of compliance"], "type": "cluster", "node_size": 18, "label": "lack of compliance"}, "staff turnover": {"concepts": "staff turnover", "concept_list": ["staff turnover"], "type": "cluster", "node_size": 18, "label": "staff turnover"}, "cultural perception": {"concepts": "cultural perception", "concept_list": ["cultural perception"], "type": "cluster", "node_size": 18, "label": "cultural perception"}, "regulation compliance": {"concepts": "regulation compliance", "concept_list": ["regulation compliance"], "type": "cluster", "node_size": 18, "label": "regulation compliance"}, "spawning shifts": {"concepts": "spawning shifts", "concept_list": ["spawning shifts"], "type": "cluster", "node_size": 18, "label": "spawning shifts"}, "global warming": {"concepts": "global warming", "concept_list": ["global warming"], "type": "cluster", "node_size": 18, "label": "global warming"}, "environmental stressors": {"concepts": "environmental stressors", "concept_list": ["environmental stressors"], "type": "cluster", "node_size": 18, "label": "environmental stressors"}, "effort control": {"concepts": "effort control", "concept_list": ["effort control"], "type": "cluster", "node_size": 18, "label": "effort control"}, "acoustic monitoring": {"concepts": "acoustic monitoring", "concept_list": ["acoustic monitoring"], "type": "cluster", "node_size": 18, "label": "acoustic monitoring"}, "courtship calls": {"concepts": "courtship calls", "concept_list": ["courtship calls"], "type": "cluster", "node_size": 18, "label": "courtship calls"}, "community dependency": {"concepts": "community dependency", "concept_list": ["community dependency"], "type": "cluster", "node_size": 18, "label": "community dependency"}, "government response": {"concepts": "government response", "concept_list": ["government response"], "type": "cluster", "node_size": 18, "label": "government response"}, "fish sales": {"concepts": "fish sales", "concept_list": ["fish sales"], "type": "cluster", "node_size": 18, "label": "fish sales"}, "conflicts": {"concepts": "conflicts", "concept_list": ["conflicts"], "type": "cluster", "node_size": 18, "label": "conflicts"}, "transparency": {"concepts": "transparency", "concept_list": ["transparency"], "type": "cluster", "node_size": 18, "label": "transparency"}, "independence mindset": {"concepts": "independence mindset", "concept_list": ["independence mindset"], "type": "cluster", "node_size": 18, "label": "independence mindset"}, "social cohesion": {"concepts": "social cohesion", "concept_list": ["social cohesion"], "type": "cluster", "node_size": 18, "label": "social cohesion"}, "sedimentation": {"concepts": "sedimentation", "concept_list": ["sedimentation"], "type": "cluster", "node_size": 18, "label": "sedimentation"}, "compliance": {"concepts": "compliance", "concept_list": ["compliance"], "type": "cluster", "node_size": 18, "label": "compliance"}, "short-term incentives": {"concepts": "short-term incentives", "concept_list": ["short-term incentives"], "type": "cluster", "node_size": 18, "label": "short-term incentives"}, "community action": {"concepts": "community action", "concept_list": ["community action"], "type": "cluster", "node_size": 18, "label": "community action"}, "puerto rico": {"concepts": "puerto rico", "concept_list": ["puerto rico"], "type": "cluster", "node_size": 18, "label": "puerto rico"}, "temperature increase": {"concepts": "temperature increase", "concept_list": ["temperature increase"], "type": "cluster", "node_size": 18, "label": "temperature increase"}, "species distribution": {"concepts": "species distribution", "concept_list": ["species distribution"], "type": "cluster", "node_size": 18, "label": "species distribution"}, "fishing tournaments": {"concepts": "fishing tournaments", "concept_list": ["fishing tournaments"], "type": "cluster", "node_size": 18, "label": "fishing tournaments"}, "hurricanes": {"concepts": "hurricanes", "concept_list": ["hurricanes"], "type": "cluster", "node_size": 18, "label": "hurricanes"}, "managers relationship": {"concepts": "managers relationship", "concept_list": ["managers relationship"], "type": "cluster", "node_size": 18, "label": "managers relationship"}, "spawning aggregation": {"concepts": "spawning aggregation", "concept_list": ["spawning aggregation"], "type": "cluster", "node_size": 18, "label": "spawning aggregation"}, "local fishermen": {"concepts": "local fishermen", "concept_list": ["local fishermen"], "type": "cluster", "node_size": 18, "label": "local fishermen"}, "state waters": {"concepts": "state waters", "concept_list": ["state waters"], "type": "cluster", "node_size": 18, "label": "state waters"}, "unlicensed fishermen": {"concepts": "unlicensed fishermen", "concept_list": ["unlicensed fishermen"], "type": "cluster", "node_size": 18, "label": "unlicensed fishermen"}, "livelihood sustainability": {"concepts": "livelihood sustainability", "concept_list": ["livelihood sustainability"], "type": "cluster", "node_size": 18, "label": "livelihood sustainability"}, "fishing livelihoods": {"concepts": "fishing livelihoods", "concept_list": ["fishing livelihoods"], "type": "cluster", "node_size": 18, "label": "fishing livelihoods"}, "regulations": {"concepts": "regulations", "concept_list": ["regulations"], "type": "cluster", "node_size": 18, "label": "regulations"}, "awareness": {"concepts": "awareness", "concept_list": ["awareness"], "type": "cluster", "node_size": 18, "label": "awareness"}, "ice vendors": {"concepts": "ice vendors", "concept_list": ["ice vendors"], "type": "cluster", "node_size": 18, "label": "ice vendors"}, "press coverage": {"concepts": "press coverage", "concept_list": ["press coverage"], "type": "cluster", "node_size": 18, "label": "press coverage"}, "monitoring systems": {"concepts": "monitoring systems", "concept_list": ["monitoring systems"], "type": "cluster", "node_size": 18, "label": "monitoring systems"}, "forums": {"concepts": "forums", "concept_list": ["forums"], "type": "cluster", "node_size": 18, "label": "forums"}, "job scarcity": {"concepts": "job scarcity", "concept_list": ["job scarcity"], "type": "cluster", "node_size": 18, "label": "job scarcity"}, "trust deficit": {"concepts": "trust deficit", "concept_list": ["trust deficit"], "type": "cluster", "node_size": 18, "label": "trust deficit"}, "fishery decisions": {"concepts": "fishery decisions", "concept_list": ["fishery decisions"], "type": "cluster", "node_size": 18, "label": "fishery decisions"}, "lionfish removal": {"concepts": "lionfish removal", "concept_list": ["lionfish removal"], "type": "cluster", "node_size": 18, "label": "lionfish removal"}, "tourism development": {"concepts": "tourism development", "concept_list": ["tourism development"], "type": "cluster", "node_size": 18, "label": "tourism development"}, "resource management": {"concepts": "resource management", "concept_list": ["resource management"], "type": "cluster", "node_size": 18, "label": "resource management"}, "fisheries management": {"concepts": "fisheries management", "concept_list": ["fisheries management"], "type": "cluster", "node_size": 18, "label": "fisheries management"}, "power dynamics": {"concepts": "power dynamics", "concept_list": ["power dynamics"], "type": "cluster", "node_size": 18, "label": "power dynamics"}, "chemical analysis": {"concepts": "chemical analysis", "concept_list": ["chemical analysis"], "type": "cluster", "node_size": 18, "label": "chemical analysis"}, "stock closures": {"concepts": "stock closures", "concept_list": ["stock closures"], "type": "cluster", "node_size": 18, "label": "stock closures"}, "organizational inconsistency": {"concepts": "organizational inconsistency", "concept_list": ["organizational inconsistency"], "type": "cluster", "node_size": 18, "label": "organizational inconsistency"}, "policy resistance": {"concepts": "policy resistance", "concept_list": ["policy resistance"], "type": "cluster", "node_size": 18, "label": "policy resistance"}, "government trust": {"concepts": "government trust", "concept_list": ["government trust"], "type": "cluster", "node_size": 18, "label": "government trust"}, "health issues": {"concepts": "health issues", "concept_list": ["health issues"], "type": "cluster", "node_size": 18, "label": "health issues"}, "subsistence fishing": {"concepts": "subsistence fishing", "concept_list": ["subsistence fishing"], "type": "cluster", "node_size": 18, "label": "subsistence fishing"}, "overfishing": {"concepts": "overfishing", "concept_list": ["overfishing"], "type": "cluster", "node_size": 18, "label": "overfishing"}, "environmental scientists": {"concepts": "environmental scientists", "concept_list": ["environmental scientists"], "type": "cluster", "node_size": 18, "label": "environmental scientists"}, "environmental dependency": {"concepts": "environmental dependency", "concept_list": ["environmental dependency"], "type": "cluster", "node_size": 18, "label": "environmental dependency"}, "risk perception": {"concepts": "risk perception", "concept_list": ["risk perception"], "type": "cluster", "node_size": 18, "label": "risk perception"}, "fishing economy": {"concepts": "fishing economy", "concept_list": ["fishing economy"], "type": "cluster", "node_size": 18, "label": "fishing economy"}, "water quality": {"concepts": "water quality", "concept_list": ["water quality"], "type": "cluster", "node_size": 18, "label": "water quality"}, "habitat degradation": {"concepts": "habitat degradation", "concept_list": ["habitat degradation"], "type": "cluster", "node_size": 18, "label": "habitat degradation"}, "fishery fairness": {"concepts": "fishery fairness", "concept_list": ["fishery fairness"], "type": "cluster", "node_size": 18, "label": "fishery fairness"}, "local governance": {"concepts": "local governance", "concept_list": ["local governance"], "type": "cluster", "node_size": 18, "label": "local governance"}, "institutional vision": {"concepts": "institutional vision", "concept_list": ["institutional vision"], "type": "cluster", "node_size": 18, "label": "institutional vision"}, "subsidies": {"concepts": "subsidies", "concept_list": ["subsidies"], "type": "cluster", "node_size": 18, "label": "subsidies"}, "distrust": {"concepts": "distrust", "concept_list": ["distrust"], "type": "cluster", "node_size": 18, "label": "distrust"}, "environmental impact": {"concepts": "environmental impact", "concept_list": ["environmental impact"], "type": "cluster", "node_size": 18, "label": "environmental impact"}, "community trust": {"concepts": "community trust", "concept_list": ["community trust"], "type": "cluster", "node_size": 18, "label": "community trust"}, "species restoration": {"concepts": "species restoration", "concept_list": ["species restoration"], "type": "cluster", "node_size": 18, "label": "species restoration"}, "process transparency": {"concepts": "process transparency", "concept_list": ["process transparency"], "type": "cluster", "node_size": 18, "label": "process transparency"}, "puerto rican fisheries": {"concepts": "puerto rican fisheries", "concept_list": ["puerto rican fisheries"], "type": "cluster", "node_size": 18, "label": "puerto rican fisheries"}, "fisher awareness": {"concepts": "fisher awareness", "concept_list": ["fisher awareness"], "type": "cluster", "node_size": 18, "label": "fisher awareness"}, "grouper behavior": {"concepts": "grouper behavior", "concept_list": ["grouper behavior"], "type": "cluster", "node_size": 18, "label": "grouper behavior"}, "overfishing pressures": {"concepts": "overfishing pressures", "concept_list": ["overfishing pressures"], "type": "cluster", "node_size": 18, "label": "overfishing pressures"}, "community outreach": {"concepts": "community outreach", "concept_list": ["community outreach"], "type": "cluster", "node_size": 18, "label": "community outreach"}, "mayors\u2019 offices": {"concepts": "mayors\u2019 offices", "concept_list": ["mayors\u2019 offices"], "type": "cluster", "node_size": 18, "label": "mayors\u2019 offices"}, "community problem-solving": {"concepts": "community problem-solving", "concept_list": ["community problem-solving"], "type": "cluster", "node_size": 18, "label": "community problem-solving"}, "community identity": {"concepts": "community identity", "concept_list": ["community identity"], "type": "cluster", "node_size": 18, "label": "community identity"}, "community perception": {"concepts": "community perception", "concept_list": ["community perception"], "type": "cluster", "node_size": 18, "label": "community perception"}, "advisory committee": {"concepts": "advisory committee", "concept_list": ["advisory committee"], "type": "cluster", "node_size": 18, "label": "advisory committee"}, "tourism economy": {"concepts": "tourism economy", "concept_list": ["tourism economy"], "type": "cluster", "node_size": 18, "label": "tourism economy"}, "participatory governance": {"concepts": "participatory governance", "concept_list": ["participatory governance"], "type": "cluster", "node_size": 18, "label": "participatory governance"}, "engine clogging": {"concepts": "engine clogging", "concept_list": ["engine clogging"], "type": "cluster", "node_size": 18, "label": "engine clogging"}, "meetings": {"concepts": "meetings", "concept_list": ["meetings"], "type": "cluster", "node_size": 18, "label": "meetings"}, "self-sustenance": {"concepts": "self-sustenance", "concept_list": ["self-sustenance"], "type": "cluster", "node_size": 18, "label": "self-sustenance"}, "livelihood security": {"concepts": "livelihood security", "concept_list": ["livelihood security"], "type": "cluster", "node_size": 18, "label": "livelihood security"}, "organizational collaboration": {"concepts": "organizational collaboration", "concept_list": ["organizational collaboration"], "type": "cluster", "node_size": 18, "label": "organizational collaboration"}, "cultural resistance": {"concepts": "cultural resistance", "concept_list": ["cultural resistance"], "type": "cluster", "node_size": 18, "label": "cultural resistance"}, "crisis response": {"concepts": "crisis response", "concept_list": ["crisis response"], "type": "cluster", "node_size": 18, "label": "crisis response"}, "coral reefs": {"concepts": "coral reefs", "concept_list": ["coral reefs"], "type": "cluster", "node_size": 18, "label": "coral reefs"}, "decision-makers": {"concepts": "decision-makers", "concept_list": ["decision-makers"], "type": "cluster", "node_size": 18, "label": "decision-makers"}, "group cohesion": {"concepts": "group cohesion", "concept_list": ["group cohesion"], "type": "cluster", "node_size": 18, "label": "group cohesion"}, "perception mismatch": {"concepts": "perception mismatch", "concept_list": ["perception mismatch"], "type": "cluster", "node_size": 18, "label": "perception mismatch"}, "resources": {"concepts": "resources", "concept_list": ["resources"], "type": "cluster", "node_size": 18, "label": "resources"}, "fishing operations": {"concepts": "fishing operations", "concept_list": ["fishing operations"], "type": "cluster", "node_size": 18, "label": "fishing operations"}, "heavy rains": {"concepts": "heavy rains", "concept_list": ["heavy rains"], "type": "cluster", "node_size": 18, "label": "heavy rains"}, "stakeholder relations": {"concepts": "stakeholder relations", "concept_list": ["stakeholder relations"], "type": "cluster", "node_size": 18, "label": "stakeholder relations"}, "fairness": {"concepts": "fairness", "concept_list": ["fairness"], "type": "cluster", "node_size": 18, "label": "fairness"}, "economic survival": {"concepts": "economic survival", "concept_list": ["economic survival"], "type": "cluster", "node_size": 18, "label": "economic survival"}, "engagement": {"concepts": "engagement", "concept_list": ["engagement"], "type": "cluster", "node_size": 18, "label": "engagement"}, "coral restoration": {"concepts": "coral restoration", "concept_list": ["coral restoration"], "type": "cluster", "node_size": 18, "label": "coral restoration"}, "third party facilitation": {"concepts": "third party facilitation", "concept_list": ["third party facilitation"], "type": "cluster", "node_size": 18, "label": "third party facilitation"}, "research institutions": {"concepts": "research institutions", "concept_list": ["research institutions"], "type": "cluster", "node_size": 18, "label": "research institutions"}, "government subsidies": {"concepts": "government subsidies", "concept_list": ["government subsidies"], "type": "cluster", "node_size": 18, "label": "government subsidies"}, "organizational coordination": {"concepts": "organizational coordination", "concept_list": ["organizational coordination"], "type": "cluster", "node_size": 18, "label": "organizational coordination"}, "pollution": {"concepts": "pollution", "concept_list": ["pollution"], "type": "cluster", "node_size": 18, "label": "pollution"}, "spawning seasons": {"concepts": "spawning seasons", "concept_list": ["spawning seasons"], "type": "cluster", "node_size": 18, "label": "spawning seasons"}, "advisory council": {"concepts": "advisory council", "concept_list": ["advisory council"], "type": "cluster", "node_size": 18, "label": "advisory council"}, "associations": {"concepts": "associations", "concept_list": ["associations"], "type": "cluster", "node_size": 18, "label": "associations"}, "federal waters": {"concepts": "federal waters", "concept_list": ["federal waters"], "type": "cluster", "node_size": 18, "label": "federal waters"}, "agency-community disconnect": {"concepts": "agency-community disconnect", "concept_list": ["agency-community disconnect"], "type": "cluster", "node_size": 18, "label": "agency-community disconnect"}, "market decentralization": {"concepts": "market decentralization", "concept_list": ["market decentralization"], "type": "cluster", "node_size": 18, "label": "market decentralization"}, "policy implementation": {"concepts": "policy implementation", "concept_list": ["policy implementation"], "type": "cluster", "node_size": 18, "label": "policy implementation"}, "juvenile fish habitat": {"concepts": "juvenile fish habitat", "concept_list": ["juvenile fish habitat"], "type": "cluster", "node_size": 18, "label": "juvenile fish habitat"}, "government turnover": {"concepts": "government turnover", "concept_list": ["government turnover"], "type": "cluster", "node_size": 18, "label": "government turnover"}, "habitat monitoring": {"concepts": "habitat monitoring", "concept_list": ["habitat monitoring"], "type": "cluster", "node_size": 18, "label": "habitat monitoring"}, "fisher knowledge gap": {"concepts": "fisher knowledge gap", "concept_list": ["fisher knowledge gap"], "type": "cluster", "node_size": 18, "label": "fisher knowledge gap"}, "reef monitoring": {"concepts": "reef monitoring", "concept_list": ["reef monitoring"], "type": "cluster", "node_size": 18, "label": "reef monitoring"}, "algal blooms": {"concepts": "algal blooms", "concept_list": ["algal blooms"], "type": "cluster", "node_size": 18, "label": "algal blooms"}, "weather patterns": {"concepts": "weather patterns", "concept_list": ["weather patterns"], "type": "cluster", "node_size": 18, "label": "weather patterns"}, "fisher pride": {"concepts": "fisher pride", "concept_list": ["fisher pride"], "type": "cluster", "node_size": 18, "label": "fisher pride"}, "biologists perception.": {"concepts": "biologists perception.", "concept_list": ["biologists perception."], "type": "cluster", "node_size": 18, "label": "biologists perception."}, "advisory groups": {"concepts": "advisory groups", "concept_list": ["advisory groups"], "type": "cluster", "node_size": 18, "label": "advisory groups"}, "middlemen dependency": {"concepts": "middlemen dependency", "concept_list": ["middlemen dependency"], "type": "cluster", "node_size": 18, "label": "middlemen dependency"}, "agency attention": {"concepts": "agency attention", "concept_list": ["agency attention"], "type": "cluster", "node_size": 18, "label": "agency attention"}, "financial support": {"concepts": "financial support", "concept_list": ["financial support"], "type": "cluster", "node_size": 18, "label": "financial support"}, "warming waters": {"concepts": "warming waters", "concept_list": ["warming waters"], "type": "cluster", "node_size": 18, "label": "warming waters"}, "policy translation": {"concepts": "policy translation", "concept_list": ["policy translation"], "type": "cluster", "node_size": 18, "label": "policy translation"}, "coral diseases": {"concepts": "coral diseases", "concept_list": ["coral diseases"], "type": "cluster", "node_size": 18, "label": "coral diseases"}, "institutional priorities": {"concepts": "institutional priorities", "concept_list": ["institutional priorities"], "type": "cluster", "node_size": 18, "label": "institutional priorities"}, "livelihood": {"concepts": "livelihood", "concept_list": ["livelihood"], "type": "cluster", "node_size": 18, "label": "livelihood"}, "public meetings": {"concepts": "public meetings", "concept_list": ["public meetings"], "type": "cluster", "node_size": 18, "label": "public meetings"}, "boat engines": {"concepts": "boat engines", "concept_list": ["boat engines"], "type": "cluster", "node_size": 18, "label": "boat engines"}, "conservation behavior": {"concepts": "conservation behavior", "concept_list": ["conservation behavior"], "type": "cluster", "node_size": 18, "label": "conservation behavior"}, "sahara dust": {"concepts": "sahara dust", "concept_list": ["sahara dust"], "type": "cluster", "node_size": 18, "label": "sahara dust"}, "community problems": {"concepts": "community problems", "concept_list": ["community problems"], "type": "cluster", "node_size": 18, "label": "community problems"}, "fisheries industry": {"concepts": "fisheries industry", "concept_list": ["fisheries industry"], "type": "cluster", "node_size": 18, "label": "fisheries industry"}, "conflict resolution": {"concepts": "conflict resolution", "concept_list": ["conflict resolution"], "type": "cluster", "node_size": 18, "label": "conflict resolution"}, "scientific knowledge": {"concepts": "scientific knowledge", "concept_list": ["scientific knowledge"], "type": "cluster", "node_size": 18, "label": "scientific knowledge"}, "regulatory compliance": {"concepts": "regulatory compliance", "concept_list": ["regulatory compliance"], "type": "cluster", "node_size": 18, "label": "regulatory compliance"}, "fishery management": {"concepts": "fishery management", "concept_list": ["fishery management"], "type": "cluster", "node_size": 18, "label": "fishery management"}, "virgin islands": {"concepts": "virgin islands", "concept_list": ["virgin islands"], "type": "cluster", "node_size": 18, "label": "virgin islands"}, "top down approach": {"concepts": "top down approach", "concept_list": ["top down approach"], "type": "cluster", "node_size": 18, "label": "top down approach"}, "enforcement capacity": {"concepts": "enforcement capacity", "concept_list": ["enforcement capacity"], "type": "cluster", "node_size": 18, "label": "enforcement capacity"}, "compliance failure": {"concepts": "compliance failure", "concept_list": ["compliance failure"], "type": "cluster", "node_size": 18, "label": "compliance failure"}, "scientific effort": {"concepts": "scientific effort", "concept_list": ["scientific effort"], "type": "cluster", "node_size": 18, "label": "scientific effort"}, "fishery management council": {"concepts": "fishery management council", "concept_list": ["fishery management council"], "type": "cluster", "node_size": 18, "label": "fishery management council"}, "data limitations": {"concepts": "data limitations", "concept_list": ["data limitations"], "type": "cluster", "node_size": 18, "label": "data limitations"}, "fish decline": {"concepts": "fish decline", "concept_list": ["fish decline"], "type": "cluster", "node_size": 18, "label": "fish decline"}, "decentralized system": {"concepts": "decentralized system", "concept_list": ["decentralized system"], "type": "cluster", "node_size": 18, "label": "decentralized system"}, "habitat loss": {"concepts": "habitat loss", "concept_list": ["habitat loss"], "type": "cluster", "node_size": 18, "label": "habitat loss"}, "sargassum": {"concepts": "sargassum", "concept_list": ["sargassum"], "type": "cluster", "node_size": 18, "label": "sargassum"}, "family traditions": {"concepts": "family traditions", "concept_list": ["family traditions"], "type": "cluster", "node_size": 18, "label": "family traditions"}, "illegal practices": {"concepts": "illegal practices", "concept_list": ["illegal practices"], "type": "cluster", "node_size": 18, "label": "illegal practices"}, "habitat restoration": {"concepts": "habitat restoration", "concept_list": ["habitat restoration"], "type": "cluster", "node_size": 18, "label": "habitat restoration"}, "community cooperation": {"concepts": "community cooperation", "concept_list": ["community cooperation"], "type": "cluster", "node_size": 18, "label": "community cooperation"}, "monitoring programs": {"concepts": "monitoring programs", "concept_list": ["monitoring programs"], "type": "cluster", "node_size": 18, "label": "monitoring programs"}, "conflict escalation": {"concepts": "conflict escalation", "concept_list": ["conflict escalation"], "type": "cluster", "node_size": 18, "label": "conflict escalation"}, "spawning delay": {"concepts": "spawning delay", "concept_list": ["spawning delay"], "type": "cluster", "node_size": 18, "label": "spawning delay"}, "participatory management": {"concepts": "participatory management", "concept_list": ["participatory management"], "type": "cluster", "node_size": 18, "label": "participatory management"}, "climate knowledge gap": {"concepts": "climate knowledge gap", "concept_list": ["climate knowledge gap"], "type": "cluster", "node_size": 18, "label": "climate knowledge gap"}, "fish tournaments": {"concepts": "fish tournaments", "concept_list": ["fish tournaments"], "type": "cluster", "node_size": 18, "label": "fish tournaments"}, "underground market": {"concepts": "underground market", "concept_list": ["underground market"], "type": "cluster", "node_size": 18, "label": "underground market"}, "community awareness": {"concepts": "community awareness", "concept_list": ["community awareness"], "type": "cluster", "node_size": 18, "label": "community awareness"}, "resource competition": {"concepts": "resource competition", "concept_list": ["resource competition"], "type": "cluster", "node_size": 18, "label": "resource competition"}, "council level": {"concepts": "council level", "concept_list": ["council level"], "type": "cluster", "node_size": 18, "label": "council level"}, "accountability gap": {"concepts": "accountability gap", "concept_list": ["accountability gap"], "type": "cluster", "node_size": 18, "label": "accountability gap"}, "fish behavior": {"concepts": "fish behavior", "concept_list": ["fish behavior"], "type": "cluster", "node_size": 18, "label": "fish behavior"}, "sargassum blooms": {"concepts": "sargassum blooms", "concept_list": ["sargassum blooms"], "type": "cluster", "node_size": 18, "label": "sargassum blooms"}, "fisher distrust": {"concepts": "fisher distrust", "concept_list": ["fisher distrust"], "type": "cluster", "node_size": 18, "label": "fisher distrust"}, "weather risks": {"concepts": "weather risks", "concept_list": ["weather risks"], "type": "cluster", "node_size": 18, "label": "weather risks"}, "boat repair": {"concepts": "boat repair", "concept_list": ["boat repair"], "type": "cluster", "node_size": 18, "label": "boat repair"}, "engine repair": {"concepts": "engine repair", "concept_list": ["engine repair"], "type": "cluster", "node_size": 18, "label": "engine repair"}, "manager-fisher relationship": {"concepts": "manager-fisher relationship", "concept_list": ["manager-fisher relationship"], "type": "cluster", "node_size": 18, "label": "manager-fisher relationship"}, "social cooperation": {"concepts": "social cooperation", "concept_list": ["social cooperation"], "type": "cluster", "node_size": 18, "label": "social cooperation"}, "fishers": {"concepts": "fishers", "concept_list": ["fishers"], "type": "cluster", "node_size": 18, "label": "fishers"}, "sea monitoring": {"concepts": "sea monitoring", "concept_list": ["sea monitoring"], "type": "cluster", "node_size": 18, "label": "sea monitoring"}, "hearing processes": {"concepts": "hearing processes", "concept_list": ["hearing processes"], "type": "cluster", "node_size": 18, "label": "hearing processes"}, "local level": {"concepts": "local level", "concept_list": ["local level"], "type": "cluster", "node_size": 18, "label": "local level"}, "local regulations": {"concepts": "local regulations", "concept_list": ["local regulations"], "type": "cluster", "node_size": 18, "label": "local regulations"}, "associations decline": {"concepts": "associations decline", "concept_list": ["associations decline"], "type": "cluster", "node_size": 18, "label": "associations decline"}, "recreational fishing": {"concepts": "recreational fishing", "concept_list": ["recreational fishing"], "type": "cluster", "node_size": 18, "label": "recreational fishing"}, "scientists": {"concepts": "scientists", "concept_list": ["scientists"], "type": "cluster", "node_size": 18, "label": "scientists"}, "larvae development": {"concepts": "larvae development", "concept_list": ["larvae development"], "type": "cluster", "node_size": 18, "label": "larvae development"}, "fisheries dependency": {"concepts": "fisheries dependency", "concept_list": ["fisheries dependency"], "type": "cluster", "node_size": 18, "label": "fisheries dependency"}, "colonial legacy": {"concepts": "colonial legacy", "concept_list": ["colonial legacy"], "type": "cluster", "node_size": 18, "label": "colonial legacy"}, "data access": {"concepts": "data access", "concept_list": ["data access"], "type": "cluster", "node_size": 18, "label": "data access"}, "cooperation barriers": {"concepts": "cooperation barriers", "concept_list": ["cooperation barriers"], "type": "cluster", "node_size": 18, "label": "cooperation barriers"}, "environmental impacts": {"concepts": "environmental impacts", "concept_list": ["environmental impacts"], "type": "cluster", "node_size": 18, "label": "environmental impacts"}, "top-down management": {"concepts": "top-down management", "concept_list": ["top-down management"], "type": "cluster", "node_size": 18, "label": "top-down management"}, "coral bleaching": {"concepts": "coral bleaching", "concept_list": ["coral bleaching"], "type": "cluster", "node_size": 18, "label": "coral bleaching"}, "tourism industry": {"concepts": "tourism industry", "concept_list": ["tourism industry"], "type": "cluster", "node_size": 18, "label": "tourism industry"}, "dner": {"concepts": "dner", "concept_list": ["dner"], "type": "cluster", "node_size": 18, "label": "dner"}, "enforcement": {"concepts": "enforcement", "concept_list": ["enforcement"], "type": "cluster", "node_size": 18, "label": "enforcement"}, "top-down approach": {"concepts": "top-down approach", "concept_list": ["top-down approach"], "type": "cluster", "node_size": 18, "label": "top-down approach"}, "acoustics monitoring": {"concepts": "acoustics monitoring", "concept_list": ["acoustics monitoring"], "type": "cluster", "node_size": 18, "label": "acoustics monitoring"}, "welfare dependency": {"concepts": "welfare dependency", "concept_list": ["welfare dependency"], "type": "cluster", "node_size": 18, "label": "welfare dependency"}, "middleman dependency": {"concepts": "middleman dependency", "concept_list": ["middleman dependency"], "type": "cluster", "node_size": 18, "label": "middleman dependency"}, "social trust": {"concepts": "social trust", "concept_list": ["social trust"], "type": "cluster", "node_size": 18, "label": "social trust"}, "regulation": {"concepts": "regulation", "concept_list": ["regulation"], "type": "cluster", "node_size": 18, "label": "regulation"}, "supplemental income": {"concepts": "supplemental income", "concept_list": ["supplemental income"], "type": "cluster", "node_size": 18, "label": "supplemental income"}, "welfare system": {"concepts": "welfare system", "concept_list": ["welfare system"], "type": "cluster", "node_size": 18, "label": "welfare system"}, "agency disconnect": {"concepts": "agency disconnect", "concept_list": ["agency disconnect"], "type": "cluster", "node_size": 18, "label": "agency disconnect"}, "weather variability": {"concepts": "weather variability", "concept_list": ["weather variability"], "type": "cluster", "node_size": 18, "label": "weather variability"}, "social systems": {"concepts": "social systems", "concept_list": ["social systems"], "type": "cluster", "node_size": 18, "label": "social systems"}, "livelihood overlap": {"concepts": "livelihood overlap", "concept_list": ["livelihood overlap"], "type": "cluster", "node_size": 18, "label": "livelihood overlap"}, "decision-making process": {"concepts": "decision-making process", "concept_list": ["decision-making process"], "type": "cluster", "node_size": 18, "label": "decision-making process"}, "declining stocks": {"concepts": "declining stocks", "concept_list": ["declining stocks"], "type": "cluster", "node_size": 18, "label": "declining stocks"}, "tarpon monitoring": {"concepts": "tarpon monitoring", "concept_list": ["tarpon monitoring"], "type": "cluster", "node_size": 18, "label": "tarpon monitoring"}, "tourist development": {"concepts": "tourist development", "concept_list": ["tourist development"], "type": "cluster", "node_size": 18, "label": "tourist development"}, "fishery pride": {"concepts": "fishery pride", "concept_list": ["fishery pride"], "type": "cluster", "node_size": 18, "label": "fishery pride"}, "coastal protection": {"concepts": "coastal protection", "concept_list": ["coastal protection"], "type": "cluster", "node_size": 18, "label": "coastal protection"}, "decision-making": {"concepts": "decision-making", "concept_list": ["decision-making"], "type": "cluster", "node_size": 18, "label": "decision-making"}, "policy enforcement": {"concepts": "policy enforcement", "concept_list": ["policy enforcement"], "type": "cluster", "node_size": 18, "label": "policy enforcement"}, "livelihood dependency": {"concepts": "livelihood dependency", "concept_list": ["livelihood dependency"], "type": "cluster", "node_size": 18, "label": "livelihood dependency"}, "risk-taking": {"concepts": "risk-taking", "concept_list": ["risk-taking"], "type": "cluster", "node_size": 18, "label": "risk-taking"}, "fisher individualism": {"concepts": "fisher individualism", "concept_list": ["fisher individualism"], "type": "cluster", "node_size": 18, "label": "fisher individualism"}, "community collaboration": {"concepts": "community collaboration", "concept_list": ["community collaboration"], "type": "cluster", "node_size": 18, "label": "community collaboration"}, "system decentralization": {"concepts": "system decentralization", "concept_list": ["system decentralization"], "type": "cluster", "node_size": 18, "label": "system decentralization"}, "agricultural sector": {"concepts": "agricultural sector", "concept_list": ["agricultural sector"], "type": "cluster", "node_size": 18, "label": "agricultural sector"}, "cooperation": {"concepts": "cooperation", "concept_list": ["cooperation"], "type": "cluster", "node_size": 18, "label": "cooperation"}, "local knowledge": {"concepts": "local knowledge", "concept_list": ["local knowledge"], "type": "cluster", "node_size": 18, "label": "local knowledge"}, "participatory action": {"concepts": "participatory action", "concept_list": ["participatory action"], "type": "cluster", "node_size": 18, "label": "participatory action"}, "stakeholder conflict": {"concepts": "stakeholder conflict", "concept_list": ["stakeholder conflict"], "type": "cluster", "node_size": 18, "label": "stakeholder conflict"}, "sea grant": {"concepts": "sea grant", "concept_list": ["sea grant"], "type": "cluster", "node_size": 18, "label": "sea grant"}, "work opportunities": {"concepts": "work opportunities", "concept_list": ["work opportunities"], "type": "cluster", "node_size": 18, "label": "work opportunities"}, "organizational change": {"concepts": "organizational change", "concept_list": ["organizational change"], "type": "cluster", "node_size": 18, "label": "organizational change"}, "problem focus": {"concepts": "problem focus", "concept_list": ["problem focus"], "type": "cluster", "node_size": 18, "label": "problem focus"}, "coral reef dependency": {"concepts": "coral reef dependency", "concept_list": ["coral reef dependency"], "type": "cluster", "node_size": 18, "label": "coral reef dependency"}};
        const conceptData = {};
        const interClusterEdges = [["stakeholder engagement", "problem focus", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["health concerns", "fisheries dependency", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["drought conditions", "community collaboration", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["resource decline", "economic survival", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["problem resolution", "work opportunities", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["pollution impact", "fisher knowledge gap", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["pit tagging", "collective action", {"weight": 1.0, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["west coast refusals", "fairness", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["west coast refusals", "self-sustenance", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["imported fish", "welfare system", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["climate change", "fisher individualism", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["community conflict", "community trust", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["community conflict", "environmentalists", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["spawning season closures", "government turnover", {"weight": -1.0, "confidence": 0.675, "type": "inter_cluster", "style": "solid"}], ["spawning season closures", "advisory council", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["intergroup conflict", "enforcement", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["local markets", "trust deficit", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["tarpon", "tarpon monitoring", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["trust issues", "middleman dependency", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["adaptive strategies", "vieques cohesion", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["fisher independence", "scientific effort", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["fisher independence", "fisher knowledge gap", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["enforcement challenges", "third party facilitation", {"weight": 1.0, "confidence": 0.625, "type": "inter_cluster", "style": "solid"}], ["law approval", "tourism industry", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["managers", "conflict escalation", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["east coast compliance", "local knowledge", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["east coast compliance", "fisheries industry", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["fair management", "managers relationship", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["drought", "environmental impacts", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["vieques cohesion", "habitat monitoring", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["vieques cohesion", "declining stocks", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["fishery managers", "law approval", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["cooperative structures", "fishery fairness", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["fish distribution", "fishery management council", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["knowledge gap", "accountability gap", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["government collaboration", "community perception", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["government collaboration", "knowledge gap", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["colonial attitude", "fair management", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["colonial attitude", "species restoration", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["cultural perception", "public meetings", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["spawning shifts", "declining stocks", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["courtship calls", "biologists perception.", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["conflicts", "fishing tournaments", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["transparency", "local governance", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["transparency", "vieques cohesion", {"weight": 0.5, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["independence mindset", "cooperative structures", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["short-term incentives", "fairness perception", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["community action", "institutional vision", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["community action", "regulatory compliance", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["puerto rico", "cooperation barriers", {"weight": 1.0, "confidence": 0.6333333333333334, "type": "inter_cluster", "style": "solid"}], ["species distribution", "community problems", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["managers relationship", "associations", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["spawning aggregation", "economic dependency", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["local fishermen", "stock closures", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["fishing livelihoods", "tourism economy", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["regulations", "livelihood dependency", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["awareness", "fishery pride", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["ice vendors", "community perception", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["press coverage", "advisory council", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["monitoring systems", "state waters", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["job scarcity", "problem resolution", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["job scarcity", "tourism development", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["fishery decisions", "decision-making transparency", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["tourism development", "social systems", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["tourism development", "community cooperation", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["tourism development", "lack of compliance", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["resource management", "puerto rico", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["fisheries management", "livelihood overlap", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["power dynamics", "fisher knowledge gap", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["policy resistance", "forums", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["health issues", "process transparency", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["health issues", "cultural perception", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["overfishing", "habitat loss", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["environmental scientists", "organizational collaboration", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["environmental dependency", "short-term incentives", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["risk perception", "short-term incentives", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["fishing economy", "resources", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["water quality", "fishery fairness", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["habitat degradation", "scientific effort", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["fishery fairness", "fisher awareness", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["local governance", "community cooperation", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["institutional vision", "tourism sector", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["subsidies", "environmental dependency", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["distrust", "decentralized system", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["environmental impact", "transparency", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["process transparency", "community awareness", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["process transparency", "frustration", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["puerto rican fisheries", "managers relationship", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["fisher awareness", "risk-taking", {"weight": -1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["fisher awareness", "knowledge gap", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["mayors\u2019 offices", "crisis response", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["community perception", "agency attention", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["advisory committee", "agency-community disconnect", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["advisory committee", "coastal communities", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["advisory committee", "community cohesion", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["tourism economy", "short-term incentives", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["tourism economy", "cooperation barriers", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["tourism economy", "participatory governance", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["livelihood security", "stakeholder engagement", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["livelihood security", "law approval", {"weight": -1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["organizational collaboration", "underwater drones", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["decision-makers", "puerto rican fisheries", {"weight": 1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["decision-makers", "government collaboration", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["group cohesion", "policy enforcement", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["resources", "cultural continuity", {"weight": 1.0, "confidence": 0.6499999999999999, "type": "inter_cluster", "style": "solid"}], ["stakeholder relations", "short-term incentives", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["coral restoration", "decision-making transparency", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["organizational coordination", "fisher awareness", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["policy implementation", "biologists perception.", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["policy implementation", "conservation behavior", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["policy implementation", "social trust", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["government turnover", "agency disconnect", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["habitat monitoring", "awareness", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["habitat monitoring", "open forum", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["fisher knowledge gap", "cooperative structures", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["weather patterns", "local knowledge", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["biologists perception.", "scientific research", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["agency attention", "tarpon", {"weight": 0.5, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["financial support", "lionfish removal", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["financial support", "transparency", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["institutional priorities", "top down approach", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["institutional priorities", "work opportunities", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["livelihood", "cooperation barriers", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["conservation behavior", "coral reef dependency", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["conflict resolution", "social trust", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["virgin islands", "crisis response", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["virgin islands", "advisory committee", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["enforcement capacity", "community cooperation", {"weight": 1.0, "confidence": 0.7833333333333333, "type": "inter_cluster", "style": "solid"}], ["enforcement capacity", "self-sustenance", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["compliance failure", "resource management", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["compliance failure", "climate knowledge gap", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["data limitations", "enforcement challenges", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["decentralized system", "organizational collaboration", {"weight": -1.0, "confidence": 0.8000000000000002, "type": "inter_cluster", "style": "solid"}], ["decentralized system", "coastal communities", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["habitat restoration", "legislative challenges", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["conflict escalation", "resource management", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["participatory management", "agency-community disconnect", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["participatory management", "hearing processes", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["climate knowledge gap", "water quality", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["accountability gap", "climate knowledge gap", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["fish behavior", "community problem-solving", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["fish behavior", "environmental dependency", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["boat repair", "social systems", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["hearing processes", "environmental impacts", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["local level", "subsidies", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["larvae development", "fishing livelihoods", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["fisheries dependency", "economic dependency", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["colonial legacy", "welfare system", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["data access", "biologists perception.", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["data access", "dner", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["cooperation barriers", "middleman dependency", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["cooperation barriers", "organizational coordination", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["coral bleaching", "dner", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["dner", "self-sustenance", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["enforcement", "effort control", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["enforcement", "vieques cohesion", {"weight": 1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["top-down approach", "tourism sector", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["acoustics monitoring", "economic survival", {"weight": 1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["social trust", "decision-making transparency", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["social trust", "west coast refusals", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["welfare system", "local fishermen", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["welfare system", "fishery decisions", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["welfare system", "family traditions", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["agency disconnect", "sea monitoring", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["weather variability", "fishery managers", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["social systems", "community action", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["decision-making process", "climate knowledge gap", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["tourist development", "community problem-solving", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["fishery pride", "stakeholder relations", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["fishery pride", "imported fish", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["fishery pride", "decision-making transparency", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["policy enforcement", "staff turnover", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["livelihood dependency", "cooperation barriers", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["risk-taking", "third party facilitation", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["risk-taking", "engagement", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["fisher individualism", "overfishing", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["community collaboration", "accountability", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["agricultural sector", "government subsidies", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["agricultural sector", "fisher pride", {"weight": -1.0, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["local knowledge", "regulations", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["problem focus", "regulatory compliance", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["coral reef dependency", "enforcement capacity", {"weight": -1.0, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {};
        const clusterEdges = {};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
