
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"cooperative fishers": {"concepts": "cooperative fishers", "concept_list": ["cooperative fishers"], "type": "cluster", "node_size": 18, "label": "cooperative fishers"}, "Fisher Livelihoods": {"concepts": "fishery management, commercial fisher, fisheries development, fishery development, fishery managers, fishing industry, fishing regulations, fisher regulations, local fisheries, puerto rican fisheries, pr fisheries", "concept_list": ["fishery management", "commercial fisher", "fisheries development", "fishery development", "fishery managers", "fishing industry", "fishing regulations", "fisher regulations", "local fisheries", "puerto rican fisheries", "pr fisheries"], "type": "cluster", "node_size": 48, "label": "Fisher Livelihoods"}, "Fisher Types": {"concepts": "illegal fishing, fisher conflicts, fisher involvement, fisher protests, fishermen conditions, pozuelo fishermen, artisanal fishing, fisher cooperation, livelihood dependency, fisher concerns, fishermen proposals, fishing communities, fisher proposals, fisher cohesion, fishermen", "concept_list": ["illegal fishing", "fisher conflicts", "fisher involvement", "fisher protests", "fishermen conditions", "pozuelo fishermen", "artisanal fishing", "fisher cooperation", "livelihood dependency", "fisher concerns", "fishermen proposals", "fishing communities", "fisher proposals", "fisher cohesion", "fishermen"], "type": "cluster", "node_size": 60, "label": "Fisher Types"}, "Environmental Impacts": {"concepts": "recreational fishers, recreational fisherman, commercial fisherman, recreational fishermen, recreational licenses", "concept_list": ["recreational fishers", "recreational fisherman", "commercial fisherman", "recreational fishermen", "recreational licenses"], "type": "cluster", "node_size": 30, "label": "Environmental Impacts"}, "Government Role": {"concepts": "fish stocks, pollution, fisher relationship, fishing platform, water, algae growth, coral reefs, tourism dependency, fish behavior, coastal communities, plastic nets, coastal dependency, coastal pollution, overfishing, tourism industry, water temperature", "concept_list": ["fish stocks", "pollution", "fisher relationship", "fishing platform", "water", "algae growth", "coral reefs", "tourism dependency", "fish behavior", "coastal communities", "plastic nets", "coastal dependency", "coastal pollution", "overfishing", "tourism industry", "water temperature"], "type": "cluster", "node_size": 63, "label": "Government Role"}, "Fisheries Management": {"concepts": "enforcement, federal money, government investment, department of agriculture, government communication, government assistance, dner, government obstacles, government agreement, equipment aid, lack of funding, government power, government destabilization, government support, government distrust, government neglect, government, government officials, noaa", "concept_list": ["enforcement", "federal money", "government investment", "department of agriculture", "government communication", "government assistance", "dner", "government obstacles", "government agreement", "equipment aid", "lack of funding", "government power", "government destabilization", "government support", "government distrust", "government neglect", "government", "government officials", "noaa"], "type": "cluster", "node_size": 72, "label": "Fisheries Management"}, "Boating Costs & Regulations": {"concepts": "economic impact, equipment, pleasure boat, boat registration, license requirements, licenses, license, agencies, maintenance costs, permits, pescader\u00edas, reimbursement", "concept_list": ["economic impact", "equipment", "pleasure boat", "boat registration", "license requirements", "licenses", "license", "agencies", "maintenance costs", "permits", "pescader\u00edas", "reimbursement"], "type": "cluster", "node_size": 51, "label": "Boating Costs & Regulations"}, "Environmental Health Risks": {"concepts": "heart disease, pipeline committee, sargassum, weather patterns, climate change, bad weather, hurricanes, electricity, weather, cancer", "concept_list": ["heart disease", "pipeline committee", "sargassum", "weather patterns", "climate change", "bad weather", "hurricanes", "electricity", "weather", "cancer"], "type": "cluster", "node_size": 45, "label": "Environmental Health Risks"}, "Community Politics": {"concepts": "community division, lack of trust, storms, local culture, mayor, resource management, community action, politics, community problems, military impact, poor, communication, political embarrassment, political division, big companies, lack of enforcement, fair decisions, agriculture department, political involvement, villa pesquera, frustrating collaboration, politicized arguments, conflict resolution, coop, envy, participatory action, pipeline, noaa distrust, inequality, health, self-sufficiency, rights, meetings, committee, court, government trust, political change, political parties, municipalities, pr culture, association, decision-making, government blame, racism, community destabilization, votes, differences of opinion", "concept_list": ["community division", "lack of trust", "storms", "local culture", "mayor", "resource management", "community action", "politics", "community problems", "military impact", "poor", "communication", "political embarrassment", "political division", "big companies", "lack of enforcement", "fair decisions", "agriculture department", "political involvement", "villa pesquera", "frustrating collaboration", "politicized arguments", "conflict resolution", "coop", "envy", "participatory action", "pipeline", "noaa distrust", "inequality", "health", "self-sufficiency", "rights", "meetings", "committee", "court", "government trust", "political change", "political parties", "municipalities", "pr culture", "association", "decision-making", "government blame", "racism", "community destabilization", "votes", "differences of opinion"], "type": "cluster", "node_size": 156, "label": "Community Politics"}};
        const conceptData = {"fishery management": {"concepts": "fishery management", "type": "concept", "cluster": "Fisher Livelihoods", "node_size": 10, "label": "fishery management"}, "commercial fisher": {"concepts": "commercial fisher", "type": "concept", "cluster": "Fisher Livelihoods", "node_size": 10, "label": "commercial fisher"}, "fisheries development": {"concepts": "fisheries development", "type": "concept", "cluster": "Fisher Livelihoods", "node_size": 10, "label": "fisheries development"}, "fishery development": {"concepts": "fishery development", "type": "concept", "cluster": "Fisher Livelihoods", "node_size": 10, "label": "fishery development"}, "fishery managers": {"concepts": "fishery managers", "type": "concept", "cluster": "Fisher Livelihoods", "node_size": 10, "label": "fishery managers"}, "fishing industry": {"concepts": "fishing industry", "type": "concept", "cluster": "Fisher Livelihoods", "node_size": 10, "label": "fishing industry"}, "fishing regulations": {"concepts": "fishing regulations", "type": "concept", "cluster": "Fisher Livelihoods", "node_size": 10, "label": "fishing regulations"}, "fisher regulations": {"concepts": "fisher regulations", "type": "concept", "cluster": "Fisher Livelihoods", "node_size": 10, "label": "fisher regulations"}, "local fisheries": {"concepts": "local fisheries", "type": "concept", "cluster": "Fisher Livelihoods", "node_size": 10, "label": "local fisheries"}, "puerto rican fisheries": {"concepts": "puerto rican fisheries", "type": "concept", "cluster": "Fisher Livelihoods", "node_size": 10, "label": "puerto rican fisheries"}, "pr fisheries": {"concepts": "pr fisheries", "type": "concept", "cluster": "Fisher Livelihoods", "node_size": 10, "label": "pr fisheries"}, "illegal fishing": {"concepts": "illegal fishing", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "illegal fishing"}, "fisher conflicts": {"concepts": "fisher conflicts", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "fisher conflicts"}, "fisher involvement": {"concepts": "fisher involvement", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "fisher involvement"}, "fisher protests": {"concepts": "fisher protests", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "fisher protests"}, "fishermen conditions": {"concepts": "fishermen conditions", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "fishermen conditions"}, "pozuelo fishermen": {"concepts": "pozuelo fishermen", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "pozuelo fishermen"}, "artisanal fishing": {"concepts": "artisanal fishing", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "artisanal fishing"}, "fisher cooperation": {"concepts": "fisher cooperation", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "fisher cooperation"}, "livelihood dependency": {"concepts": "livelihood dependency", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "livelihood dependency"}, "fisher concerns": {"concepts": "fisher concerns", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "fisher concerns"}, "fishermen proposals": {"concepts": "fishermen proposals", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "fishermen proposals"}, "fishing communities": {"concepts": "fishing communities", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "fishing communities"}, "fisher proposals": {"concepts": "fisher proposals", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "fisher proposals"}, "fisher cohesion": {"concepts": "fisher cohesion", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "fisher cohesion"}, "fishermen": {"concepts": "fishermen", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "fishermen"}, "recreational fishers": {"concepts": "recreational fishers", "type": "concept", "cluster": "Environmental Impacts", "node_size": 10, "label": "recreational fishers"}, "recreational fisherman": {"concepts": "recreational fisherman", "type": "concept", "cluster": "Environmental Impacts", "node_size": 10, "label": "recreational fisherman"}, "commercial fisherman": {"concepts": "commercial fisherman", "type": "concept", "cluster": "Environmental Impacts", "node_size": 10, "label": "commercial fisherman"}, "recreational fishermen": {"concepts": "recreational fishermen", "type": "concept", "cluster": "Environmental Impacts", "node_size": 10, "label": "recreational fishermen"}, "recreational licenses": {"concepts": "recreational licenses", "type": "concept", "cluster": "Environmental Impacts", "node_size": 10, "label": "recreational licenses"}, "fish stocks": {"concepts": "fish stocks", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "fish stocks"}, "pollution": {"concepts": "pollution", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "pollution"}, "fisher relationship": {"concepts": "fisher relationship", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "fisher relationship"}, "fishing platform": {"concepts": "fishing platform", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "fishing platform"}, "water": {"concepts": "water", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "water"}, "algae growth": {"concepts": "algae growth", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "algae growth"}, "coral reefs": {"concepts": "coral reefs", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "coral reefs"}, "tourism dependency": {"concepts": "tourism dependency", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "tourism dependency"}, "fish behavior": {"concepts": "fish behavior", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "fish behavior"}, "coastal communities": {"concepts": "coastal communities", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "coastal communities"}, "plastic nets": {"concepts": "plastic nets", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "plastic nets"}, "coastal dependency": {"concepts": "coastal dependency", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "coastal dependency"}, "coastal pollution": {"concepts": "coastal pollution", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "coastal pollution"}, "overfishing": {"concepts": "overfishing", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "overfishing"}, "tourism industry": {"concepts": "tourism industry", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "tourism industry"}, "water temperature": {"concepts": "water temperature", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "water temperature"}, "enforcement": {"concepts": "enforcement", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "enforcement"}, "federal money": {"concepts": "federal money", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "federal money"}, "government investment": {"concepts": "government investment", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government investment"}, "department of agriculture": {"concepts": "department of agriculture", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "department of agriculture"}, "government communication": {"concepts": "government communication", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government communication"}, "government assistance": {"concepts": "government assistance", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government assistance"}, "dner": {"concepts": "dner", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "dner"}, "government obstacles": {"concepts": "government obstacles", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government obstacles"}, "government agreement": {"concepts": "government agreement", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government agreement"}, "equipment aid": {"concepts": "equipment aid", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "equipment aid"}, "lack of funding": {"concepts": "lack of funding", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "lack of funding"}, "government power": {"concepts": "government power", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government power"}, "government destabilization": {"concepts": "government destabilization", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government destabilization"}, "government support": {"concepts": "government support", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government support"}, "government distrust": {"concepts": "government distrust", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government distrust"}, "government neglect": {"concepts": "government neglect", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government neglect"}, "government": {"concepts": "government", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government"}, "government officials": {"concepts": "government officials", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government officials"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "noaa"}, "economic impact": {"concepts": "economic impact", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "economic impact"}, "equipment": {"concepts": "equipment", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "equipment"}, "pleasure boat": {"concepts": "pleasure boat", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "pleasure boat"}, "boat registration": {"concepts": "boat registration", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "boat registration"}, "license requirements": {"concepts": "license requirements", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "license requirements"}, "licenses": {"concepts": "licenses", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "licenses"}, "license": {"concepts": "license", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "license"}, "agencies": {"concepts": "agencies", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "agencies"}, "maintenance costs": {"concepts": "maintenance costs", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "maintenance costs"}, "permits": {"concepts": "permits", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "permits"}, "pescader\u00edas": {"concepts": "pescader\u00edas", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "pescader\u00edas"}, "reimbursement": {"concepts": "reimbursement", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "reimbursement"}, "heart disease": {"concepts": "heart disease", "type": "concept", "cluster": "Environmental Health Risks", "node_size": 10, "label": "heart disease"}, "pipeline committee": {"concepts": "pipeline committee", "type": "concept", "cluster": "Environmental Health Risks", "node_size": 10, "label": "pipeline committee"}, "sargassum": {"concepts": "sargassum", "type": "concept", "cluster": "Environmental Health Risks", "node_size": 10, "label": "sargassum"}, "weather patterns": {"concepts": "weather patterns", "type": "concept", "cluster": "Environmental Health Risks", "node_size": 10, "label": "weather patterns"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Environmental Health Risks", "node_size": 10, "label": "climate change"}, "bad weather": {"concepts": "bad weather", "type": "concept", "cluster": "Environmental Health Risks", "node_size": 10, "label": "bad weather"}, "hurricanes": {"concepts": "hurricanes", "type": "concept", "cluster": "Environmental Health Risks", "node_size": 10, "label": "hurricanes"}, "electricity": {"concepts": "electricity", "type": "concept", "cluster": "Environmental Health Risks", "node_size": 10, "label": "electricity"}, "weather": {"concepts": "weather", "type": "concept", "cluster": "Environmental Health Risks", "node_size": 10, "label": "weather"}, "cancer": {"concepts": "cancer", "type": "concept", "cluster": "Environmental Health Risks", "node_size": 10, "label": "cancer"}, "community division": {"concepts": "community division", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "community division"}, "lack of trust": {"concepts": "lack of trust", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "lack of trust"}, "storms": {"concepts": "storms", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "storms"}, "local culture": {"concepts": "local culture", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "local culture"}, "mayor": {"concepts": "mayor", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "mayor"}, "resource management": {"concepts": "resource management", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "resource management"}, "community action": {"concepts": "community action", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "community action"}, "politics": {"concepts": "politics", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "politics"}, "community problems": {"concepts": "community problems", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "community problems"}, "military impact": {"concepts": "military impact", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "military impact"}, "poor": {"concepts": "poor", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "poor"}, "communication": {"concepts": "communication", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "communication"}, "political embarrassment": {"concepts": "political embarrassment", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "political embarrassment"}, "political division": {"concepts": "political division", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "political division"}, "big companies": {"concepts": "big companies", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "big companies"}, "lack of enforcement": {"concepts": "lack of enforcement", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "lack of enforcement"}, "fair decisions": {"concepts": "fair decisions", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "fair decisions"}, "agriculture department": {"concepts": "agriculture department", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "agriculture department"}, "political involvement": {"concepts": "political involvement", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "political involvement"}, "villa pesquera": {"concepts": "villa pesquera", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "villa pesquera"}, "frustrating collaboration": {"concepts": "frustrating collaboration", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "frustrating collaboration"}, "politicized arguments": {"concepts": "politicized arguments", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "politicized arguments"}, "conflict resolution": {"concepts": "conflict resolution", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "conflict resolution"}, "coop": {"concepts": "coop", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "coop"}, "envy": {"concepts": "envy", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "envy"}, "participatory action": {"concepts": "participatory action", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "participatory action"}, "pipeline": {"concepts": "pipeline", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "pipeline"}, "noaa distrust": {"concepts": "noaa distrust", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "noaa distrust"}, "inequality": {"concepts": "inequality", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "inequality"}, "health": {"concepts": "health", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "health"}, "self-sufficiency": {"concepts": "self-sufficiency", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "self-sufficiency"}, "rights": {"concepts": "rights", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "rights"}, "meetings": {"concepts": "meetings", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "meetings"}, "committee": {"concepts": "committee", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "committee"}, "court": {"concepts": "court", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "court"}, "government trust": {"concepts": "government trust", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "government trust"}, "political change": {"concepts": "political change", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "political change"}, "political parties": {"concepts": "political parties", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "political parties"}, "municipalities": {"concepts": "municipalities", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "municipalities"}, "pr culture": {"concepts": "pr culture", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "pr culture"}, "association": {"concepts": "association", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "association"}, "decision-making": {"concepts": "decision-making", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "decision-making"}, "government blame": {"concepts": "government blame", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "government blame"}, "racism": {"concepts": "racism", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "racism"}, "community destabilization": {"concepts": "community destabilization", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "community destabilization"}, "votes": {"concepts": "votes", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "votes"}, "differences of opinion": {"concepts": "differences of opinion", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "differences of opinion"}};
        const interClusterEdges = [["cooperative fishers", "Community Politics", {"weight": -0.2, "confidence": 0.29, "type": "inter_cluster", "style": "solid"}], ["Fisher Types", "Government Role", {"weight": -0.8, "confidence": 0.53, "type": "inter_cluster", "style": "solid"}], ["Fisher Types", "Community Politics", {"weight": 1.0, "confidence": 0.41000000000000003, "type": "inter_cluster", "style": "solid"}], ["Environmental Impacts", "Community Politics", {"weight": 1.0, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Government Role", "Fisher Livelihoods", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["Government Role", "Fisher Types", {"weight": 0.25, "confidence": 0.3125, "type": "inter_cluster", "style": "solid"}], ["Government Role", "cooperative fishers", {"weight": -0.25, "confidence": 0.2375, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Fisher Types", {"weight": -1.0, "confidence": 0.64, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Boating Costs & Regulations", {"weight": 1.0, "confidence": 0.51, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Community Politics", {"weight": 1.0, "confidence": 0.3666666666666667, "type": "inter_cluster", "style": "solid"}], ["Boating Costs & Regulations", "Environmental Impacts", {"weight": 1.0, "confidence": 0.52, "type": "inter_cluster", "style": "solid"}], ["Boating Costs & Regulations", "Community Politics", {"weight": 0.8, "confidence": 0.22000000000000003, "type": "inter_cluster", "style": "solid"}], ["Environmental Health Risks", "Boating Costs & Regulations", {"weight": -1.0, "confidence": 0.26, "type": "inter_cluster", "style": "solid"}], ["Community Politics", "Fisher Types", {"weight": 0.6, "confidence": 0.47000000000000003, "type": "inter_cluster", "style": "solid"}], ["Community Politics", "Fisher Livelihoods", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Community Politics", "Environmental Health Risks", {"weight": 0.6, "confidence": 0.31, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Fisher Livelihoods": [["fishery management", {"concepts": "fishery management", "type": "concept", "cluster": "Fisher Livelihoods", "node_size": 10, "label": "fishery management"}], ["commercial fisher", {"concepts": "commercial fisher", "type": "concept", "cluster": "Fisher Livelihoods", "node_size": 10, "label": "commercial fisher"}], ["fisheries development", {"concepts": "fisheries development", "type": "concept", "cluster": "Fisher Livelihoods", "node_size": 10, "label": "fisheries development"}], ["fishery development", {"concepts": "fishery development", "type": "concept", "cluster": "Fisher Livelihoods", "node_size": 10, "label": "fishery development"}], ["fishery managers", {"concepts": "fishery managers", "type": "concept", "cluster": "Fisher Livelihoods", "node_size": 10, "label": "fishery managers"}], ["fishing industry", {"concepts": "fishing industry", "type": "concept", "cluster": "Fisher Livelihoods", "node_size": 10, "label": "fishing industry"}], ["fishing regulations", {"concepts": "fishing regulations", "type": "concept", "cluster": "Fisher Livelihoods", "node_size": 10, "label": "fishing regulations"}], ["fisher regulations", {"concepts": "fisher regulations", "type": "concept", "cluster": "Fisher Livelihoods", "node_size": 10, "label": "fisher regulations"}], ["local fisheries", {"concepts": "local fisheries", "type": "concept", "cluster": "Fisher Livelihoods", "node_size": 10, "label": "local fisheries"}], ["puerto rican fisheries", {"concepts": "puerto rican fisheries", "type": "concept", "cluster": "Fisher Livelihoods", "node_size": 10, "label": "puerto rican fisheries"}], ["pr fisheries", {"concepts": "pr fisheries", "type": "concept", "cluster": "Fisher Livelihoods", "node_size": 10, "label": "pr fisheries"}]], "Fisher Types": [["illegal fishing", {"concepts": "illegal fishing", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "illegal fishing"}], ["fisher conflicts", {"concepts": "fisher conflicts", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "fisher conflicts"}], ["fisher involvement", {"concepts": "fisher involvement", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "fisher involvement"}], ["fisher protests", {"concepts": "fisher protests", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "fisher protests"}], ["fishermen conditions", {"concepts": "fishermen conditions", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "fishermen conditions"}], ["pozuelo fishermen", {"concepts": "pozuelo fishermen", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "pozuelo fishermen"}], ["artisanal fishing", {"concepts": "artisanal fishing", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "artisanal fishing"}], ["fisher cooperation", {"concepts": "fisher cooperation", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "fisher cooperation"}], ["livelihood dependency", {"concepts": "livelihood dependency", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "livelihood dependency"}], ["fisher concerns", {"concepts": "fisher concerns", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "fisher concerns"}], ["fishermen proposals", {"concepts": "fishermen proposals", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "fishermen proposals"}], ["fishing communities", {"concepts": "fishing communities", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "fishing communities"}], ["fisher proposals", {"concepts": "fisher proposals", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "fisher proposals"}], ["fisher cohesion", {"concepts": "fisher cohesion", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "fisher cohesion"}], ["fishermen", {"concepts": "fishermen", "type": "concept", "cluster": "Fisher Types", "node_size": 10, "label": "fishermen"}]], "Environmental Impacts": [["recreational fishers", {"concepts": "recreational fishers", "type": "concept", "cluster": "Environmental Impacts", "node_size": 10, "label": "recreational fishers"}], ["recreational fisherman", {"concepts": "recreational fisherman", "type": "concept", "cluster": "Environmental Impacts", "node_size": 10, "label": "recreational fisherman"}], ["commercial fisherman", {"concepts": "commercial fisherman", "type": "concept", "cluster": "Environmental Impacts", "node_size": 10, "label": "commercial fisherman"}], ["recreational fishermen", {"concepts": "recreational fishermen", "type": "concept", "cluster": "Environmental Impacts", "node_size": 10, "label": "recreational fishermen"}], ["recreational licenses", {"concepts": "recreational licenses", "type": "concept", "cluster": "Environmental Impacts", "node_size": 10, "label": "recreational licenses"}]], "Government Role": [["fish stocks", {"concepts": "fish stocks", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "fish stocks"}], ["pollution", {"concepts": "pollution", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "pollution"}], ["fisher relationship", {"concepts": "fisher relationship", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "fisher relationship"}], ["fishing platform", {"concepts": "fishing platform", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "fishing platform"}], ["water", {"concepts": "water", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "water"}], ["algae growth", {"concepts": "algae growth", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "algae growth"}], ["coral reefs", {"concepts": "coral reefs", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "coral reefs"}], ["tourism dependency", {"concepts": "tourism dependency", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "tourism dependency"}], ["fish behavior", {"concepts": "fish behavior", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "fish behavior"}], ["coastal communities", {"concepts": "coastal communities", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "coastal communities"}], ["plastic nets", {"concepts": "plastic nets", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "plastic nets"}], ["coastal dependency", {"concepts": "coastal dependency", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "coastal dependency"}], ["coastal pollution", {"concepts": "coastal pollution", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "coastal pollution"}], ["overfishing", {"concepts": "overfishing", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "overfishing"}], ["tourism industry", {"concepts": "tourism industry", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "tourism industry"}], ["water temperature", {"concepts": "water temperature", "type": "concept", "cluster": "Government Role", "node_size": 10, "label": "water temperature"}]], "Fisheries Management": [["enforcement", {"concepts": "enforcement", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "enforcement"}], ["federal money", {"concepts": "federal money", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "federal money"}], ["government investment", {"concepts": "government investment", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government investment"}], ["department of agriculture", {"concepts": "department of agriculture", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "department of agriculture"}], ["government communication", {"concepts": "government communication", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government communication"}], ["government assistance", {"concepts": "government assistance", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government assistance"}], ["dner", {"concepts": "dner", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "dner"}], ["government obstacles", {"concepts": "government obstacles", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government obstacles"}], ["government agreement", {"concepts": "government agreement", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government agreement"}], ["equipment aid", {"concepts": "equipment aid", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "equipment aid"}], ["lack of funding", {"concepts": "lack of funding", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "lack of funding"}], ["government power", {"concepts": "government power", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government power"}], ["government destabilization", {"concepts": "government destabilization", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government destabilization"}], ["government support", {"concepts": "government support", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government support"}], ["government distrust", {"concepts": "government distrust", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government distrust"}], ["government neglect", {"concepts": "government neglect", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government neglect"}], ["government", {"concepts": "government", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government"}], ["government officials", {"concepts": "government officials", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "government officials"}], ["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "noaa"}]], "Boating Costs & Regulations": [["economic impact", {"concepts": "economic impact", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "economic impact"}], ["equipment", {"concepts": "equipment", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "equipment"}], ["pleasure boat", {"concepts": "pleasure boat", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "pleasure boat"}], ["boat registration", {"concepts": "boat registration", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "boat registration"}], ["license requirements", {"concepts": "license requirements", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "license requirements"}], ["licenses", {"concepts": "licenses", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "licenses"}], ["license", {"concepts": "license", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "license"}], ["agencies", {"concepts": "agencies", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "agencies"}], ["maintenance costs", {"concepts": "maintenance costs", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "maintenance costs"}], ["permits", {"concepts": "permits", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "permits"}], ["pescader\u00edas", {"concepts": "pescader\u00edas", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "pescader\u00edas"}], ["reimbursement", {"concepts": "reimbursement", "type": "concept", "cluster": "Boating Costs & Regulations", "node_size": 10, "label": "reimbursement"}]], "Environmental Health Risks": [["heart disease", {"concepts": "heart disease", "type": "concept", "cluster": "Environmental Health Risks", "node_size": 10, "label": "heart disease"}], ["pipeline committee", {"concepts": "pipeline committee", "type": "concept", "cluster": "Environmental Health Risks", "node_size": 10, "label": "pipeline committee"}], ["sargassum", {"concepts": "sargassum", "type": "concept", "cluster": "Environmental Health Risks", "node_size": 10, "label": "sargassum"}], ["weather patterns", {"concepts": "weather patterns", "type": "concept", "cluster": "Environmental Health Risks", "node_size": 10, "label": "weather patterns"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Environmental Health Risks", "node_size": 10, "label": "climate change"}], ["bad weather", {"concepts": "bad weather", "type": "concept", "cluster": "Environmental Health Risks", "node_size": 10, "label": "bad weather"}], ["hurricanes", {"concepts": "hurricanes", "type": "concept", "cluster": "Environmental Health Risks", "node_size": 10, "label": "hurricanes"}], ["electricity", {"concepts": "electricity", "type": "concept", "cluster": "Environmental Health Risks", "node_size": 10, "label": "electricity"}], ["weather", {"concepts": "weather", "type": "concept", "cluster": "Environmental Health Risks", "node_size": 10, "label": "weather"}], ["cancer", {"concepts": "cancer", "type": "concept", "cluster": "Environmental Health Risks", "node_size": 10, "label": "cancer"}]], "Community Politics": [["community division", {"concepts": "community division", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "community division"}], ["lack of trust", {"concepts": "lack of trust", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "lack of trust"}], ["storms", {"concepts": "storms", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "storms"}], ["local culture", {"concepts": "local culture", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "local culture"}], ["mayor", {"concepts": "mayor", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "mayor"}], ["resource management", {"concepts": "resource management", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "resource management"}], ["community action", {"concepts": "community action", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "community action"}], ["politics", {"concepts": "politics", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "politics"}], ["community problems", {"concepts": "community problems", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "community problems"}], ["military impact", {"concepts": "military impact", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "military impact"}], ["poor", {"concepts": "poor", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "poor"}], ["communication", {"concepts": "communication", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "communication"}], ["political embarrassment", {"concepts": "political embarrassment", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "political embarrassment"}], ["political division", {"concepts": "political division", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "political division"}], ["big companies", {"concepts": "big companies", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "big companies"}], ["lack of enforcement", {"concepts": "lack of enforcement", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "lack of enforcement"}], ["fair decisions", {"concepts": "fair decisions", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "fair decisions"}], ["agriculture department", {"concepts": "agriculture department", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "agriculture department"}], ["political involvement", {"concepts": "political involvement", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "political involvement"}], ["villa pesquera", {"concepts": "villa pesquera", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "villa pesquera"}], ["frustrating collaboration", {"concepts": "frustrating collaboration", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "frustrating collaboration"}], ["politicized arguments", {"concepts": "politicized arguments", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "politicized arguments"}], ["conflict resolution", {"concepts": "conflict resolution", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "conflict resolution"}], ["coop", {"concepts": "coop", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "coop"}], ["envy", {"concepts": "envy", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "envy"}], ["participatory action", {"concepts": "participatory action", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "participatory action"}], ["pipeline", {"concepts": "pipeline", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "pipeline"}], ["noaa distrust", {"concepts": "noaa distrust", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "noaa distrust"}], ["inequality", {"concepts": "inequality", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "inequality"}], ["health", {"concepts": "health", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "health"}], ["self-sufficiency", {"concepts": "self-sufficiency", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "self-sufficiency"}], ["rights", {"concepts": "rights", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "rights"}], ["meetings", {"concepts": "meetings", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "meetings"}], ["committee", {"concepts": "committee", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "committee"}], ["court", {"concepts": "court", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "court"}], ["government trust", {"concepts": "government trust", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "government trust"}], ["political change", {"concepts": "political change", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "political change"}], ["political parties", {"concepts": "political parties", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "political parties"}], ["municipalities", {"concepts": "municipalities", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "municipalities"}], ["pr culture", {"concepts": "pr culture", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "pr culture"}], ["association", {"concepts": "association", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "association"}], ["decision-making", {"concepts": "decision-making", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "decision-making"}], ["government blame", {"concepts": "government blame", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "government blame"}], ["racism", {"concepts": "racism", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "racism"}], ["community destabilization", {"concepts": "community destabilization", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "community destabilization"}], ["votes", {"concepts": "votes", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "votes"}], ["differences of opinion", {"concepts": "differences of opinion", "type": "concept", "cluster": "Community Politics", "node_size": 10, "label": "differences of opinion"}]]};
        const clusterEdges = {"Fisher Livelihoods": [], "Fisher Types": [], "Environmental Impacts": [], "Government Role": [], "Fisheries Management": [], "Boating Costs & Regulations": [], "Environmental Health Risks": [], "Community Politics": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
