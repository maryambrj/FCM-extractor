
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"prey diversity": {"concepts": "prey diversity", "concept_list": ["prey diversity"], "type": "cluster", "node_size": 18, "label": "prey diversity"}, "ecosystems": {"concepts": "ecosystems", "concept_list": ["ecosystems"], "type": "cluster", "node_size": 18, "label": "ecosystems"}, "Charter Tourism Operations": {"concepts": "wildlife regulations, marine regulations, wildlife traffic", "concept_list": ["wildlife regulations", "marine regulations", "wildlife traffic"], "type": "cluster", "node_size": 24, "label": "Charter Tourism Operations"}, "Fishing Catch Limits": {"concepts": "operational policy, boat captains, tourism, reviews, snorkeling trips, size limits, soft science, boat traffic, snorkeling, law compliance, back bays, youtube videos, business operations, law enforcement, guest satisfaction, opinions, charter industry, economic growth, customer selection, weeks bay, regulations, dolphin cruise, client mindset, audience segmentation, enforcement integrity, business strategy, psychological map, cognitive mapping, seasonal demand, tourism experience, economic impacts, trip evaluation, boating, personal ethics, resource protection, resource management, litter, commercial value, state regulations, research investment, charter cost, self-imposed limits, anonymity, red snapper, commercial license, tourism industry, trip bookings, concept mapping, personal regulations, professional standards, client selection, economic impact, industry opinions, social media, officer misconduct, positive impacts, trip cancellations, manatees, negative impacts, self-imposed rules, family food argument, industry impact, passenger safety, charter captain, hard biology, bycatch reduction, dolphin cruise boats, dolphin cruises, business promotion, scoring system, community relationships, state trooper, booking rates, variety of prey, island hopping, confidentiality, food security myth, shared interests, customer experience, personal boat policy, visitor education, social benefits, winter income, red drum, fishing, inshore charter, market differentiation, friendships, clientele mindset, public perception, dolphin population, economic benefits", "concept_list": ["operational policy", "boat captains", "tourism", "reviews", "snorkeling trips", "size limits", "soft science", "boat traffic", "snorkeling", "law compliance", "back bays", "youtube videos", "business operations", "law enforcement", "guest satisfaction", "opinions", "charter industry", "economic growth", "customer selection", "weeks bay", "regulations", "dolphin cruise", "client mindset", "audience segmentation", "enforcement integrity", "business strategy", "psychological map", "cognitive mapping", "seasonal demand", "tourism experience", "economic impacts", "trip evaluation", "boating", "personal ethics", "resource protection", "resource management", "litter", "commercial value", "state regulations", "research investment", "charter cost", "self-imposed limits", "anonymity", "red snapper", "commercial license", "tourism industry", "trip bookings", "concept mapping", "personal regulations", "professional standards", "client selection", "economic impact", "industry opinions", "social media", "officer misconduct", "positive impacts", "trip cancellations", "manatees", "negative impacts", "self-imposed rules", "family food argument", "industry impact", "passenger safety", "charter captain", "hard biology", "bycatch reduction", "dolphin cruise boats", "dolphin cruises", "business promotion", "scoring system", "community relationships", "state trooper", "booking rates", "variety of prey", "island hopping", "confidentiality", "food security myth", "shared interests", "customer experience", "personal boat policy", "visitor education", "social benefits", "winter income", "red drum", "fishing", "inshore charter", "market differentiation", "friendships", "clientele mindset", "public perception", "dolphin population", "economic benefits"], "type": "cluster", "node_size": 291, "label": "Fishing Catch Limits"}, "Recreational Fishing Practices": {"concepts": "catch per person, fish retention limits, fish catch limits, catch size limits, catch limits, fish harvest limits, maximum catch policy", "concept_list": ["catch per person", "fish retention limits", "fish catch limits", "catch size limits", "catch limits", "fish harvest limits", "maximum catch policy"], "type": "cluster", "node_size": 36, "label": "Recreational Fishing Practices"}, "Marine Species & Habitat": {"concepts": "fishing guides, recreation services, illegal fishing, fishing charters, recreational fishing, fishing experience, sustainable fishing, recreational shrimping, fishing pressure, recreational boating, fishing regulations, fishing license, subsistence fishing", "concept_list": ["fishing guides", "recreation services", "illegal fishing", "fishing charters", "recreational fishing", "fishing experience", "sustainable fishing", "recreational shrimping", "fishing pressure", "recreational boating", "fishing regulations", "fishing license", "subsistence fishing"], "type": "cluster", "node_size": 54, "label": "Marine Species & Habitat"}, "Wildlife & Marine Rules": {"concepts": "spawners, intercoastal waterways, shrimping, white trout, flounder, speckled trout, breeder stock, oyster reefs, marine environment, marine life, marine ecosystem, water filtration, estuary protection, commercial shrimping, overfishing, seagrass, seagrass protection, water quality, trout, coastal economy, breeder fish, fish filets, sheepshead, poaching, florida, spawning, protecting seagrass, jellyfish, red fish, little lagoon, estuaries", "concept_list": ["spawners", "intercoastal waterways", "shrimping", "white trout", "flounder", "speckled trout", "breeder stock", "oyster reefs", "marine environment", "marine life", "marine ecosystem", "water filtration", "estuary protection", "commercial shrimping", "overfishing", "seagrass", "seagrass protection", "water quality", "trout", "coastal economy", "breeder fish", "fish filets", "sheepshead", "poaching", "florida", "spawning", "protecting seagrass", "jellyfish", "red fish", "little lagoon", "estuaries"], "type": "cluster", "node_size": 108, "label": "Wildlife & Marine Rules"}, "Local Environmental Context": {"concepts": "geographic location, local community, environmental awareness, local environment, environmental factors, local area", "concept_list": ["geographic location", "local community", "environmental awareness", "local environment", "environmental factors", "local area"], "type": "cluster", "node_size": 33, "label": "Local Environmental Context"}, "Biodiversity Conservation": {"concepts": "biodiversity, species diversity", "concept_list": ["biodiversity", "species diversity"], "type": "cluster", "node_size": 21, "label": "Biodiversity Conservation"}, "Fishing Regulations": {"concepts": "species size limits, target species", "concept_list": ["species size limits", "target species"], "type": "cluster", "node_size": 21, "label": "Fishing Regulations"}, "Predator-Prey Dynamics": {"concepts": "prey variety, ecosystem, predatory animals", "concept_list": ["prey variety", "ecosystem", "predatory animals"], "type": "cluster", "node_size": 24, "label": "Predator-Prey Dynamics"}, "Local Environment": {"concepts": "habitat health, habitat protection, habitat conservation", "concept_list": ["habitat health", "habitat protection", "habitat conservation"], "type": "cluster", "node_size": 24, "label": "Local Environment"}, "Wildlife Conservation": {"concepts": "conservation ethics, species protection, ecological protection", "concept_list": ["conservation ethics", "species protection", "ecological protection"], "type": "cluster", "node_size": 24, "label": "Wildlife Conservation"}, "Natural Resource Management": {"concepts": "conservation practices, natural resource use, natural resources", "concept_list": ["conservation practices", "natural resource use", "natural resources"], "type": "cluster", "node_size": 24, "label": "Natural Resource Management"}, "Sustainable Environment": {"concepts": "environmental protection, sustainable practices, ecosystem health", "concept_list": ["environmental protection", "sustainable practices", "ecosystem health"], "type": "cluster", "node_size": 24, "label": "Sustainable Environment"}, "Fishery Management": {"concepts": "fishery sustainability, fishery management, fishery", "concept_list": ["fishery sustainability", "fishery management", "fishery"], "type": "cluster", "node_size": 24, "label": "Fishery Management"}, "Park Wildlife Viewing": {"concepts": "park visibility, wildlife observation", "concept_list": ["park visibility", "wildlife observation"], "type": "cluster", "node_size": 21, "label": "Park Wildlife Viewing"}, "Marine Resource Protection": {"concepts": "wildlife viewing, fishery resources, marine police", "concept_list": ["wildlife viewing", "fishery resources", "marine police"], "type": "cluster", "node_size": 24, "label": "Marine Resource Protection"}};
        const conceptData = {"wildlife regulations": {"concepts": "wildlife regulations", "type": "concept", "cluster": "Charter Tourism Operations", "node_size": 10, "label": "wildlife regulations"}, "marine regulations": {"concepts": "marine regulations", "type": "concept", "cluster": "Charter Tourism Operations", "node_size": 10, "label": "marine regulations"}, "wildlife traffic": {"concepts": "wildlife traffic", "type": "concept", "cluster": "Charter Tourism Operations", "node_size": 10, "label": "wildlife traffic"}, "operational policy": {"concepts": "operational policy", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "operational policy"}, "boat captains": {"concepts": "boat captains", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "boat captains"}, "tourism": {"concepts": "tourism", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "tourism"}, "reviews": {"concepts": "reviews", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "reviews"}, "snorkeling trips": {"concepts": "snorkeling trips", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "snorkeling trips"}, "size limits": {"concepts": "size limits", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "size limits"}, "soft science": {"concepts": "soft science", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "soft science"}, "boat traffic": {"concepts": "boat traffic", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "boat traffic"}, "snorkeling": {"concepts": "snorkeling", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "snorkeling"}, "law compliance": {"concepts": "law compliance", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "law compliance"}, "back bays": {"concepts": "back bays", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "back bays"}, "youtube videos": {"concepts": "youtube videos", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "youtube videos"}, "business operations": {"concepts": "business operations", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "business operations"}, "law enforcement": {"concepts": "law enforcement", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "law enforcement"}, "guest satisfaction": {"concepts": "guest satisfaction", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "guest satisfaction"}, "opinions": {"concepts": "opinions", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "opinions"}, "charter industry": {"concepts": "charter industry", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "charter industry"}, "economic growth": {"concepts": "economic growth", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "economic growth"}, "customer selection": {"concepts": "customer selection", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "customer selection"}, "weeks bay": {"concepts": "weeks bay", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "weeks bay"}, "regulations": {"concepts": "regulations", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "regulations"}, "dolphin cruise": {"concepts": "dolphin cruise", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "dolphin cruise"}, "client mindset": {"concepts": "client mindset", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "client mindset"}, "audience segmentation": {"concepts": "audience segmentation", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "audience segmentation"}, "enforcement integrity": {"concepts": "enforcement integrity", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "enforcement integrity"}, "business strategy": {"concepts": "business strategy", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "business strategy"}, "psychological map": {"concepts": "psychological map", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "psychological map"}, "cognitive mapping": {"concepts": "cognitive mapping", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "cognitive mapping"}, "seasonal demand": {"concepts": "seasonal demand", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "seasonal demand"}, "tourism experience": {"concepts": "tourism experience", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "tourism experience"}, "economic impacts": {"concepts": "economic impacts", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "economic impacts"}, "trip evaluation": {"concepts": "trip evaluation", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "trip evaluation"}, "boating": {"concepts": "boating", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "boating"}, "personal ethics": {"concepts": "personal ethics", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "personal ethics"}, "resource protection": {"concepts": "resource protection", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "resource protection"}, "resource management": {"concepts": "resource management", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "resource management"}, "litter": {"concepts": "litter", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "litter"}, "commercial value": {"concepts": "commercial value", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "commercial value"}, "state regulations": {"concepts": "state regulations", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "state regulations"}, "research investment": {"concepts": "research investment", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "research investment"}, "charter cost": {"concepts": "charter cost", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "charter cost"}, "self-imposed limits": {"concepts": "self-imposed limits", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "self-imposed limits"}, "anonymity": {"concepts": "anonymity", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "anonymity"}, "red snapper": {"concepts": "red snapper", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "red snapper"}, "commercial license": {"concepts": "commercial license", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "commercial license"}, "tourism industry": {"concepts": "tourism industry", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "tourism industry"}, "trip bookings": {"concepts": "trip bookings", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "trip bookings"}, "concept mapping": {"concepts": "concept mapping", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "concept mapping"}, "personal regulations": {"concepts": "personal regulations", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "personal regulations"}, "professional standards": {"concepts": "professional standards", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "professional standards"}, "client selection": {"concepts": "client selection", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "client selection"}, "economic impact": {"concepts": "economic impact", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "economic impact"}, "industry opinions": {"concepts": "industry opinions", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "industry opinions"}, "social media": {"concepts": "social media", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "social media"}, "officer misconduct": {"concepts": "officer misconduct", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "officer misconduct"}, "positive impacts": {"concepts": "positive impacts", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "positive impacts"}, "trip cancellations": {"concepts": "trip cancellations", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "trip cancellations"}, "manatees": {"concepts": "manatees", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "manatees"}, "negative impacts": {"concepts": "negative impacts", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "negative impacts"}, "self-imposed rules": {"concepts": "self-imposed rules", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "self-imposed rules"}, "family food argument": {"concepts": "family food argument", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "family food argument"}, "industry impact": {"concepts": "industry impact", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "industry impact"}, "passenger safety": {"concepts": "passenger safety", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "passenger safety"}, "charter captain": {"concepts": "charter captain", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "charter captain"}, "hard biology": {"concepts": "hard biology", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "hard biology"}, "bycatch reduction": {"concepts": "bycatch reduction", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "bycatch reduction"}, "dolphin cruise boats": {"concepts": "dolphin cruise boats", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "dolphin cruise boats"}, "dolphin cruises": {"concepts": "dolphin cruises", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "dolphin cruises"}, "business promotion": {"concepts": "business promotion", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "business promotion"}, "scoring system": {"concepts": "scoring system", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "scoring system"}, "community relationships": {"concepts": "community relationships", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "community relationships"}, "state trooper": {"concepts": "state trooper", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "state trooper"}, "booking rates": {"concepts": "booking rates", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "booking rates"}, "variety of prey": {"concepts": "variety of prey", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "variety of prey"}, "island hopping": {"concepts": "island hopping", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "island hopping"}, "confidentiality": {"concepts": "confidentiality", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "confidentiality"}, "food security myth": {"concepts": "food security myth", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "food security myth"}, "shared interests": {"concepts": "shared interests", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "shared interests"}, "customer experience": {"concepts": "customer experience", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "customer experience"}, "personal boat policy": {"concepts": "personal boat policy", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "personal boat policy"}, "visitor education": {"concepts": "visitor education", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "visitor education"}, "social benefits": {"concepts": "social benefits", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "social benefits"}, "winter income": {"concepts": "winter income", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "winter income"}, "red drum": {"concepts": "red drum", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "red drum"}, "fishing": {"concepts": "fishing", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "fishing"}, "inshore charter": {"concepts": "inshore charter", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "inshore charter"}, "market differentiation": {"concepts": "market differentiation", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "market differentiation"}, "friendships": {"concepts": "friendships", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "friendships"}, "clientele mindset": {"concepts": "clientele mindset", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "clientele mindset"}, "public perception": {"concepts": "public perception", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "public perception"}, "dolphin population": {"concepts": "dolphin population", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "dolphin population"}, "economic benefits": {"concepts": "economic benefits", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "economic benefits"}, "catch per person": {"concepts": "catch per person", "type": "concept", "cluster": "Recreational Fishing Practices", "node_size": 10, "label": "catch per person"}, "fish retention limits": {"concepts": "fish retention limits", "type": "concept", "cluster": "Recreational Fishing Practices", "node_size": 10, "label": "fish retention limits"}, "fish catch limits": {"concepts": "fish catch limits", "type": "concept", "cluster": "Recreational Fishing Practices", "node_size": 10, "label": "fish catch limits"}, "catch size limits": {"concepts": "catch size limits", "type": "concept", "cluster": "Recreational Fishing Practices", "node_size": 10, "label": "catch size limits"}, "catch limits": {"concepts": "catch limits", "type": "concept", "cluster": "Recreational Fishing Practices", "node_size": 10, "label": "catch limits"}, "fish harvest limits": {"concepts": "fish harvest limits", "type": "concept", "cluster": "Recreational Fishing Practices", "node_size": 10, "label": "fish harvest limits"}, "maximum catch policy": {"concepts": "maximum catch policy", "type": "concept", "cluster": "Recreational Fishing Practices", "node_size": 10, "label": "maximum catch policy"}, "fishing guides": {"concepts": "fishing guides", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "fishing guides"}, "recreation services": {"concepts": "recreation services", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "recreation services"}, "illegal fishing": {"concepts": "illegal fishing", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "illegal fishing"}, "fishing charters": {"concepts": "fishing charters", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "fishing charters"}, "recreational fishing": {"concepts": "recreational fishing", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "recreational fishing"}, "fishing experience": {"concepts": "fishing experience", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "fishing experience"}, "sustainable fishing": {"concepts": "sustainable fishing", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "sustainable fishing"}, "recreational shrimping": {"concepts": "recreational shrimping", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "recreational shrimping"}, "fishing pressure": {"concepts": "fishing pressure", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "fishing pressure"}, "recreational boating": {"concepts": "recreational boating", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "recreational boating"}, "fishing regulations": {"concepts": "fishing regulations", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "fishing regulations"}, "fishing license": {"concepts": "fishing license", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "fishing license"}, "subsistence fishing": {"concepts": "subsistence fishing", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "subsistence fishing"}, "spawners": {"concepts": "spawners", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "spawners"}, "intercoastal waterways": {"concepts": "intercoastal waterways", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "intercoastal waterways"}, "shrimping": {"concepts": "shrimping", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "shrimping"}, "white trout": {"concepts": "white trout", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "white trout"}, "flounder": {"concepts": "flounder", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "flounder"}, "speckled trout": {"concepts": "speckled trout", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "speckled trout"}, "breeder stock": {"concepts": "breeder stock", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "breeder stock"}, "oyster reefs": {"concepts": "oyster reefs", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "oyster reefs"}, "marine environment": {"concepts": "marine environment", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "marine environment"}, "marine life": {"concepts": "marine life", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "marine life"}, "marine ecosystem": {"concepts": "marine ecosystem", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "marine ecosystem"}, "water filtration": {"concepts": "water filtration", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "water filtration"}, "estuary protection": {"concepts": "estuary protection", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "estuary protection"}, "commercial shrimping": {"concepts": "commercial shrimping", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "commercial shrimping"}, "overfishing": {"concepts": "overfishing", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "overfishing"}, "seagrass": {"concepts": "seagrass", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "seagrass"}, "seagrass protection": {"concepts": "seagrass protection", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "seagrass protection"}, "water quality": {"concepts": "water quality", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "water quality"}, "trout": {"concepts": "trout", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "trout"}, "coastal economy": {"concepts": "coastal economy", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "coastal economy"}, "breeder fish": {"concepts": "breeder fish", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "breeder fish"}, "fish filets": {"concepts": "fish filets", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "fish filets"}, "sheepshead": {"concepts": "sheepshead", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "sheepshead"}, "poaching": {"concepts": "poaching", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "poaching"}, "florida": {"concepts": "florida", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "florida"}, "spawning": {"concepts": "spawning", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "spawning"}, "protecting seagrass": {"concepts": "protecting seagrass", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "protecting seagrass"}, "jellyfish": {"concepts": "jellyfish", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "jellyfish"}, "red fish": {"concepts": "red fish", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "red fish"}, "little lagoon": {"concepts": "little lagoon", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "little lagoon"}, "estuaries": {"concepts": "estuaries", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "estuaries"}, "geographic location": {"concepts": "geographic location", "type": "concept", "cluster": "Local Environmental Context", "node_size": 10, "label": "geographic location"}, "local community": {"concepts": "local community", "type": "concept", "cluster": "Local Environmental Context", "node_size": 10, "label": "local community"}, "environmental awareness": {"concepts": "environmental awareness", "type": "concept", "cluster": "Local Environmental Context", "node_size": 10, "label": "environmental awareness"}, "local environment": {"concepts": "local environment", "type": "concept", "cluster": "Local Environmental Context", "node_size": 10, "label": "local environment"}, "environmental factors": {"concepts": "environmental factors", "type": "concept", "cluster": "Local Environmental Context", "node_size": 10, "label": "environmental factors"}, "local area": {"concepts": "local area", "type": "concept", "cluster": "Local Environmental Context", "node_size": 10, "label": "local area"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "biodiversity"}, "species diversity": {"concepts": "species diversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "species diversity"}, "species size limits": {"concepts": "species size limits", "type": "concept", "cluster": "Fishing Regulations", "node_size": 10, "label": "species size limits"}, "target species": {"concepts": "target species", "type": "concept", "cluster": "Fishing Regulations", "node_size": 10, "label": "target species"}, "prey variety": {"concepts": "prey variety", "type": "concept", "cluster": "Predator-Prey Dynamics", "node_size": 10, "label": "prey variety"}, "ecosystem": {"concepts": "ecosystem", "type": "concept", "cluster": "Predator-Prey Dynamics", "node_size": 10, "label": "ecosystem"}, "predatory animals": {"concepts": "predatory animals", "type": "concept", "cluster": "Predator-Prey Dynamics", "node_size": 10, "label": "predatory animals"}, "habitat health": {"concepts": "habitat health", "type": "concept", "cluster": "Local Environment", "node_size": 10, "label": "habitat health"}, "habitat protection": {"concepts": "habitat protection", "type": "concept", "cluster": "Local Environment", "node_size": 10, "label": "habitat protection"}, "habitat conservation": {"concepts": "habitat conservation", "type": "concept", "cluster": "Local Environment", "node_size": 10, "label": "habitat conservation"}, "conservation ethics": {"concepts": "conservation ethics", "type": "concept", "cluster": "Wildlife Conservation", "node_size": 10, "label": "conservation ethics"}, "species protection": {"concepts": "species protection", "type": "concept", "cluster": "Wildlife Conservation", "node_size": 10, "label": "species protection"}, "ecological protection": {"concepts": "ecological protection", "type": "concept", "cluster": "Wildlife Conservation", "node_size": 10, "label": "ecological protection"}, "conservation practices": {"concepts": "conservation practices", "type": "concept", "cluster": "Natural Resource Management", "node_size": 10, "label": "conservation practices"}, "natural resource use": {"concepts": "natural resource use", "type": "concept", "cluster": "Natural Resource Management", "node_size": 10, "label": "natural resource use"}, "natural resources": {"concepts": "natural resources", "type": "concept", "cluster": "Natural Resource Management", "node_size": 10, "label": "natural resources"}, "environmental protection": {"concepts": "environmental protection", "type": "concept", "cluster": "Sustainable Environment", "node_size": 10, "label": "environmental protection"}, "sustainable practices": {"concepts": "sustainable practices", "type": "concept", "cluster": "Sustainable Environment", "node_size": 10, "label": "sustainable practices"}, "ecosystem health": {"concepts": "ecosystem health", "type": "concept", "cluster": "Sustainable Environment", "node_size": 10, "label": "ecosystem health"}, "fishery sustainability": {"concepts": "fishery sustainability", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "fishery sustainability"}, "fishery management": {"concepts": "fishery management", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "fishery management"}, "fishery": {"concepts": "fishery", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "fishery"}, "park visibility": {"concepts": "park visibility", "type": "concept", "cluster": "Park Wildlife Viewing", "node_size": 10, "label": "park visibility"}, "wildlife observation": {"concepts": "wildlife observation", "type": "concept", "cluster": "Park Wildlife Viewing", "node_size": 10, "label": "wildlife observation"}, "wildlife viewing": {"concepts": "wildlife viewing", "type": "concept", "cluster": "Marine Resource Protection", "node_size": 10, "label": "wildlife viewing"}, "fishery resources": {"concepts": "fishery resources", "type": "concept", "cluster": "Marine Resource Protection", "node_size": 10, "label": "fishery resources"}, "marine police": {"concepts": "marine police", "type": "concept", "cluster": "Marine Resource Protection", "node_size": 10, "label": "marine police"}};
        const interClusterEdges = [["prey diversity", "Fishery Management", {"weight": 1.0, "confidence": 0.89, "type": "inter_cluster", "style": "solid"}], ["prey diversity", "Fishing Regulations", {"weight": 1.0, "confidence": 0.71, "type": "inter_cluster", "style": "solid"}], ["ecosystems", "Recreational Fishing Practices", {"weight": 1.0, "confidence": 0.7000000000000001, "type": "inter_cluster", "style": "solid"}], ["Charter Tourism Operations", "prey diversity", {"weight": 1.0, "confidence": 0.7666666666666666, "type": "inter_cluster", "style": "solid"}], ["Fishing Catch Limits", "Fishing Regulations", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Fishing Catch Limits", "Recreational Fishing Practices", {"weight": 1.0, "confidence": 0.8250000000000001, "type": "inter_cluster", "style": "solid"}], ["Marine Species & Habitat", "Wildlife & Marine Rules", {"weight": 1.0, "confidence": 0.8375, "type": "inter_cluster", "style": "solid"}], ["Marine Species & Habitat", "Local Environmental Context", {"weight": 1.0, "confidence": 0.675, "type": "inter_cluster", "style": "solid"}], ["Wildlife & Marine Rules", "Sustainable Environment", {"weight": 1.0, "confidence": 0.86, "type": "inter_cluster", "style": "solid"}], ["Local Environmental Context", "Marine Species & Habitat", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Local Environmental Context", "Predator-Prey Dynamics", {"weight": 0.5, "confidence": 0.325, "type": "inter_cluster", "style": "solid"}], ["Predator-Prey Dynamics", "Wildlife & Marine Rules", {"weight": 1.0, "confidence": 0.8625, "type": "inter_cluster", "style": "solid"}], ["Predator-Prey Dynamics", "Fishing Regulations", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Predator-Prey Dynamics", "Marine Species & Habitat", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Local Environment", "Recreational Fishing Practices", {"weight": 1.0, "confidence": 0.74, "type": "inter_cluster", "style": "solid"}], ["Local Environment", "Park Wildlife Viewing", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Local Environment", "Local Environmental Context", {"weight": 0.6666666666666666, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Local Environment", "Marine Resource Protection", {"weight": 1.0, "confidence": 0.625, "type": "inter_cluster", "style": "solid"}], ["Wildlife Conservation", "ecosystems", {"weight": 1.0, "confidence": 0.86, "type": "inter_cluster", "style": "solid"}], ["Natural Resource Management", "Charter Tourism Operations", {"weight": 1.0, "confidence": 0.8099999999999999, "type": "inter_cluster", "style": "solid"}], ["Natural Resource Management", "Fishing Catch Limits", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Natural Resource Management", "Park Wildlife Viewing", {"weight": 1.0, "confidence": 0.73, "type": "inter_cluster", "style": "solid"}], ["Natural Resource Management", "Biodiversity Conservation", {"weight": 1.0, "confidence": 0.8875, "type": "inter_cluster", "style": "solid"}], ["Natural Resource Management", "Local Environmental Context", {"weight": 1.0, "confidence": 0.7000000000000001, "type": "inter_cluster", "style": "solid"}], ["Natural Resource Management", "Predator-Prey Dynamics", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Sustainable Environment", "Biodiversity Conservation", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Fishery Management", "Local Environment", {"weight": 1.0, "confidence": 0.8800000000000001, "type": "inter_cluster", "style": "solid"}], ["Fishery Management", "Predator-Prey Dynamics", {"weight": 1.0, "confidence": 0.8300000000000001, "type": "inter_cluster", "style": "solid"}], ["Fishery Management", "Wildlife Conservation", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Fishery Management", "Park Wildlife Viewing", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Park Wildlife Viewing", "Fishery Management", {"weight": 1.0, "confidence": 0.64, "type": "inter_cluster", "style": "solid"}], ["Park Wildlife Viewing", "Natural Resource Management", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Park Wildlife Viewing", "Local Environmental Context", {"weight": 1.0, "confidence": 0.6875, "type": "inter_cluster", "style": "solid"}], ["Park Wildlife Viewing", "Marine Species & Habitat", {"weight": 1.0, "confidence": 0.6833333333333332, "type": "inter_cluster", "style": "solid"}], ["Marine Resource Protection", "Local Environment", {"weight": 1.0, "confidence": 0.6333333333333333, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Charter Tourism Operations": [["wildlife regulations", {"concepts": "wildlife regulations", "type": "concept", "cluster": "Charter Tourism Operations", "node_size": 10, "label": "wildlife regulations"}], ["marine regulations", {"concepts": "marine regulations", "type": "concept", "cluster": "Charter Tourism Operations", "node_size": 10, "label": "marine regulations"}], ["wildlife traffic", {"concepts": "wildlife traffic", "type": "concept", "cluster": "Charter Tourism Operations", "node_size": 10, "label": "wildlife traffic"}]], "Fishing Catch Limits": [["operational policy", {"concepts": "operational policy", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "operational policy"}], ["boat captains", {"concepts": "boat captains", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "boat captains"}], ["tourism", {"concepts": "tourism", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "tourism"}], ["reviews", {"concepts": "reviews", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "reviews"}], ["snorkeling trips", {"concepts": "snorkeling trips", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "snorkeling trips"}], ["size limits", {"concepts": "size limits", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "size limits"}], ["soft science", {"concepts": "soft science", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "soft science"}], ["boat traffic", {"concepts": "boat traffic", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "boat traffic"}], ["snorkeling", {"concepts": "snorkeling", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "snorkeling"}], ["law compliance", {"concepts": "law compliance", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "law compliance"}], ["back bays", {"concepts": "back bays", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "back bays"}], ["youtube videos", {"concepts": "youtube videos", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "youtube videos"}], ["business operations", {"concepts": "business operations", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "business operations"}], ["law enforcement", {"concepts": "law enforcement", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "law enforcement"}], ["guest satisfaction", {"concepts": "guest satisfaction", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "guest satisfaction"}], ["opinions", {"concepts": "opinions", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "opinions"}], ["charter industry", {"concepts": "charter industry", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "charter industry"}], ["economic growth", {"concepts": "economic growth", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "economic growth"}], ["customer selection", {"concepts": "customer selection", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "customer selection"}], ["weeks bay", {"concepts": "weeks bay", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "weeks bay"}], ["regulations", {"concepts": "regulations", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "regulations"}], ["dolphin cruise", {"concepts": "dolphin cruise", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "dolphin cruise"}], ["client mindset", {"concepts": "client mindset", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "client mindset"}], ["audience segmentation", {"concepts": "audience segmentation", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "audience segmentation"}], ["enforcement integrity", {"concepts": "enforcement integrity", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "enforcement integrity"}], ["business strategy", {"concepts": "business strategy", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "business strategy"}], ["psychological map", {"concepts": "psychological map", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "psychological map"}], ["cognitive mapping", {"concepts": "cognitive mapping", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "cognitive mapping"}], ["seasonal demand", {"concepts": "seasonal demand", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "seasonal demand"}], ["tourism experience", {"concepts": "tourism experience", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "tourism experience"}], ["economic impacts", {"concepts": "economic impacts", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "economic impacts"}], ["trip evaluation", {"concepts": "trip evaluation", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "trip evaluation"}], ["boating", {"concepts": "boating", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "boating"}], ["personal ethics", {"concepts": "personal ethics", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "personal ethics"}], ["resource protection", {"concepts": "resource protection", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "resource protection"}], ["resource management", {"concepts": "resource management", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "resource management"}], ["litter", {"concepts": "litter", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "litter"}], ["commercial value", {"concepts": "commercial value", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "commercial value"}], ["state regulations", {"concepts": "state regulations", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "state regulations"}], ["research investment", {"concepts": "research investment", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "research investment"}], ["charter cost", {"concepts": "charter cost", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "charter cost"}], ["self-imposed limits", {"concepts": "self-imposed limits", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "self-imposed limits"}], ["anonymity", {"concepts": "anonymity", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "anonymity"}], ["red snapper", {"concepts": "red snapper", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "red snapper"}], ["commercial license", {"concepts": "commercial license", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "commercial license"}], ["tourism industry", {"concepts": "tourism industry", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "tourism industry"}], ["trip bookings", {"concepts": "trip bookings", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "trip bookings"}], ["concept mapping", {"concepts": "concept mapping", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "concept mapping"}], ["personal regulations", {"concepts": "personal regulations", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "personal regulations"}], ["professional standards", {"concepts": "professional standards", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "professional standards"}], ["client selection", {"concepts": "client selection", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "client selection"}], ["economic impact", {"concepts": "economic impact", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "economic impact"}], ["industry opinions", {"concepts": "industry opinions", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "industry opinions"}], ["social media", {"concepts": "social media", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "social media"}], ["officer misconduct", {"concepts": "officer misconduct", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "officer misconduct"}], ["positive impacts", {"concepts": "positive impacts", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "positive impacts"}], ["trip cancellations", {"concepts": "trip cancellations", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "trip cancellations"}], ["manatees", {"concepts": "manatees", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "manatees"}], ["negative impacts", {"concepts": "negative impacts", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "negative impacts"}], ["self-imposed rules", {"concepts": "self-imposed rules", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "self-imposed rules"}], ["family food argument", {"concepts": "family food argument", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "family food argument"}], ["industry impact", {"concepts": "industry impact", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "industry impact"}], ["passenger safety", {"concepts": "passenger safety", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "passenger safety"}], ["charter captain", {"concepts": "charter captain", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "charter captain"}], ["hard biology", {"concepts": "hard biology", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "hard biology"}], ["bycatch reduction", {"concepts": "bycatch reduction", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "bycatch reduction"}], ["dolphin cruise boats", {"concepts": "dolphin cruise boats", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "dolphin cruise boats"}], ["dolphin cruises", {"concepts": "dolphin cruises", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "dolphin cruises"}], ["business promotion", {"concepts": "business promotion", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "business promotion"}], ["scoring system", {"concepts": "scoring system", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "scoring system"}], ["community relationships", {"concepts": "community relationships", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "community relationships"}], ["state trooper", {"concepts": "state trooper", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "state trooper"}], ["booking rates", {"concepts": "booking rates", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "booking rates"}], ["variety of prey", {"concepts": "variety of prey", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "variety of prey"}], ["island hopping", {"concepts": "island hopping", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "island hopping"}], ["confidentiality", {"concepts": "confidentiality", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "confidentiality"}], ["food security myth", {"concepts": "food security myth", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "food security myth"}], ["shared interests", {"concepts": "shared interests", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "shared interests"}], ["customer experience", {"concepts": "customer experience", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "customer experience"}], ["personal boat policy", {"concepts": "personal boat policy", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "personal boat policy"}], ["visitor education", {"concepts": "visitor education", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "visitor education"}], ["social benefits", {"concepts": "social benefits", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "social benefits"}], ["winter income", {"concepts": "winter income", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "winter income"}], ["red drum", {"concepts": "red drum", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "red drum"}], ["fishing", {"concepts": "fishing", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "fishing"}], ["inshore charter", {"concepts": "inshore charter", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "inshore charter"}], ["market differentiation", {"concepts": "market differentiation", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "market differentiation"}], ["friendships", {"concepts": "friendships", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "friendships"}], ["clientele mindset", {"concepts": "clientele mindset", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "clientele mindset"}], ["public perception", {"concepts": "public perception", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "public perception"}], ["dolphin population", {"concepts": "dolphin population", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "dolphin population"}], ["economic benefits", {"concepts": "economic benefits", "type": "concept", "cluster": "Fishing Catch Limits", "node_size": 10, "label": "economic benefits"}]], "Recreational Fishing Practices": [["catch per person", {"concepts": "catch per person", "type": "concept", "cluster": "Recreational Fishing Practices", "node_size": 10, "label": "catch per person"}], ["fish retention limits", {"concepts": "fish retention limits", "type": "concept", "cluster": "Recreational Fishing Practices", "node_size": 10, "label": "fish retention limits"}], ["fish catch limits", {"concepts": "fish catch limits", "type": "concept", "cluster": "Recreational Fishing Practices", "node_size": 10, "label": "fish catch limits"}], ["catch size limits", {"concepts": "catch size limits", "type": "concept", "cluster": "Recreational Fishing Practices", "node_size": 10, "label": "catch size limits"}], ["catch limits", {"concepts": "catch limits", "type": "concept", "cluster": "Recreational Fishing Practices", "node_size": 10, "label": "catch limits"}], ["fish harvest limits", {"concepts": "fish harvest limits", "type": "concept", "cluster": "Recreational Fishing Practices", "node_size": 10, "label": "fish harvest limits"}], ["maximum catch policy", {"concepts": "maximum catch policy", "type": "concept", "cluster": "Recreational Fishing Practices", "node_size": 10, "label": "maximum catch policy"}]], "Marine Species & Habitat": [["fishing guides", {"concepts": "fishing guides", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "fishing guides"}], ["recreation services", {"concepts": "recreation services", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "recreation services"}], ["illegal fishing", {"concepts": "illegal fishing", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "illegal fishing"}], ["fishing charters", {"concepts": "fishing charters", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "fishing charters"}], ["recreational fishing", {"concepts": "recreational fishing", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "recreational fishing"}], ["fishing experience", {"concepts": "fishing experience", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "fishing experience"}], ["sustainable fishing", {"concepts": "sustainable fishing", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "sustainable fishing"}], ["recreational shrimping", {"concepts": "recreational shrimping", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "recreational shrimping"}], ["fishing pressure", {"concepts": "fishing pressure", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "fishing pressure"}], ["recreational boating", {"concepts": "recreational boating", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "recreational boating"}], ["fishing regulations", {"concepts": "fishing regulations", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "fishing regulations"}], ["fishing license", {"concepts": "fishing license", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "fishing license"}], ["subsistence fishing", {"concepts": "subsistence fishing", "type": "concept", "cluster": "Marine Species & Habitat", "node_size": 10, "label": "subsistence fishing"}]], "Wildlife & Marine Rules": [["spawners", {"concepts": "spawners", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "spawners"}], ["intercoastal waterways", {"concepts": "intercoastal waterways", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "intercoastal waterways"}], ["shrimping", {"concepts": "shrimping", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "shrimping"}], ["white trout", {"concepts": "white trout", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "white trout"}], ["flounder", {"concepts": "flounder", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "flounder"}], ["speckled trout", {"concepts": "speckled trout", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "speckled trout"}], ["breeder stock", {"concepts": "breeder stock", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "breeder stock"}], ["oyster reefs", {"concepts": "oyster reefs", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "oyster reefs"}], ["marine environment", {"concepts": "marine environment", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "marine environment"}], ["marine life", {"concepts": "marine life", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "marine life"}], ["marine ecosystem", {"concepts": "marine ecosystem", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "marine ecosystem"}], ["water filtration", {"concepts": "water filtration", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "water filtration"}], ["estuary protection", {"concepts": "estuary protection", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "estuary protection"}], ["commercial shrimping", {"concepts": "commercial shrimping", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "commercial shrimping"}], ["overfishing", {"concepts": "overfishing", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "overfishing"}], ["seagrass", {"concepts": "seagrass", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "seagrass"}], ["seagrass protection", {"concepts": "seagrass protection", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "seagrass protection"}], ["water quality", {"concepts": "water quality", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "water quality"}], ["trout", {"concepts": "trout", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "trout"}], ["coastal economy", {"concepts": "coastal economy", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "coastal economy"}], ["breeder fish", {"concepts": "breeder fish", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "breeder fish"}], ["fish filets", {"concepts": "fish filets", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "fish filets"}], ["sheepshead", {"concepts": "sheepshead", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "sheepshead"}], ["poaching", {"concepts": "poaching", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "poaching"}], ["florida", {"concepts": "florida", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "florida"}], ["spawning", {"concepts": "spawning", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "spawning"}], ["protecting seagrass", {"concepts": "protecting seagrass", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "protecting seagrass"}], ["jellyfish", {"concepts": "jellyfish", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "jellyfish"}], ["red fish", {"concepts": "red fish", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "red fish"}], ["little lagoon", {"concepts": "little lagoon", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "little lagoon"}], ["estuaries", {"concepts": "estuaries", "type": "concept", "cluster": "Wildlife & Marine Rules", "node_size": 10, "label": "estuaries"}]], "Local Environmental Context": [["geographic location", {"concepts": "geographic location", "type": "concept", "cluster": "Local Environmental Context", "node_size": 10, "label": "geographic location"}], ["local community", {"concepts": "local community", "type": "concept", "cluster": "Local Environmental Context", "node_size": 10, "label": "local community"}], ["environmental awareness", {"concepts": "environmental awareness", "type": "concept", "cluster": "Local Environmental Context", "node_size": 10, "label": "environmental awareness"}], ["local environment", {"concepts": "local environment", "type": "concept", "cluster": "Local Environmental Context", "node_size": 10, "label": "local environment"}], ["environmental factors", {"concepts": "environmental factors", "type": "concept", "cluster": "Local Environmental Context", "node_size": 10, "label": "environmental factors"}], ["local area", {"concepts": "local area", "type": "concept", "cluster": "Local Environmental Context", "node_size": 10, "label": "local area"}]], "Biodiversity Conservation": [["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "biodiversity"}], ["species diversity", {"concepts": "species diversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "species diversity"}]], "Fishing Regulations": [["species size limits", {"concepts": "species size limits", "type": "concept", "cluster": "Fishing Regulations", "node_size": 10, "label": "species size limits"}], ["target species", {"concepts": "target species", "type": "concept", "cluster": "Fishing Regulations", "node_size": 10, "label": "target species"}]], "Predator-Prey Dynamics": [["prey variety", {"concepts": "prey variety", "type": "concept", "cluster": "Predator-Prey Dynamics", "node_size": 10, "label": "prey variety"}], ["ecosystem", {"concepts": "ecosystem", "type": "concept", "cluster": "Predator-Prey Dynamics", "node_size": 10, "label": "ecosystem"}], ["predatory animals", {"concepts": "predatory animals", "type": "concept", "cluster": "Predator-Prey Dynamics", "node_size": 10, "label": "predatory animals"}]], "Local Environment": [["habitat health", {"concepts": "habitat health", "type": "concept", "cluster": "Local Environment", "node_size": 10, "label": "habitat health"}], ["habitat protection", {"concepts": "habitat protection", "type": "concept", "cluster": "Local Environment", "node_size": 10, "label": "habitat protection"}], ["habitat conservation", {"concepts": "habitat conservation", "type": "concept", "cluster": "Local Environment", "node_size": 10, "label": "habitat conservation"}]], "Wildlife Conservation": [["conservation ethics", {"concepts": "conservation ethics", "type": "concept", "cluster": "Wildlife Conservation", "node_size": 10, "label": "conservation ethics"}], ["species protection", {"concepts": "species protection", "type": "concept", "cluster": "Wildlife Conservation", "node_size": 10, "label": "species protection"}], ["ecological protection", {"concepts": "ecological protection", "type": "concept", "cluster": "Wildlife Conservation", "node_size": 10, "label": "ecological protection"}]], "Natural Resource Management": [["conservation practices", {"concepts": "conservation practices", "type": "concept", "cluster": "Natural Resource Management", "node_size": 10, "label": "conservation practices"}], ["natural resource use", {"concepts": "natural resource use", "type": "concept", "cluster": "Natural Resource Management", "node_size": 10, "label": "natural resource use"}], ["natural resources", {"concepts": "natural resources", "type": "concept", "cluster": "Natural Resource Management", "node_size": 10, "label": "natural resources"}]], "Sustainable Environment": [["environmental protection", {"concepts": "environmental protection", "type": "concept", "cluster": "Sustainable Environment", "node_size": 10, "label": "environmental protection"}], ["sustainable practices", {"concepts": "sustainable practices", "type": "concept", "cluster": "Sustainable Environment", "node_size": 10, "label": "sustainable practices"}], ["ecosystem health", {"concepts": "ecosystem health", "type": "concept", "cluster": "Sustainable Environment", "node_size": 10, "label": "ecosystem health"}]], "Fishery Management": [["fishery sustainability", {"concepts": "fishery sustainability", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "fishery sustainability"}], ["fishery management", {"concepts": "fishery management", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "fishery management"}], ["fishery", {"concepts": "fishery", "type": "concept", "cluster": "Fishery Management", "node_size": 10, "label": "fishery"}]], "Park Wildlife Viewing": [["park visibility", {"concepts": "park visibility", "type": "concept", "cluster": "Park Wildlife Viewing", "node_size": 10, "label": "park visibility"}], ["wildlife observation", {"concepts": "wildlife observation", "type": "concept", "cluster": "Park Wildlife Viewing", "node_size": 10, "label": "wildlife observation"}]], "Marine Resource Protection": [["wildlife viewing", {"concepts": "wildlife viewing", "type": "concept", "cluster": "Marine Resource Protection", "node_size": 10, "label": "wildlife viewing"}], ["fishery resources", {"concepts": "fishery resources", "type": "concept", "cluster": "Marine Resource Protection", "node_size": 10, "label": "fishery resources"}], ["marine police", {"concepts": "marine police", "type": "concept", "cluster": "Marine Resource Protection", "node_size": 10, "label": "marine police"}]]};
        const clusterEdges = {"Charter Tourism Operations": [], "Fishing Catch Limits": [], "Recreational Fishing Practices": [], "Marine Species & Habitat": [], "Wildlife & Marine Rules": [], "Local Environmental Context": [], "Biodiversity Conservation": [], "Fishing Regulations": [], "Predator-Prey Dynamics": [], "Local Environment": [], "Wildlife Conservation": [], "Natural Resource Management": [], "Sustainable Environment": [], "Fishery Management": [], "Park Wildlife Viewing": [], "Marine Resource Protection": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
