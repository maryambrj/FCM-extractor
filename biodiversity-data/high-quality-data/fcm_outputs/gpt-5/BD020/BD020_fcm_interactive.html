
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Reproductive Health": {"concepts": "key food web species, probability increase, msa listed species, regional community composition, birth rates, threats assessment, bioenergetics, species abundance, adult density threshold, local populations, oil spill impacts, unusual mortality events, biodiversity, oil spill risk, spatial system, seismic disturbance, community composition shifts, genetic diversity, cumulative effects, cetacean morbillivirus, reduced abundance, statistical models, stony coral tissue loss, weighting adjustments, species recovery, conservation concern, population density thresholds, introduced species, food web support, habitat forming species, ecosystem maintenance, climate change, marine debris, listing factors, dams, large predators, connectivity disruption, population trajectory, esa, population viability analysis, overharvest, noise pollution, river ecosystems, mmpa, connectivity, k-selection, odds ratios, spawning aggregations, knowledge gaps, vessel strike risk, abundance, bycatch, inadequacy of management measures, population modeling, msa, marine mammals, visual representation, observer coverage, management actions, overutilization, ecosystem services, species presence, illegal fishing, qualitative conceptual tool, mental models, adaptive management, cetaceans, cumulative stressors, giant manta ray, pollution impacts, ecosystem function, interregional communication, population consequences, ecosystem disruption, climate adaptability, habitat destruction, multiple stressors, enforcement, demographic resilience, food base, gene flow, odds ratio, pollution effects, recovery plan, predation, regime shifts, historical over-utilization, recovery strategies, prey distribution, harmful organisms, coral disease, mmpa listed species, fishery ecosystem plans, statutory authority, esa species, resilience, community composition, section 7 consultation, management measures, predator removal, historical overutilization, stressors, categorical weighting, jeopardy, local prey abundance, species delisting, water temperature effects, research scope, filter feeding species, coral tissue loss disease, conceptual model, invasive species, poaching, coral settlement, categorical weights, primary succession, recovery plans, species regulations, fishing pressure, disease, demographic criteria, temperature tolerance, spawning habitat, endangered species, mate finding, semi-quantitative tool, genetic techniques, migration patterns, productivity, vessel strikes, semi-quantitative analysis, esa listed species, ship strikes, conservation modeling, population recovery, regional collaboration, shrimp fishery, poor compliance, species resilience, spawning habitats, dynamic management, extinction risk, habitat connectivity, vessel noise, ecosystem influence, qualitative analysis, species of conservation concern", "concept_list": ["key food web species", "probability increase", "msa listed species", "regional community composition", "birth rates", "threats assessment", "bioenergetics", "species abundance", "adult density threshold", "local populations", "oil spill impacts", "unusual mortality events", "biodiversity", "oil spill risk", "spatial system", "seismic disturbance", "community composition shifts", "genetic diversity", "cumulative effects", "cetacean morbillivirus", "reduced abundance", "statistical models", "stony coral tissue loss", "weighting adjustments", "species recovery", "conservation concern", "population density thresholds", "introduced species", "food web support", "habitat forming species", "ecosystem maintenance", "climate change", "marine debris", "listing factors", "dams", "large predators", "connectivity disruption", "population trajectory", "esa", "population viability analysis", "overharvest", "noise pollution", "river ecosystems", "mmpa", "connectivity", "k-selection", "odds ratios", "spawning aggregations", "knowledge gaps", "vessel strike risk", "abundance", "bycatch", "inadequacy of management measures", "population modeling", "msa", "marine mammals", "visual representation", "observer coverage", "management actions", "overutilization", "ecosystem services", "species presence", "illegal fishing", "qualitative conceptual tool", "mental models", "adaptive management", "cetaceans", "cumulative stressors", "giant manta ray", "pollution impacts", "ecosystem function", "interregional communication", "population consequences", "ecosystem disruption", "climate adaptability", "habitat destruction", "multiple stressors", "enforcement", "demographic resilience", "food base", "gene flow", "odds ratio", "pollution effects", "recovery plan", "predation", "regime shifts", "historical over-utilization", "recovery strategies", "prey distribution", "harmful organisms", "coral disease", "mmpa listed species", "fishery ecosystem plans", "statutory authority", "esa species", "resilience", "community composition", "section 7 consultation", "management measures", "predator removal", "historical overutilization", "stressors", "categorical weighting", "jeopardy", "local prey abundance", "species delisting", "water temperature effects", "research scope", "filter feeding species", "coral tissue loss disease", "conceptual model", "invasive species", "poaching", "coral settlement", "categorical weights", "primary succession", "recovery plans", "species regulations", "fishing pressure", "disease", "demographic criteria", "temperature tolerance", "spawning habitat", "endangered species", "mate finding", "semi-quantitative tool", "genetic techniques", "migration patterns", "productivity", "vessel strikes", "semi-quantitative analysis", "esa listed species", "ship strikes", "conservation modeling", "population recovery", "regional collaboration", "shrimp fishery", "poor compliance", "species resilience", "spawning habitats", "dynamic management", "extinction risk", "habitat connectivity", "vessel noise", "ecosystem influence", "qualitative analysis", "species of conservation concern"], "type": "cluster", "node_size": 456, "label": "Reproductive Health"}, "Entanglement Risks": {"concepts": "low reproductive output, hormonal cycle, reproductive output, calving rates, reproductive failure, reproductive success, reproductive capacity, reproductive rate, reproductive investment, hormonal cycles, reproductive requirements, reproductive fitness", "concept_list": ["low reproductive output", "hormonal cycle", "reproductive output", "calving rates", "reproductive failure", "reproductive success", "reproductive capacity", "reproductive rate", "reproductive investment", "hormonal cycles", "reproductive requirements", "reproductive fitness"], "type": "cluster", "node_size": 51, "label": "Entanglement Risks"}, "Species & Ecosystem Dynamics": {"concepts": "entanglement risk, entanglement impacts, entanglement history, gear entanglement, gear entanglements", "concept_list": ["entanglement risk", "entanglement impacts", "entanglement history", "gear entanglement", "gear entanglements"], "type": "cluster", "node_size": 30, "label": "Species & Ecosystem Dynamics"}};
        const conceptData = {"key food web species": {"concepts": "key food web species", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "key food web species"}, "probability increase": {"concepts": "probability increase", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "probability increase"}, "msa listed species": {"concepts": "msa listed species", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "msa listed species"}, "regional community composition": {"concepts": "regional community composition", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "regional community composition"}, "birth rates": {"concepts": "birth rates", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "birth rates"}, "threats assessment": {"concepts": "threats assessment", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "threats assessment"}, "bioenergetics": {"concepts": "bioenergetics", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "bioenergetics"}, "species abundance": {"concepts": "species abundance", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "species abundance"}, "adult density threshold": {"concepts": "adult density threshold", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "adult density threshold"}, "local populations": {"concepts": "local populations", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "local populations"}, "oil spill impacts": {"concepts": "oil spill impacts", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "oil spill impacts"}, "unusual mortality events": {"concepts": "unusual mortality events", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "unusual mortality events"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "biodiversity"}, "oil spill risk": {"concepts": "oil spill risk", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "oil spill risk"}, "spatial system": {"concepts": "spatial system", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "spatial system"}, "seismic disturbance": {"concepts": "seismic disturbance", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "seismic disturbance"}, "community composition shifts": {"concepts": "community composition shifts", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "community composition shifts"}, "genetic diversity": {"concepts": "genetic diversity", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "genetic diversity"}, "cumulative effects": {"concepts": "cumulative effects", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "cumulative effects"}, "cetacean morbillivirus": {"concepts": "cetacean morbillivirus", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "cetacean morbillivirus"}, "reduced abundance": {"concepts": "reduced abundance", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "reduced abundance"}, "statistical models": {"concepts": "statistical models", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "statistical models"}, "stony coral tissue loss": {"concepts": "stony coral tissue loss", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "stony coral tissue loss"}, "weighting adjustments": {"concepts": "weighting adjustments", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "weighting adjustments"}, "species recovery": {"concepts": "species recovery", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "species recovery"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "conservation concern"}, "population density thresholds": {"concepts": "population density thresholds", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "population density thresholds"}, "introduced species": {"concepts": "introduced species", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "introduced species"}, "food web support": {"concepts": "food web support", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "food web support"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "habitat forming species"}, "ecosystem maintenance": {"concepts": "ecosystem maintenance", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "ecosystem maintenance"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "climate change"}, "marine debris": {"concepts": "marine debris", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "marine debris"}, "listing factors": {"concepts": "listing factors", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "listing factors"}, "dams": {"concepts": "dams", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "dams"}, "large predators": {"concepts": "large predators", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "large predators"}, "connectivity disruption": {"concepts": "connectivity disruption", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "connectivity disruption"}, "population trajectory": {"concepts": "population trajectory", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "population trajectory"}, "esa": {"concepts": "esa", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "esa"}, "population viability analysis": {"concepts": "population viability analysis", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "population viability analysis"}, "overharvest": {"concepts": "overharvest", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "overharvest"}, "noise pollution": {"concepts": "noise pollution", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "noise pollution"}, "river ecosystems": {"concepts": "river ecosystems", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "river ecosystems"}, "mmpa": {"concepts": "mmpa", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "mmpa"}, "connectivity": {"concepts": "connectivity", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "connectivity"}, "k-selection": {"concepts": "k-selection", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "k-selection"}, "odds ratios": {"concepts": "odds ratios", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "odds ratios"}, "spawning aggregations": {"concepts": "spawning aggregations", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "spawning aggregations"}, "knowledge gaps": {"concepts": "knowledge gaps", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "knowledge gaps"}, "vessel strike risk": {"concepts": "vessel strike risk", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "vessel strike risk"}, "abundance": {"concepts": "abundance", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "abundance"}, "bycatch": {"concepts": "bycatch", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "bycatch"}, "inadequacy of management measures": {"concepts": "inadequacy of management measures", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "inadequacy of management measures"}, "population modeling": {"concepts": "population modeling", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "population modeling"}, "msa": {"concepts": "msa", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "msa"}, "marine mammals": {"concepts": "marine mammals", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "marine mammals"}, "visual representation": {"concepts": "visual representation", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "visual representation"}, "observer coverage": {"concepts": "observer coverage", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "observer coverage"}, "management actions": {"concepts": "management actions", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "management actions"}, "overutilization": {"concepts": "overutilization", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "overutilization"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "ecosystem services"}, "species presence": {"concepts": "species presence", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "species presence"}, "illegal fishing": {"concepts": "illegal fishing", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "illegal fishing"}, "qualitative conceptual tool": {"concepts": "qualitative conceptual tool", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "qualitative conceptual tool"}, "mental models": {"concepts": "mental models", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "mental models"}, "adaptive management": {"concepts": "adaptive management", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "adaptive management"}, "cetaceans": {"concepts": "cetaceans", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "cetaceans"}, "cumulative stressors": {"concepts": "cumulative stressors", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "cumulative stressors"}, "giant manta ray": {"concepts": "giant manta ray", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "giant manta ray"}, "pollution impacts": {"concepts": "pollution impacts", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "pollution impacts"}, "ecosystem function": {"concepts": "ecosystem function", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "ecosystem function"}, "interregional communication": {"concepts": "interregional communication", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "interregional communication"}, "population consequences": {"concepts": "population consequences", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "population consequences"}, "ecosystem disruption": {"concepts": "ecosystem disruption", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "ecosystem disruption"}, "climate adaptability": {"concepts": "climate adaptability", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "climate adaptability"}, "habitat destruction": {"concepts": "habitat destruction", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "habitat destruction"}, "multiple stressors": {"concepts": "multiple stressors", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "multiple stressors"}, "enforcement": {"concepts": "enforcement", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "enforcement"}, "demographic resilience": {"concepts": "demographic resilience", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "demographic resilience"}, "food base": {"concepts": "food base", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "food base"}, "gene flow": {"concepts": "gene flow", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "gene flow"}, "odds ratio": {"concepts": "odds ratio", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "odds ratio"}, "pollution effects": {"concepts": "pollution effects", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "pollution effects"}, "recovery plan": {"concepts": "recovery plan", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "recovery plan"}, "predation": {"concepts": "predation", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "predation"}, "regime shifts": {"concepts": "regime shifts", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "regime shifts"}, "historical over-utilization": {"concepts": "historical over-utilization", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "historical over-utilization"}, "recovery strategies": {"concepts": "recovery strategies", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "recovery strategies"}, "prey distribution": {"concepts": "prey distribution", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "prey distribution"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "harmful organisms"}, "coral disease": {"concepts": "coral disease", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "coral disease"}, "mmpa listed species": {"concepts": "mmpa listed species", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "mmpa listed species"}, "fishery ecosystem plans": {"concepts": "fishery ecosystem plans", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "fishery ecosystem plans"}, "statutory authority": {"concepts": "statutory authority", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "statutory authority"}, "esa species": {"concepts": "esa species", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "esa species"}, "resilience": {"concepts": "resilience", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "resilience"}, "community composition": {"concepts": "community composition", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "community composition"}, "section 7 consultation": {"concepts": "section 7 consultation", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "section 7 consultation"}, "management measures": {"concepts": "management measures", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "management measures"}, "predator removal": {"concepts": "predator removal", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "predator removal"}, "historical overutilization": {"concepts": "historical overutilization", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "historical overutilization"}, "stressors": {"concepts": "stressors", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "stressors"}, "categorical weighting": {"concepts": "categorical weighting", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "categorical weighting"}, "jeopardy": {"concepts": "jeopardy", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "jeopardy"}, "local prey abundance": {"concepts": "local prey abundance", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "local prey abundance"}, "species delisting": {"concepts": "species delisting", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "species delisting"}, "water temperature effects": {"concepts": "water temperature effects", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "water temperature effects"}, "research scope": {"concepts": "research scope", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "research scope"}, "filter feeding species": {"concepts": "filter feeding species", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "filter feeding species"}, "coral tissue loss disease": {"concepts": "coral tissue loss disease", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "coral tissue loss disease"}, "conceptual model": {"concepts": "conceptual model", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "conceptual model"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "invasive species"}, "poaching": {"concepts": "poaching", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "poaching"}, "coral settlement": {"concepts": "coral settlement", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "coral settlement"}, "categorical weights": {"concepts": "categorical weights", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "categorical weights"}, "primary succession": {"concepts": "primary succession", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "primary succession"}, "recovery plans": {"concepts": "recovery plans", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "recovery plans"}, "species regulations": {"concepts": "species regulations", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "species regulations"}, "fishing pressure": {"concepts": "fishing pressure", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "fishing pressure"}, "disease": {"concepts": "disease", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "disease"}, "demographic criteria": {"concepts": "demographic criteria", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "demographic criteria"}, "temperature tolerance": {"concepts": "temperature tolerance", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "temperature tolerance"}, "spawning habitat": {"concepts": "spawning habitat", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "spawning habitat"}, "endangered species": {"concepts": "endangered species", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "endangered species"}, "mate finding": {"concepts": "mate finding", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "mate finding"}, "semi-quantitative tool": {"concepts": "semi-quantitative tool", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "semi-quantitative tool"}, "genetic techniques": {"concepts": "genetic techniques", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "genetic techniques"}, "migration patterns": {"concepts": "migration patterns", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "migration patterns"}, "productivity": {"concepts": "productivity", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "productivity"}, "vessel strikes": {"concepts": "vessel strikes", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "vessel strikes"}, "semi-quantitative analysis": {"concepts": "semi-quantitative analysis", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "semi-quantitative analysis"}, "esa listed species": {"concepts": "esa listed species", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "esa listed species"}, "ship strikes": {"concepts": "ship strikes", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "ship strikes"}, "conservation modeling": {"concepts": "conservation modeling", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "conservation modeling"}, "population recovery": {"concepts": "population recovery", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "population recovery"}, "regional collaboration": {"concepts": "regional collaboration", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "regional collaboration"}, "shrimp fishery": {"concepts": "shrimp fishery", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "shrimp fishery"}, "poor compliance": {"concepts": "poor compliance", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "poor compliance"}, "species resilience": {"concepts": "species resilience", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "species resilience"}, "spawning habitats": {"concepts": "spawning habitats", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "spawning habitats"}, "dynamic management": {"concepts": "dynamic management", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "dynamic management"}, "extinction risk": {"concepts": "extinction risk", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "extinction risk"}, "habitat connectivity": {"concepts": "habitat connectivity", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "habitat connectivity"}, "vessel noise": {"concepts": "vessel noise", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "vessel noise"}, "ecosystem influence": {"concepts": "ecosystem influence", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "ecosystem influence"}, "qualitative analysis": {"concepts": "qualitative analysis", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "qualitative analysis"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "species of conservation concern"}, "low reproductive output": {"concepts": "low reproductive output", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "low reproductive output"}, "hormonal cycle": {"concepts": "hormonal cycle", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "hormonal cycle"}, "reproductive output": {"concepts": "reproductive output", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "reproductive output"}, "calving rates": {"concepts": "calving rates", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "calving rates"}, "reproductive failure": {"concepts": "reproductive failure", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "reproductive failure"}, "reproductive success": {"concepts": "reproductive success", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "reproductive success"}, "reproductive capacity": {"concepts": "reproductive capacity", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "reproductive capacity"}, "reproductive rate": {"concepts": "reproductive rate", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "reproductive rate"}, "reproductive investment": {"concepts": "reproductive investment", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "reproductive investment"}, "hormonal cycles": {"concepts": "hormonal cycles", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "hormonal cycles"}, "reproductive requirements": {"concepts": "reproductive requirements", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "reproductive requirements"}, "reproductive fitness": {"concepts": "reproductive fitness", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "reproductive fitness"}, "entanglement risk": {"concepts": "entanglement risk", "type": "concept", "cluster": "Species & Ecosystem Dynamics", "node_size": 10, "label": "entanglement risk"}, "entanglement impacts": {"concepts": "entanglement impacts", "type": "concept", "cluster": "Species & Ecosystem Dynamics", "node_size": 10, "label": "entanglement impacts"}, "entanglement history": {"concepts": "entanglement history", "type": "concept", "cluster": "Species & Ecosystem Dynamics", "node_size": 10, "label": "entanglement history"}, "gear entanglement": {"concepts": "gear entanglement", "type": "concept", "cluster": "Species & Ecosystem Dynamics", "node_size": 10, "label": "gear entanglement"}, "gear entanglements": {"concepts": "gear entanglements", "type": "concept", "cluster": "Species & Ecosystem Dynamics", "node_size": 10, "label": "gear entanglements"}};
        const interClusterEdges = [["Reproductive Health", "Entanglement Risks", {"weight": 0.2, "confidence": 0.79, "type": "inter_cluster", "style": "solid"}], ["Entanglement Risks", "Species & Ecosystem Dynamics", {"weight": -0.3333333333333333, "confidence": 0.31666666666666665, "type": "inter_cluster", "style": "solid"}], ["Species & Ecosystem Dynamics", "Entanglement Risks", {"weight": -1.0, "confidence": 0.95, "type": "inter_cluster", "style": "solid"}], ["Species & Ecosystem Dynamics", "Reproductive Health", {"weight": -0.8, "confidence": 0.7300000000000001, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Reproductive Health": [["key food web species", {"concepts": "key food web species", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "key food web species"}], ["probability increase", {"concepts": "probability increase", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "probability increase"}], ["msa listed species", {"concepts": "msa listed species", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "msa listed species"}], ["regional community composition", {"concepts": "regional community composition", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "regional community composition"}], ["birth rates", {"concepts": "birth rates", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "birth rates"}], ["threats assessment", {"concepts": "threats assessment", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "threats assessment"}], ["bioenergetics", {"concepts": "bioenergetics", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "bioenergetics"}], ["species abundance", {"concepts": "species abundance", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "species abundance"}], ["adult density threshold", {"concepts": "adult density threshold", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "adult density threshold"}], ["local populations", {"concepts": "local populations", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "local populations"}], ["oil spill impacts", {"concepts": "oil spill impacts", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "oil spill impacts"}], ["unusual mortality events", {"concepts": "unusual mortality events", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "unusual mortality events"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "biodiversity"}], ["oil spill risk", {"concepts": "oil spill risk", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "oil spill risk"}], ["spatial system", {"concepts": "spatial system", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "spatial system"}], ["seismic disturbance", {"concepts": "seismic disturbance", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "seismic disturbance"}], ["community composition shifts", {"concepts": "community composition shifts", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "community composition shifts"}], ["genetic diversity", {"concepts": "genetic diversity", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "genetic diversity"}], ["cumulative effects", {"concepts": "cumulative effects", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "cumulative effects"}], ["cetacean morbillivirus", {"concepts": "cetacean morbillivirus", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "cetacean morbillivirus"}], ["reduced abundance", {"concepts": "reduced abundance", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "reduced abundance"}], ["statistical models", {"concepts": "statistical models", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "statistical models"}], ["stony coral tissue loss", {"concepts": "stony coral tissue loss", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "stony coral tissue loss"}], ["weighting adjustments", {"concepts": "weighting adjustments", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "weighting adjustments"}], ["species recovery", {"concepts": "species recovery", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "species recovery"}], ["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "conservation concern"}], ["population density thresholds", {"concepts": "population density thresholds", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "population density thresholds"}], ["introduced species", {"concepts": "introduced species", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "introduced species"}], ["food web support", {"concepts": "food web support", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "food web support"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "habitat forming species"}], ["ecosystem maintenance", {"concepts": "ecosystem maintenance", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "ecosystem maintenance"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "climate change"}], ["marine debris", {"concepts": "marine debris", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "marine debris"}], ["listing factors", {"concepts": "listing factors", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "listing factors"}], ["dams", {"concepts": "dams", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "dams"}], ["large predators", {"concepts": "large predators", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "large predators"}], ["connectivity disruption", {"concepts": "connectivity disruption", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "connectivity disruption"}], ["population trajectory", {"concepts": "population trajectory", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "population trajectory"}], ["esa", {"concepts": "esa", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "esa"}], ["population viability analysis", {"concepts": "population viability analysis", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "population viability analysis"}], ["overharvest", {"concepts": "overharvest", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "overharvest"}], ["noise pollution", {"concepts": "noise pollution", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "noise pollution"}], ["river ecosystems", {"concepts": "river ecosystems", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "river ecosystems"}], ["mmpa", {"concepts": "mmpa", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "mmpa"}], ["connectivity", {"concepts": "connectivity", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "connectivity"}], ["k-selection", {"concepts": "k-selection", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "k-selection"}], ["odds ratios", {"concepts": "odds ratios", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "odds ratios"}], ["spawning aggregations", {"concepts": "spawning aggregations", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "spawning aggregations"}], ["knowledge gaps", {"concepts": "knowledge gaps", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "knowledge gaps"}], ["vessel strike risk", {"concepts": "vessel strike risk", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "vessel strike risk"}], ["abundance", {"concepts": "abundance", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "abundance"}], ["bycatch", {"concepts": "bycatch", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "bycatch"}], ["inadequacy of management measures", {"concepts": "inadequacy of management measures", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "inadequacy of management measures"}], ["population modeling", {"concepts": "population modeling", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "population modeling"}], ["msa", {"concepts": "msa", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "msa"}], ["marine mammals", {"concepts": "marine mammals", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "marine mammals"}], ["visual representation", {"concepts": "visual representation", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "visual representation"}], ["observer coverage", {"concepts": "observer coverage", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "observer coverage"}], ["management actions", {"concepts": "management actions", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "management actions"}], ["overutilization", {"concepts": "overutilization", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "overutilization"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "ecosystem services"}], ["species presence", {"concepts": "species presence", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "species presence"}], ["illegal fishing", {"concepts": "illegal fishing", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "illegal fishing"}], ["qualitative conceptual tool", {"concepts": "qualitative conceptual tool", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "qualitative conceptual tool"}], ["mental models", {"concepts": "mental models", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "mental models"}], ["adaptive management", {"concepts": "adaptive management", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "adaptive management"}], ["cetaceans", {"concepts": "cetaceans", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "cetaceans"}], ["cumulative stressors", {"concepts": "cumulative stressors", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "cumulative stressors"}], ["giant manta ray", {"concepts": "giant manta ray", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "giant manta ray"}], ["pollution impacts", {"concepts": "pollution impacts", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "pollution impacts"}], ["ecosystem function", {"concepts": "ecosystem function", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "ecosystem function"}], ["interregional communication", {"concepts": "interregional communication", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "interregional communication"}], ["population consequences", {"concepts": "population consequences", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "population consequences"}], ["ecosystem disruption", {"concepts": "ecosystem disruption", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "ecosystem disruption"}], ["climate adaptability", {"concepts": "climate adaptability", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "climate adaptability"}], ["habitat destruction", {"concepts": "habitat destruction", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "habitat destruction"}], ["multiple stressors", {"concepts": "multiple stressors", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "multiple stressors"}], ["enforcement", {"concepts": "enforcement", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "enforcement"}], ["demographic resilience", {"concepts": "demographic resilience", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "demographic resilience"}], ["food base", {"concepts": "food base", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "food base"}], ["gene flow", {"concepts": "gene flow", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "gene flow"}], ["odds ratio", {"concepts": "odds ratio", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "odds ratio"}], ["pollution effects", {"concepts": "pollution effects", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "pollution effects"}], ["recovery plan", {"concepts": "recovery plan", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "recovery plan"}], ["predation", {"concepts": "predation", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "predation"}], ["regime shifts", {"concepts": "regime shifts", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "regime shifts"}], ["historical over-utilization", {"concepts": "historical over-utilization", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "historical over-utilization"}], ["recovery strategies", {"concepts": "recovery strategies", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "recovery strategies"}], ["prey distribution", {"concepts": "prey distribution", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "prey distribution"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "harmful organisms"}], ["coral disease", {"concepts": "coral disease", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "coral disease"}], ["mmpa listed species", {"concepts": "mmpa listed species", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "mmpa listed species"}], ["fishery ecosystem plans", {"concepts": "fishery ecosystem plans", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "fishery ecosystem plans"}], ["statutory authority", {"concepts": "statutory authority", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "statutory authority"}], ["esa species", {"concepts": "esa species", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "esa species"}], ["resilience", {"concepts": "resilience", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "resilience"}], ["community composition", {"concepts": "community composition", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "community composition"}], ["section 7 consultation", {"concepts": "section 7 consultation", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "section 7 consultation"}], ["management measures", {"concepts": "management measures", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "management measures"}], ["predator removal", {"concepts": "predator removal", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "predator removal"}], ["historical overutilization", {"concepts": "historical overutilization", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "historical overutilization"}], ["stressors", {"concepts": "stressors", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "stressors"}], ["categorical weighting", {"concepts": "categorical weighting", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "categorical weighting"}], ["jeopardy", {"concepts": "jeopardy", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "jeopardy"}], ["local prey abundance", {"concepts": "local prey abundance", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "local prey abundance"}], ["species delisting", {"concepts": "species delisting", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "species delisting"}], ["water temperature effects", {"concepts": "water temperature effects", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "water temperature effects"}], ["research scope", {"concepts": "research scope", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "research scope"}], ["filter feeding species", {"concepts": "filter feeding species", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "filter feeding species"}], ["coral tissue loss disease", {"concepts": "coral tissue loss disease", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "coral tissue loss disease"}], ["conceptual model", {"concepts": "conceptual model", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "conceptual model"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "invasive species"}], ["poaching", {"concepts": "poaching", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "poaching"}], ["coral settlement", {"concepts": "coral settlement", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "coral settlement"}], ["categorical weights", {"concepts": "categorical weights", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "categorical weights"}], ["primary succession", {"concepts": "primary succession", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "primary succession"}], ["recovery plans", {"concepts": "recovery plans", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "recovery plans"}], ["species regulations", {"concepts": "species regulations", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "species regulations"}], ["fishing pressure", {"concepts": "fishing pressure", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "fishing pressure"}], ["disease", {"concepts": "disease", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "disease"}], ["demographic criteria", {"concepts": "demographic criteria", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "demographic criteria"}], ["temperature tolerance", {"concepts": "temperature tolerance", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "temperature tolerance"}], ["spawning habitat", {"concepts": "spawning habitat", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "spawning habitat"}], ["endangered species", {"concepts": "endangered species", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "endangered species"}], ["mate finding", {"concepts": "mate finding", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "mate finding"}], ["semi-quantitative tool", {"concepts": "semi-quantitative tool", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "semi-quantitative tool"}], ["genetic techniques", {"concepts": "genetic techniques", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "genetic techniques"}], ["migration patterns", {"concepts": "migration patterns", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "migration patterns"}], ["productivity", {"concepts": "productivity", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "productivity"}], ["vessel strikes", {"concepts": "vessel strikes", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "vessel strikes"}], ["semi-quantitative analysis", {"concepts": "semi-quantitative analysis", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "semi-quantitative analysis"}], ["esa listed species", {"concepts": "esa listed species", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "esa listed species"}], ["ship strikes", {"concepts": "ship strikes", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "ship strikes"}], ["conservation modeling", {"concepts": "conservation modeling", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "conservation modeling"}], ["population recovery", {"concepts": "population recovery", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "population recovery"}], ["regional collaboration", {"concepts": "regional collaboration", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "regional collaboration"}], ["shrimp fishery", {"concepts": "shrimp fishery", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "shrimp fishery"}], ["poor compliance", {"concepts": "poor compliance", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "poor compliance"}], ["species resilience", {"concepts": "species resilience", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "species resilience"}], ["spawning habitats", {"concepts": "spawning habitats", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "spawning habitats"}], ["dynamic management", {"concepts": "dynamic management", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "dynamic management"}], ["extinction risk", {"concepts": "extinction risk", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "extinction risk"}], ["habitat connectivity", {"concepts": "habitat connectivity", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "habitat connectivity"}], ["vessel noise", {"concepts": "vessel noise", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "vessel noise"}], ["ecosystem influence", {"concepts": "ecosystem influence", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "ecosystem influence"}], ["qualitative analysis", {"concepts": "qualitative analysis", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "qualitative analysis"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Reproductive Health", "node_size": 10, "label": "species of conservation concern"}]], "Entanglement Risks": [["low reproductive output", {"concepts": "low reproductive output", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "low reproductive output"}], ["hormonal cycle", {"concepts": "hormonal cycle", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "hormonal cycle"}], ["reproductive output", {"concepts": "reproductive output", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "reproductive output"}], ["calving rates", {"concepts": "calving rates", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "calving rates"}], ["reproductive failure", {"concepts": "reproductive failure", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "reproductive failure"}], ["reproductive success", {"concepts": "reproductive success", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "reproductive success"}], ["reproductive capacity", {"concepts": "reproductive capacity", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "reproductive capacity"}], ["reproductive rate", {"concepts": "reproductive rate", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "reproductive rate"}], ["reproductive investment", {"concepts": "reproductive investment", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "reproductive investment"}], ["hormonal cycles", {"concepts": "hormonal cycles", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "hormonal cycles"}], ["reproductive requirements", {"concepts": "reproductive requirements", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "reproductive requirements"}], ["reproductive fitness", {"concepts": "reproductive fitness", "type": "concept", "cluster": "Entanglement Risks", "node_size": 10, "label": "reproductive fitness"}]], "Species & Ecosystem Dynamics": [["entanglement risk", {"concepts": "entanglement risk", "type": "concept", "cluster": "Species & Ecosystem Dynamics", "node_size": 10, "label": "entanglement risk"}], ["entanglement impacts", {"concepts": "entanglement impacts", "type": "concept", "cluster": "Species & Ecosystem Dynamics", "node_size": 10, "label": "entanglement impacts"}], ["entanglement history", {"concepts": "entanglement history", "type": "concept", "cluster": "Species & Ecosystem Dynamics", "node_size": 10, "label": "entanglement history"}], ["gear entanglement", {"concepts": "gear entanglement", "type": "concept", "cluster": "Species & Ecosystem Dynamics", "node_size": 10, "label": "gear entanglement"}], ["gear entanglements", {"concepts": "gear entanglements", "type": "concept", "cluster": "Species & Ecosystem Dynamics", "node_size": 10, "label": "gear entanglements"}]]};
        const clusterEdges = {"Reproductive Health": [], "Entanglement Risks": [], "Species & Ecosystem Dynamics": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
