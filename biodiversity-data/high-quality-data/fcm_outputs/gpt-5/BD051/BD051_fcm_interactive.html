
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Habitat Quality": {"concepts": "early spring, weather, storm impact, wind conditions, thermal stress, spawning, weather patterns, seasoning, climate change, seasonal variation, enclosed space", "concept_list": ["early spring", "weather", "storm impact", "wind conditions", "thermal stress", "spawning", "weather patterns", "seasoning", "climate change", "seasonal variation", "enclosed space"], "type": "cluster", "node_size": 48, "label": "Habitat Quality"}, "Fishing & Resource Management": {"concepts": "wood ducks, shallow habitat, natural habitat, department of natural resources, conservation practices, pristine habitat, degraded streams, eastern shore, habitat degradation, habitat quality, degraded habitat, habitat competition, environmental degradation, habitat preference", "concept_list": ["wood ducks", "shallow habitat", "natural habitat", "department of natural resources", "conservation practices", "pristine habitat", "degraded streams", "eastern shore", "habitat degradation", "habitat quality", "degraded habitat", "habitat competition", "environmental degradation", "habitat preference"], "type": "cluster", "node_size": 57, "label": "Fishing & Resource Management"}, "Species & Biodiversity": {"concepts": "national parks, work schedule, air fryer, slot limits, commercial market, mercury, cca maryland, patapsco, maryland dnr, harvesting, market demand, kayak, loss of trees, docks, kayaking, conceptual model, patuxent, regulation compliance, tide, neighborhood dock, tidal license, development impact, resource management, public docks, categorical weights, system dynamics, facebook groups, family, masters degree, channels, regulations, cca, general tso\u2019s, striped bass, parking availability, negative impact, savern, trash, potomac, mild flavor, public access, pickerel, catch-and-release, dnr, magabee, beach, development, telemetry data, chrisfield, carp, david sikorski, odenton, facebook, eric packard, largemouth bass, overpopulation, lenny rodell, chesapeake bay, travel time, red drum, semi quantitative, day trips, system components, limited parking, relative impact, pcbs, mental modeler, secrecy", "concept_list": ["national parks", "work schedule", "air fryer", "slot limits", "commercial market", "mercury", "cca maryland", "patapsco", "maryland dnr", "harvesting", "market demand", "kayak", "loss of trees", "docks", "kayaking", "conceptual model", "patuxent", "regulation compliance", "tide", "neighborhood dock", "tidal license", "development impact", "resource management", "public docks", "categorical weights", "system dynamics", "facebook groups", "family", "masters degree", "channels", "regulations", "cca", "general tso\u2019s", "striped bass", "parking availability", "negative impact", "savern", "trash", "potomac", "mild flavor", "public access", "pickerel", "catch-and-release", "dnr", "magabee", "beach", "development", "telemetry data", "chrisfield", "carp", "david sikorski", "odenton", "facebook", "eric packard", "largemouth bass", "overpopulation", "lenny rodell", "chesapeake bay", "travel time", "red drum", "semi quantitative", "day trips", "system components", "limited parking", "relative impact", "pcbs", "mental modeler", "secrecy"], "type": "cluster", "node_size": 219, "label": "Species & Biodiversity"}, "Regional Locations": {"concepts": "invasive species, insects, species targeting, species range shift, biodiversity, species introduction, grasses, target species, species distribution", "concept_list": ["invasive species", "insects", "species targeting", "species range shift", "biodiversity", "species introduction", "grasses", "target species", "species distribution"], "type": "cluster", "node_size": 42, "label": "Regional Locations"}, "Seasonal Weather Effects": {"concepts": "anne arundel county, local government, southern maryland, coastal conservation association, north carolina, blackwater national wildlife refuge, southern anne arundel county, south carolina, coastal carolina", "concept_list": ["anne arundel county", "local government", "southern maryland", "coastal conservation association", "north carolina", "blackwater national wildlife refuge", "southern anne arundel county", "south carolina", "coastal carolina"], "type": "cluster", "node_size": 42, "label": "Seasonal Weather Effects"}, "Maryland Waterways": {"concepts": "potomac river, local rivers, tidal fishing, patuxent river, severn river, ocean city, non-tidal streams, blackwater, magothy river", "concept_list": ["potomac river", "local rivers", "tidal fishing", "patuxent river", "severn river", "ocean city", "non-tidal streams", "blackwater", "magothy river"], "type": "cluster", "node_size": 42, "label": "Maryland Waterways"}, "Aquatic Wildlife": {"concepts": "sea trout, blue catfish, flounder, crustaceans, amphibians, snakehead, small turtles, oily fish", "concept_list": ["sea trout", "blue catfish", "flounder", "crustaceans", "amphibians", "snakehead", "small turtles", "oily fish"], "type": "cluster", "node_size": 39, "label": "Aquatic Wildlife"}, "Recreational Fishing": {"concepts": "recreational fishing, fishtalk magazine, fishing docks, guide fishermen, fishing schedule, snakehead fishing, dock fishing, freshwater fishing, recreational fishermen", "concept_list": ["recreational fishing", "fishtalk magazine", "fishing docks", "guide fishermen", "fishing schedule", "snakehead fishing", "dock fishing", "freshwater fishing", "recreational fishermen"], "type": "cluster", "node_size": 42, "label": "Recreational Fishing"}, "Fishing Regulations & Licensing": {"concepts": "freshwater license, fishing regulations, fishing season, overfishing, commercial fishing, fisheries management, fish size limit, fishing license", "concept_list": ["freshwater license", "fishing regulations", "fishing season", "overfishing", "commercial fishing", "fisheries management", "fish size limit", "fishing license"], "type": "cluster", "node_size": 39, "label": "Fishing Regulations & Licensing"}, "Local Waterways": {"concepts": "marine lab, seagrass, salinity, fish mortality, aquatic plants, sediment runoff, marine debris, marine resource management", "concept_list": ["marine lab", "seagrass", "salinity", "fish mortality", "aquatic plants", "sediment runoff", "marine debris", "marine resource management"], "type": "cluster", "node_size": 39, "label": "Local Waterways"}, "Seafood & Poultry Dishes": {"concepts": "fish taste, fish tacos, fish nuggets, fish filleting, fish skinning, orange chicken, fish skin, orange chicken sauce, fish filet, fishing for food", "concept_list": ["fish taste", "fish tacos", "fish nuggets", "fish filleting", "fish skinning", "orange chicken", "fish skin", "orange chicken sauce", "fish filet", "fishing for food"], "type": "cluster", "node_size": 45, "label": "Seafood & Poultry Dishes"}, "Fishing Patterns": {"concepts": "fishing dynamics, patience, fishing reports, fishing patience, fish abundance", "concept_list": ["fishing dynamics", "patience", "fishing reports", "fishing patience", "fish abundance"], "type": "cluster", "node_size": 30, "label": "Fishing Patterns"}, "Social Influence": {"concepts": "social norms, peer influence, social behavior", "concept_list": ["social norms", "peer influence", "social behavior"], "type": "cluster", "node_size": 24, "label": "Social Influence"}, "Environmental Issues": {"concepts": "environmental concern, environmental conditions, environmental factors, environmental group", "concept_list": ["environmental concern", "environmental conditions", "environmental factors", "environmental group"], "type": "cluster", "node_size": 27, "label": "Environmental Issues"}, "Socio-Ecological Communication": {"concepts": "information sharing, socio-ecological system, social-ecological system, social science", "concept_list": ["information sharing", "socio-ecological system", "social-ecological system", "social science"], "type": "cluster", "node_size": 27, "label": "Socio-Ecological Communication"}, "Fish Population Trends": {"concepts": "catch and release, population increase, population decline", "concept_list": ["catch and release", "population increase", "population decline"], "type": "cluster", "node_size": 24, "label": "Fish Population Trends"}, "Environmental Stress Tolerance": {"concepts": "hypoxia, heat stress, tolerance to cold", "concept_list": ["hypoxia", "heat stress", "tolerance to cold"], "type": "cluster", "node_size": 24, "label": "Environmental Stress Tolerance"}, "Food Retail & Dining": {"concepts": "grocery stores, restaurants", "concept_list": ["grocery stores", "restaurants"], "type": "cluster", "node_size": 21, "label": "Food Retail & Dining"}};
        const conceptData = {"early spring": {"concepts": "early spring", "type": "concept", "cluster": "Habitat Quality", "node_size": 10, "label": "early spring"}, "weather": {"concepts": "weather", "type": "concept", "cluster": "Habitat Quality", "node_size": 10, "label": "weather"}, "storm impact": {"concepts": "storm impact", "type": "concept", "cluster": "Habitat Quality", "node_size": 10, "label": "storm impact"}, "wind conditions": {"concepts": "wind conditions", "type": "concept", "cluster": "Habitat Quality", "node_size": 10, "label": "wind conditions"}, "thermal stress": {"concepts": "thermal stress", "type": "concept", "cluster": "Habitat Quality", "node_size": 10, "label": "thermal stress"}, "spawning": {"concepts": "spawning", "type": "concept", "cluster": "Habitat Quality", "node_size": 10, "label": "spawning"}, "weather patterns": {"concepts": "weather patterns", "type": "concept", "cluster": "Habitat Quality", "node_size": 10, "label": "weather patterns"}, "seasoning": {"concepts": "seasoning", "type": "concept", "cluster": "Habitat Quality", "node_size": 10, "label": "seasoning"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Habitat Quality", "node_size": 10, "label": "climate change"}, "seasonal variation": {"concepts": "seasonal variation", "type": "concept", "cluster": "Habitat Quality", "node_size": 10, "label": "seasonal variation"}, "enclosed space": {"concepts": "enclosed space", "type": "concept", "cluster": "Habitat Quality", "node_size": 10, "label": "enclosed space"}, "wood ducks": {"concepts": "wood ducks", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "wood ducks"}, "shallow habitat": {"concepts": "shallow habitat", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "shallow habitat"}, "natural habitat": {"concepts": "natural habitat", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "natural habitat"}, "department of natural resources": {"concepts": "department of natural resources", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "department of natural resources"}, "conservation practices": {"concepts": "conservation practices", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "conservation practices"}, "pristine habitat": {"concepts": "pristine habitat", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "pristine habitat"}, "degraded streams": {"concepts": "degraded streams", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "degraded streams"}, "eastern shore": {"concepts": "eastern shore", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "eastern shore"}, "habitat degradation": {"concepts": "habitat degradation", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "habitat degradation"}, "habitat quality": {"concepts": "habitat quality", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "habitat quality"}, "degraded habitat": {"concepts": "degraded habitat", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "degraded habitat"}, "habitat competition": {"concepts": "habitat competition", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "habitat competition"}, "environmental degradation": {"concepts": "environmental degradation", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "environmental degradation"}, "habitat preference": {"concepts": "habitat preference", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "habitat preference"}, "national parks": {"concepts": "national parks", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "national parks"}, "work schedule": {"concepts": "work schedule", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "work schedule"}, "air fryer": {"concepts": "air fryer", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "air fryer"}, "slot limits": {"concepts": "slot limits", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "slot limits"}, "commercial market": {"concepts": "commercial market", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "commercial market"}, "mercury": {"concepts": "mercury", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "mercury"}, "cca maryland": {"concepts": "cca maryland", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "cca maryland"}, "patapsco": {"concepts": "patapsco", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "patapsco"}, "maryland dnr": {"concepts": "maryland dnr", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "maryland dnr"}, "harvesting": {"concepts": "harvesting", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "harvesting"}, "market demand": {"concepts": "market demand", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "market demand"}, "kayak": {"concepts": "kayak", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "kayak"}, "loss of trees": {"concepts": "loss of trees", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "loss of trees"}, "docks": {"concepts": "docks", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "docks"}, "kayaking": {"concepts": "kayaking", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "kayaking"}, "conceptual model": {"concepts": "conceptual model", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "conceptual model"}, "patuxent": {"concepts": "patuxent", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "patuxent"}, "regulation compliance": {"concepts": "regulation compliance", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "regulation compliance"}, "tide": {"concepts": "tide", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "tide"}, "neighborhood dock": {"concepts": "neighborhood dock", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "neighborhood dock"}, "tidal license": {"concepts": "tidal license", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "tidal license"}, "development impact": {"concepts": "development impact", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "development impact"}, "resource management": {"concepts": "resource management", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "resource management"}, "public docks": {"concepts": "public docks", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "public docks"}, "categorical weights": {"concepts": "categorical weights", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "categorical weights"}, "system dynamics": {"concepts": "system dynamics", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "system dynamics"}, "facebook groups": {"concepts": "facebook groups", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "facebook groups"}, "family": {"concepts": "family", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "family"}, "masters degree": {"concepts": "masters degree", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "masters degree"}, "channels": {"concepts": "channels", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "channels"}, "regulations": {"concepts": "regulations", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "regulations"}, "cca": {"concepts": "cca", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "cca"}, "general tso\u2019s": {"concepts": "general tso\u2019s", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "general tso\u2019s"}, "striped bass": {"concepts": "striped bass", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "striped bass"}, "parking availability": {"concepts": "parking availability", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "parking availability"}, "negative impact": {"concepts": "negative impact", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "negative impact"}, "savern": {"concepts": "savern", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "savern"}, "trash": {"concepts": "trash", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "trash"}, "potomac": {"concepts": "potomac", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "potomac"}, "mild flavor": {"concepts": "mild flavor", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "mild flavor"}, "public access": {"concepts": "public access", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "public access"}, "pickerel": {"concepts": "pickerel", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "pickerel"}, "catch-and-release": {"concepts": "catch-and-release", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "catch-and-release"}, "dnr": {"concepts": "dnr", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "dnr"}, "magabee": {"concepts": "magabee", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "magabee"}, "beach": {"concepts": "beach", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "beach"}, "development": {"concepts": "development", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "development"}, "telemetry data": {"concepts": "telemetry data", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "telemetry data"}, "chrisfield": {"concepts": "chrisfield", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "chrisfield"}, "carp": {"concepts": "carp", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "carp"}, "david sikorski": {"concepts": "david sikorski", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "david sikorski"}, "odenton": {"concepts": "odenton", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "odenton"}, "facebook": {"concepts": "facebook", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "facebook"}, "eric packard": {"concepts": "eric packard", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "eric packard"}, "largemouth bass": {"concepts": "largemouth bass", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "largemouth bass"}, "overpopulation": {"concepts": "overpopulation", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "overpopulation"}, "lenny rodell": {"concepts": "lenny rodell", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "lenny rodell"}, "chesapeake bay": {"concepts": "chesapeake bay", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "chesapeake bay"}, "travel time": {"concepts": "travel time", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "travel time"}, "red drum": {"concepts": "red drum", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "red drum"}, "semi quantitative": {"concepts": "semi quantitative", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "semi quantitative"}, "day trips": {"concepts": "day trips", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "day trips"}, "system components": {"concepts": "system components", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "system components"}, "limited parking": {"concepts": "limited parking", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "limited parking"}, "relative impact": {"concepts": "relative impact", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "relative impact"}, "pcbs": {"concepts": "pcbs", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "pcbs"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "mental modeler"}, "secrecy": {"concepts": "secrecy", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "secrecy"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Regional Locations", "node_size": 10, "label": "invasive species"}, "insects": {"concepts": "insects", "type": "concept", "cluster": "Regional Locations", "node_size": 10, "label": "insects"}, "species targeting": {"concepts": "species targeting", "type": "concept", "cluster": "Regional Locations", "node_size": 10, "label": "species targeting"}, "species range shift": {"concepts": "species range shift", "type": "concept", "cluster": "Regional Locations", "node_size": 10, "label": "species range shift"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Regional Locations", "node_size": 10, "label": "biodiversity"}, "species introduction": {"concepts": "species introduction", "type": "concept", "cluster": "Regional Locations", "node_size": 10, "label": "species introduction"}, "grasses": {"concepts": "grasses", "type": "concept", "cluster": "Regional Locations", "node_size": 10, "label": "grasses"}, "target species": {"concepts": "target species", "type": "concept", "cluster": "Regional Locations", "node_size": 10, "label": "target species"}, "species distribution": {"concepts": "species distribution", "type": "concept", "cluster": "Regional Locations", "node_size": 10, "label": "species distribution"}, "anne arundel county": {"concepts": "anne arundel county", "type": "concept", "cluster": "Seasonal Weather Effects", "node_size": 10, "label": "anne arundel county"}, "local government": {"concepts": "local government", "type": "concept", "cluster": "Seasonal Weather Effects", "node_size": 10, "label": "local government"}, "southern maryland": {"concepts": "southern maryland", "type": "concept", "cluster": "Seasonal Weather Effects", "node_size": 10, "label": "southern maryland"}, "coastal conservation association": {"concepts": "coastal conservation association", "type": "concept", "cluster": "Seasonal Weather Effects", "node_size": 10, "label": "coastal conservation association"}, "north carolina": {"concepts": "north carolina", "type": "concept", "cluster": "Seasonal Weather Effects", "node_size": 10, "label": "north carolina"}, "blackwater national wildlife refuge": {"concepts": "blackwater national wildlife refuge", "type": "concept", "cluster": "Seasonal Weather Effects", "node_size": 10, "label": "blackwater national wildlife refuge"}, "southern anne arundel county": {"concepts": "southern anne arundel county", "type": "concept", "cluster": "Seasonal Weather Effects", "node_size": 10, "label": "southern anne arundel county"}, "south carolina": {"concepts": "south carolina", "type": "concept", "cluster": "Seasonal Weather Effects", "node_size": 10, "label": "south carolina"}, "coastal carolina": {"concepts": "coastal carolina", "type": "concept", "cluster": "Seasonal Weather Effects", "node_size": 10, "label": "coastal carolina"}, "potomac river": {"concepts": "potomac river", "type": "concept", "cluster": "Maryland Waterways", "node_size": 10, "label": "potomac river"}, "local rivers": {"concepts": "local rivers", "type": "concept", "cluster": "Maryland Waterways", "node_size": 10, "label": "local rivers"}, "tidal fishing": {"concepts": "tidal fishing", "type": "concept", "cluster": "Maryland Waterways", "node_size": 10, "label": "tidal fishing"}, "patuxent river": {"concepts": "patuxent river", "type": "concept", "cluster": "Maryland Waterways", "node_size": 10, "label": "patuxent river"}, "severn river": {"concepts": "severn river", "type": "concept", "cluster": "Maryland Waterways", "node_size": 10, "label": "severn river"}, "ocean city": {"concepts": "ocean city", "type": "concept", "cluster": "Maryland Waterways", "node_size": 10, "label": "ocean city"}, "non-tidal streams": {"concepts": "non-tidal streams", "type": "concept", "cluster": "Maryland Waterways", "node_size": 10, "label": "non-tidal streams"}, "blackwater": {"concepts": "blackwater", "type": "concept", "cluster": "Maryland Waterways", "node_size": 10, "label": "blackwater"}, "magothy river": {"concepts": "magothy river", "type": "concept", "cluster": "Maryland Waterways", "node_size": 10, "label": "magothy river"}, "sea trout": {"concepts": "sea trout", "type": "concept", "cluster": "Aquatic Wildlife", "node_size": 10, "label": "sea trout"}, "blue catfish": {"concepts": "blue catfish", "type": "concept", "cluster": "Aquatic Wildlife", "node_size": 10, "label": "blue catfish"}, "flounder": {"concepts": "flounder", "type": "concept", "cluster": "Aquatic Wildlife", "node_size": 10, "label": "flounder"}, "crustaceans": {"concepts": "crustaceans", "type": "concept", "cluster": "Aquatic Wildlife", "node_size": 10, "label": "crustaceans"}, "amphibians": {"concepts": "amphibians", "type": "concept", "cluster": "Aquatic Wildlife", "node_size": 10, "label": "amphibians"}, "snakehead": {"concepts": "snakehead", "type": "concept", "cluster": "Aquatic Wildlife", "node_size": 10, "label": "snakehead"}, "small turtles": {"concepts": "small turtles", "type": "concept", "cluster": "Aquatic Wildlife", "node_size": 10, "label": "small turtles"}, "oily fish": {"concepts": "oily fish", "type": "concept", "cluster": "Aquatic Wildlife", "node_size": 10, "label": "oily fish"}, "recreational fishing": {"concepts": "recreational fishing", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "recreational fishing"}, "fishtalk magazine": {"concepts": "fishtalk magazine", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "fishtalk magazine"}, "fishing docks": {"concepts": "fishing docks", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "fishing docks"}, "guide fishermen": {"concepts": "guide fishermen", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "guide fishermen"}, "fishing schedule": {"concepts": "fishing schedule", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "fishing schedule"}, "snakehead fishing": {"concepts": "snakehead fishing", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "snakehead fishing"}, "dock fishing": {"concepts": "dock fishing", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "dock fishing"}, "freshwater fishing": {"concepts": "freshwater fishing", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "freshwater fishing"}, "recreational fishermen": {"concepts": "recreational fishermen", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "recreational fishermen"}, "freshwater license": {"concepts": "freshwater license", "type": "concept", "cluster": "Fishing Regulations & Licensing", "node_size": 10, "label": "freshwater license"}, "fishing regulations": {"concepts": "fishing regulations", "type": "concept", "cluster": "Fishing Regulations & Licensing", "node_size": 10, "label": "fishing regulations"}, "fishing season": {"concepts": "fishing season", "type": "concept", "cluster": "Fishing Regulations & Licensing", "node_size": 10, "label": "fishing season"}, "overfishing": {"concepts": "overfishing", "type": "concept", "cluster": "Fishing Regulations & Licensing", "node_size": 10, "label": "overfishing"}, "commercial fishing": {"concepts": "commercial fishing", "type": "concept", "cluster": "Fishing Regulations & Licensing", "node_size": 10, "label": "commercial fishing"}, "fisheries management": {"concepts": "fisheries management", "type": "concept", "cluster": "Fishing Regulations & Licensing", "node_size": 10, "label": "fisheries management"}, "fish size limit": {"concepts": "fish size limit", "type": "concept", "cluster": "Fishing Regulations & Licensing", "node_size": 10, "label": "fish size limit"}, "fishing license": {"concepts": "fishing license", "type": "concept", "cluster": "Fishing Regulations & Licensing", "node_size": 10, "label": "fishing license"}, "marine lab": {"concepts": "marine lab", "type": "concept", "cluster": "Local Waterways", "node_size": 10, "label": "marine lab"}, "seagrass": {"concepts": "seagrass", "type": "concept", "cluster": "Local Waterways", "node_size": 10, "label": "seagrass"}, "salinity": {"concepts": "salinity", "type": "concept", "cluster": "Local Waterways", "node_size": 10, "label": "salinity"}, "fish mortality": {"concepts": "fish mortality", "type": "concept", "cluster": "Local Waterways", "node_size": 10, "label": "fish mortality"}, "aquatic plants": {"concepts": "aquatic plants", "type": "concept", "cluster": "Local Waterways", "node_size": 10, "label": "aquatic plants"}, "sediment runoff": {"concepts": "sediment runoff", "type": "concept", "cluster": "Local Waterways", "node_size": 10, "label": "sediment runoff"}, "marine debris": {"concepts": "marine debris", "type": "concept", "cluster": "Local Waterways", "node_size": 10, "label": "marine debris"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Local Waterways", "node_size": 10, "label": "marine resource management"}, "fish taste": {"concepts": "fish taste", "type": "concept", "cluster": "Seafood & Poultry Dishes", "node_size": 10, "label": "fish taste"}, "fish tacos": {"concepts": "fish tacos", "type": "concept", "cluster": "Seafood & Poultry Dishes", "node_size": 10, "label": "fish tacos"}, "fish nuggets": {"concepts": "fish nuggets", "type": "concept", "cluster": "Seafood & Poultry Dishes", "node_size": 10, "label": "fish nuggets"}, "fish filleting": {"concepts": "fish filleting", "type": "concept", "cluster": "Seafood & Poultry Dishes", "node_size": 10, "label": "fish filleting"}, "fish skinning": {"concepts": "fish skinning", "type": "concept", "cluster": "Seafood & Poultry Dishes", "node_size": 10, "label": "fish skinning"}, "orange chicken": {"concepts": "orange chicken", "type": "concept", "cluster": "Seafood & Poultry Dishes", "node_size": 10, "label": "orange chicken"}, "fish skin": {"concepts": "fish skin", "type": "concept", "cluster": "Seafood & Poultry Dishes", "node_size": 10, "label": "fish skin"}, "orange chicken sauce": {"concepts": "orange chicken sauce", "type": "concept", "cluster": "Seafood & Poultry Dishes", "node_size": 10, "label": "orange chicken sauce"}, "fish filet": {"concepts": "fish filet", "type": "concept", "cluster": "Seafood & Poultry Dishes", "node_size": 10, "label": "fish filet"}, "fishing for food": {"concepts": "fishing for food", "type": "concept", "cluster": "Seafood & Poultry Dishes", "node_size": 10, "label": "fishing for food"}, "fishing dynamics": {"concepts": "fishing dynamics", "type": "concept", "cluster": "Fishing Patterns", "node_size": 10, "label": "fishing dynamics"}, "patience": {"concepts": "patience", "type": "concept", "cluster": "Fishing Patterns", "node_size": 10, "label": "patience"}, "fishing reports": {"concepts": "fishing reports", "type": "concept", "cluster": "Fishing Patterns", "node_size": 10, "label": "fishing reports"}, "fishing patience": {"concepts": "fishing patience", "type": "concept", "cluster": "Fishing Patterns", "node_size": 10, "label": "fishing patience"}, "fish abundance": {"concepts": "fish abundance", "type": "concept", "cluster": "Fishing Patterns", "node_size": 10, "label": "fish abundance"}, "social norms": {"concepts": "social norms", "type": "concept", "cluster": "Social Influence", "node_size": 10, "label": "social norms"}, "peer influence": {"concepts": "peer influence", "type": "concept", "cluster": "Social Influence", "node_size": 10, "label": "peer influence"}, "social behavior": {"concepts": "social behavior", "type": "concept", "cluster": "Social Influence", "node_size": 10, "label": "social behavior"}, "environmental concern": {"concepts": "environmental concern", "type": "concept", "cluster": "Environmental Issues", "node_size": 10, "label": "environmental concern"}, "environmental conditions": {"concepts": "environmental conditions", "type": "concept", "cluster": "Environmental Issues", "node_size": 10, "label": "environmental conditions"}, "environmental factors": {"concepts": "environmental factors", "type": "concept", "cluster": "Environmental Issues", "node_size": 10, "label": "environmental factors"}, "environmental group": {"concepts": "environmental group", "type": "concept", "cluster": "Environmental Issues", "node_size": 10, "label": "environmental group"}, "information sharing": {"concepts": "information sharing", "type": "concept", "cluster": "Socio-Ecological Communication", "node_size": 10, "label": "information sharing"}, "socio-ecological system": {"concepts": "socio-ecological system", "type": "concept", "cluster": "Socio-Ecological Communication", "node_size": 10, "label": "socio-ecological system"}, "social-ecological system": {"concepts": "social-ecological system", "type": "concept", "cluster": "Socio-Ecological Communication", "node_size": 10, "label": "social-ecological system"}, "social science": {"concepts": "social science", "type": "concept", "cluster": "Socio-Ecological Communication", "node_size": 10, "label": "social science"}, "catch and release": {"concepts": "catch and release", "type": "concept", "cluster": "Fish Population Trends", "node_size": 10, "label": "catch and release"}, "population increase": {"concepts": "population increase", "type": "concept", "cluster": "Fish Population Trends", "node_size": 10, "label": "population increase"}, "population decline": {"concepts": "population decline", "type": "concept", "cluster": "Fish Population Trends", "node_size": 10, "label": "population decline"}, "hypoxia": {"concepts": "hypoxia", "type": "concept", "cluster": "Environmental Stress Tolerance", "node_size": 10, "label": "hypoxia"}, "heat stress": {"concepts": "heat stress", "type": "concept", "cluster": "Environmental Stress Tolerance", "node_size": 10, "label": "heat stress"}, "tolerance to cold": {"concepts": "tolerance to cold", "type": "concept", "cluster": "Environmental Stress Tolerance", "node_size": 10, "label": "tolerance to cold"}, "grocery stores": {"concepts": "grocery stores", "type": "concept", "cluster": "Food Retail & Dining", "node_size": 10, "label": "grocery stores"}, "restaurants": {"concepts": "restaurants", "type": "concept", "cluster": "Food Retail & Dining", "node_size": 10, "label": "restaurants"}};
        const interClusterEdges = [["Habitat Quality", "Seafood & Poultry Dishes", {"weight": 0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Fishing & Resource Management", "Recreational Fishing", {"weight": 1.0, "confidence": 0.86, "type": "inter_cluster", "style": "solid"}], ["Fishing & Resource Management", "Aquatic Wildlife", {"weight": 1.0, "confidence": 0.95, "type": "inter_cluster", "style": "solid"}], ["Fishing & Resource Management", "Species & Biodiversity", {"weight": 0.3333333333333333, "confidence": 0.21666666666666667, "type": "inter_cluster", "style": "solid"}], ["Species & Biodiversity", "Aquatic Wildlife", {"weight": 1.0, "confidence": 0.79, "type": "inter_cluster", "style": "solid"}], ["Species & Biodiversity", "Environmental Issues", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Regional Locations", "Species & Biodiversity", {"weight": 0.2, "confidence": 0.78, "type": "inter_cluster", "style": "solid"}], ["Regional Locations", "Social Influence", {"weight": 0.5, "confidence": 0.6375, "type": "inter_cluster", "style": "solid"}], ["Regional Locations", "Local Waterways", {"weight": -0.3333333333333333, "confidence": 0.7833333333333332, "type": "inter_cluster", "style": "solid"}], ["Regional Locations", "Socio-Ecological Communication", {"weight": 0.3333333333333333, "confidence": 0.2333333333333333, "type": "inter_cluster", "style": "solid"}], ["Seasonal Weather Effects", "Environmental Issues", {"weight": 1.0, "confidence": 0.6900000000000001, "type": "inter_cluster", "style": "solid"}], ["Seasonal Weather Effects", "Regional Locations", {"weight": 1.0, "confidence": 0.7375, "type": "inter_cluster", "style": "solid"}], ["Seasonal Weather Effects", "Social Influence", {"weight": 0.6666666666666666, "confidence": 0.39999999999999997, "type": "inter_cluster", "style": "solid"}], ["Maryland Waterways", "Regional Locations", {"weight": 1.0, "confidence": 0.86, "type": "inter_cluster", "style": "solid"}], ["Maryland Waterways", "Environmental Issues", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Aquatic Wildlife", "Environmental Stress Tolerance", {"weight": -1.0, "confidence": 0.79, "type": "inter_cluster", "style": "solid"}], ["Aquatic Wildlife", "Seafood & Poultry Dishes", {"weight": 0.8, "confidence": 0.76, "type": "inter_cluster", "style": "solid"}], ["Aquatic Wildlife", "Maryland Waterways", {"weight": 0.3333333333333333, "confidence": 0.8333333333333334, "type": "inter_cluster", "style": "solid"}], ["Recreational Fishing", "Food Retail & Dining", {"weight": 1.0, "confidence": 0.625, "type": "inter_cluster", "style": "solid"}], ["Fishing Regulations & Licensing", "Aquatic Wildlife", {"weight": 0.6, "confidence": 0.82, "type": "inter_cluster", "style": "solid"}], ["Fishing Regulations & Licensing", "Environmental Stress Tolerance", {"weight": -1.0, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Local Waterways", "Aquatic Wildlife", {"weight": 0.2, "confidence": 0.8300000000000001, "type": "inter_cluster", "style": "solid"}], ["Local Waterways", "Environmental Issues", {"weight": 1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Local Waterways", "Fishing Regulations & Licensing", {"weight": 1.0, "confidence": 0.6999999999999998, "type": "inter_cluster", "style": "solid"}], ["Fishing Patterns", "Socio-Ecological Communication", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Environmental Issues", "Regional Locations", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Environmental Issues", "Fishing Patterns", {"weight": 1.0, "confidence": 0.6499999999999999, "type": "inter_cluster", "style": "solid"}], ["Fish Population Trends", "Local Waterways", {"weight": 1.0, "confidence": 0.6199999999999999, "type": "inter_cluster", "style": "solid"}], ["Fish Population Trends", "Seafood & Poultry Dishes", {"weight": 0.2, "confidence": 0.58, "type": "inter_cluster", "style": "solid"}], ["Environmental Stress Tolerance", "Seafood & Poultry Dishes", {"weight": -0.8, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Food Retail & Dining", "Socio-Ecological Communication", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Habitat Quality": [["early spring", {"concepts": "early spring", "type": "concept", "cluster": "Habitat Quality", "node_size": 10, "label": "early spring"}], ["weather", {"concepts": "weather", "type": "concept", "cluster": "Habitat Quality", "node_size": 10, "label": "weather"}], ["storm impact", {"concepts": "storm impact", "type": "concept", "cluster": "Habitat Quality", "node_size": 10, "label": "storm impact"}], ["wind conditions", {"concepts": "wind conditions", "type": "concept", "cluster": "Habitat Quality", "node_size": 10, "label": "wind conditions"}], ["thermal stress", {"concepts": "thermal stress", "type": "concept", "cluster": "Habitat Quality", "node_size": 10, "label": "thermal stress"}], ["spawning", {"concepts": "spawning", "type": "concept", "cluster": "Habitat Quality", "node_size": 10, "label": "spawning"}], ["weather patterns", {"concepts": "weather patterns", "type": "concept", "cluster": "Habitat Quality", "node_size": 10, "label": "weather patterns"}], ["seasoning", {"concepts": "seasoning", "type": "concept", "cluster": "Habitat Quality", "node_size": 10, "label": "seasoning"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Habitat Quality", "node_size": 10, "label": "climate change"}], ["seasonal variation", {"concepts": "seasonal variation", "type": "concept", "cluster": "Habitat Quality", "node_size": 10, "label": "seasonal variation"}], ["enclosed space", {"concepts": "enclosed space", "type": "concept", "cluster": "Habitat Quality", "node_size": 10, "label": "enclosed space"}]], "Fishing & Resource Management": [["wood ducks", {"concepts": "wood ducks", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "wood ducks"}], ["shallow habitat", {"concepts": "shallow habitat", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "shallow habitat"}], ["natural habitat", {"concepts": "natural habitat", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "natural habitat"}], ["department of natural resources", {"concepts": "department of natural resources", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "department of natural resources"}], ["conservation practices", {"concepts": "conservation practices", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "conservation practices"}], ["pristine habitat", {"concepts": "pristine habitat", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "pristine habitat"}], ["degraded streams", {"concepts": "degraded streams", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "degraded streams"}], ["eastern shore", {"concepts": "eastern shore", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "eastern shore"}], ["habitat degradation", {"concepts": "habitat degradation", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "habitat degradation"}], ["habitat quality", {"concepts": "habitat quality", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "habitat quality"}], ["degraded habitat", {"concepts": "degraded habitat", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "degraded habitat"}], ["habitat competition", {"concepts": "habitat competition", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "habitat competition"}], ["environmental degradation", {"concepts": "environmental degradation", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "environmental degradation"}], ["habitat preference", {"concepts": "habitat preference", "type": "concept", "cluster": "Fishing & Resource Management", "node_size": 10, "label": "habitat preference"}]], "Species & Biodiversity": [["national parks", {"concepts": "national parks", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "national parks"}], ["work schedule", {"concepts": "work schedule", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "work schedule"}], ["air fryer", {"concepts": "air fryer", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "air fryer"}], ["slot limits", {"concepts": "slot limits", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "slot limits"}], ["commercial market", {"concepts": "commercial market", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "commercial market"}], ["mercury", {"concepts": "mercury", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "mercury"}], ["cca maryland", {"concepts": "cca maryland", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "cca maryland"}], ["patapsco", {"concepts": "patapsco", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "patapsco"}], ["maryland dnr", {"concepts": "maryland dnr", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "maryland dnr"}], ["harvesting", {"concepts": "harvesting", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "harvesting"}], ["market demand", {"concepts": "market demand", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "market demand"}], ["kayak", {"concepts": "kayak", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "kayak"}], ["loss of trees", {"concepts": "loss of trees", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "loss of trees"}], ["docks", {"concepts": "docks", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "docks"}], ["kayaking", {"concepts": "kayaking", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "kayaking"}], ["conceptual model", {"concepts": "conceptual model", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "conceptual model"}], ["patuxent", {"concepts": "patuxent", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "patuxent"}], ["regulation compliance", {"concepts": "regulation compliance", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "regulation compliance"}], ["tide", {"concepts": "tide", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "tide"}], ["neighborhood dock", {"concepts": "neighborhood dock", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "neighborhood dock"}], ["tidal license", {"concepts": "tidal license", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "tidal license"}], ["development impact", {"concepts": "development impact", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "development impact"}], ["resource management", {"concepts": "resource management", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "resource management"}], ["public docks", {"concepts": "public docks", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "public docks"}], ["categorical weights", {"concepts": "categorical weights", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "categorical weights"}], ["system dynamics", {"concepts": "system dynamics", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "system dynamics"}], ["facebook groups", {"concepts": "facebook groups", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "facebook groups"}], ["family", {"concepts": "family", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "family"}], ["masters degree", {"concepts": "masters degree", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "masters degree"}], ["channels", {"concepts": "channels", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "channels"}], ["regulations", {"concepts": "regulations", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "regulations"}], ["cca", {"concepts": "cca", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "cca"}], ["general tso\u2019s", {"concepts": "general tso\u2019s", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "general tso\u2019s"}], ["striped bass", {"concepts": "striped bass", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "striped bass"}], ["parking availability", {"concepts": "parking availability", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "parking availability"}], ["negative impact", {"concepts": "negative impact", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "negative impact"}], ["savern", {"concepts": "savern", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "savern"}], ["trash", {"concepts": "trash", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "trash"}], ["potomac", {"concepts": "potomac", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "potomac"}], ["mild flavor", {"concepts": "mild flavor", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "mild flavor"}], ["public access", {"concepts": "public access", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "public access"}], ["pickerel", {"concepts": "pickerel", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "pickerel"}], ["catch-and-release", {"concepts": "catch-and-release", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "catch-and-release"}], ["dnr", {"concepts": "dnr", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "dnr"}], ["magabee", {"concepts": "magabee", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "magabee"}], ["beach", {"concepts": "beach", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "beach"}], ["development", {"concepts": "development", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "development"}], ["telemetry data", {"concepts": "telemetry data", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "telemetry data"}], ["chrisfield", {"concepts": "chrisfield", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "chrisfield"}], ["carp", {"concepts": "carp", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "carp"}], ["david sikorski", {"concepts": "david sikorski", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "david sikorski"}], ["odenton", {"concepts": "odenton", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "odenton"}], ["facebook", {"concepts": "facebook", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "facebook"}], ["eric packard", {"concepts": "eric packard", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "eric packard"}], ["largemouth bass", {"concepts": "largemouth bass", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "largemouth bass"}], ["overpopulation", {"concepts": "overpopulation", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "overpopulation"}], ["lenny rodell", {"concepts": "lenny rodell", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "lenny rodell"}], ["chesapeake bay", {"concepts": "chesapeake bay", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "chesapeake bay"}], ["travel time", {"concepts": "travel time", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "travel time"}], ["red drum", {"concepts": "red drum", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "red drum"}], ["semi quantitative", {"concepts": "semi quantitative", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "semi quantitative"}], ["day trips", {"concepts": "day trips", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "day trips"}], ["system components", {"concepts": "system components", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "system components"}], ["limited parking", {"concepts": "limited parking", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "limited parking"}], ["relative impact", {"concepts": "relative impact", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "relative impact"}], ["pcbs", {"concepts": "pcbs", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "pcbs"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "mental modeler"}], ["secrecy", {"concepts": "secrecy", "type": "concept", "cluster": "Species & Biodiversity", "node_size": 10, "label": "secrecy"}]], "Regional Locations": [["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Regional Locations", "node_size": 10, "label": "invasive species"}], ["insects", {"concepts": "insects", "type": "concept", "cluster": "Regional Locations", "node_size": 10, "label": "insects"}], ["species targeting", {"concepts": "species targeting", "type": "concept", "cluster": "Regional Locations", "node_size": 10, "label": "species targeting"}], ["species range shift", {"concepts": "species range shift", "type": "concept", "cluster": "Regional Locations", "node_size": 10, "label": "species range shift"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Regional Locations", "node_size": 10, "label": "biodiversity"}], ["species introduction", {"concepts": "species introduction", "type": "concept", "cluster": "Regional Locations", "node_size": 10, "label": "species introduction"}], ["grasses", {"concepts": "grasses", "type": "concept", "cluster": "Regional Locations", "node_size": 10, "label": "grasses"}], ["target species", {"concepts": "target species", "type": "concept", "cluster": "Regional Locations", "node_size": 10, "label": "target species"}], ["species distribution", {"concepts": "species distribution", "type": "concept", "cluster": "Regional Locations", "node_size": 10, "label": "species distribution"}]], "Seasonal Weather Effects": [["anne arundel county", {"concepts": "anne arundel county", "type": "concept", "cluster": "Seasonal Weather Effects", "node_size": 10, "label": "anne arundel county"}], ["local government", {"concepts": "local government", "type": "concept", "cluster": "Seasonal Weather Effects", "node_size": 10, "label": "local government"}], ["southern maryland", {"concepts": "southern maryland", "type": "concept", "cluster": "Seasonal Weather Effects", "node_size": 10, "label": "southern maryland"}], ["coastal conservation association", {"concepts": "coastal conservation association", "type": "concept", "cluster": "Seasonal Weather Effects", "node_size": 10, "label": "coastal conservation association"}], ["north carolina", {"concepts": "north carolina", "type": "concept", "cluster": "Seasonal Weather Effects", "node_size": 10, "label": "north carolina"}], ["blackwater national wildlife refuge", {"concepts": "blackwater national wildlife refuge", "type": "concept", "cluster": "Seasonal Weather Effects", "node_size": 10, "label": "blackwater national wildlife refuge"}], ["southern anne arundel county", {"concepts": "southern anne arundel county", "type": "concept", "cluster": "Seasonal Weather Effects", "node_size": 10, "label": "southern anne arundel county"}], ["south carolina", {"concepts": "south carolina", "type": "concept", "cluster": "Seasonal Weather Effects", "node_size": 10, "label": "south carolina"}], ["coastal carolina", {"concepts": "coastal carolina", "type": "concept", "cluster": "Seasonal Weather Effects", "node_size": 10, "label": "coastal carolina"}]], "Maryland Waterways": [["potomac river", {"concepts": "potomac river", "type": "concept", "cluster": "Maryland Waterways", "node_size": 10, "label": "potomac river"}], ["local rivers", {"concepts": "local rivers", "type": "concept", "cluster": "Maryland Waterways", "node_size": 10, "label": "local rivers"}], ["tidal fishing", {"concepts": "tidal fishing", "type": "concept", "cluster": "Maryland Waterways", "node_size": 10, "label": "tidal fishing"}], ["patuxent river", {"concepts": "patuxent river", "type": "concept", "cluster": "Maryland Waterways", "node_size": 10, "label": "patuxent river"}], ["severn river", {"concepts": "severn river", "type": "concept", "cluster": "Maryland Waterways", "node_size": 10, "label": "severn river"}], ["ocean city", {"concepts": "ocean city", "type": "concept", "cluster": "Maryland Waterways", "node_size": 10, "label": "ocean city"}], ["non-tidal streams", {"concepts": "non-tidal streams", "type": "concept", "cluster": "Maryland Waterways", "node_size": 10, "label": "non-tidal streams"}], ["blackwater", {"concepts": "blackwater", "type": "concept", "cluster": "Maryland Waterways", "node_size": 10, "label": "blackwater"}], ["magothy river", {"concepts": "magothy river", "type": "concept", "cluster": "Maryland Waterways", "node_size": 10, "label": "magothy river"}]], "Aquatic Wildlife": [["sea trout", {"concepts": "sea trout", "type": "concept", "cluster": "Aquatic Wildlife", "node_size": 10, "label": "sea trout"}], ["blue catfish", {"concepts": "blue catfish", "type": "concept", "cluster": "Aquatic Wildlife", "node_size": 10, "label": "blue catfish"}], ["flounder", {"concepts": "flounder", "type": "concept", "cluster": "Aquatic Wildlife", "node_size": 10, "label": "flounder"}], ["crustaceans", {"concepts": "crustaceans", "type": "concept", "cluster": "Aquatic Wildlife", "node_size": 10, "label": "crustaceans"}], ["amphibians", {"concepts": "amphibians", "type": "concept", "cluster": "Aquatic Wildlife", "node_size": 10, "label": "amphibians"}], ["snakehead", {"concepts": "snakehead", "type": "concept", "cluster": "Aquatic Wildlife", "node_size": 10, "label": "snakehead"}], ["small turtles", {"concepts": "small turtles", "type": "concept", "cluster": "Aquatic Wildlife", "node_size": 10, "label": "small turtles"}], ["oily fish", {"concepts": "oily fish", "type": "concept", "cluster": "Aquatic Wildlife", "node_size": 10, "label": "oily fish"}]], "Recreational Fishing": [["recreational fishing", {"concepts": "recreational fishing", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "recreational fishing"}], ["fishtalk magazine", {"concepts": "fishtalk magazine", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "fishtalk magazine"}], ["fishing docks", {"concepts": "fishing docks", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "fishing docks"}], ["guide fishermen", {"concepts": "guide fishermen", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "guide fishermen"}], ["fishing schedule", {"concepts": "fishing schedule", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "fishing schedule"}], ["snakehead fishing", {"concepts": "snakehead fishing", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "snakehead fishing"}], ["dock fishing", {"concepts": "dock fishing", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "dock fishing"}], ["freshwater fishing", {"concepts": "freshwater fishing", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "freshwater fishing"}], ["recreational fishermen", {"concepts": "recreational fishermen", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "recreational fishermen"}]], "Fishing Regulations & Licensing": [["freshwater license", {"concepts": "freshwater license", "type": "concept", "cluster": "Fishing Regulations & Licensing", "node_size": 10, "label": "freshwater license"}], ["fishing regulations", {"concepts": "fishing regulations", "type": "concept", "cluster": "Fishing Regulations & Licensing", "node_size": 10, "label": "fishing regulations"}], ["fishing season", {"concepts": "fishing season", "type": "concept", "cluster": "Fishing Regulations & Licensing", "node_size": 10, "label": "fishing season"}], ["overfishing", {"concepts": "overfishing", "type": "concept", "cluster": "Fishing Regulations & Licensing", "node_size": 10, "label": "overfishing"}], ["commercial fishing", {"concepts": "commercial fishing", "type": "concept", "cluster": "Fishing Regulations & Licensing", "node_size": 10, "label": "commercial fishing"}], ["fisheries management", {"concepts": "fisheries management", "type": "concept", "cluster": "Fishing Regulations & Licensing", "node_size": 10, "label": "fisheries management"}], ["fish size limit", {"concepts": "fish size limit", "type": "concept", "cluster": "Fishing Regulations & Licensing", "node_size": 10, "label": "fish size limit"}], ["fishing license", {"concepts": "fishing license", "type": "concept", "cluster": "Fishing Regulations & Licensing", "node_size": 10, "label": "fishing license"}]], "Local Waterways": [["marine lab", {"concepts": "marine lab", "type": "concept", "cluster": "Local Waterways", "node_size": 10, "label": "marine lab"}], ["seagrass", {"concepts": "seagrass", "type": "concept", "cluster": "Local Waterways", "node_size": 10, "label": "seagrass"}], ["salinity", {"concepts": "salinity", "type": "concept", "cluster": "Local Waterways", "node_size": 10, "label": "salinity"}], ["fish mortality", {"concepts": "fish mortality", "type": "concept", "cluster": "Local Waterways", "node_size": 10, "label": "fish mortality"}], ["aquatic plants", {"concepts": "aquatic plants", "type": "concept", "cluster": "Local Waterways", "node_size": 10, "label": "aquatic plants"}], ["sediment runoff", {"concepts": "sediment runoff", "type": "concept", "cluster": "Local Waterways", "node_size": 10, "label": "sediment runoff"}], ["marine debris", {"concepts": "marine debris", "type": "concept", "cluster": "Local Waterways", "node_size": 10, "label": "marine debris"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Local Waterways", "node_size": 10, "label": "marine resource management"}]], "Seafood & Poultry Dishes": [["fish taste", {"concepts": "fish taste", "type": "concept", "cluster": "Seafood & Poultry Dishes", "node_size": 10, "label": "fish taste"}], ["fish tacos", {"concepts": "fish tacos", "type": "concept", "cluster": "Seafood & Poultry Dishes", "node_size": 10, "label": "fish tacos"}], ["fish nuggets", {"concepts": "fish nuggets", "type": "concept", "cluster": "Seafood & Poultry Dishes", "node_size": 10, "label": "fish nuggets"}], ["fish filleting", {"concepts": "fish filleting", "type": "concept", "cluster": "Seafood & Poultry Dishes", "node_size": 10, "label": "fish filleting"}], ["fish skinning", {"concepts": "fish skinning", "type": "concept", "cluster": "Seafood & Poultry Dishes", "node_size": 10, "label": "fish skinning"}], ["orange chicken", {"concepts": "orange chicken", "type": "concept", "cluster": "Seafood & Poultry Dishes", "node_size": 10, "label": "orange chicken"}], ["fish skin", {"concepts": "fish skin", "type": "concept", "cluster": "Seafood & Poultry Dishes", "node_size": 10, "label": "fish skin"}], ["orange chicken sauce", {"concepts": "orange chicken sauce", "type": "concept", "cluster": "Seafood & Poultry Dishes", "node_size": 10, "label": "orange chicken sauce"}], ["fish filet", {"concepts": "fish filet", "type": "concept", "cluster": "Seafood & Poultry Dishes", "node_size": 10, "label": "fish filet"}], ["fishing for food", {"concepts": "fishing for food", "type": "concept", "cluster": "Seafood & Poultry Dishes", "node_size": 10, "label": "fishing for food"}]], "Fishing Patterns": [["fishing dynamics", {"concepts": "fishing dynamics", "type": "concept", "cluster": "Fishing Patterns", "node_size": 10, "label": "fishing dynamics"}], ["patience", {"concepts": "patience", "type": "concept", "cluster": "Fishing Patterns", "node_size": 10, "label": "patience"}], ["fishing reports", {"concepts": "fishing reports", "type": "concept", "cluster": "Fishing Patterns", "node_size": 10, "label": "fishing reports"}], ["fishing patience", {"concepts": "fishing patience", "type": "concept", "cluster": "Fishing Patterns", "node_size": 10, "label": "fishing patience"}], ["fish abundance", {"concepts": "fish abundance", "type": "concept", "cluster": "Fishing Patterns", "node_size": 10, "label": "fish abundance"}]], "Social Influence": [["social norms", {"concepts": "social norms", "type": "concept", "cluster": "Social Influence", "node_size": 10, "label": "social norms"}], ["peer influence", {"concepts": "peer influence", "type": "concept", "cluster": "Social Influence", "node_size": 10, "label": "peer influence"}], ["social behavior", {"concepts": "social behavior", "type": "concept", "cluster": "Social Influence", "node_size": 10, "label": "social behavior"}]], "Environmental Issues": [["environmental concern", {"concepts": "environmental concern", "type": "concept", "cluster": "Environmental Issues", "node_size": 10, "label": "environmental concern"}], ["environmental conditions", {"concepts": "environmental conditions", "type": "concept", "cluster": "Environmental Issues", "node_size": 10, "label": "environmental conditions"}], ["environmental factors", {"concepts": "environmental factors", "type": "concept", "cluster": "Environmental Issues", "node_size": 10, "label": "environmental factors"}], ["environmental group", {"concepts": "environmental group", "type": "concept", "cluster": "Environmental Issues", "node_size": 10, "label": "environmental group"}]], "Socio-Ecological Communication": [["information sharing", {"concepts": "information sharing", "type": "concept", "cluster": "Socio-Ecological Communication", "node_size": 10, "label": "information sharing"}], ["socio-ecological system", {"concepts": "socio-ecological system", "type": "concept", "cluster": "Socio-Ecological Communication", "node_size": 10, "label": "socio-ecological system"}], ["social-ecological system", {"concepts": "social-ecological system", "type": "concept", "cluster": "Socio-Ecological Communication", "node_size": 10, "label": "social-ecological system"}], ["social science", {"concepts": "social science", "type": "concept", "cluster": "Socio-Ecological Communication", "node_size": 10, "label": "social science"}]], "Fish Population Trends": [["catch and release", {"concepts": "catch and release", "type": "concept", "cluster": "Fish Population Trends", "node_size": 10, "label": "catch and release"}], ["population increase", {"concepts": "population increase", "type": "concept", "cluster": "Fish Population Trends", "node_size": 10, "label": "population increase"}], ["population decline", {"concepts": "population decline", "type": "concept", "cluster": "Fish Population Trends", "node_size": 10, "label": "population decline"}]], "Environmental Stress Tolerance": [["hypoxia", {"concepts": "hypoxia", "type": "concept", "cluster": "Environmental Stress Tolerance", "node_size": 10, "label": "hypoxia"}], ["heat stress", {"concepts": "heat stress", "type": "concept", "cluster": "Environmental Stress Tolerance", "node_size": 10, "label": "heat stress"}], ["tolerance to cold", {"concepts": "tolerance to cold", "type": "concept", "cluster": "Environmental Stress Tolerance", "node_size": 10, "label": "tolerance to cold"}]], "Food Retail & Dining": [["grocery stores", {"concepts": "grocery stores", "type": "concept", "cluster": "Food Retail & Dining", "node_size": 10, "label": "grocery stores"}], ["restaurants", {"concepts": "restaurants", "type": "concept", "cluster": "Food Retail & Dining", "node_size": 10, "label": "restaurants"}]]};
        const clusterEdges = {"Habitat Quality": [], "Fishing & Resource Management": [], "Species & Biodiversity": [], "Regional Locations": [], "Seasonal Weather Effects": [], "Maryland Waterways": [], "Aquatic Wildlife": [], "Recreational Fishing": [], "Fishing Regulations & Licensing": [], "Local Waterways": [], "Seafood & Poultry Dishes": [], "Fishing Patterns": [], "Social Influence": [], "Environmental Issues": [], "Socio-Ecological Communication": [], "Fish Population Trends": [], "Environmental Stress Tolerance": [], "Food Retail & Dining": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
