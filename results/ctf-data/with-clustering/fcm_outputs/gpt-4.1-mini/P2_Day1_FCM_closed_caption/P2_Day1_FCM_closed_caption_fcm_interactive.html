
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization (Unconnected nodes removed)</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"security identification": {"concepts": "security identification", "concept_list": ["security identification"], "type": "cluster", "node_size": 18, "label": "security identification"}, "firmware analysis": {"concepts": "firmware analysis", "concept_list": ["firmware analysis"], "type": "cluster", "node_size": 18, "label": "firmware analysis"}, "Protection Mechanisms": {"concepts": "software security, security systems, security layers, security measures, security perspective, security information", "concept_list": ["software security", "security systems", "security layers", "security measures", "security perspective", "security information"], "type": "cluster", "node_size": 33, "label": "Protection Mechanisms"}, "Security Challenges": {"concepts": "security recovery, countersecurity activities, security obstacles, cyber attacks, security impediments", "concept_list": ["security recovery", "countersecurity activities", "security obstacles", "cyber attacks", "security impediments"], "type": "cluster", "node_size": 30, "label": "Security Challenges"}, "Firmware Security": {"concepts": "firmware software, firmware level, firmware, firmware security", "concept_list": ["firmware software", "firmware level", "firmware", "firmware security"], "type": "cluster", "node_size": 27, "label": "Firmware Security"}, "Security Concepts": {"concepts": "information translation, data understanding, legibility, knowledge repository, capability assessment, prior knowledge, beliefs, positive reinforcement, knowledge, subject matter expert, knowledge identification, intuition", "concept_list": ["information translation", "data understanding", "legibility", "knowledge repository", "capability assessment", "prior knowledge", "beliefs", "positive reinforcement", "knowledge", "subject matter expert", "knowledge identification", "intuition"], "type": "cluster", "node_size": 51, "label": "Security Concepts"}, "Interface Design": {"concepts": "system control, physical interface, interface software, communication interface, interfacing, physical requirements, physical interfacing, specific purpose interface, general purpose interface, connector types, standardized interfaces, connection", "concept_list": ["system control", "physical interface", "interface software", "communication interface", "interfacing", "physical requirements", "physical interfacing", "specific purpose interface", "general purpose interface", "connector types", "standardized interfaces", "connection"], "type": "cluster", "node_size": 51, "label": "Interface Design"}, "Tool Systems and Software": {"concepts": "bespoke tools, bespoke system, tool software, online resources, computer visualization tool, tool availability, general purpose tools, bespoke systems, physical tools, software component", "concept_list": ["bespoke tools", "bespoke system", "tool software", "online resources", "computer visualization tool", "tool availability", "general purpose tools", "bespoke systems", "physical tools", "software component"], "type": "cluster", "node_size": 45, "label": "Tool Systems and Software"}, "Problem-Solving Process": {"concepts": "decisions, problem-solution, iterative process, problem-solving, task diagramming, problem-solving strategies, process factors, functionality of interest, interaction effects, failure, success factors", "concept_list": ["decisions", "problem-solution", "iterative process", "problem-solving", "task diagramming", "problem-solving strategies", "process factors", "functionality of interest", "interaction effects", "failure", "success factors"], "type": "cluster", "node_size": 48, "label": "Problem-Solving Process"}, "Exploitation Techniques": {"concepts": "exploitation avenues, software exploitation, exploitation strategies, exploit components, exploitation, pivoting strategies, exploit enablement, exploit primitives, hardware exploitation, exploitation identification, full exploit", "concept_list": ["exploitation avenues", "software exploitation", "exploitation strategies", "exploit components", "exploitation", "pivoting strategies", "exploit enablement", "exploit primitives", "hardware exploitation", "exploitation identification", "full exploit"], "type": "cluster", "node_size": 48, "label": "Exploitation Techniques"}, "Access Challenges": {"concepts": "file read primitive, access failure, access levels, access enablement, full access, failure to obtain access, undocumented systems, partial access, complete failure, negative hindrance, impediments to success, obtaining access, hardware access, failure factors, partial failure, failure", "concept_list": ["file read primitive", "access failure", "access levels", "access enablement", "full access", "failure to obtain access", "undocumented systems", "partial access", "complete failure", "negative hindrance", "impediments to success", "obtaining access", "hardware access", "failure factors", "partial failure", "failure"], "type": "cluster", "node_size": 63, "label": "Access Challenges"}, "Data Protocols & Documentation": {"concepts": "hardware labels, data protocol, data decoding, connection protocols, documentation, data availability, protocol decoding, data sheets, data sheet", "concept_list": ["hardware labels", "data protocol", "data decoding", "connection protocols", "documentation", "data availability", "protocol decoding", "data sheets", "data sheet"], "type": "cluster", "node_size": 42, "label": "Data Protocols & Documentation"}, "Software Development Concepts": {"concepts": "programming languages, software features, software, functionality interest, software environment, software libraries, software level, software factors, software component", "concept_list": ["programming languages", "software features", "software", "functionality interest", "software environment", "software libraries", "software level", "software factors", "software component"], "type": "cluster", "node_size": 42, "label": "Software Development Concepts"}, "System Component Identification": {"concepts": "matrix layout, identification process, subcomponents identification, subcomponents, subcomponent identification, connection, system primitives", "concept_list": ["matrix layout", "identification process", "subcomponents identification", "subcomponents", "subcomponent identification", "connection", "system primitives"], "type": "cluster", "node_size": 36, "label": "System Component Identification"}, "Access and Reverse Engineering": {"concepts": "reverse engineering, undocumented systems, obtaining primitives, data gathering, obtaining access, testing device, capture the flag, challenge scenarios, access goals", "concept_list": ["reverse engineering", "undocumented systems", "obtaining primitives", "data gathering", "obtaining access", "testing device", "capture the flag", "challenge scenarios", "access goals"], "type": "cluster", "node_size": 42, "label": "Access and Reverse Engineering"}, "Technical and Financial Essentials": {"concepts": "power filtering, soldering, fiscal requirements, internet connectivity, access success, key items", "concept_list": ["power filtering", "soldering", "fiscal requirements", "internet connectivity", "access success", "key items"], "type": "cluster", "node_size": 33, "label": "Technical and Financial Essentials"}, "System Insight Analysis": {"concepts": "component analysis, environment analysis, system understanding, knowledge identification, functionality of interest, privileged access, success factors", "concept_list": ["component analysis", "environment analysis", "system understanding", "knowledge identification", "functionality of interest", "privileged access", "success factors"], "type": "cluster", "node_size": 36, "label": "System Insight Analysis"}, "Cognitive Interaction Modeling": {"concepts": "fuzzy cognitive map, directed graph, interaction effects", "concept_list": ["fuzzy cognitive map", "directed graph", "interaction effects"], "type": "cluster", "node_size": 24, "label": "Cognitive Interaction Modeling"}, "Data Security Failures": {"concepts": "encryption, data impediment, mislabeling, complete failure, negative hindrance, impediments to success, failure", "concept_list": ["encryption", "data impediment", "mislabeling", "complete failure", "negative hindrance", "impediments to success", "failure"], "type": "cluster", "node_size": 36, "label": "Data Security Failures"}, "Success Strategies": {"concepts": "success, undocumented systems, positive reinforcement, intuition", "concept_list": ["success", "undocumented systems", "positive reinforcement", "intuition"], "type": "cluster", "node_size": 27, "label": "Success Strategies"}, "Data Access & Prioritization": {"concepts": "data collection, data access, non-functional interest, goal prioritization, functional interest, access, access control", "concept_list": ["data collection", "data access", "non-functional interest", "goal prioritization", "functional interest", "access", "access control"], "type": "cluster", "node_size": 36, "label": "Data Access & Prioritization"}};
        const conceptData = {};
        const interClusterEdges = [["security identification", "Data Access & Prioritization", {"weight": 1.0, "confidence": 0.8300000000000001, "type": "inter_cluster", "style": "solid"}], ["security identification", "Protection Mechanisms", {"weight": 1.0, "confidence": 0.8624999999999999, "type": "inter_cluster", "style": "solid"}], ["Protection Mechanisms", "Firmware Security", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Security Challenges", "Access Challenges", {"weight": -0.5, "confidence": 0.8125, "type": "inter_cluster", "style": "solid"}], ["Security Challenges", "Exploitation Techniques", {"weight": -0.3333333333333333, "confidence": 0.8166666666666668, "type": "inter_cluster", "style": "solid"}], ["Security Challenges", "Data Access & Prioritization", {"weight": -0.3333333333333333, "confidence": 0.8166666666666668, "type": "inter_cluster", "style": "solid"}], ["Firmware Security", "firmware analysis", {"weight": 1.0, "confidence": 0.8800000000000001, "type": "inter_cluster", "style": "solid"}], ["Firmware Security", "Access Challenges", {"weight": 0.3333333333333333, "confidence": 0.7999999999999999, "type": "inter_cluster", "style": "solid"}], ["Firmware Security", "Protection Mechanisms", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Security Concepts", "Data Access & Prioritization", {"weight": 1.0, "confidence": 0.8250000000000001, "type": "inter_cluster", "style": "solid"}], ["Security Concepts", "System Component Identification", {"weight": 1.0, "confidence": 0.8333333333333334, "type": "inter_cluster", "style": "solid"}], ["Security Concepts", "security identification", {"weight": 1.0, "confidence": 0.7999999999999999, "type": "inter_cluster", "style": "solid"}], ["Security Concepts", "Interface Design", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Interface Design", "Data Security Failures", {"weight": -1.0, "confidence": 0.7875, "type": "inter_cluster", "style": "solid"}], ["Interface Design", "Success Strategies", {"weight": 1.0, "confidence": 0.7124999999999999, "type": "inter_cluster", "style": "solid"}], ["Interface Design", "Technical and Financial Essentials", {"weight": 0.75, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Interface Design", "Firmware Security", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Interface Design", "firmware analysis", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Tool Systems and Software", "Exploitation Techniques", {"weight": 1.0, "confidence": 0.7375, "type": "inter_cluster", "style": "solid"}], ["Tool Systems and Software", "Security Concepts", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Tool Systems and Software", "Problem-Solving Process", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Tool Systems and Software", "firmware analysis", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Problem-Solving Process", "Security Challenges", {"weight": 0.75, "confidence": 0.525, "type": "inter_cluster", "style": "solid"}], ["Exploitation Techniques", "Firmware Security", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Exploitation Techniques", "System Insight Analysis", {"weight": 1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["Exploitation Techniques", "System Component Identification", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Exploitation Techniques", "security identification", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Access Challenges", "Data Protocols & Documentation", {"weight": 0.5, "confidence": 0.7999999999999999, "type": "inter_cluster", "style": "solid"}], ["Access Challenges", "Firmware Security", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Data Protocols & Documentation", "Tool Systems and Software", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Data Protocols & Documentation", "Success Strategies", {"weight": 1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Data Protocols & Documentation", "Software Development Concepts", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Software Development Concepts", "security identification", {"weight": 1.0, "confidence": 0.7333333333333334, "type": "inter_cluster", "style": "solid"}], ["Software Development Concepts", "Interface Design", {"weight": 0.6666666666666666, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["Software Development Concepts", "Tool Systems and Software", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["System Component Identification", "Access and Reverse Engineering", {"weight": 1.0, "confidence": 0.8750000000000001, "type": "inter_cluster", "style": "solid"}], ["System Component Identification", "Exploitation Techniques", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["System Component Identification", "System Insight Analysis", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Access and Reverse Engineering", "Data Protocols & Documentation", {"weight": 1.0, "confidence": 0.8374999999999999, "type": "inter_cluster", "style": "solid"}], ["Access and Reverse Engineering", "Success Strategies", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Access and Reverse Engineering", "Software Development Concepts", {"weight": 1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Access and Reverse Engineering", "Protection Mechanisms", {"weight": 0.5, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Technical and Financial Essentials", "Problem-Solving Process", {"weight": 1.0, "confidence": 0.7250000000000001, "type": "inter_cluster", "style": "solid"}], ["Technical and Financial Essentials", "Interface Design", {"weight": 0.75, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["System Insight Analysis", "Exploitation Techniques", {"weight": 1.0, "confidence": 0.8500000000000001, "type": "inter_cluster", "style": "solid"}], ["System Insight Analysis", "Protection Mechanisms", {"weight": 0.3333333333333333, "confidence": 0.7999999999999999, "type": "inter_cluster", "style": "solid"}], ["System Insight Analysis", "Access Challenges", {"weight": 1.0, "confidence": 0.8333333333333334, "type": "inter_cluster", "style": "solid"}], ["Cognitive Interaction Modeling", "System Component Identification", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Data Security Failures", "Exploitation Techniques", {"weight": -1.0, "confidence": 0.8700000000000001, "type": "inter_cluster", "style": "solid"}], ["Data Security Failures", "security identification", {"weight": -1.0, "confidence": 0.82, "type": "inter_cluster", "style": "solid"}], ["Data Security Failures", "System Insight Analysis", {"weight": -1.0, "confidence": 0.7625, "type": "inter_cluster", "style": "solid"}], ["Data Security Failures", "Security Concepts", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Success Strategies", "System Insight Analysis", {"weight": 1.0, "confidence": 0.7999999999999999, "type": "inter_cluster", "style": "solid"}], ["Success Strategies", "Tool Systems and Software", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["Data Access & Prioritization", "security identification", {"weight": 1.0, "confidence": 0.7899999999999999, "type": "inter_cluster", "style": "solid"}], ["Data Access & Prioritization", "Data Security Failures", {"weight": -0.5, "confidence": 0.8375, "type": "inter_cluster", "style": "solid"}], ["Data Access & Prioritization", "Access Challenges", {"weight": 1.0, "confidence": 0.8375, "type": "inter_cluster", "style": "solid"}], ["Data Access & Prioritization", "Firmware Security", {"weight": 1.0, "confidence": 0.7666666666666666, "type": "inter_cluster", "style": "solid"}], ["Data Access & Prioritization", "firmware analysis", {"weight": 1.0, "confidence": 0.7666666666666666, "type": "inter_cluster", "style": "solid"}], ["Data Access & Prioritization", "System Insight Analysis", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Data Access & Prioritization", "Tool Systems and Software", {"weight": 0.6666666666666666, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {};
        const clusterEdges = {"Protection Mechanisms": [], "Security Challenges": [], "Firmware Security": [], "Security Concepts": [], "Interface Design": [], "Tool Systems and Software": [], "Problem-Solving Process": [], "Exploitation Techniques": [], "Access Challenges": [], "Data Protocols & Documentation": [], "Software Development Concepts": [], "System Component Identification": [], "Access and Reverse Engineering": [], "Technical and Financial Essentials": [], "System Insight Analysis": [], "Cognitive Interaction Modeling": [], "Data Security Failures": [], "Success Strategies": [], "Data Access & Prioritization": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
