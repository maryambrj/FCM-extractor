
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Management Strategies": {"concepts": "dredge oil, coastal management, marsh migration corridors, coastal community, oyster farmers, marsh loss, coastal ecosystems, coastal zone, wetland ecology, northern gulf of mexico, marine resource management, marsh accretion, coastal biodiversity, barrier ponding, high marsh, salt marsh sparrow, shorebirds, salt marsh birds, low marsh, interior ponding, dredge soil creation", "concept_list": ["dredge oil", "coastal management", "marsh migration corridors", "coastal community", "oyster farmers", "marsh loss", "coastal ecosystems", "coastal zone", "wetland ecology", "northern gulf of mexico", "marine resource management", "marsh accretion", "coastal biodiversity", "barrier ponding", "high marsh", "salt marsh sparrow", "shorebirds", "salt marsh birds", "low marsh", "interior ponding", "dredge soil creation"], "type": "cluster", "node_size": 78, "label": "Management Strategies"}, "Climate Adaptation": {"concepts": "management activities, weights, economists, knowledge frameworks, selective force, permitting, northeastern university, management team, measurement methods, resource users, serc, academics, the nature conservancy, stemborer, community members, legacy effects, postdoctoral researchers, flooding, epa, management interventions, collaboration, conceptual frameworks, monitoring, system perception, easements, regulatory power, expert interviews, chesapeake bay program, runneling, variables, management approaches, thin layer deposition, organizational processes, mental models, phragmites, management components, framework development, crabs, disturbance, ditching, drainage, incentive structures, marsh creation, livelihood, case studies, educational methods, managers, effectiveness, restoration, adaptive potential, access equity, decision making, management, steering committee, system dynamics, stakeholders, behavior change, chesapeake bay, technical experts, mental modeling, research institutions, researchers, noaa, management effectiveness, private property rights, tradeoffs, drowning, knowledge capturing, regional managers, homeowners, conservation", "concept_list": ["management activities", "weights", "economists", "knowledge frameworks", "selective force", "permitting", "northeastern university", "management team", "measurement methods", "resource users", "serc", "academics", "the nature conservancy", "stemborer", "community members", "legacy effects", "postdoctoral researchers", "flooding", "epa", "management interventions", "collaboration", "conceptual frameworks", "monitoring", "system perception", "easements", "regulatory power", "expert interviews", "chesapeake bay program", "runneling", "variables", "management approaches", "thin layer deposition", "organizational processes", "mental models", "phragmites", "management components", "framework development", "crabs", "disturbance", "ditching", "drainage", "incentive structures", "marsh creation", "livelihood", "case studies", "educational methods", "managers", "effectiveness", "restoration", "adaptive potential", "access equity", "decision making", "management", "steering committee", "system dynamics", "stakeholders", "behavior change", "chesapeake bay", "technical experts", "mental modeling", "research institutions", "researchers", "noaa", "management effectiveness", "private property rights", "tradeoffs", "drowning", "knowledge capturing", "regional managers", "homeowners", "conservation"], "type": "cluster", "node_size": 228, "label": "Climate Adaptation"}, "Hydrology & Water Quality": {"concepts": "watermen, high elevation, tnc land, seed mixes, sea level rise, tidal creek extension, tourism operators, herbicide, climate change, invertebrates, population genetics, watershed, marine biodiversity, salish sea, salinity, tidal marsh loss, prescribed burning, intertidal zone, new jersey coast, waffle marshes, sparrows, ghost forests, global change, intertidal marshes, plant assembly, tidal marshes, landscape scale, planting", "concept_list": ["watermen", "high elevation", "tnc land", "seed mixes", "sea level rise", "tidal creek extension", "tourism operators", "herbicide", "climate change", "invertebrates", "population genetics", "watershed", "marine biodiversity", "salish sea", "salinity", "tidal marsh loss", "prescribed burning", "intertidal zone", "new jersey coast", "waffle marshes", "sparrows", "ghost forests", "global change", "intertidal marshes", "plant assembly", "tidal marshes", "landscape scale", "planting"], "type": "cluster", "node_size": 99, "label": "Hydrology & Water Quality"}, "Farmland Restoration": {"concepts": "hydrologic connectivity, water quality management, eutrophication, saltwater intrusion, saltwater intrusion report, hydrology, fishermen", "concept_list": ["hydrologic connectivity", "water quality management", "eutrophication", "saltwater intrusion", "saltwater intrusion report", "hydrology", "fishermen"], "type": "cluster", "node_size": 36, "label": "Farmland Restoration"}, "Coastal Marsh Ecology": {"concepts": "farmland abandonment, restoration planting, land management, agricultural management, farmland, land acquisition, land abandonment, restoration projects", "concept_list": ["farmland abandonment", "restoration planting", "land management", "agricultural management", "farmland", "land acquisition", "land abandonment", "restoration projects"], "type": "cluster", "node_size": 39, "label": "Coastal Marsh Ecology"}, "Biodiversity Types": {"concepts": "biodiversity, species biodiversity, species diversity, population genetic diversity", "concept_list": ["biodiversity", "species biodiversity", "species diversity", "population genetic diversity"], "type": "cluster", "node_size": 27, "label": "Biodiversity Types"}, "Conservation Priorities": {"concepts": "biodiversity preservation, endangered species, conservation concern, rare species", "concept_list": ["biodiversity preservation", "endangered species", "conservation concern", "rare species"], "type": "cluster", "node_size": 27, "label": "Conservation Priorities"}, "Species Interactions": {"concepts": "associated organisms, harmful organisms, invasive species, invasive species control, native species", "concept_list": ["associated organisms", "harmful organisms", "invasive species", "invasive species control", "native species"], "type": "cluster", "node_size": 30, "label": "Species Interactions"}, "Environmental Stressors": {"concepts": "physiological stressors, climate change stressors, environmental stressors", "concept_list": ["physiological stressors", "climate change stressors", "environmental stressors"], "type": "cluster", "node_size": 24, "label": "Environmental Stressors"}, "Stress Responses": {"concepts": "stress, stressors, stress response", "concept_list": ["stress", "stressors", "stress response"], "type": "cluster", "node_size": 24, "label": "Stress Responses"}, "Ecosystem Services": {"concepts": "ecosystem services, ecosystems", "concept_list": ["ecosystem services", "ecosystems"], "type": "cluster", "node_size": 21, "label": "Ecosystem Services"}, "Food Webs": {"concepts": "food-web species, food-web, food web, interaction webs", "concept_list": ["food-web species", "food-web", "food web", "interaction webs"], "type": "cluster", "node_size": 27, "label": "Food Webs"}, "Key Producers": {"concepts": "primary producers, ecosystem engineers", "concept_list": ["primary producers", "ecosystem engineers"], "type": "cluster", "node_size": 21, "label": "Key Producers"}, "Social-Ecological Systems": {"concepts": "social-ecological systems, community ecology, social ecology, ecological definition, environmental research, smithsonian environmental research center", "concept_list": ["social-ecological systems", "community ecology", "social ecology", "ecological definition", "environmental research", "smithsonian environmental research center"], "type": "cluster", "node_size": 33, "label": "Social-Ecological Systems"}, "Habitat Formation": {"concepts": "future habitat, habitat forming species, plant communities, habitat", "concept_list": ["future habitat", "habitat forming species", "plant communities", "habitat"], "type": "cluster", "node_size": 27, "label": "Habitat Formation"}, "Habitat Loss": {"concepts": "nest flooding, forest mortality, habitat loss", "concept_list": ["nest flooding", "forest mortality", "habitat loss"], "type": "cluster", "node_size": 24, "label": "Habitat Loss"}};
        const conceptData = {"dredge oil": {"concepts": "dredge oil", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "dredge oil"}, "coastal management": {"concepts": "coastal management", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "coastal management"}, "marsh migration corridors": {"concepts": "marsh migration corridors", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "marsh migration corridors"}, "coastal community": {"concepts": "coastal community", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "coastal community"}, "oyster farmers": {"concepts": "oyster farmers", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "oyster farmers"}, "marsh loss": {"concepts": "marsh loss", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "marsh loss"}, "coastal ecosystems": {"concepts": "coastal ecosystems", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "coastal ecosystems"}, "coastal zone": {"concepts": "coastal zone", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "coastal zone"}, "wetland ecology": {"concepts": "wetland ecology", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "wetland ecology"}, "northern gulf of mexico": {"concepts": "northern gulf of mexico", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "northern gulf of mexico"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "marine resource management"}, "marsh accretion": {"concepts": "marsh accretion", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "marsh accretion"}, "coastal biodiversity": {"concepts": "coastal biodiversity", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "coastal biodiversity"}, "barrier ponding": {"concepts": "barrier ponding", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "barrier ponding"}, "high marsh": {"concepts": "high marsh", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "high marsh"}, "salt marsh sparrow": {"concepts": "salt marsh sparrow", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "salt marsh sparrow"}, "shorebirds": {"concepts": "shorebirds", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "shorebirds"}, "salt marsh birds": {"concepts": "salt marsh birds", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "salt marsh birds"}, "low marsh": {"concepts": "low marsh", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "low marsh"}, "interior ponding": {"concepts": "interior ponding", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "interior ponding"}, "dredge soil creation": {"concepts": "dredge soil creation", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "dredge soil creation"}, "management activities": {"concepts": "management activities", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "management activities"}, "weights": {"concepts": "weights", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "weights"}, "economists": {"concepts": "economists", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "economists"}, "knowledge frameworks": {"concepts": "knowledge frameworks", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "knowledge frameworks"}, "selective force": {"concepts": "selective force", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "selective force"}, "permitting": {"concepts": "permitting", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "permitting"}, "northeastern university": {"concepts": "northeastern university", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "northeastern university"}, "management team": {"concepts": "management team", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "management team"}, "measurement methods": {"concepts": "measurement methods", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "measurement methods"}, "resource users": {"concepts": "resource users", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "resource users"}, "serc": {"concepts": "serc", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "serc"}, "academics": {"concepts": "academics", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "academics"}, "the nature conservancy": {"concepts": "the nature conservancy", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "the nature conservancy"}, "stemborer": {"concepts": "stemborer", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "stemborer"}, "community members": {"concepts": "community members", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "community members"}, "legacy effects": {"concepts": "legacy effects", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "legacy effects"}, "postdoctoral researchers": {"concepts": "postdoctoral researchers", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "postdoctoral researchers"}, "flooding": {"concepts": "flooding", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "flooding"}, "epa": {"concepts": "epa", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "epa"}, "management interventions": {"concepts": "management interventions", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "management interventions"}, "collaboration": {"concepts": "collaboration", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "collaboration"}, "conceptual frameworks": {"concepts": "conceptual frameworks", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "conceptual frameworks"}, "monitoring": {"concepts": "monitoring", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "monitoring"}, "system perception": {"concepts": "system perception", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "system perception"}, "easements": {"concepts": "easements", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "easements"}, "regulatory power": {"concepts": "regulatory power", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "regulatory power"}, "expert interviews": {"concepts": "expert interviews", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "expert interviews"}, "chesapeake bay program": {"concepts": "chesapeake bay program", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "chesapeake bay program"}, "runneling": {"concepts": "runneling", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "runneling"}, "variables": {"concepts": "variables", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "variables"}, "management approaches": {"concepts": "management approaches", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "management approaches"}, "thin layer deposition": {"concepts": "thin layer deposition", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "thin layer deposition"}, "organizational processes": {"concepts": "organizational processes", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "organizational processes"}, "mental models": {"concepts": "mental models", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "mental models"}, "phragmites": {"concepts": "phragmites", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "phragmites"}, "management components": {"concepts": "management components", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "management components"}, "framework development": {"concepts": "framework development", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "framework development"}, "crabs": {"concepts": "crabs", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "crabs"}, "disturbance": {"concepts": "disturbance", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "disturbance"}, "ditching": {"concepts": "ditching", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "ditching"}, "drainage": {"concepts": "drainage", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "drainage"}, "incentive structures": {"concepts": "incentive structures", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "incentive structures"}, "marsh creation": {"concepts": "marsh creation", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "marsh creation"}, "livelihood": {"concepts": "livelihood", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "livelihood"}, "case studies": {"concepts": "case studies", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "case studies"}, "educational methods": {"concepts": "educational methods", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "educational methods"}, "managers": {"concepts": "managers", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "managers"}, "effectiveness": {"concepts": "effectiveness", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "effectiveness"}, "restoration": {"concepts": "restoration", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "restoration"}, "adaptive potential": {"concepts": "adaptive potential", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "adaptive potential"}, "access equity": {"concepts": "access equity", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "access equity"}, "decision making": {"concepts": "decision making", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "decision making"}, "management": {"concepts": "management", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "management"}, "steering committee": {"concepts": "steering committee", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "steering committee"}, "system dynamics": {"concepts": "system dynamics", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "system dynamics"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "stakeholders"}, "behavior change": {"concepts": "behavior change", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "behavior change"}, "chesapeake bay": {"concepts": "chesapeake bay", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "chesapeake bay"}, "technical experts": {"concepts": "technical experts", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "technical experts"}, "mental modeling": {"concepts": "mental modeling", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "mental modeling"}, "research institutions": {"concepts": "research institutions", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "research institutions"}, "researchers": {"concepts": "researchers", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "researchers"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "noaa"}, "management effectiveness": {"concepts": "management effectiveness", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "management effectiveness"}, "private property rights": {"concepts": "private property rights", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "private property rights"}, "tradeoffs": {"concepts": "tradeoffs", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "tradeoffs"}, "drowning": {"concepts": "drowning", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "drowning"}, "knowledge capturing": {"concepts": "knowledge capturing", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "knowledge capturing"}, "regional managers": {"concepts": "regional managers", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "regional managers"}, "homeowners": {"concepts": "homeowners", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "homeowners"}, "conservation": {"concepts": "conservation", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "conservation"}, "watermen": {"concepts": "watermen", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "watermen"}, "high elevation": {"concepts": "high elevation", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "high elevation"}, "tnc land": {"concepts": "tnc land", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "tnc land"}, "seed mixes": {"concepts": "seed mixes", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "seed mixes"}, "sea level rise": {"concepts": "sea level rise", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "sea level rise"}, "tidal creek extension": {"concepts": "tidal creek extension", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "tidal creek extension"}, "tourism operators": {"concepts": "tourism operators", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "tourism operators"}, "herbicide": {"concepts": "herbicide", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "herbicide"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "climate change"}, "invertebrates": {"concepts": "invertebrates", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "invertebrates"}, "population genetics": {"concepts": "population genetics", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "population genetics"}, "watershed": {"concepts": "watershed", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "watershed"}, "marine biodiversity": {"concepts": "marine biodiversity", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "marine biodiversity"}, "salish sea": {"concepts": "salish sea", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "salish sea"}, "salinity": {"concepts": "salinity", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "salinity"}, "tidal marsh loss": {"concepts": "tidal marsh loss", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "tidal marsh loss"}, "prescribed burning": {"concepts": "prescribed burning", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "prescribed burning"}, "intertidal zone": {"concepts": "intertidal zone", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "intertidal zone"}, "new jersey coast": {"concepts": "new jersey coast", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "new jersey coast"}, "waffle marshes": {"concepts": "waffle marshes", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "waffle marshes"}, "sparrows": {"concepts": "sparrows", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "sparrows"}, "ghost forests": {"concepts": "ghost forests", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "ghost forests"}, "global change": {"concepts": "global change", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "global change"}, "intertidal marshes": {"concepts": "intertidal marshes", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "intertidal marshes"}, "plant assembly": {"concepts": "plant assembly", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "plant assembly"}, "tidal marshes": {"concepts": "tidal marshes", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "tidal marshes"}, "landscape scale": {"concepts": "landscape scale", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "landscape scale"}, "planting": {"concepts": "planting", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "planting"}, "hydrologic connectivity": {"concepts": "hydrologic connectivity", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "hydrologic connectivity"}, "water quality management": {"concepts": "water quality management", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "water quality management"}, "eutrophication": {"concepts": "eutrophication", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "eutrophication"}, "saltwater intrusion": {"concepts": "saltwater intrusion", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "saltwater intrusion"}, "saltwater intrusion report": {"concepts": "saltwater intrusion report", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "saltwater intrusion report"}, "hydrology": {"concepts": "hydrology", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "hydrology"}, "fishermen": {"concepts": "fishermen", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "fishermen"}, "farmland abandonment": {"concepts": "farmland abandonment", "type": "concept", "cluster": "Coastal Marsh Ecology", "node_size": 10, "label": "farmland abandonment"}, "restoration planting": {"concepts": "restoration planting", "type": "concept", "cluster": "Coastal Marsh Ecology", "node_size": 10, "label": "restoration planting"}, "land management": {"concepts": "land management", "type": "concept", "cluster": "Coastal Marsh Ecology", "node_size": 10, "label": "land management"}, "agricultural management": {"concepts": "agricultural management", "type": "concept", "cluster": "Coastal Marsh Ecology", "node_size": 10, "label": "agricultural management"}, "farmland": {"concepts": "farmland", "type": "concept", "cluster": "Coastal Marsh Ecology", "node_size": 10, "label": "farmland"}, "land acquisition": {"concepts": "land acquisition", "type": "concept", "cluster": "Coastal Marsh Ecology", "node_size": 10, "label": "land acquisition"}, "land abandonment": {"concepts": "land abandonment", "type": "concept", "cluster": "Coastal Marsh Ecology", "node_size": 10, "label": "land abandonment"}, "restoration projects": {"concepts": "restoration projects", "type": "concept", "cluster": "Coastal Marsh Ecology", "node_size": 10, "label": "restoration projects"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Biodiversity Types", "node_size": 10, "label": "biodiversity"}, "species biodiversity": {"concepts": "species biodiversity", "type": "concept", "cluster": "Biodiversity Types", "node_size": 10, "label": "species biodiversity"}, "species diversity": {"concepts": "species diversity", "type": "concept", "cluster": "Biodiversity Types", "node_size": 10, "label": "species diversity"}, "population genetic diversity": {"concepts": "population genetic diversity", "type": "concept", "cluster": "Biodiversity Types", "node_size": 10, "label": "population genetic diversity"}, "biodiversity preservation": {"concepts": "biodiversity preservation", "type": "concept", "cluster": "Conservation Priorities", "node_size": 10, "label": "biodiversity preservation"}, "endangered species": {"concepts": "endangered species", "type": "concept", "cluster": "Conservation Priorities", "node_size": 10, "label": "endangered species"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Conservation Priorities", "node_size": 10, "label": "conservation concern"}, "rare species": {"concepts": "rare species", "type": "concept", "cluster": "Conservation Priorities", "node_size": 10, "label": "rare species"}, "associated organisms": {"concepts": "associated organisms", "type": "concept", "cluster": "Species Interactions", "node_size": 10, "label": "associated organisms"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Species Interactions", "node_size": 10, "label": "harmful organisms"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Species Interactions", "node_size": 10, "label": "invasive species"}, "invasive species control": {"concepts": "invasive species control", "type": "concept", "cluster": "Species Interactions", "node_size": 10, "label": "invasive species control"}, "native species": {"concepts": "native species", "type": "concept", "cluster": "Species Interactions", "node_size": 10, "label": "native species"}, "physiological stressors": {"concepts": "physiological stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "physiological stressors"}, "climate change stressors": {"concepts": "climate change stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "climate change stressors"}, "environmental stressors": {"concepts": "environmental stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "environmental stressors"}, "stress": {"concepts": "stress", "type": "concept", "cluster": "Stress Responses", "node_size": 10, "label": "stress"}, "stressors": {"concepts": "stressors", "type": "concept", "cluster": "Stress Responses", "node_size": 10, "label": "stressors"}, "stress response": {"concepts": "stress response", "type": "concept", "cluster": "Stress Responses", "node_size": 10, "label": "stress response"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "ecosystem services"}, "ecosystems": {"concepts": "ecosystems", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "ecosystems"}, "food-web species": {"concepts": "food-web species", "type": "concept", "cluster": "Food Webs", "node_size": 10, "label": "food-web species"}, "food-web": {"concepts": "food-web", "type": "concept", "cluster": "Food Webs", "node_size": 10, "label": "food-web"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Food Webs", "node_size": 10, "label": "food web"}, "interaction webs": {"concepts": "interaction webs", "type": "concept", "cluster": "Food Webs", "node_size": 10, "label": "interaction webs"}, "primary producers": {"concepts": "primary producers", "type": "concept", "cluster": "Key Producers", "node_size": 10, "label": "primary producers"}, "ecosystem engineers": {"concepts": "ecosystem engineers", "type": "concept", "cluster": "Key Producers", "node_size": 10, "label": "ecosystem engineers"}, "social-ecological systems": {"concepts": "social-ecological systems", "type": "concept", "cluster": "Social-Ecological Systems", "node_size": 10, "label": "social-ecological systems"}, "community ecology": {"concepts": "community ecology", "type": "concept", "cluster": "Social-Ecological Systems", "node_size": 10, "label": "community ecology"}, "social ecology": {"concepts": "social ecology", "type": "concept", "cluster": "Social-Ecological Systems", "node_size": 10, "label": "social ecology"}, "ecological definition": {"concepts": "ecological definition", "type": "concept", "cluster": "Social-Ecological Systems", "node_size": 10, "label": "ecological definition"}, "environmental research": {"concepts": "environmental research", "type": "concept", "cluster": "Social-Ecological Systems", "node_size": 10, "label": "environmental research"}, "smithsonian environmental research center": {"concepts": "smithsonian environmental research center", "type": "concept", "cluster": "Social-Ecological Systems", "node_size": 10, "label": "smithsonian environmental research center"}, "future habitat": {"concepts": "future habitat", "type": "concept", "cluster": "Habitat Formation", "node_size": 10, "label": "future habitat"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Habitat Formation", "node_size": 10, "label": "habitat forming species"}, "plant communities": {"concepts": "plant communities", "type": "concept", "cluster": "Habitat Formation", "node_size": 10, "label": "plant communities"}, "habitat": {"concepts": "habitat", "type": "concept", "cluster": "Habitat Formation", "node_size": 10, "label": "habitat"}, "nest flooding": {"concepts": "nest flooding", "type": "concept", "cluster": "Habitat Loss", "node_size": 10, "label": "nest flooding"}, "forest mortality": {"concepts": "forest mortality", "type": "concept", "cluster": "Habitat Loss", "node_size": 10, "label": "forest mortality"}, "habitat loss": {"concepts": "habitat loss", "type": "concept", "cluster": "Habitat Loss", "node_size": 10, "label": "habitat loss"}};
        const interClusterEdges = [["Management Strategies", "Conservation Priorities", {"weight": 0.8, "confidence": 0.71, "type": "inter_cluster", "style": "solid"}], ["Management Strategies", "Food Webs", {"weight": 0.75, "confidence": 0.6375, "type": "inter_cluster", "style": "solid"}], ["Management Strategies", "Habitat Loss", {"weight": -0.75, "confidence": 0.6375, "type": "inter_cluster", "style": "solid"}], ["Management Strategies", "Coastal Marsh Ecology", {"weight": 0.6666666666666666, "confidence": 0.5333333333333333, "type": "inter_cluster", "style": "solid"}], ["Climate Adaptation", "Conservation Priorities", {"weight": 0.6, "confidence": 0.89, "type": "inter_cluster", "style": "solid"}], ["Climate Adaptation", "Species Interactions", {"weight": -0.5, "confidence": 0.8875, "type": "inter_cluster", "style": "solid"}], ["Climate Adaptation", "Habitat Formation", {"weight": 0.8, "confidence": 0.71, "type": "inter_cluster", "style": "solid"}], ["Climate Adaptation", "Coastal Marsh Ecology", {"weight": 1.0, "confidence": 0.8250000000000001, "type": "inter_cluster", "style": "solid"}], ["Climate Adaptation", "Biodiversity Types", {"weight": 0.6, "confidence": 0.5599999999999999, "type": "inter_cluster", "style": "solid"}], ["Climate Adaptation", "Social-Ecological Systems", {"weight": 0.5, "confidence": 0.3375, "type": "inter_cluster", "style": "solid"}], ["Hydrology & Water Quality", "Ecosystem Services", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Farmland Restoration", "Ecosystem Services", {"weight": 0.8, "confidence": 0.66, "type": "inter_cluster", "style": "solid"}], ["Farmland Restoration", "Stress Responses", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Farmland Restoration", "Coastal Marsh Ecology", {"weight": 0.4, "confidence": 0.5800000000000001, "type": "inter_cluster", "style": "solid"}], ["Farmland Restoration", "Species Interactions", {"weight": 1.0, "confidence": 0.7166666666666667, "type": "inter_cluster", "style": "solid"}], ["Farmland Restoration", "Management Strategies", {"weight": 1.0, "confidence": 0.6499999999999999, "type": "inter_cluster", "style": "solid"}], ["Coastal Marsh Ecology", "Ecosystem Services", {"weight": 1.0, "confidence": 0.76, "type": "inter_cluster", "style": "solid"}], ["Coastal Marsh Ecology", "Species Interactions", {"weight": 1.0, "confidence": 0.72, "type": "inter_cluster", "style": "solid"}], ["Coastal Marsh Ecology", "Climate Adaptation", {"weight": 0.8, "confidence": 0.5399999999999999, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Types", "Social-Ecological Systems", {"weight": 1.0, "confidence": 0.64, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Types", "Food Webs", {"weight": 1.0, "confidence": 0.8500000000000001, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Types", "Stress Responses", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Conservation Priorities", "Biodiversity Types", {"weight": 1.0, "confidence": 0.8399999999999999, "type": "inter_cluster", "style": "solid"}], ["Conservation Priorities", "Habitat Loss", {"weight": -0.5, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Conservation Priorities", "Climate Adaptation", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Species Interactions", "Biodiversity Types", {"weight": -0.8, "confidence": 0.76, "type": "inter_cluster", "style": "solid"}], ["Species Interactions", "Habitat Formation", {"weight": -0.75, "confidence": 0.675, "type": "inter_cluster", "style": "solid"}], ["Species Interactions", "Food Webs", {"weight": -1.0, "confidence": 0.875, "type": "inter_cluster", "style": "solid"}], ["Species Interactions", "Management Strategies", {"weight": -1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Environmental Stressors", "Habitat Loss", {"weight": 1.0, "confidence": 0.9100000000000001, "type": "inter_cluster", "style": "solid"}], ["Environmental Stressors", "Habitat Formation", {"weight": -1.0, "confidence": 0.8800000000000001, "type": "inter_cluster", "style": "solid"}], ["Environmental Stressors", "Stress Responses", {"weight": 0.8, "confidence": 0.78, "type": "inter_cluster", "style": "solid"}], ["Environmental Stressors", "Farmland Restoration", {"weight": 0.6666666666666666, "confidence": 0.5333333333333333, "type": "inter_cluster", "style": "solid"}], ["Stress Responses", "Habitat Loss", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Stress Responses", "Species Interactions", {"weight": 0.75, "confidence": 0.575, "type": "inter_cluster", "style": "solid"}], ["Stress Responses", "Key Producers", {"weight": -1.0, "confidence": 0.875, "type": "inter_cluster", "style": "solid"}], ["Food Webs", "Biodiversity Types", {"weight": 0.8, "confidence": 0.6799999999999999, "type": "inter_cluster", "style": "solid"}], ["Food Webs", "Key Producers", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Food Webs", "Management Strategies", {"weight": 0.5, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Key Producers", "Habitat Formation", {"weight": 0.8, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Key Producers", "Biodiversity Types", {"weight": 0.8, "confidence": 0.74, "type": "inter_cluster", "style": "solid"}], ["Key Producers", "Conservation Priorities", {"weight": 0.75, "confidence": 0.6875, "type": "inter_cluster", "style": "solid"}], ["Social-Ecological Systems", "Climate Adaptation", {"weight": 0.75, "confidence": 0.5874999999999999, "type": "inter_cluster", "style": "solid"}], ["Social-Ecological Systems", "Conservation Priorities", {"weight": 1.0, "confidence": 0.6666666666666666, "type": "inter_cluster", "style": "solid"}], ["Social-Ecological Systems", "Biodiversity Types", {"weight": 0.75, "confidence": 0.5375, "type": "inter_cluster", "style": "solid"}], ["Social-Ecological Systems", "Coastal Marsh Ecology", {"weight": 0.75, "confidence": 0.5125, "type": "inter_cluster", "style": "solid"}], ["Habitat Loss", "Habitat Formation", {"weight": -0.6, "confidence": 0.8699999999999999, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Management Strategies": [["dredge oil", {"concepts": "dredge oil", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "dredge oil"}], ["coastal management", {"concepts": "coastal management", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "coastal management"}], ["marsh migration corridors", {"concepts": "marsh migration corridors", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "marsh migration corridors"}], ["coastal community", {"concepts": "coastal community", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "coastal community"}], ["oyster farmers", {"concepts": "oyster farmers", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "oyster farmers"}], ["marsh loss", {"concepts": "marsh loss", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "marsh loss"}], ["coastal ecosystems", {"concepts": "coastal ecosystems", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "coastal ecosystems"}], ["coastal zone", {"concepts": "coastal zone", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "coastal zone"}], ["wetland ecology", {"concepts": "wetland ecology", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "wetland ecology"}], ["northern gulf of mexico", {"concepts": "northern gulf of mexico", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "northern gulf of mexico"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "marine resource management"}], ["marsh accretion", {"concepts": "marsh accretion", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "marsh accretion"}], ["coastal biodiversity", {"concepts": "coastal biodiversity", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "coastal biodiversity"}], ["barrier ponding", {"concepts": "barrier ponding", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "barrier ponding"}], ["high marsh", {"concepts": "high marsh", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "high marsh"}], ["salt marsh sparrow", {"concepts": "salt marsh sparrow", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "salt marsh sparrow"}], ["shorebirds", {"concepts": "shorebirds", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "shorebirds"}], ["salt marsh birds", {"concepts": "salt marsh birds", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "salt marsh birds"}], ["low marsh", {"concepts": "low marsh", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "low marsh"}], ["interior ponding", {"concepts": "interior ponding", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "interior ponding"}], ["dredge soil creation", {"concepts": "dredge soil creation", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "dredge soil creation"}]], "Climate Adaptation": [["management activities", {"concepts": "management activities", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "management activities"}], ["weights", {"concepts": "weights", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "weights"}], ["economists", {"concepts": "economists", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "economists"}], ["knowledge frameworks", {"concepts": "knowledge frameworks", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "knowledge frameworks"}], ["selective force", {"concepts": "selective force", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "selective force"}], ["permitting", {"concepts": "permitting", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "permitting"}], ["northeastern university", {"concepts": "northeastern university", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "northeastern university"}], ["management team", {"concepts": "management team", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "management team"}], ["measurement methods", {"concepts": "measurement methods", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "measurement methods"}], ["resource users", {"concepts": "resource users", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "resource users"}], ["serc", {"concepts": "serc", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "serc"}], ["academics", {"concepts": "academics", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "academics"}], ["the nature conservancy", {"concepts": "the nature conservancy", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "the nature conservancy"}], ["stemborer", {"concepts": "stemborer", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "stemborer"}], ["community members", {"concepts": "community members", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "community members"}], ["legacy effects", {"concepts": "legacy effects", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "legacy effects"}], ["postdoctoral researchers", {"concepts": "postdoctoral researchers", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "postdoctoral researchers"}], ["flooding", {"concepts": "flooding", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "flooding"}], ["epa", {"concepts": "epa", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "epa"}], ["management interventions", {"concepts": "management interventions", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "management interventions"}], ["collaboration", {"concepts": "collaboration", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "collaboration"}], ["conceptual frameworks", {"concepts": "conceptual frameworks", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "conceptual frameworks"}], ["monitoring", {"concepts": "monitoring", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "monitoring"}], ["system perception", {"concepts": "system perception", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "system perception"}], ["easements", {"concepts": "easements", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "easements"}], ["regulatory power", {"concepts": "regulatory power", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "regulatory power"}], ["expert interviews", {"concepts": "expert interviews", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "expert interviews"}], ["chesapeake bay program", {"concepts": "chesapeake bay program", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "chesapeake bay program"}], ["runneling", {"concepts": "runneling", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "runneling"}], ["variables", {"concepts": "variables", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "variables"}], ["management approaches", {"concepts": "management approaches", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "management approaches"}], ["thin layer deposition", {"concepts": "thin layer deposition", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "thin layer deposition"}], ["organizational processes", {"concepts": "organizational processes", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "organizational processes"}], ["mental models", {"concepts": "mental models", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "mental models"}], ["phragmites", {"concepts": "phragmites", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "phragmites"}], ["management components", {"concepts": "management components", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "management components"}], ["framework development", {"concepts": "framework development", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "framework development"}], ["crabs", {"concepts": "crabs", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "crabs"}], ["disturbance", {"concepts": "disturbance", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "disturbance"}], ["ditching", {"concepts": "ditching", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "ditching"}], ["drainage", {"concepts": "drainage", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "drainage"}], ["incentive structures", {"concepts": "incentive structures", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "incentive structures"}], ["marsh creation", {"concepts": "marsh creation", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "marsh creation"}], ["livelihood", {"concepts": "livelihood", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "livelihood"}], ["case studies", {"concepts": "case studies", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "case studies"}], ["educational methods", {"concepts": "educational methods", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "educational methods"}], ["managers", {"concepts": "managers", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "managers"}], ["effectiveness", {"concepts": "effectiveness", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "effectiveness"}], ["restoration", {"concepts": "restoration", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "restoration"}], ["adaptive potential", {"concepts": "adaptive potential", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "adaptive potential"}], ["access equity", {"concepts": "access equity", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "access equity"}], ["decision making", {"concepts": "decision making", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "decision making"}], ["management", {"concepts": "management", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "management"}], ["steering committee", {"concepts": "steering committee", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "steering committee"}], ["system dynamics", {"concepts": "system dynamics", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "system dynamics"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "stakeholders"}], ["behavior change", {"concepts": "behavior change", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "behavior change"}], ["chesapeake bay", {"concepts": "chesapeake bay", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "chesapeake bay"}], ["technical experts", {"concepts": "technical experts", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "technical experts"}], ["mental modeling", {"concepts": "mental modeling", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "mental modeling"}], ["research institutions", {"concepts": "research institutions", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "research institutions"}], ["researchers", {"concepts": "researchers", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "researchers"}], ["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "noaa"}], ["management effectiveness", {"concepts": "management effectiveness", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "management effectiveness"}], ["private property rights", {"concepts": "private property rights", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "private property rights"}], ["tradeoffs", {"concepts": "tradeoffs", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "tradeoffs"}], ["drowning", {"concepts": "drowning", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "drowning"}], ["knowledge capturing", {"concepts": "knowledge capturing", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "knowledge capturing"}], ["regional managers", {"concepts": "regional managers", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "regional managers"}], ["homeowners", {"concepts": "homeowners", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "homeowners"}], ["conservation", {"concepts": "conservation", "type": "concept", "cluster": "Climate Adaptation", "node_size": 10, "label": "conservation"}]], "Hydrology & Water Quality": [["watermen", {"concepts": "watermen", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "watermen"}], ["high elevation", {"concepts": "high elevation", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "high elevation"}], ["tnc land", {"concepts": "tnc land", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "tnc land"}], ["seed mixes", {"concepts": "seed mixes", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "seed mixes"}], ["sea level rise", {"concepts": "sea level rise", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "sea level rise"}], ["tidal creek extension", {"concepts": "tidal creek extension", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "tidal creek extension"}], ["tourism operators", {"concepts": "tourism operators", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "tourism operators"}], ["herbicide", {"concepts": "herbicide", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "herbicide"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "climate change"}], ["invertebrates", {"concepts": "invertebrates", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "invertebrates"}], ["population genetics", {"concepts": "population genetics", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "population genetics"}], ["watershed", {"concepts": "watershed", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "watershed"}], ["marine biodiversity", {"concepts": "marine biodiversity", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "marine biodiversity"}], ["salish sea", {"concepts": "salish sea", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "salish sea"}], ["salinity", {"concepts": "salinity", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "salinity"}], ["tidal marsh loss", {"concepts": "tidal marsh loss", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "tidal marsh loss"}], ["prescribed burning", {"concepts": "prescribed burning", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "prescribed burning"}], ["intertidal zone", {"concepts": "intertidal zone", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "intertidal zone"}], ["new jersey coast", {"concepts": "new jersey coast", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "new jersey coast"}], ["waffle marshes", {"concepts": "waffle marshes", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "waffle marshes"}], ["sparrows", {"concepts": "sparrows", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "sparrows"}], ["ghost forests", {"concepts": "ghost forests", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "ghost forests"}], ["global change", {"concepts": "global change", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "global change"}], ["intertidal marshes", {"concepts": "intertidal marshes", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "intertidal marshes"}], ["plant assembly", {"concepts": "plant assembly", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "plant assembly"}], ["tidal marshes", {"concepts": "tidal marshes", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "tidal marshes"}], ["landscape scale", {"concepts": "landscape scale", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "landscape scale"}], ["planting", {"concepts": "planting", "type": "concept", "cluster": "Hydrology & Water Quality", "node_size": 10, "label": "planting"}]], "Farmland Restoration": [["hydrologic connectivity", {"concepts": "hydrologic connectivity", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "hydrologic connectivity"}], ["water quality management", {"concepts": "water quality management", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "water quality management"}], ["eutrophication", {"concepts": "eutrophication", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "eutrophication"}], ["saltwater intrusion", {"concepts": "saltwater intrusion", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "saltwater intrusion"}], ["saltwater intrusion report", {"concepts": "saltwater intrusion report", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "saltwater intrusion report"}], ["hydrology", {"concepts": "hydrology", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "hydrology"}], ["fishermen", {"concepts": "fishermen", "type": "concept", "cluster": "Farmland Restoration", "node_size": 10, "label": "fishermen"}]], "Coastal Marsh Ecology": [["farmland abandonment", {"concepts": "farmland abandonment", "type": "concept", "cluster": "Coastal Marsh Ecology", "node_size": 10, "label": "farmland abandonment"}], ["restoration planting", {"concepts": "restoration planting", "type": "concept", "cluster": "Coastal Marsh Ecology", "node_size": 10, "label": "restoration planting"}], ["land management", {"concepts": "land management", "type": "concept", "cluster": "Coastal Marsh Ecology", "node_size": 10, "label": "land management"}], ["agricultural management", {"concepts": "agricultural management", "type": "concept", "cluster": "Coastal Marsh Ecology", "node_size": 10, "label": "agricultural management"}], ["farmland", {"concepts": "farmland", "type": "concept", "cluster": "Coastal Marsh Ecology", "node_size": 10, "label": "farmland"}], ["land acquisition", {"concepts": "land acquisition", "type": "concept", "cluster": "Coastal Marsh Ecology", "node_size": 10, "label": "land acquisition"}], ["land abandonment", {"concepts": "land abandonment", "type": "concept", "cluster": "Coastal Marsh Ecology", "node_size": 10, "label": "land abandonment"}], ["restoration projects", {"concepts": "restoration projects", "type": "concept", "cluster": "Coastal Marsh Ecology", "node_size": 10, "label": "restoration projects"}]], "Biodiversity Types": [["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Biodiversity Types", "node_size": 10, "label": "biodiversity"}], ["species biodiversity", {"concepts": "species biodiversity", "type": "concept", "cluster": "Biodiversity Types", "node_size": 10, "label": "species biodiversity"}], ["species diversity", {"concepts": "species diversity", "type": "concept", "cluster": "Biodiversity Types", "node_size": 10, "label": "species diversity"}], ["population genetic diversity", {"concepts": "population genetic diversity", "type": "concept", "cluster": "Biodiversity Types", "node_size": 10, "label": "population genetic diversity"}]], "Conservation Priorities": [["biodiversity preservation", {"concepts": "biodiversity preservation", "type": "concept", "cluster": "Conservation Priorities", "node_size": 10, "label": "biodiversity preservation"}], ["endangered species", {"concepts": "endangered species", "type": "concept", "cluster": "Conservation Priorities", "node_size": 10, "label": "endangered species"}], ["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Conservation Priorities", "node_size": 10, "label": "conservation concern"}], ["rare species", {"concepts": "rare species", "type": "concept", "cluster": "Conservation Priorities", "node_size": 10, "label": "rare species"}]], "Species Interactions": [["associated organisms", {"concepts": "associated organisms", "type": "concept", "cluster": "Species Interactions", "node_size": 10, "label": "associated organisms"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Species Interactions", "node_size": 10, "label": "harmful organisms"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Species Interactions", "node_size": 10, "label": "invasive species"}], ["invasive species control", {"concepts": "invasive species control", "type": "concept", "cluster": "Species Interactions", "node_size": 10, "label": "invasive species control"}], ["native species", {"concepts": "native species", "type": "concept", "cluster": "Species Interactions", "node_size": 10, "label": "native species"}]], "Environmental Stressors": [["physiological stressors", {"concepts": "physiological stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "physiological stressors"}], ["climate change stressors", {"concepts": "climate change stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "climate change stressors"}], ["environmental stressors", {"concepts": "environmental stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "environmental stressors"}]], "Stress Responses": [["stress", {"concepts": "stress", "type": "concept", "cluster": "Stress Responses", "node_size": 10, "label": "stress"}], ["stressors", {"concepts": "stressors", "type": "concept", "cluster": "Stress Responses", "node_size": 10, "label": "stressors"}], ["stress response", {"concepts": "stress response", "type": "concept", "cluster": "Stress Responses", "node_size": 10, "label": "stress response"}]], "Ecosystem Services": [["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "ecosystem services"}], ["ecosystems", {"concepts": "ecosystems", "type": "concept", "cluster": "Ecosystem Services", "node_size": 10, "label": "ecosystems"}]], "Food Webs": [["food-web species", {"concepts": "food-web species", "type": "concept", "cluster": "Food Webs", "node_size": 10, "label": "food-web species"}], ["food-web", {"concepts": "food-web", "type": "concept", "cluster": "Food Webs", "node_size": 10, "label": "food-web"}], ["food web", {"concepts": "food web", "type": "concept", "cluster": "Food Webs", "node_size": 10, "label": "food web"}], ["interaction webs", {"concepts": "interaction webs", "type": "concept", "cluster": "Food Webs", "node_size": 10, "label": "interaction webs"}]], "Key Producers": [["primary producers", {"concepts": "primary producers", "type": "concept", "cluster": "Key Producers", "node_size": 10, "label": "primary producers"}], ["ecosystem engineers", {"concepts": "ecosystem engineers", "type": "concept", "cluster": "Key Producers", "node_size": 10, "label": "ecosystem engineers"}]], "Social-Ecological Systems": [["social-ecological systems", {"concepts": "social-ecological systems", "type": "concept", "cluster": "Social-Ecological Systems", "node_size": 10, "label": "social-ecological systems"}], ["community ecology", {"concepts": "community ecology", "type": "concept", "cluster": "Social-Ecological Systems", "node_size": 10, "label": "community ecology"}], ["social ecology", {"concepts": "social ecology", "type": "concept", "cluster": "Social-Ecological Systems", "node_size": 10, "label": "social ecology"}], ["ecological definition", {"concepts": "ecological definition", "type": "concept", "cluster": "Social-Ecological Systems", "node_size": 10, "label": "ecological definition"}], ["environmental research", {"concepts": "environmental research", "type": "concept", "cluster": "Social-Ecological Systems", "node_size": 10, "label": "environmental research"}], ["smithsonian environmental research center", {"concepts": "smithsonian environmental research center", "type": "concept", "cluster": "Social-Ecological Systems", "node_size": 10, "label": "smithsonian environmental research center"}]], "Habitat Formation": [["future habitat", {"concepts": "future habitat", "type": "concept", "cluster": "Habitat Formation", "node_size": 10, "label": "future habitat"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Habitat Formation", "node_size": 10, "label": "habitat forming species"}], ["plant communities", {"concepts": "plant communities", "type": "concept", "cluster": "Habitat Formation", "node_size": 10, "label": "plant communities"}], ["habitat", {"concepts": "habitat", "type": "concept", "cluster": "Habitat Formation", "node_size": 10, "label": "habitat"}]], "Habitat Loss": [["nest flooding", {"concepts": "nest flooding", "type": "concept", "cluster": "Habitat Loss", "node_size": 10, "label": "nest flooding"}], ["forest mortality", {"concepts": "forest mortality", "type": "concept", "cluster": "Habitat Loss", "node_size": 10, "label": "forest mortality"}], ["habitat loss", {"concepts": "habitat loss", "type": "concept", "cluster": "Habitat Loss", "node_size": 10, "label": "habitat loss"}]]};
        const clusterEdges = {"Management Strategies": [], "Climate Adaptation": [], "Hydrology & Water Quality": [], "Farmland Restoration": [], "Coastal Marsh Ecology": [], "Biodiversity Types": [], "Conservation Priorities": [], "Species Interactions": [], "Environmental Stressors": [], "Stress Responses": [], "Ecosystem Services": [], "Food Webs": [], "Key Producers": [], "Social-Ecological Systems": [], "Habitat Formation": [], "Habitat Loss": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
