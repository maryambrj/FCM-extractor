
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"travel time": {"concepts": "travel time", "concept_list": ["travel time"], "type": "cluster", "node_size": 18, "label": "travel time"}, "policy impact": {"concepts": "policy impact", "concept_list": ["policy impact"], "type": "cluster", "node_size": 18, "label": "policy impact"}, "Seasonal wind patterns": {"concepts": "environmental threat, facebook groups, environmental group", "concept_list": ["environmental threat", "facebook groups", "environmental group"], "type": "cluster", "node_size": 24, "label": "Seasonal wind patterns"}, "Guided fishing trips": {"concepts": "seasonal patterns, wind limitations, wind conditions, spawning seasons", "concept_list": ["seasonal patterns", "wind limitations", "wind conditions", "spawning seasons"], "type": "cluster", "node_size": 27, "label": "Guided fishing trips"}, "Fishing environmental challenges": {"concepts": "sediment runoff, invasive species, conservation concerns, environmental degradation, biodiversity loss, target species, species records, degraded habitat, ecological impact, trash cans, patuxent river, north carolina, species impact, species range, socio-ecological system, biodiversity, habitat degradation, freshwater license, local management, southern maryland, habitat quality, eastern shore, anne arundel county, south carolina, aquatic ecosystems, blackwater, stream degradation, conservation efforts, trash accumulation, blackwater national wildlife refuge, species competition, ecological balance, coastal carolina", "concept_list": ["sediment runoff", "invasive species", "conservation concerns", "environmental degradation", "biodiversity loss", "target species", "species records", "degraded habitat", "ecological impact", "trash cans", "patuxent river", "north carolina", "species impact", "species range", "socio-ecological system", "biodiversity", "habitat degradation", "freshwater license", "local management", "southern maryland", "habitat quality", "eastern shore", "anne arundel county", "south carolina", "aquatic ecosystems", "blackwater", "stream degradation", "conservation efforts", "trash accumulation", "blackwater national wildlife refuge", "species competition", "ecological balance", "coastal carolina"], "type": "cluster", "node_size": 114, "label": "Fishing environmental challenges"}, "Online environmental groups": {"concepts": "fishing entities, fishing spots, weather impact, work schedule, parking spots, hypoxic conditions, climate change, fishing locations, marine lab, work hours, fishing areas, environmental stressors, catch and release, guide fishermen opinions, marine debris, hypoxia, sunrise fishing, fishing limitations, fishermen interviews, food safety, environmental factors, parking availability", "concept_list": ["fishing entities", "fishing spots", "weather impact", "work schedule", "parking spots", "hypoxic conditions", "climate change", "fishing locations", "marine lab", "work hours", "fishing areas", "environmental stressors", "catch and release", "guide fishermen opinions", "marine debris", "hypoxia", "sunrise fishing", "fishing limitations", "fishermen interviews", "food safety", "environmental factors", "parking availability"], "type": "cluster", "node_size": 81, "label": "Online environmental groups"}, "Fishing Practices": {"concepts": "fishing habits, fishing dynamics, fishing decisions, fishing regulations, fishing frequency, fishing time, fishing success, fishing management, fishing conditions, fisheries management, fishing variables, fishing access, fishing impact, fishing challenges, fishing activists, recreational fishing, fishing constraints, fishing preferences, fishing factors, fishing techniques, marine resource management, recreational fishermen, commercial fishing, fishing license, fishing resources, fishing behavior, fishing opportunities, fishing schedule, family fishing, fishing experience, fishing quality, fishing benefits, fishing processes, fishing knowledge, fishing policies, fishing environment, fishing reports, guide fishermen, kayak fishing", "concept_list": ["fishing habits", "fishing dynamics", "fishing decisions", "fishing regulations", "fishing frequency", "fishing time", "fishing success", "fishing management", "fishing conditions", "fisheries management", "fishing variables", "fishing access", "fishing impact", "fishing challenges", "fishing activists", "recreational fishing", "fishing constraints", "fishing preferences", "fishing factors", "fishing techniques", "marine resource management", "recreational fishermen", "commercial fishing", "fishing license", "fishing resources", "fishing behavior", "fishing opportunities", "fishing schedule", "family fishing", "fishing experience", "fishing quality", "fishing benefits", "fishing processes", "fishing knowledge", "fishing policies", "fishing environment", "fishing reports", "guide fishermen", "kayak fishing"], "type": "cluster", "node_size": 132, "label": "Fishing Practices"}, "Fish Species": {"concepts": "blue catfish, large mouth bass, tidal fishing, snakehead fishing, fish talk magazine, overfishing, snakehead, seasonal fishing, flounder, sea trout", "concept_list": ["blue catfish", "large mouth bass", "tidal fishing", "snakehead fishing", "fish talk magazine", "overfishing", "snakehead", "seasonal fishing", "flounder", "sea trout"], "type": "cluster", "node_size": 45, "label": "Fish Species"}, "Chesapeake Environment": {"concepts": "lifestyle change, littering, cca, public access, chesapeake bay, public access times, potomac, savern, dnr policies, chrisfield, kayaking, tree loss, cultural taste, cca maryland, grad school, secrecy, maryland dnr, ceo decision, mental modeler, resource management, patuxent, red drum, magabee, patapsco", "concept_list": ["lifestyle change", "littering", "cca", "public access", "chesapeake bay", "public access times", "potomac", "savern", "dnr policies", "chrisfield", "kayaking", "tree loss", "cultural taste", "cca maryland", "grad school", "secrecy", "maryland dnr", "ceo decision", "mental modeler", "resource management", "patuxent", "red drum", "magabee", "patapsco"], "type": "cluster", "node_size": 87, "label": "Chesapeake Environment"}, "Recreational Fishing": {"concepts": "vacation fishing, striped bass, fishing guides, fishing trips", "concept_list": ["vacation fishing", "striped bass", "fishing guides", "fishing trips"], "type": "cluster", "node_size": 27, "label": "Recreational Fishing"}, "Bass Migration Trips": {"concepts": "day trips, striped bass migration", "concept_list": ["day trips", "striped bass migration"], "type": "cluster", "node_size": 21, "label": "Bass Migration Trips"}, "Market Viability": {"concepts": "market demand, commercial potential", "concept_list": ["market demand", "commercial potential"], "type": "cluster", "node_size": 21, "label": "Market Viability"}, "Economic Development": {"concepts": "economic benefits, development impact", "concept_list": ["economic benefits", "development impact"], "type": "cluster", "node_size": 21, "label": "Economic Development"}, "Social Consumer Impact": {"concepts": "social dynamics, consumer behavior, social benefits", "concept_list": ["social dynamics", "consumer behavior", "social benefits"], "type": "cluster", "node_size": 24, "label": "Social Consumer Impact"}};
        const conceptData = {"environmental threat": {"concepts": "environmental threat", "type": "concept", "cluster": "Seasonal wind patterns", "node_size": 10, "label": "environmental threat"}, "facebook groups": {"concepts": "facebook groups", "type": "concept", "cluster": "Seasonal wind patterns", "node_size": 10, "label": "facebook groups"}, "environmental group": {"concepts": "environmental group", "type": "concept", "cluster": "Seasonal wind patterns", "node_size": 10, "label": "environmental group"}, "seasonal patterns": {"concepts": "seasonal patterns", "type": "concept", "cluster": "Guided fishing trips", "node_size": 10, "label": "seasonal patterns"}, "wind limitations": {"concepts": "wind limitations", "type": "concept", "cluster": "Guided fishing trips", "node_size": 10, "label": "wind limitations"}, "wind conditions": {"concepts": "wind conditions", "type": "concept", "cluster": "Guided fishing trips", "node_size": 10, "label": "wind conditions"}, "spawning seasons": {"concepts": "spawning seasons", "type": "concept", "cluster": "Guided fishing trips", "node_size": 10, "label": "spawning seasons"}, "sediment runoff": {"concepts": "sediment runoff", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "sediment runoff"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "invasive species"}, "conservation concerns": {"concepts": "conservation concerns", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "conservation concerns"}, "environmental degradation": {"concepts": "environmental degradation", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "environmental degradation"}, "biodiversity loss": {"concepts": "biodiversity loss", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "biodiversity loss"}, "target species": {"concepts": "target species", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "target species"}, "species records": {"concepts": "species records", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "species records"}, "degraded habitat": {"concepts": "degraded habitat", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "degraded habitat"}, "ecological impact": {"concepts": "ecological impact", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "ecological impact"}, "trash cans": {"concepts": "trash cans", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "trash cans"}, "patuxent river": {"concepts": "patuxent river", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "patuxent river"}, "north carolina": {"concepts": "north carolina", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "north carolina"}, "species impact": {"concepts": "species impact", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "species impact"}, "species range": {"concepts": "species range", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "species range"}, "socio-ecological system": {"concepts": "socio-ecological system", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "socio-ecological system"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "biodiversity"}, "habitat degradation": {"concepts": "habitat degradation", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "habitat degradation"}, "freshwater license": {"concepts": "freshwater license", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "freshwater license"}, "local management": {"concepts": "local management", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "local management"}, "southern maryland": {"concepts": "southern maryland", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "southern maryland"}, "habitat quality": {"concepts": "habitat quality", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "habitat quality"}, "eastern shore": {"concepts": "eastern shore", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "eastern shore"}, "anne arundel county": {"concepts": "anne arundel county", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "anne arundel county"}, "south carolina": {"concepts": "south carolina", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "south carolina"}, "aquatic ecosystems": {"concepts": "aquatic ecosystems", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "aquatic ecosystems"}, "blackwater": {"concepts": "blackwater", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "blackwater"}, "stream degradation": {"concepts": "stream degradation", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "stream degradation"}, "conservation efforts": {"concepts": "conservation efforts", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "conservation efforts"}, "trash accumulation": {"concepts": "trash accumulation", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "trash accumulation"}, "blackwater national wildlife refuge": {"concepts": "blackwater national wildlife refuge", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "blackwater national wildlife refuge"}, "species competition": {"concepts": "species competition", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "species competition"}, "ecological balance": {"concepts": "ecological balance", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "ecological balance"}, "coastal carolina": {"concepts": "coastal carolina", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "coastal carolina"}, "fishing entities": {"concepts": "fishing entities", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "fishing entities"}, "fishing spots": {"concepts": "fishing spots", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "fishing spots"}, "weather impact": {"concepts": "weather impact", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "weather impact"}, "work schedule": {"concepts": "work schedule", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "work schedule"}, "parking spots": {"concepts": "parking spots", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "parking spots"}, "hypoxic conditions": {"concepts": "hypoxic conditions", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "hypoxic conditions"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "climate change"}, "fishing locations": {"concepts": "fishing locations", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "fishing locations"}, "marine lab": {"concepts": "marine lab", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "marine lab"}, "work hours": {"concepts": "work hours", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "work hours"}, "fishing areas": {"concepts": "fishing areas", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "fishing areas"}, "environmental stressors": {"concepts": "environmental stressors", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "environmental stressors"}, "catch and release": {"concepts": "catch and release", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "catch and release"}, "guide fishermen opinions": {"concepts": "guide fishermen opinions", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "guide fishermen opinions"}, "marine debris": {"concepts": "marine debris", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "marine debris"}, "hypoxia": {"concepts": "hypoxia", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "hypoxia"}, "sunrise fishing": {"concepts": "sunrise fishing", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "sunrise fishing"}, "fishing limitations": {"concepts": "fishing limitations", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "fishing limitations"}, "fishermen interviews": {"concepts": "fishermen interviews", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "fishermen interviews"}, "food safety": {"concepts": "food safety", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "food safety"}, "environmental factors": {"concepts": "environmental factors", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "environmental factors"}, "parking availability": {"concepts": "parking availability", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "parking availability"}, "fishing habits": {"concepts": "fishing habits", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing habits"}, "fishing dynamics": {"concepts": "fishing dynamics", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing dynamics"}, "fishing decisions": {"concepts": "fishing decisions", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing decisions"}, "fishing regulations": {"concepts": "fishing regulations", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing regulations"}, "fishing frequency": {"concepts": "fishing frequency", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing frequency"}, "fishing time": {"concepts": "fishing time", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing time"}, "fishing success": {"concepts": "fishing success", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing success"}, "fishing management": {"concepts": "fishing management", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing management"}, "fishing conditions": {"concepts": "fishing conditions", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing conditions"}, "fisheries management": {"concepts": "fisheries management", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fisheries management"}, "fishing variables": {"concepts": "fishing variables", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing variables"}, "fishing access": {"concepts": "fishing access", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing access"}, "fishing impact": {"concepts": "fishing impact", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing impact"}, "fishing challenges": {"concepts": "fishing challenges", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing challenges"}, "fishing activists": {"concepts": "fishing activists", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing activists"}, "recreational fishing": {"concepts": "recreational fishing", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "recreational fishing"}, "fishing constraints": {"concepts": "fishing constraints", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing constraints"}, "fishing preferences": {"concepts": "fishing preferences", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing preferences"}, "fishing factors": {"concepts": "fishing factors", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing factors"}, "fishing techniques": {"concepts": "fishing techniques", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing techniques"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "marine resource management"}, "recreational fishermen": {"concepts": "recreational fishermen", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "recreational fishermen"}, "commercial fishing": {"concepts": "commercial fishing", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "commercial fishing"}, "fishing license": {"concepts": "fishing license", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing license"}, "fishing resources": {"concepts": "fishing resources", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing resources"}, "fishing behavior": {"concepts": "fishing behavior", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing behavior"}, "fishing opportunities": {"concepts": "fishing opportunities", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing opportunities"}, "fishing schedule": {"concepts": "fishing schedule", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing schedule"}, "family fishing": {"concepts": "family fishing", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "family fishing"}, "fishing experience": {"concepts": "fishing experience", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing experience"}, "fishing quality": {"concepts": "fishing quality", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing quality"}, "fishing benefits": {"concepts": "fishing benefits", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing benefits"}, "fishing processes": {"concepts": "fishing processes", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing processes"}, "fishing knowledge": {"concepts": "fishing knowledge", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing knowledge"}, "fishing policies": {"concepts": "fishing policies", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing policies"}, "fishing environment": {"concepts": "fishing environment", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing environment"}, "fishing reports": {"concepts": "fishing reports", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing reports"}, "guide fishermen": {"concepts": "guide fishermen", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "guide fishermen"}, "kayak fishing": {"concepts": "kayak fishing", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "kayak fishing"}, "blue catfish": {"concepts": "blue catfish", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "blue catfish"}, "large mouth bass": {"concepts": "large mouth bass", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "large mouth bass"}, "tidal fishing": {"concepts": "tidal fishing", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "tidal fishing"}, "snakehead fishing": {"concepts": "snakehead fishing", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "snakehead fishing"}, "fish talk magazine": {"concepts": "fish talk magazine", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "fish talk magazine"}, "overfishing": {"concepts": "overfishing", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "overfishing"}, "snakehead": {"concepts": "snakehead", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "snakehead"}, "seasonal fishing": {"concepts": "seasonal fishing", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "seasonal fishing"}, "flounder": {"concepts": "flounder", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "flounder"}, "sea trout": {"concepts": "sea trout", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "sea trout"}, "lifestyle change": {"concepts": "lifestyle change", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "lifestyle change"}, "littering": {"concepts": "littering", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "littering"}, "cca": {"concepts": "cca", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "cca"}, "public access": {"concepts": "public access", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "public access"}, "chesapeake bay": {"concepts": "chesapeake bay", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "chesapeake bay"}, "public access times": {"concepts": "public access times", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "public access times"}, "potomac": {"concepts": "potomac", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "potomac"}, "savern": {"concepts": "savern", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "savern"}, "dnr policies": {"concepts": "dnr policies", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "dnr policies"}, "chrisfield": {"concepts": "chrisfield", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "chrisfield"}, "kayaking": {"concepts": "kayaking", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "kayaking"}, "tree loss": {"concepts": "tree loss", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "tree loss"}, "cultural taste": {"concepts": "cultural taste", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "cultural taste"}, "cca maryland": {"concepts": "cca maryland", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "cca maryland"}, "grad school": {"concepts": "grad school", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "grad school"}, "secrecy": {"concepts": "secrecy", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "secrecy"}, "maryland dnr": {"concepts": "maryland dnr", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "maryland dnr"}, "ceo decision": {"concepts": "ceo decision", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "ceo decision"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "mental modeler"}, "resource management": {"concepts": "resource management", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "resource management"}, "patuxent": {"concepts": "patuxent", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "patuxent"}, "red drum": {"concepts": "red drum", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "red drum"}, "magabee": {"concepts": "magabee", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "magabee"}, "patapsco": {"concepts": "patapsco", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "patapsco"}, "vacation fishing": {"concepts": "vacation fishing", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "vacation fishing"}, "striped bass": {"concepts": "striped bass", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "striped bass"}, "fishing guides": {"concepts": "fishing guides", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "fishing guides"}, "fishing trips": {"concepts": "fishing trips", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "fishing trips"}, "day trips": {"concepts": "day trips", "type": "concept", "cluster": "Bass Migration Trips", "node_size": 10, "label": "day trips"}, "striped bass migration": {"concepts": "striped bass migration", "type": "concept", "cluster": "Bass Migration Trips", "node_size": 10, "label": "striped bass migration"}, "market demand": {"concepts": "market demand", "type": "concept", "cluster": "Market Viability", "node_size": 10, "label": "market demand"}, "commercial potential": {"concepts": "commercial potential", "type": "concept", "cluster": "Market Viability", "node_size": 10, "label": "commercial potential"}, "economic benefits": {"concepts": "economic benefits", "type": "concept", "cluster": "Economic Development", "node_size": 10, "label": "economic benefits"}, "development impact": {"concepts": "development impact", "type": "concept", "cluster": "Economic Development", "node_size": 10, "label": "development impact"}, "social dynamics": {"concepts": "social dynamics", "type": "concept", "cluster": "Social Consumer Impact", "node_size": 10, "label": "social dynamics"}, "consumer behavior": {"concepts": "consumer behavior", "type": "concept", "cluster": "Social Consumer Impact", "node_size": 10, "label": "consumer behavior"}, "social benefits": {"concepts": "social benefits", "type": "concept", "cluster": "Social Consumer Impact", "node_size": 10, "label": "social benefits"}};
        const interClusterEdges = [["travel time", "Fishing Practices", {"weight": -1.0, "confidence": 0.8500000000000001, "type": "inter_cluster", "style": "solid"}], ["travel time", "Online environmental groups", {"weight": -0.75, "confidence": 0.6125, "type": "inter_cluster", "style": "solid"}], ["travel time", "Economic Development", {"weight": -0.3333333333333333, "confidence": 0.21666666666666667, "type": "inter_cluster", "style": "solid"}], ["policy impact", "Fishing environmental challenges", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["policy impact", "Bass Migration Trips", {"weight": 0.75, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["policy impact", "Economic Development", {"weight": 0.6666666666666666, "confidence": 0.48333333333333334, "type": "inter_cluster", "style": "solid"}], ["policy impact", "Recreational Fishing", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Seasonal wind patterns", "Fish Species", {"weight": -0.5, "confidence": 0.7625, "type": "inter_cluster", "style": "solid"}], ["Seasonal wind patterns", "policy impact", {"weight": 1.0, "confidence": 0.7375, "type": "inter_cluster", "style": "solid"}], ["Guided fishing trips", "Bass Migration Trips", {"weight": 0.75, "confidence": 0.5874999999999999, "type": "inter_cluster", "style": "solid"}], ["Guided fishing trips", "Fish Species", {"weight": 1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Fishing environmental challenges", "Fish Species", {"weight": -0.75, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Fishing environmental challenges", "Fishing Practices", {"weight": -0.6666666666666666, "confidence": 0.5499999999999999, "type": "inter_cluster", "style": "solid"}], ["Fishing environmental challenges", "Recreational Fishing", {"weight": -0.6666666666666666, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["Fishing environmental challenges", "Guided fishing trips", {"weight": -0.6666666666666666, "confidence": 0.4666666666666666, "type": "inter_cluster", "style": "solid"}], ["Online environmental groups", "Bass Migration Trips", {"weight": -0.5, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Online environmental groups", "policy impact", {"weight": 0.3333333333333333, "confidence": 0.2833333333333333, "type": "inter_cluster", "style": "solid"}], ["Online environmental groups", "Seasonal wind patterns", {"weight": 0.3333333333333333, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}], ["Fishing Practices", "Chesapeake Environment", {"weight": 0.75, "confidence": 0.6125, "type": "inter_cluster", "style": "solid"}], ["Fishing Practices", "policy impact", {"weight": 0.6666666666666666, "confidence": 0.5499999999999999, "type": "inter_cluster", "style": "solid"}], ["Fishing Practices", "travel time", {"weight": -1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Fish Species", "policy impact", {"weight": 0.2, "confidence": 0.45999999999999996, "type": "inter_cluster", "style": "solid"}], ["Chesapeake Environment", "policy impact", {"weight": 0.6, "confidence": 0.45999999999999996, "type": "inter_cluster", "style": "solid"}], ["Chesapeake Environment", "Fishing environmental challenges", {"weight": -0.75, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Chesapeake Environment", "travel time", {"weight": -0.6666666666666666, "confidence": 0.5499999999999999, "type": "inter_cluster", "style": "solid"}], ["Bass Migration Trips", "travel time", {"weight": 0.25, "confidence": 0.5875, "type": "inter_cluster", "style": "solid"}], ["Bass Migration Trips", "Recreational Fishing", {"weight": 0.6666666666666666, "confidence": 0.5166666666666667, "type": "inter_cluster", "style": "solid"}], ["Market Viability", "Fish Species", {"weight": 1.0, "confidence": 0.7375, "type": "inter_cluster", "style": "solid"}], ["Market Viability", "Fishing environmental challenges", {"weight": -0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Market Viability", "policy impact", {"weight": 0.3333333333333333, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}], ["Economic Development", "Market Viability", {"weight": 1.0, "confidence": 0.7666666666666666, "type": "inter_cluster", "style": "solid"}], ["Economic Development", "Fish Species", {"weight": 0.6666666666666666, "confidence": 0.4666666666666666, "type": "inter_cluster", "style": "solid"}], ["Economic Development", "Chesapeake Environment", {"weight": 0.5, "confidence": 0.35, "type": "inter_cluster", "style": "solid"}], ["Social Consumer Impact", "Chesapeake Environment", {"weight": 0.3333333333333333, "confidence": 0.2333333333333333, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Seasonal wind patterns": [["environmental threat", {"concepts": "environmental threat", "type": "concept", "cluster": "Seasonal wind patterns", "node_size": 10, "label": "environmental threat"}], ["facebook groups", {"concepts": "facebook groups", "type": "concept", "cluster": "Seasonal wind patterns", "node_size": 10, "label": "facebook groups"}], ["environmental group", {"concepts": "environmental group", "type": "concept", "cluster": "Seasonal wind patterns", "node_size": 10, "label": "environmental group"}]], "Guided fishing trips": [["seasonal patterns", {"concepts": "seasonal patterns", "type": "concept", "cluster": "Guided fishing trips", "node_size": 10, "label": "seasonal patterns"}], ["wind limitations", {"concepts": "wind limitations", "type": "concept", "cluster": "Guided fishing trips", "node_size": 10, "label": "wind limitations"}], ["wind conditions", {"concepts": "wind conditions", "type": "concept", "cluster": "Guided fishing trips", "node_size": 10, "label": "wind conditions"}], ["spawning seasons", {"concepts": "spawning seasons", "type": "concept", "cluster": "Guided fishing trips", "node_size": 10, "label": "spawning seasons"}]], "Fishing environmental challenges": [["sediment runoff", {"concepts": "sediment runoff", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "sediment runoff"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "invasive species"}], ["conservation concerns", {"concepts": "conservation concerns", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "conservation concerns"}], ["environmental degradation", {"concepts": "environmental degradation", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "environmental degradation"}], ["biodiversity loss", {"concepts": "biodiversity loss", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "biodiversity loss"}], ["target species", {"concepts": "target species", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "target species"}], ["species records", {"concepts": "species records", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "species records"}], ["degraded habitat", {"concepts": "degraded habitat", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "degraded habitat"}], ["ecological impact", {"concepts": "ecological impact", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "ecological impact"}], ["trash cans", {"concepts": "trash cans", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "trash cans"}], ["patuxent river", {"concepts": "patuxent river", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "patuxent river"}], ["north carolina", {"concepts": "north carolina", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "north carolina"}], ["species impact", {"concepts": "species impact", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "species impact"}], ["species range", {"concepts": "species range", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "species range"}], ["socio-ecological system", {"concepts": "socio-ecological system", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "socio-ecological system"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "biodiversity"}], ["habitat degradation", {"concepts": "habitat degradation", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "habitat degradation"}], ["freshwater license", {"concepts": "freshwater license", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "freshwater license"}], ["local management", {"concepts": "local management", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "local management"}], ["southern maryland", {"concepts": "southern maryland", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "southern maryland"}], ["habitat quality", {"concepts": "habitat quality", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "habitat quality"}], ["eastern shore", {"concepts": "eastern shore", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "eastern shore"}], ["anne arundel county", {"concepts": "anne arundel county", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "anne arundel county"}], ["south carolina", {"concepts": "south carolina", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "south carolina"}], ["aquatic ecosystems", {"concepts": "aquatic ecosystems", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "aquatic ecosystems"}], ["blackwater", {"concepts": "blackwater", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "blackwater"}], ["stream degradation", {"concepts": "stream degradation", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "stream degradation"}], ["conservation efforts", {"concepts": "conservation efforts", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "conservation efforts"}], ["trash accumulation", {"concepts": "trash accumulation", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "trash accumulation"}], ["blackwater national wildlife refuge", {"concepts": "blackwater national wildlife refuge", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "blackwater national wildlife refuge"}], ["species competition", {"concepts": "species competition", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "species competition"}], ["ecological balance", {"concepts": "ecological balance", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "ecological balance"}], ["coastal carolina", {"concepts": "coastal carolina", "type": "concept", "cluster": "Fishing environmental challenges", "node_size": 10, "label": "coastal carolina"}]], "Online environmental groups": [["fishing entities", {"concepts": "fishing entities", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "fishing entities"}], ["fishing spots", {"concepts": "fishing spots", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "fishing spots"}], ["weather impact", {"concepts": "weather impact", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "weather impact"}], ["work schedule", {"concepts": "work schedule", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "work schedule"}], ["parking spots", {"concepts": "parking spots", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "parking spots"}], ["hypoxic conditions", {"concepts": "hypoxic conditions", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "hypoxic conditions"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "climate change"}], ["fishing locations", {"concepts": "fishing locations", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "fishing locations"}], ["marine lab", {"concepts": "marine lab", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "marine lab"}], ["work hours", {"concepts": "work hours", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "work hours"}], ["fishing areas", {"concepts": "fishing areas", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "fishing areas"}], ["environmental stressors", {"concepts": "environmental stressors", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "environmental stressors"}], ["catch and release", {"concepts": "catch and release", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "catch and release"}], ["guide fishermen opinions", {"concepts": "guide fishermen opinions", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "guide fishermen opinions"}], ["marine debris", {"concepts": "marine debris", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "marine debris"}], ["hypoxia", {"concepts": "hypoxia", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "hypoxia"}], ["sunrise fishing", {"concepts": "sunrise fishing", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "sunrise fishing"}], ["fishing limitations", {"concepts": "fishing limitations", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "fishing limitations"}], ["fishermen interviews", {"concepts": "fishermen interviews", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "fishermen interviews"}], ["food safety", {"concepts": "food safety", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "food safety"}], ["environmental factors", {"concepts": "environmental factors", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "environmental factors"}], ["parking availability", {"concepts": "parking availability", "type": "concept", "cluster": "Online environmental groups", "node_size": 10, "label": "parking availability"}]], "Fishing Practices": [["fishing habits", {"concepts": "fishing habits", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing habits"}], ["fishing dynamics", {"concepts": "fishing dynamics", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing dynamics"}], ["fishing decisions", {"concepts": "fishing decisions", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing decisions"}], ["fishing regulations", {"concepts": "fishing regulations", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing regulations"}], ["fishing frequency", {"concepts": "fishing frequency", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing frequency"}], ["fishing time", {"concepts": "fishing time", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing time"}], ["fishing success", {"concepts": "fishing success", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing success"}], ["fishing management", {"concepts": "fishing management", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing management"}], ["fishing conditions", {"concepts": "fishing conditions", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing conditions"}], ["fisheries management", {"concepts": "fisheries management", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fisheries management"}], ["fishing variables", {"concepts": "fishing variables", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing variables"}], ["fishing access", {"concepts": "fishing access", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing access"}], ["fishing impact", {"concepts": "fishing impact", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing impact"}], ["fishing challenges", {"concepts": "fishing challenges", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing challenges"}], ["fishing activists", {"concepts": "fishing activists", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing activists"}], ["recreational fishing", {"concepts": "recreational fishing", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "recreational fishing"}], ["fishing constraints", {"concepts": "fishing constraints", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing constraints"}], ["fishing preferences", {"concepts": "fishing preferences", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing preferences"}], ["fishing factors", {"concepts": "fishing factors", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing factors"}], ["fishing techniques", {"concepts": "fishing techniques", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing techniques"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "marine resource management"}], ["recreational fishermen", {"concepts": "recreational fishermen", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "recreational fishermen"}], ["commercial fishing", {"concepts": "commercial fishing", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "commercial fishing"}], ["fishing license", {"concepts": "fishing license", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing license"}], ["fishing resources", {"concepts": "fishing resources", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing resources"}], ["fishing behavior", {"concepts": "fishing behavior", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing behavior"}], ["fishing opportunities", {"concepts": "fishing opportunities", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing opportunities"}], ["fishing schedule", {"concepts": "fishing schedule", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing schedule"}], ["family fishing", {"concepts": "family fishing", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "family fishing"}], ["fishing experience", {"concepts": "fishing experience", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing experience"}], ["fishing quality", {"concepts": "fishing quality", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing quality"}], ["fishing benefits", {"concepts": "fishing benefits", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing benefits"}], ["fishing processes", {"concepts": "fishing processes", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing processes"}], ["fishing knowledge", {"concepts": "fishing knowledge", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing knowledge"}], ["fishing policies", {"concepts": "fishing policies", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing policies"}], ["fishing environment", {"concepts": "fishing environment", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing environment"}], ["fishing reports", {"concepts": "fishing reports", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "fishing reports"}], ["guide fishermen", {"concepts": "guide fishermen", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "guide fishermen"}], ["kayak fishing", {"concepts": "kayak fishing", "type": "concept", "cluster": "Fishing Practices", "node_size": 10, "label": "kayak fishing"}]], "Fish Species": [["blue catfish", {"concepts": "blue catfish", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "blue catfish"}], ["large mouth bass", {"concepts": "large mouth bass", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "large mouth bass"}], ["tidal fishing", {"concepts": "tidal fishing", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "tidal fishing"}], ["snakehead fishing", {"concepts": "snakehead fishing", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "snakehead fishing"}], ["fish talk magazine", {"concepts": "fish talk magazine", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "fish talk magazine"}], ["overfishing", {"concepts": "overfishing", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "overfishing"}], ["snakehead", {"concepts": "snakehead", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "snakehead"}], ["seasonal fishing", {"concepts": "seasonal fishing", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "seasonal fishing"}], ["flounder", {"concepts": "flounder", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "flounder"}], ["sea trout", {"concepts": "sea trout", "type": "concept", "cluster": "Fish Species", "node_size": 10, "label": "sea trout"}]], "Chesapeake Environment": [["lifestyle change", {"concepts": "lifestyle change", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "lifestyle change"}], ["littering", {"concepts": "littering", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "littering"}], ["cca", {"concepts": "cca", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "cca"}], ["public access", {"concepts": "public access", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "public access"}], ["chesapeake bay", {"concepts": "chesapeake bay", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "chesapeake bay"}], ["public access times", {"concepts": "public access times", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "public access times"}], ["potomac", {"concepts": "potomac", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "potomac"}], ["savern", {"concepts": "savern", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "savern"}], ["dnr policies", {"concepts": "dnr policies", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "dnr policies"}], ["chrisfield", {"concepts": "chrisfield", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "chrisfield"}], ["kayaking", {"concepts": "kayaking", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "kayaking"}], ["tree loss", {"concepts": "tree loss", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "tree loss"}], ["cultural taste", {"concepts": "cultural taste", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "cultural taste"}], ["cca maryland", {"concepts": "cca maryland", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "cca maryland"}], ["grad school", {"concepts": "grad school", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "grad school"}], ["secrecy", {"concepts": "secrecy", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "secrecy"}], ["maryland dnr", {"concepts": "maryland dnr", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "maryland dnr"}], ["ceo decision", {"concepts": "ceo decision", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "ceo decision"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "mental modeler"}], ["resource management", {"concepts": "resource management", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "resource management"}], ["patuxent", {"concepts": "patuxent", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "patuxent"}], ["red drum", {"concepts": "red drum", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "red drum"}], ["magabee", {"concepts": "magabee", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "magabee"}], ["patapsco", {"concepts": "patapsco", "type": "concept", "cluster": "Chesapeake Environment", "node_size": 10, "label": "patapsco"}]], "Recreational Fishing": [["vacation fishing", {"concepts": "vacation fishing", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "vacation fishing"}], ["striped bass", {"concepts": "striped bass", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "striped bass"}], ["fishing guides", {"concepts": "fishing guides", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "fishing guides"}], ["fishing trips", {"concepts": "fishing trips", "type": "concept", "cluster": "Recreational Fishing", "node_size": 10, "label": "fishing trips"}]], "Bass Migration Trips": [["day trips", {"concepts": "day trips", "type": "concept", "cluster": "Bass Migration Trips", "node_size": 10, "label": "day trips"}], ["striped bass migration", {"concepts": "striped bass migration", "type": "concept", "cluster": "Bass Migration Trips", "node_size": 10, "label": "striped bass migration"}]], "Market Viability": [["market demand", {"concepts": "market demand", "type": "concept", "cluster": "Market Viability", "node_size": 10, "label": "market demand"}], ["commercial potential", {"concepts": "commercial potential", "type": "concept", "cluster": "Market Viability", "node_size": 10, "label": "commercial potential"}]], "Economic Development": [["economic benefits", {"concepts": "economic benefits", "type": "concept", "cluster": "Economic Development", "node_size": 10, "label": "economic benefits"}], ["development impact", {"concepts": "development impact", "type": "concept", "cluster": "Economic Development", "node_size": 10, "label": "development impact"}]], "Social Consumer Impact": [["social dynamics", {"concepts": "social dynamics", "type": "concept", "cluster": "Social Consumer Impact", "node_size": 10, "label": "social dynamics"}], ["consumer behavior", {"concepts": "consumer behavior", "type": "concept", "cluster": "Social Consumer Impact", "node_size": 10, "label": "consumer behavior"}], ["social benefits", {"concepts": "social benefits", "type": "concept", "cluster": "Social Consumer Impact", "node_size": 10, "label": "social benefits"}]]};
        const clusterEdges = {"Seasonal wind patterns": [], "Guided fishing trips": [], "Fishing environmental challenges": [], "Online environmental groups": [], "Fishing Practices": [], "Fish Species": [], "Chesapeake Environment": [], "Recreational Fishing": [], "Bass Migration Trips": [], "Market Viability": [], "Economic Development": [], "Social Consumer Impact": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
