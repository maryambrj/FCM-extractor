
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"fish and wildlife service": {"concepts": "fish and wildlife service", "concept_list": ["fish and wildlife service"], "type": "cluster", "node_size": 18, "label": "fish and wildlife service"}, "Species Conservation": {"concepts": "habitat, estuaries, habitat forming species, shoreline protection, habitat provision, introductions, climate change, coastal biodiversity, coastal biodiversity management, near-shore biodiversity, ecosystem services, habitat restoration, habitat restoration impact, coastal habitats, living shorelines, wetland restoration, wetland ecology, improving habitat", "concept_list": ["habitat", "estuaries", "habitat forming species", "shoreline protection", "habitat provision", "introductions", "climate change", "coastal biodiversity", "coastal biodiversity management", "near-shore biodiversity", "ecosystem services", "habitat restoration", "habitat restoration impact", "coastal habitats", "living shorelines", "wetland restoration", "wetland ecology", "improving habitat"], "type": "cluster", "node_size": 69, "label": "Species Conservation"}, "Resource Management": {"concepts": "species conservation, species of concern, beach mouse, biodiversity, species diversity, species, conservation projects, species of conservation concern, conservation species, food-web supporting species, conservation concern, conservation, invasive species, invasions, marine biodiversity, species specific conservation, native species, liability, panama city, regulatory stance, positive high, food-web species, foundation species, mississippi, negative mid, biodiversity initiatives, marine debris, negative impact, key food-web supporting species, water quality impact, mississippi state, texas, range expansion, high impact, low impact, florida., florida, alabama, car crash, driving", "concept_list": ["species conservation", "species of concern", "beach mouse", "biodiversity", "species diversity", "species", "conservation projects", "species of conservation concern", "conservation species", "food-web supporting species", "conservation concern", "conservation", "invasive species", "invasions", "marine biodiversity", "species specific conservation", "native species", "liability", "panama city", "regulatory stance", "positive high", "food-web species", "foundation species", "mississippi", "negative mid", "biodiversity initiatives", "marine debris", "negative impact", "key food-web supporting species", "water quality impact", "mississippi state", "texas", "range expansion", "high impact", "low impact", "florida.", "florida", "alabama", "car crash", "driving"], "type": "cluster", "node_size": 135, "label": "Resource Management"}, "Regional Biodiversity Impact": {"concepts": "concept list, litter work, manage, education, oa impact, center concepts, management, steven's group, management impact, applied research, protection work, positive low, number of native species, relationships, research projects, positive mid, transcription, map, shoreline development impact, experts, screen, mississippi sea grant, system dynamics, management approaches, weights, natural resource management, components, sarah, impact, single species management impact, marine science, key food-web, nutrient removal, background, improving water quality, single species management, medium impact, shoreline management, habitat forming, stressors, mental modeler, positive impact, mental model, study area, mental modeling, water quality, harmful organisms, single species impact, shoreline restoration, marine bio, shell-forming organisms, steven, key aspects, restoration, outreach activities, coastal management, nutrient removal impact, expertise, neutral, oa", "concept_list": ["concept list", "litter work", "manage", "education", "oa impact", "center concepts", "management", "steven's group", "management impact", "applied research", "protection work", "positive low", "number of native species", "relationships", "research projects", "positive mid", "transcription", "map", "shoreline development impact", "experts", "screen", "mississippi sea grant", "system dynamics", "management approaches", "weights", "natural resource management", "components", "sarah", "impact", "single species management impact", "marine science", "key food-web", "nutrient removal", "background", "improving water quality", "single species management", "medium impact", "shoreline management", "habitat forming", "stressors", "mental modeler", "positive impact", "mental model", "study area", "mental modeling", "water quality", "harmful organisms", "single species impact", "shoreline restoration", "marine bio", "shell-forming organisms", "steven", "key aspects", "restoration", "outreach activities", "coastal management", "nutrient removal impact", "expertise", "neutral", "oa"], "type": "cluster", "node_size": 195, "label": "Regional Biodiversity Impact"}, "Coastal Habitat Management": {"concepts": "shoreline development, ocean acidification, government", "concept_list": ["shoreline development", "ocean acidification", "government"], "type": "cluster", "node_size": 24, "label": "Coastal Habitat Management"}, "Oyster Reef Development": {"concepts": "oyster reef development impact, oyster reef restoration, oyster reef development", "concept_list": ["oyster reef development impact", "oyster reef restoration", "oyster reef development"], "type": "cluster", "node_size": 24, "label": "Oyster Reef Development"}, "Oyster Reef Resilience": {"concepts": "oyster reef resiliency, oyster reef research, oyster reef predators, resilient oyster reef, oyster reefs", "concept_list": ["oyster reef resiliency", "oyster reef research", "oyster reef predators", "resilient oyster reef", "oyster reefs"], "type": "cluster", "node_size": 30, "label": "Oyster Reef Resilience"}, "Fisheries Species": {"concepts": "fisheries species, fishery species, fisheries, fisheries dependent organisms", "concept_list": ["fisheries species", "fishery species", "fisheries", "fisheries dependent organisms"], "type": "cluster", "node_size": 27, "label": "Fisheries Species"}, "Fisheries Habitat": {"concepts": "habitat for fisheries species, habitat for fishery species, habitat for fisheries, habitat fisheries", "concept_list": ["habitat for fisheries species", "habitat for fishery species", "habitat for fisheries", "habitat fisheries"], "type": "cluster", "node_size": 27, "label": "Fisheries Habitat"}};
        const conceptData = {"habitat": {"concepts": "habitat", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "habitat"}, "estuaries": {"concepts": "estuaries", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "estuaries"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "habitat forming species"}, "shoreline protection": {"concepts": "shoreline protection", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "shoreline protection"}, "habitat provision": {"concepts": "habitat provision", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "habitat provision"}, "introductions": {"concepts": "introductions", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "introductions"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "climate change"}, "coastal biodiversity": {"concepts": "coastal biodiversity", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "coastal biodiversity"}, "coastal biodiversity management": {"concepts": "coastal biodiversity management", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "coastal biodiversity management"}, "near-shore biodiversity": {"concepts": "near-shore biodiversity", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "near-shore biodiversity"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "ecosystem services"}, "habitat restoration": {"concepts": "habitat restoration", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "habitat restoration"}, "habitat restoration impact": {"concepts": "habitat restoration impact", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "habitat restoration impact"}, "coastal habitats": {"concepts": "coastal habitats", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "coastal habitats"}, "living shorelines": {"concepts": "living shorelines", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "living shorelines"}, "wetland restoration": {"concepts": "wetland restoration", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "wetland restoration"}, "wetland ecology": {"concepts": "wetland ecology", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "wetland ecology"}, "improving habitat": {"concepts": "improving habitat", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "improving habitat"}, "species conservation": {"concepts": "species conservation", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "species conservation"}, "species of concern": {"concepts": "species of concern", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "species of concern"}, "beach mouse": {"concepts": "beach mouse", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "beach mouse"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "biodiversity"}, "species diversity": {"concepts": "species diversity", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "species diversity"}, "species": {"concepts": "species", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "species"}, "conservation projects": {"concepts": "conservation projects", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "conservation projects"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "species of conservation concern"}, "conservation species": {"concepts": "conservation species", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "conservation species"}, "food-web supporting species": {"concepts": "food-web supporting species", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "food-web supporting species"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "conservation concern"}, "conservation": {"concepts": "conservation", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "conservation"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "invasive species"}, "invasions": {"concepts": "invasions", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "invasions"}, "marine biodiversity": {"concepts": "marine biodiversity", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "marine biodiversity"}, "species specific conservation": {"concepts": "species specific conservation", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "species specific conservation"}, "native species": {"concepts": "native species", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "native species"}, "liability": {"concepts": "liability", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "liability"}, "panama city": {"concepts": "panama city", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "panama city"}, "regulatory stance": {"concepts": "regulatory stance", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "regulatory stance"}, "positive high": {"concepts": "positive high", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "positive high"}, "food-web species": {"concepts": "food-web species", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "food-web species"}, "foundation species": {"concepts": "foundation species", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "foundation species"}, "mississippi": {"concepts": "mississippi", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "mississippi"}, "negative mid": {"concepts": "negative mid", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "negative mid"}, "biodiversity initiatives": {"concepts": "biodiversity initiatives", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "biodiversity initiatives"}, "marine debris": {"concepts": "marine debris", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "marine debris"}, "negative impact": {"concepts": "negative impact", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "negative impact"}, "key food-web supporting species": {"concepts": "key food-web supporting species", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "key food-web supporting species"}, "water quality impact": {"concepts": "water quality impact", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "water quality impact"}, "mississippi state": {"concepts": "mississippi state", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "mississippi state"}, "texas": {"concepts": "texas", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "texas"}, "range expansion": {"concepts": "range expansion", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "range expansion"}, "high impact": {"concepts": "high impact", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "high impact"}, "low impact": {"concepts": "low impact", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "low impact"}, "florida.": {"concepts": "florida.", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "florida."}, "florida": {"concepts": "florida", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "florida"}, "alabama": {"concepts": "alabama", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "alabama"}, "car crash": {"concepts": "car crash", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "car crash"}, "driving": {"concepts": "driving", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "driving"}, "concept list": {"concepts": "concept list", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "concept list"}, "litter work": {"concepts": "litter work", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "litter work"}, "manage": {"concepts": "manage", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "manage"}, "education": {"concepts": "education", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "education"}, "oa impact": {"concepts": "oa impact", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "oa impact"}, "center concepts": {"concepts": "center concepts", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "center concepts"}, "management": {"concepts": "management", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "management"}, "steven's group": {"concepts": "steven's group", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "steven's group"}, "management impact": {"concepts": "management impact", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "management impact"}, "applied research": {"concepts": "applied research", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "applied research"}, "protection work": {"concepts": "protection work", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "protection work"}, "positive low": {"concepts": "positive low", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "positive low"}, "number of native species": {"concepts": "number of native species", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "number of native species"}, "relationships": {"concepts": "relationships", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "relationships"}, "research projects": {"concepts": "research projects", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "research projects"}, "positive mid": {"concepts": "positive mid", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "positive mid"}, "transcription": {"concepts": "transcription", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "transcription"}, "map": {"concepts": "map", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "map"}, "shoreline development impact": {"concepts": "shoreline development impact", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "shoreline development impact"}, "experts": {"concepts": "experts", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "experts"}, "screen": {"concepts": "screen", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "screen"}, "mississippi sea grant": {"concepts": "mississippi sea grant", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "mississippi sea grant"}, "system dynamics": {"concepts": "system dynamics", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "system dynamics"}, "management approaches": {"concepts": "management approaches", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "management approaches"}, "weights": {"concepts": "weights", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "weights"}, "natural resource management": {"concepts": "natural resource management", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "natural resource management"}, "components": {"concepts": "components", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "components"}, "sarah": {"concepts": "sarah", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "sarah"}, "impact": {"concepts": "impact", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "impact"}, "single species management impact": {"concepts": "single species management impact", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "single species management impact"}, "marine science": {"concepts": "marine science", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "marine science"}, "key food-web": {"concepts": "key food-web", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "key food-web"}, "nutrient removal": {"concepts": "nutrient removal", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "nutrient removal"}, "background": {"concepts": "background", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "background"}, "improving water quality": {"concepts": "improving water quality", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "improving water quality"}, "single species management": {"concepts": "single species management", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "single species management"}, "medium impact": {"concepts": "medium impact", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "medium impact"}, "shoreline management": {"concepts": "shoreline management", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "shoreline management"}, "habitat forming": {"concepts": "habitat forming", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "habitat forming"}, "stressors": {"concepts": "stressors", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "stressors"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "mental modeler"}, "positive impact": {"concepts": "positive impact", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "positive impact"}, "mental model": {"concepts": "mental model", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "mental model"}, "study area": {"concepts": "study area", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "study area"}, "mental modeling": {"concepts": "mental modeling", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "mental modeling"}, "water quality": {"concepts": "water quality", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "water quality"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "harmful organisms"}, "single species impact": {"concepts": "single species impact", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "single species impact"}, "shoreline restoration": {"concepts": "shoreline restoration", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "shoreline restoration"}, "marine bio": {"concepts": "marine bio", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "marine bio"}, "shell-forming organisms": {"concepts": "shell-forming organisms", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "shell-forming organisms"}, "steven": {"concepts": "steven", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "steven"}, "key aspects": {"concepts": "key aspects", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "key aspects"}, "restoration": {"concepts": "restoration", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "restoration"}, "outreach activities": {"concepts": "outreach activities", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "outreach activities"}, "coastal management": {"concepts": "coastal management", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "coastal management"}, "nutrient removal impact": {"concepts": "nutrient removal impact", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "nutrient removal impact"}, "expertise": {"concepts": "expertise", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "expertise"}, "neutral": {"concepts": "neutral", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "neutral"}, "oa": {"concepts": "oa", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "oa"}, "shoreline development": {"concepts": "shoreline development", "type": "concept", "cluster": "Coastal Habitat Management", "node_size": 10, "label": "shoreline development"}, "ocean acidification": {"concepts": "ocean acidification", "type": "concept", "cluster": "Coastal Habitat Management", "node_size": 10, "label": "ocean acidification"}, "government": {"concepts": "government", "type": "concept", "cluster": "Coastal Habitat Management", "node_size": 10, "label": "government"}, "oyster reef development impact": {"concepts": "oyster reef development impact", "type": "concept", "cluster": "Oyster Reef Development", "node_size": 10, "label": "oyster reef development impact"}, "oyster reef restoration": {"concepts": "oyster reef restoration", "type": "concept", "cluster": "Oyster Reef Development", "node_size": 10, "label": "oyster reef restoration"}, "oyster reef development": {"concepts": "oyster reef development", "type": "concept", "cluster": "Oyster Reef Development", "node_size": 10, "label": "oyster reef development"}, "oyster reef resiliency": {"concepts": "oyster reef resiliency", "type": "concept", "cluster": "Oyster Reef Resilience", "node_size": 10, "label": "oyster reef resiliency"}, "oyster reef research": {"concepts": "oyster reef research", "type": "concept", "cluster": "Oyster Reef Resilience", "node_size": 10, "label": "oyster reef research"}, "oyster reef predators": {"concepts": "oyster reef predators", "type": "concept", "cluster": "Oyster Reef Resilience", "node_size": 10, "label": "oyster reef predators"}, "resilient oyster reef": {"concepts": "resilient oyster reef", "type": "concept", "cluster": "Oyster Reef Resilience", "node_size": 10, "label": "resilient oyster reef"}, "oyster reefs": {"concepts": "oyster reefs", "type": "concept", "cluster": "Oyster Reef Resilience", "node_size": 10, "label": "oyster reefs"}, "fisheries species": {"concepts": "fisheries species", "type": "concept", "cluster": "Fisheries Species", "node_size": 10, "label": "fisheries species"}, "fishery species": {"concepts": "fishery species", "type": "concept", "cluster": "Fisheries Species", "node_size": 10, "label": "fishery species"}, "fisheries": {"concepts": "fisheries", "type": "concept", "cluster": "Fisheries Species", "node_size": 10, "label": "fisheries"}, "fisheries dependent organisms": {"concepts": "fisheries dependent organisms", "type": "concept", "cluster": "Fisheries Species", "node_size": 10, "label": "fisheries dependent organisms"}, "habitat for fisheries species": {"concepts": "habitat for fisheries species", "type": "concept", "cluster": "Fisheries Habitat", "node_size": 10, "label": "habitat for fisheries species"}, "habitat for fishery species": {"concepts": "habitat for fishery species", "type": "concept", "cluster": "Fisheries Habitat", "node_size": 10, "label": "habitat for fishery species"}, "habitat for fisheries": {"concepts": "habitat for fisheries", "type": "concept", "cluster": "Fisheries Habitat", "node_size": 10, "label": "habitat for fisheries"}, "habitat fisheries": {"concepts": "habitat fisheries", "type": "concept", "cluster": "Fisheries Habitat", "node_size": 10, "label": "habitat fisheries"}};
        const interClusterEdges = [["fish and wildlife service", "Resource Management", {"weight": 0.4, "confidence": 0.66, "type": "inter_cluster", "style": "solid"}], ["fish and wildlife service", "Fisheries Species", {"weight": 0.8, "confidence": 0.6300000000000001, "type": "inter_cluster", "style": "solid"}], ["fish and wildlife service", "Regional Biodiversity Impact", {"weight": 0.8, "confidence": 0.59, "type": "inter_cluster", "style": "solid"}], ["fish and wildlife service", "Coastal Habitat Management", {"weight": -0.3333333333333333, "confidence": 0.7333333333333334, "type": "inter_cluster", "style": "solid"}], ["Species Conservation", "Fisheries Species", {"weight": 1.0, "confidence": 0.8099999999999999, "type": "inter_cluster", "style": "solid"}], ["Species Conservation", "Oyster Reef Development", {"weight": 0.4, "confidence": 0.66, "type": "inter_cluster", "style": "solid"}], ["Species Conservation", "Coastal Habitat Management", {"weight": -1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["Species Conservation", "Fisheries Habitat", {"weight": 0.8, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Species Conservation", "fish and wildlife service", {"weight": 0.5, "confidence": 0.7250000000000001, "type": "inter_cluster", "style": "solid"}], ["Species Conservation", "Oyster Reef Resilience", {"weight": 0.6, "confidence": 0.45999999999999996, "type": "inter_cluster", "style": "solid"}], ["Resource Management", "Fisheries Habitat", {"weight": 0.8, "confidence": 0.64, "type": "inter_cluster", "style": "solid"}], ["Resource Management", "Regional Biodiversity Impact", {"weight": 1.0, "confidence": 0.7625000000000001, "type": "inter_cluster", "style": "solid"}], ["Resource Management", "Oyster Reef Development", {"weight": 0.8, "confidence": 0.5900000000000001, "type": "inter_cluster", "style": "solid"}], ["Resource Management", "Coastal Habitat Management", {"weight": -0.75, "confidence": 0.5875, "type": "inter_cluster", "style": "solid"}], ["Resource Management", "Fisheries Species", {"weight": 0.6666666666666666, "confidence": 0.48333333333333334, "type": "inter_cluster", "style": "solid"}], ["Resource Management", "Oyster Reef Resilience", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Regional Biodiversity Impact", "fish and wildlife service", {"weight": 1.0, "confidence": 0.7625000000000001, "type": "inter_cluster", "style": "solid"}], ["Regional Biodiversity Impact", "Coastal Habitat Management", {"weight": -0.8, "confidence": 0.6399999999999999, "type": "inter_cluster", "style": "solid"}], ["Regional Biodiversity Impact", "Fisheries Habitat", {"weight": 0.8, "confidence": 0.6300000000000001, "type": "inter_cluster", "style": "solid"}], ["Regional Biodiversity Impact", "Species Conservation", {"weight": 0.75, "confidence": 0.575, "type": "inter_cluster", "style": "solid"}], ["Regional Biodiversity Impact", "Fisheries Species", {"weight": 0.75, "confidence": 0.575, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitat Management", "Resource Management", {"weight": -0.2, "confidence": 0.78, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitat Management", "Regional Biodiversity Impact", {"weight": -0.2, "confidence": 0.76, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitat Management", "Oyster Reef Resilience", {"weight": -0.4, "confidence": 0.64, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitat Management", "Species Conservation", {"weight": -0.8, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitat Management", "fish and wildlife service", {"weight": -0.2, "confidence": 0.44000000000000006, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitat Management", "Fisheries Habitat", {"weight": -0.75, "confidence": 0.625, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitat Management", "Fisheries Species", {"weight": -0.75, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Oyster Reef Development", "Coastal Habitat Management", {"weight": -0.75, "confidence": 0.575, "type": "inter_cluster", "style": "solid"}], ["Oyster Reef Development", "Regional Biodiversity Impact", {"weight": 0.6, "confidence": 0.44000000000000006, "type": "inter_cluster", "style": "solid"}], ["Oyster Reef Development", "fish and wildlife service", {"weight": 0.4, "confidence": 0.27999999999999997, "type": "inter_cluster", "style": "solid"}], ["Oyster Reef Development", "Resource Management", {"weight": 0.3333333333333333, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}], ["Oyster Reef Resilience", "Fisheries Habitat", {"weight": 1.0, "confidence": 0.8400000000000001, "type": "inter_cluster", "style": "solid"}], ["Oyster Reef Resilience", "Oyster Reef Development", {"weight": 1.0, "confidence": 0.8400000000000001, "type": "inter_cluster", "style": "solid"}], ["Oyster Reef Resilience", "Coastal Habitat Management", {"weight": -0.4, "confidence": 0.6399999999999999, "type": "inter_cluster", "style": "solid"}], ["Oyster Reef Resilience", "Fisheries Species", {"weight": 0.4, "confidence": 0.63, "type": "inter_cluster", "style": "solid"}], ["Oyster Reef Resilience", "Regional Biodiversity Impact", {"weight": 1.0, "confidence": 0.7333333333333334, "type": "inter_cluster", "style": "solid"}], ["Fisheries Species", "fish and wildlife service", {"weight": 0.6, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Fisheries Species", "Resource Management", {"weight": 0.4, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Fisheries Species", "Oyster Reef Development", {"weight": 0.25, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Fisheries Species", "Fisheries Habitat", {"weight": 0.6, "confidence": 0.53, "type": "inter_cluster", "style": "solid"}], ["Fisheries Species", "Coastal Habitat Management", {"weight": -0.6666666666666666, "confidence": 0.5166666666666667, "type": "inter_cluster", "style": "solid"}], ["Fisheries Species", "Oyster Reef Resilience", {"weight": 0.6666666666666666, "confidence": 0.5166666666666667, "type": "inter_cluster", "style": "solid"}], ["Fisheries Habitat", "Fisheries Species", {"weight": 0.8, "confidence": 0.6900000000000001, "type": "inter_cluster", "style": "solid"}], ["Fisheries Habitat", "Species Conservation", {"weight": 0.8, "confidence": 0.67, "type": "inter_cluster", "style": "solid"}], ["Fisheries Habitat", "Oyster Reef Resilience", {"weight": 1.0, "confidence": 0.7750000000000001, "type": "inter_cluster", "style": "solid"}], ["Fisheries Habitat", "Coastal Habitat Management", {"weight": -0.5, "confidence": 0.7625, "type": "inter_cluster", "style": "solid"}], ["Fisheries Habitat", "Oyster Reef Development", {"weight": 0.6666666666666666, "confidence": 0.5333333333333333, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Species Conservation": [["habitat", {"concepts": "habitat", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "habitat"}], ["estuaries", {"concepts": "estuaries", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "estuaries"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "habitat forming species"}], ["shoreline protection", {"concepts": "shoreline protection", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "shoreline protection"}], ["habitat provision", {"concepts": "habitat provision", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "habitat provision"}], ["introductions", {"concepts": "introductions", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "introductions"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "climate change"}], ["coastal biodiversity", {"concepts": "coastal biodiversity", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "coastal biodiversity"}], ["coastal biodiversity management", {"concepts": "coastal biodiversity management", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "coastal biodiversity management"}], ["near-shore biodiversity", {"concepts": "near-shore biodiversity", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "near-shore biodiversity"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "ecosystem services"}], ["habitat restoration", {"concepts": "habitat restoration", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "habitat restoration"}], ["habitat restoration impact", {"concepts": "habitat restoration impact", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "habitat restoration impact"}], ["coastal habitats", {"concepts": "coastal habitats", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "coastal habitats"}], ["living shorelines", {"concepts": "living shorelines", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "living shorelines"}], ["wetland restoration", {"concepts": "wetland restoration", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "wetland restoration"}], ["wetland ecology", {"concepts": "wetland ecology", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "wetland ecology"}], ["improving habitat", {"concepts": "improving habitat", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "improving habitat"}]], "Resource Management": [["species conservation", {"concepts": "species conservation", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "species conservation"}], ["species of concern", {"concepts": "species of concern", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "species of concern"}], ["beach mouse", {"concepts": "beach mouse", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "beach mouse"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "biodiversity"}], ["species diversity", {"concepts": "species diversity", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "species diversity"}], ["species", {"concepts": "species", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "species"}], ["conservation projects", {"concepts": "conservation projects", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "conservation projects"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "species of conservation concern"}], ["conservation species", {"concepts": "conservation species", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "conservation species"}], ["food-web supporting species", {"concepts": "food-web supporting species", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "food-web supporting species"}], ["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "conservation concern"}], ["conservation", {"concepts": "conservation", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "conservation"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "invasive species"}], ["invasions", {"concepts": "invasions", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "invasions"}], ["marine biodiversity", {"concepts": "marine biodiversity", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "marine biodiversity"}], ["species specific conservation", {"concepts": "species specific conservation", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "species specific conservation"}], ["native species", {"concepts": "native species", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "native species"}], ["liability", {"concepts": "liability", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "liability"}], ["panama city", {"concepts": "panama city", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "panama city"}], ["regulatory stance", {"concepts": "regulatory stance", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "regulatory stance"}], ["positive high", {"concepts": "positive high", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "positive high"}], ["food-web species", {"concepts": "food-web species", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "food-web species"}], ["foundation species", {"concepts": "foundation species", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "foundation species"}], ["mississippi", {"concepts": "mississippi", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "mississippi"}], ["negative mid", {"concepts": "negative mid", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "negative mid"}], ["biodiversity initiatives", {"concepts": "biodiversity initiatives", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "biodiversity initiatives"}], ["marine debris", {"concepts": "marine debris", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "marine debris"}], ["negative impact", {"concepts": "negative impact", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "negative impact"}], ["key food-web supporting species", {"concepts": "key food-web supporting species", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "key food-web supporting species"}], ["water quality impact", {"concepts": "water quality impact", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "water quality impact"}], ["mississippi state", {"concepts": "mississippi state", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "mississippi state"}], ["texas", {"concepts": "texas", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "texas"}], ["range expansion", {"concepts": "range expansion", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "range expansion"}], ["high impact", {"concepts": "high impact", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "high impact"}], ["low impact", {"concepts": "low impact", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "low impact"}], ["florida.", {"concepts": "florida.", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "florida."}], ["florida", {"concepts": "florida", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "florida"}], ["alabama", {"concepts": "alabama", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "alabama"}], ["car crash", {"concepts": "car crash", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "car crash"}], ["driving", {"concepts": "driving", "type": "concept", "cluster": "Resource Management", "node_size": 10, "label": "driving"}]], "Regional Biodiversity Impact": [["concept list", {"concepts": "concept list", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "concept list"}], ["litter work", {"concepts": "litter work", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "litter work"}], ["manage", {"concepts": "manage", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "manage"}], ["education", {"concepts": "education", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "education"}], ["oa impact", {"concepts": "oa impact", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "oa impact"}], ["center concepts", {"concepts": "center concepts", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "center concepts"}], ["management", {"concepts": "management", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "management"}], ["steven's group", {"concepts": "steven's group", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "steven's group"}], ["management impact", {"concepts": "management impact", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "management impact"}], ["applied research", {"concepts": "applied research", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "applied research"}], ["protection work", {"concepts": "protection work", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "protection work"}], ["positive low", {"concepts": "positive low", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "positive low"}], ["number of native species", {"concepts": "number of native species", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "number of native species"}], ["relationships", {"concepts": "relationships", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "relationships"}], ["research projects", {"concepts": "research projects", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "research projects"}], ["positive mid", {"concepts": "positive mid", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "positive mid"}], ["transcription", {"concepts": "transcription", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "transcription"}], ["map", {"concepts": "map", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "map"}], ["shoreline development impact", {"concepts": "shoreline development impact", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "shoreline development impact"}], ["experts", {"concepts": "experts", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "experts"}], ["screen", {"concepts": "screen", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "screen"}], ["mississippi sea grant", {"concepts": "mississippi sea grant", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "mississippi sea grant"}], ["system dynamics", {"concepts": "system dynamics", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "system dynamics"}], ["management approaches", {"concepts": "management approaches", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "management approaches"}], ["weights", {"concepts": "weights", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "weights"}], ["natural resource management", {"concepts": "natural resource management", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "natural resource management"}], ["components", {"concepts": "components", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "components"}], ["sarah", {"concepts": "sarah", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "sarah"}], ["impact", {"concepts": "impact", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "impact"}], ["single species management impact", {"concepts": "single species management impact", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "single species management impact"}], ["marine science", {"concepts": "marine science", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "marine science"}], ["key food-web", {"concepts": "key food-web", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "key food-web"}], ["nutrient removal", {"concepts": "nutrient removal", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "nutrient removal"}], ["background", {"concepts": "background", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "background"}], ["improving water quality", {"concepts": "improving water quality", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "improving water quality"}], ["single species management", {"concepts": "single species management", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "single species management"}], ["medium impact", {"concepts": "medium impact", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "medium impact"}], ["shoreline management", {"concepts": "shoreline management", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "shoreline management"}], ["habitat forming", {"concepts": "habitat forming", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "habitat forming"}], ["stressors", {"concepts": "stressors", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "stressors"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "mental modeler"}], ["positive impact", {"concepts": "positive impact", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "positive impact"}], ["mental model", {"concepts": "mental model", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "mental model"}], ["study area", {"concepts": "study area", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "study area"}], ["mental modeling", {"concepts": "mental modeling", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "mental modeling"}], ["water quality", {"concepts": "water quality", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "water quality"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "harmful organisms"}], ["single species impact", {"concepts": "single species impact", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "single species impact"}], ["shoreline restoration", {"concepts": "shoreline restoration", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "shoreline restoration"}], ["marine bio", {"concepts": "marine bio", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "marine bio"}], ["shell-forming organisms", {"concepts": "shell-forming organisms", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "shell-forming organisms"}], ["steven", {"concepts": "steven", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "steven"}], ["key aspects", {"concepts": "key aspects", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "key aspects"}], ["restoration", {"concepts": "restoration", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "restoration"}], ["outreach activities", {"concepts": "outreach activities", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "outreach activities"}], ["coastal management", {"concepts": "coastal management", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "coastal management"}], ["nutrient removal impact", {"concepts": "nutrient removal impact", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "nutrient removal impact"}], ["expertise", {"concepts": "expertise", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "expertise"}], ["neutral", {"concepts": "neutral", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "neutral"}], ["oa", {"concepts": "oa", "type": "concept", "cluster": "Regional Biodiversity Impact", "node_size": 10, "label": "oa"}]], "Coastal Habitat Management": [["shoreline development", {"concepts": "shoreline development", "type": "concept", "cluster": "Coastal Habitat Management", "node_size": 10, "label": "shoreline development"}], ["ocean acidification", {"concepts": "ocean acidification", "type": "concept", "cluster": "Coastal Habitat Management", "node_size": 10, "label": "ocean acidification"}], ["government", {"concepts": "government", "type": "concept", "cluster": "Coastal Habitat Management", "node_size": 10, "label": "government"}]], "Oyster Reef Development": [["oyster reef development impact", {"concepts": "oyster reef development impact", "type": "concept", "cluster": "Oyster Reef Development", "node_size": 10, "label": "oyster reef development impact"}], ["oyster reef restoration", {"concepts": "oyster reef restoration", "type": "concept", "cluster": "Oyster Reef Development", "node_size": 10, "label": "oyster reef restoration"}], ["oyster reef development", {"concepts": "oyster reef development", "type": "concept", "cluster": "Oyster Reef Development", "node_size": 10, "label": "oyster reef development"}]], "Oyster Reef Resilience": [["oyster reef resiliency", {"concepts": "oyster reef resiliency", "type": "concept", "cluster": "Oyster Reef Resilience", "node_size": 10, "label": "oyster reef resiliency"}], ["oyster reef research", {"concepts": "oyster reef research", "type": "concept", "cluster": "Oyster Reef Resilience", "node_size": 10, "label": "oyster reef research"}], ["oyster reef predators", {"concepts": "oyster reef predators", "type": "concept", "cluster": "Oyster Reef Resilience", "node_size": 10, "label": "oyster reef predators"}], ["resilient oyster reef", {"concepts": "resilient oyster reef", "type": "concept", "cluster": "Oyster Reef Resilience", "node_size": 10, "label": "resilient oyster reef"}], ["oyster reefs", {"concepts": "oyster reefs", "type": "concept", "cluster": "Oyster Reef Resilience", "node_size": 10, "label": "oyster reefs"}]], "Fisheries Species": [["fisheries species", {"concepts": "fisheries species", "type": "concept", "cluster": "Fisheries Species", "node_size": 10, "label": "fisheries species"}], ["fishery species", {"concepts": "fishery species", "type": "concept", "cluster": "Fisheries Species", "node_size": 10, "label": "fishery species"}], ["fisheries", {"concepts": "fisheries", "type": "concept", "cluster": "Fisheries Species", "node_size": 10, "label": "fisheries"}], ["fisheries dependent organisms", {"concepts": "fisheries dependent organisms", "type": "concept", "cluster": "Fisheries Species", "node_size": 10, "label": "fisheries dependent organisms"}]], "Fisheries Habitat": [["habitat for fisheries species", {"concepts": "habitat for fisheries species", "type": "concept", "cluster": "Fisheries Habitat", "node_size": 10, "label": "habitat for fisheries species"}], ["habitat for fishery species", {"concepts": "habitat for fishery species", "type": "concept", "cluster": "Fisheries Habitat", "node_size": 10, "label": "habitat for fishery species"}], ["habitat for fisheries", {"concepts": "habitat for fisheries", "type": "concept", "cluster": "Fisheries Habitat", "node_size": 10, "label": "habitat for fisheries"}], ["habitat fisheries", {"concepts": "habitat fisheries", "type": "concept", "cluster": "Fisheries Habitat", "node_size": 10, "label": "habitat fisheries"}]]};
        const clusterEdges = {"Species Conservation": [], "Resource Management": [], "Regional Biodiversity Impact": [], "Coastal Habitat Management": [], "Oyster Reef Development": [], "Oyster Reef Resilience": [], "Fisheries Species": [], "Fisheries Habitat": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
