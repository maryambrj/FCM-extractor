
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"customers": {"concepts": "customers", "concept_list": ["customers"], "type": "cluster", "node_size": 18, "label": "customers"}, "meat-haulers": {"concepts": "meat-haulers", "concept_list": ["meat-haulers"], "type": "cluster", "node_size": 18, "label": "meat-haulers"}, "financial impact": {"concepts": "financial impact", "concept_list": ["financial impact"], "type": "cluster", "node_size": 18, "label": "financial impact"}, "Environment & Location": {"concepts": "stakeholders, facebook, online presence, social media, yelp, twitter, youtube, online platforms, tripadvisor, instagram, marketing skills, social dynamics, marketing, sales, customer booking, educating customers, customer experience, customer satisfaction, customer retention, customer types, customer location", "concept_list": ["stakeholders", "facebook", "online presence", "social media", "yelp", "twitter", "youtube", "online platforms", "tripadvisor", "instagram", "marketing skills", "social dynamics", "marketing", "sales", "customer booking", "educating customers", "customer experience", "customer satisfaction", "customer retention", "customer types", "customer location"], "type": "cluster", "node_size": 78, "label": "Environment & Location"}, "Career & Management": {"concepts": "seasonality, tide levels, boat traffic, environmental factors, tag alabama, science, tagging program, tag and release, diverse catching, alabama, general region", "concept_list": ["seasonality", "tide levels", "boat traffic", "environmental factors", "tag alabama", "science", "tagging program", "tag and release", "diverse catching", "alabama", "general region"], "type": "cluster", "node_size": 48, "label": "Career & Management"}, "Community & Growth": {"concepts": "bait type, old gray-haired lady, risky decision, risky, emotional decision, short-term career, stress, job uncertainty, new captains, captain experience, career change, career anxiety, negative impact, resource depletion, negative reviews, negative competition, scarcity mindset, sleepless nights, management experience, workload management, management, management decisions, employee impact", "concept_list": ["bait type", "old gray-haired lady", "risky decision", "risky", "emotional decision", "short-term career", "stress", "job uncertainty", "new captains", "captain experience", "career change", "career anxiety", "negative impact", "resource depletion", "negative reviews", "negative competition", "scarcity mindset", "sleepless nights", "management experience", "workload management", "management", "management decisions", "employee impact"], "type": "cluster", "node_size": 84, "label": "Community & Growth"}, "Holistic Life Success": {"concepts": "podcast, positive feedback, competition, self help, real jobs, captain's license, guiding, education level, regular customers, local people, abundance mindset, social aspect, family, family vacations, golf course management, entertainment, equity, workshop, goals, faith, self-help, networking, work-life balance, personal goals, group behavior, podcasts, healthy economy", "concept_list": ["podcast", "positive feedback", "competition", "self help", "real jobs", "captain's license", "guiding", "education level", "regular customers", "local people", "abundance mindset", "social aspect", "family", "family vacations", "golf course management", "entertainment", "equity", "workshop", "goals", "faith", "self-help", "networking", "work-life balance", "personal goals", "group behavior", "podcasts", "healthy economy"], "type": "cluster", "node_size": 96, "label": "Holistic Life Success"}, "Marine Ecosystem": {"concepts": "redfish, fishery management, catch limits, fish diversity, tagging fish, marine mammals, healthy fishery, fish migrations, redfish regulation, water quality, water conditions, plant health, grass beds, oyster reefs, coastal birds", "concept_list": ["redfish", "fishery management", "catch limits", "fish diversity", "tagging fish", "marine mammals", "healthy fishery", "fish migrations", "redfish regulation", "water quality", "water conditions", "plant health", "grass beds", "oyster reefs", "coastal birds"], "type": "cluster", "node_size": 60, "label": "Marine Ecosystem"}, "Fishing Information": {"concepts": "fishing locations, fishing trip, fishing reports, fishing location, fishing information, fishing advice, fishing style, fishing business, fishing industry", "concept_list": ["fishing locations", "fishing trip", "fishing reports", "fishing location", "fishing information", "fishing advice", "fishing style", "fishing business", "fishing industry"], "type": "cluster", "node_size": 42, "label": "Fishing Information"}, "Flounder Decline Factors": {"concepts": "oil spill, freshwater runoff, fishery health, wintertime fishing, river levels, flounder decline, winter fishing, fish patterns, recreational anglers, low-hanging fruit", "concept_list": ["oil spill", "freshwater runoff", "fishery health", "wintertime fishing", "river levels", "flounder decline", "winter fishing", "fish patterns", "recreational anglers", "low-hanging fruit"], "type": "cluster", "node_size": 45, "label": "Flounder Decline Factors"}, "Boat Affordability": {"concepts": "boat purchases, interest rates, income potential", "concept_list": ["boat purchases", "interest rates", "income potential"], "type": "cluster", "node_size": 24, "label": "Boat Affordability"}, "Business Acumen": {"concepts": "business reputation, financial success, business growth, business savviness", "concept_list": ["business reputation", "financial success", "business growth", "business savviness"], "type": "cluster", "node_size": 27, "label": "Business Acumen"}, "New Business Focus": {"concepts": "business outreach, business foundations, new business", "concept_list": ["business outreach", "business foundations", "new business"], "type": "cluster", "node_size": 24, "label": "New Business Focus"}};
        const conceptData = {"stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "stakeholders"}, "facebook": {"concepts": "facebook", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "facebook"}, "online presence": {"concepts": "online presence", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "online presence"}, "social media": {"concepts": "social media", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "social media"}, "yelp": {"concepts": "yelp", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "yelp"}, "twitter": {"concepts": "twitter", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "twitter"}, "youtube": {"concepts": "youtube", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "youtube"}, "online platforms": {"concepts": "online platforms", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "online platforms"}, "tripadvisor": {"concepts": "tripadvisor", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "tripadvisor"}, "instagram": {"concepts": "instagram", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "instagram"}, "marketing skills": {"concepts": "marketing skills", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "marketing skills"}, "social dynamics": {"concepts": "social dynamics", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "social dynamics"}, "marketing": {"concepts": "marketing", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "marketing"}, "sales": {"concepts": "sales", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "sales"}, "customer booking": {"concepts": "customer booking", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "customer booking"}, "educating customers": {"concepts": "educating customers", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "educating customers"}, "customer experience": {"concepts": "customer experience", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "customer experience"}, "customer satisfaction": {"concepts": "customer satisfaction", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "customer satisfaction"}, "customer retention": {"concepts": "customer retention", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "customer retention"}, "customer types": {"concepts": "customer types", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "customer types"}, "customer location": {"concepts": "customer location", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "customer location"}, "seasonality": {"concepts": "seasonality", "type": "concept", "cluster": "Career & Management", "node_size": 10, "label": "seasonality"}, "tide levels": {"concepts": "tide levels", "type": "concept", "cluster": "Career & Management", "node_size": 10, "label": "tide levels"}, "boat traffic": {"concepts": "boat traffic", "type": "concept", "cluster": "Career & Management", "node_size": 10, "label": "boat traffic"}, "environmental factors": {"concepts": "environmental factors", "type": "concept", "cluster": "Career & Management", "node_size": 10, "label": "environmental factors"}, "tag alabama": {"concepts": "tag alabama", "type": "concept", "cluster": "Career & Management", "node_size": 10, "label": "tag alabama"}, "science": {"concepts": "science", "type": "concept", "cluster": "Career & Management", "node_size": 10, "label": "science"}, "tagging program": {"concepts": "tagging program", "type": "concept", "cluster": "Career & Management", "node_size": 10, "label": "tagging program"}, "tag and release": {"concepts": "tag and release", "type": "concept", "cluster": "Career & Management", "node_size": 10, "label": "tag and release"}, "diverse catching": {"concepts": "diverse catching", "type": "concept", "cluster": "Career & Management", "node_size": 10, "label": "diverse catching"}, "alabama": {"concepts": "alabama", "type": "concept", "cluster": "Career & Management", "node_size": 10, "label": "alabama"}, "general region": {"concepts": "general region", "type": "concept", "cluster": "Career & Management", "node_size": 10, "label": "general region"}, "bait type": {"concepts": "bait type", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "bait type"}, "old gray-haired lady": {"concepts": "old gray-haired lady", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "old gray-haired lady"}, "risky decision": {"concepts": "risky decision", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "risky decision"}, "risky": {"concepts": "risky", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "risky"}, "emotional decision": {"concepts": "emotional decision", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "emotional decision"}, "short-term career": {"concepts": "short-term career", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "short-term career"}, "stress": {"concepts": "stress", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "stress"}, "job uncertainty": {"concepts": "job uncertainty", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "job uncertainty"}, "new captains": {"concepts": "new captains", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "new captains"}, "captain experience": {"concepts": "captain experience", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "captain experience"}, "career change": {"concepts": "career change", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "career change"}, "career anxiety": {"concepts": "career anxiety", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "career anxiety"}, "negative impact": {"concepts": "negative impact", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "negative impact"}, "resource depletion": {"concepts": "resource depletion", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "resource depletion"}, "negative reviews": {"concepts": "negative reviews", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "negative reviews"}, "negative competition": {"concepts": "negative competition", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "negative competition"}, "scarcity mindset": {"concepts": "scarcity mindset", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "scarcity mindset"}, "sleepless nights": {"concepts": "sleepless nights", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "sleepless nights"}, "management experience": {"concepts": "management experience", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "management experience"}, "workload management": {"concepts": "workload management", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "workload management"}, "management": {"concepts": "management", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "management"}, "management decisions": {"concepts": "management decisions", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "management decisions"}, "employee impact": {"concepts": "employee impact", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "employee impact"}, "podcast": {"concepts": "podcast", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "podcast"}, "positive feedback": {"concepts": "positive feedback", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "positive feedback"}, "competition": {"concepts": "competition", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "competition"}, "self help": {"concepts": "self help", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "self help"}, "real jobs": {"concepts": "real jobs", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "real jobs"}, "captain's license": {"concepts": "captain's license", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "captain's license"}, "guiding": {"concepts": "guiding", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "guiding"}, "education level": {"concepts": "education level", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "education level"}, "regular customers": {"concepts": "regular customers", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "regular customers"}, "local people": {"concepts": "local people", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "local people"}, "abundance mindset": {"concepts": "abundance mindset", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "abundance mindset"}, "social aspect": {"concepts": "social aspect", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "social aspect"}, "family": {"concepts": "family", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "family"}, "family vacations": {"concepts": "family vacations", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "family vacations"}, "golf course management": {"concepts": "golf course management", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "golf course management"}, "entertainment": {"concepts": "entertainment", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "entertainment"}, "equity": {"concepts": "equity", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "equity"}, "workshop": {"concepts": "workshop", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "workshop"}, "goals": {"concepts": "goals", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "goals"}, "faith": {"concepts": "faith", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "faith"}, "self-help": {"concepts": "self-help", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "self-help"}, "networking": {"concepts": "networking", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "networking"}, "work-life balance": {"concepts": "work-life balance", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "work-life balance"}, "personal goals": {"concepts": "personal goals", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "personal goals"}, "group behavior": {"concepts": "group behavior", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "group behavior"}, "podcasts": {"concepts": "podcasts", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "podcasts"}, "healthy economy": {"concepts": "healthy economy", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "healthy economy"}, "redfish": {"concepts": "redfish", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "redfish"}, "fishery management": {"concepts": "fishery management", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "fishery management"}, "catch limits": {"concepts": "catch limits", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "catch limits"}, "fish diversity": {"concepts": "fish diversity", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "fish diversity"}, "tagging fish": {"concepts": "tagging fish", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "tagging fish"}, "marine mammals": {"concepts": "marine mammals", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "marine mammals"}, "healthy fishery": {"concepts": "healthy fishery", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "healthy fishery"}, "fish migrations": {"concepts": "fish migrations", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "fish migrations"}, "redfish regulation": {"concepts": "redfish regulation", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "redfish regulation"}, "water quality": {"concepts": "water quality", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "water quality"}, "water conditions": {"concepts": "water conditions", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "water conditions"}, "plant health": {"concepts": "plant health", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "plant health"}, "grass beds": {"concepts": "grass beds", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "grass beds"}, "oyster reefs": {"concepts": "oyster reefs", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "oyster reefs"}, "coastal birds": {"concepts": "coastal birds", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "coastal birds"}, "fishing locations": {"concepts": "fishing locations", "type": "concept", "cluster": "Fishing Information", "node_size": 10, "label": "fishing locations"}, "fishing trip": {"concepts": "fishing trip", "type": "concept", "cluster": "Fishing Information", "node_size": 10, "label": "fishing trip"}, "fishing reports": {"concepts": "fishing reports", "type": "concept", "cluster": "Fishing Information", "node_size": 10, "label": "fishing reports"}, "fishing location": {"concepts": "fishing location", "type": "concept", "cluster": "Fishing Information", "node_size": 10, "label": "fishing location"}, "fishing information": {"concepts": "fishing information", "type": "concept", "cluster": "Fishing Information", "node_size": 10, "label": "fishing information"}, "fishing advice": {"concepts": "fishing advice", "type": "concept", "cluster": "Fishing Information", "node_size": 10, "label": "fishing advice"}, "fishing style": {"concepts": "fishing style", "type": "concept", "cluster": "Fishing Information", "node_size": 10, "label": "fishing style"}, "fishing business": {"concepts": "fishing business", "type": "concept", "cluster": "Fishing Information", "node_size": 10, "label": "fishing business"}, "fishing industry": {"concepts": "fishing industry", "type": "concept", "cluster": "Fishing Information", "node_size": 10, "label": "fishing industry"}, "oil spill": {"concepts": "oil spill", "type": "concept", "cluster": "Flounder Decline Factors", "node_size": 10, "label": "oil spill"}, "freshwater runoff": {"concepts": "freshwater runoff", "type": "concept", "cluster": "Flounder Decline Factors", "node_size": 10, "label": "freshwater runoff"}, "fishery health": {"concepts": "fishery health", "type": "concept", "cluster": "Flounder Decline Factors", "node_size": 10, "label": "fishery health"}, "wintertime fishing": {"concepts": "wintertime fishing", "type": "concept", "cluster": "Flounder Decline Factors", "node_size": 10, "label": "wintertime fishing"}, "river levels": {"concepts": "river levels", "type": "concept", "cluster": "Flounder Decline Factors", "node_size": 10, "label": "river levels"}, "flounder decline": {"concepts": "flounder decline", "type": "concept", "cluster": "Flounder Decline Factors", "node_size": 10, "label": "flounder decline"}, "winter fishing": {"concepts": "winter fishing", "type": "concept", "cluster": "Flounder Decline Factors", "node_size": 10, "label": "winter fishing"}, "fish patterns": {"concepts": "fish patterns", "type": "concept", "cluster": "Flounder Decline Factors", "node_size": 10, "label": "fish patterns"}, "recreational anglers": {"concepts": "recreational anglers", "type": "concept", "cluster": "Flounder Decline Factors", "node_size": 10, "label": "recreational anglers"}, "low-hanging fruit": {"concepts": "low-hanging fruit", "type": "concept", "cluster": "Flounder Decline Factors", "node_size": 10, "label": "low-hanging fruit"}, "boat purchases": {"concepts": "boat purchases", "type": "concept", "cluster": "Boat Affordability", "node_size": 10, "label": "boat purchases"}, "interest rates": {"concepts": "interest rates", "type": "concept", "cluster": "Boat Affordability", "node_size": 10, "label": "interest rates"}, "income potential": {"concepts": "income potential", "type": "concept", "cluster": "Boat Affordability", "node_size": 10, "label": "income potential"}, "business reputation": {"concepts": "business reputation", "type": "concept", "cluster": "Business Acumen", "node_size": 10, "label": "business reputation"}, "financial success": {"concepts": "financial success", "type": "concept", "cluster": "Business Acumen", "node_size": 10, "label": "financial success"}, "business growth": {"concepts": "business growth", "type": "concept", "cluster": "Business Acumen", "node_size": 10, "label": "business growth"}, "business savviness": {"concepts": "business savviness", "type": "concept", "cluster": "Business Acumen", "node_size": 10, "label": "business savviness"}, "business outreach": {"concepts": "business outreach", "type": "concept", "cluster": "New Business Focus", "node_size": 10, "label": "business outreach"}, "business foundations": {"concepts": "business foundations", "type": "concept", "cluster": "New Business Focus", "node_size": 10, "label": "business foundations"}, "new business": {"concepts": "new business", "type": "concept", "cluster": "New Business Focus", "node_size": 10, "label": "new business"}};
        const interClusterEdges = [["customers", "financial impact", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["customers", "New Business Focus", {"weight": 0.75, "confidence": 0.275, "type": "inter_cluster", "style": "solid"}], ["customers", "Career & Management", {"weight": 1.0, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["customers", "Fishing Information", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["meat-haulers", "customers", {"weight": 1.0, "confidence": 0.44000000000000006, "type": "inter_cluster", "style": "solid"}], ["meat-haulers", "financial impact", {"weight": 1.0, "confidence": 0.32, "type": "inter_cluster", "style": "solid"}], ["meat-haulers", "Environment & Location", {"weight": -0.8, "confidence": 0.19, "type": "inter_cluster", "style": "solid"}], ["financial impact", "customers", {"weight": 1.0, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["financial impact", "New Business Focus", {"weight": 1.0, "confidence": 0.35000000000000003, "type": "inter_cluster", "style": "solid"}], ["financial impact", "Marine Ecosystem", {"weight": 0.25, "confidence": 0.1875, "type": "inter_cluster", "style": "solid"}], ["financial impact", "Community & Growth", {"weight": 1.0, "confidence": 0.2, "type": "inter_cluster", "style": "solid"}], ["Environment & Location", "Marine Ecosystem", {"weight": 1.0, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Environment & Location", "Boat Affordability", {"weight": 0.75, "confidence": 0.1875, "type": "inter_cluster", "style": "solid"}], ["Environment & Location", "Career & Management", {"weight": 0.5, "confidence": 0.2, "type": "inter_cluster", "style": "solid"}], ["Career & Management", "Flounder Decline Factors", {"weight": 0.75, "confidence": 0.30000000000000004, "type": "inter_cluster", "style": "solid"}], ["Career & Management", "Community & Growth", {"weight": 0.25, "confidence": 0.3125, "type": "inter_cluster", "style": "solid"}], ["Holistic Life Success", "New Business Focus", {"weight": 1.0, "confidence": 0.6124999999999999, "type": "inter_cluster", "style": "solid"}], ["Holistic Life Success", "financial impact", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Holistic Life Success", "customers", {"weight": 1.0, "confidence": 0.47500000000000003, "type": "inter_cluster", "style": "solid"}], ["Holistic Life Success", "Community & Growth", {"weight": 1.0, "confidence": 0.325, "type": "inter_cluster", "style": "solid"}], ["Holistic Life Success", "Marine Ecosystem", {"weight": 0.75, "confidence": 0.26249999999999996, "type": "inter_cluster", "style": "solid"}], ["Holistic Life Success", "meat-haulers", {"weight": -0.2, "confidence": 0.13999999999999999, "type": "inter_cluster", "style": "solid"}], ["Holistic Life Success", "Flounder Decline Factors", {"weight": 0.3333333333333333, "confidence": 0.09999999999999999, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystem", "New Business Focus", {"weight": 1.0, "confidence": 0.15, "type": "inter_cluster", "style": "solid"}], ["Fishing Information", "Career & Management", {"weight": 1.0, "confidence": 0.64, "type": "inter_cluster", "style": "solid"}], ["Fishing Information", "Business Acumen", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["Fishing Information", "customers", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["Flounder Decline Factors", "Community & Growth", {"weight": 1.0, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Flounder Decline Factors", "Holistic Life Success", {"weight": 0.3333333333333333, "confidence": 0.03333333333333333, "type": "inter_cluster", "style": "solid"}], ["Boat Affordability", "New Business Focus", {"weight": 0.75, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}], ["Business Acumen", "financial impact", {"weight": 1.0, "confidence": 0.8833333333333334, "type": "inter_cluster", "style": "solid"}], ["Business Acumen", "Environment & Location", {"weight": 1.0, "confidence": 0.6625000000000001, "type": "inter_cluster", "style": "solid"}], ["Business Acumen", "Marine Ecosystem", {"weight": 1.0, "confidence": 0.3333333333333333, "type": "inter_cluster", "style": "solid"}], ["Business Acumen", "Community & Growth", {"weight": 0.6666666666666666, "confidence": 0.2333333333333333, "type": "inter_cluster", "style": "solid"}], ["New Business Focus", "customers", {"weight": 1.0, "confidence": 0.7124999999999999, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Environment & Location": [["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "stakeholders"}], ["facebook", {"concepts": "facebook", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "facebook"}], ["online presence", {"concepts": "online presence", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "online presence"}], ["social media", {"concepts": "social media", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "social media"}], ["yelp", {"concepts": "yelp", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "yelp"}], ["twitter", {"concepts": "twitter", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "twitter"}], ["youtube", {"concepts": "youtube", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "youtube"}], ["online platforms", {"concepts": "online platforms", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "online platforms"}], ["tripadvisor", {"concepts": "tripadvisor", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "tripadvisor"}], ["instagram", {"concepts": "instagram", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "instagram"}], ["marketing skills", {"concepts": "marketing skills", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "marketing skills"}], ["social dynamics", {"concepts": "social dynamics", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "social dynamics"}], ["marketing", {"concepts": "marketing", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "marketing"}], ["sales", {"concepts": "sales", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "sales"}], ["customer booking", {"concepts": "customer booking", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "customer booking"}], ["educating customers", {"concepts": "educating customers", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "educating customers"}], ["customer experience", {"concepts": "customer experience", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "customer experience"}], ["customer satisfaction", {"concepts": "customer satisfaction", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "customer satisfaction"}], ["customer retention", {"concepts": "customer retention", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "customer retention"}], ["customer types", {"concepts": "customer types", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "customer types"}], ["customer location", {"concepts": "customer location", "type": "concept", "cluster": "Environment & Location", "node_size": 10, "label": "customer location"}]], "Career & Management": [["seasonality", {"concepts": "seasonality", "type": "concept", "cluster": "Career & Management", "node_size": 10, "label": "seasonality"}], ["tide levels", {"concepts": "tide levels", "type": "concept", "cluster": "Career & Management", "node_size": 10, "label": "tide levels"}], ["boat traffic", {"concepts": "boat traffic", "type": "concept", "cluster": "Career & Management", "node_size": 10, "label": "boat traffic"}], ["environmental factors", {"concepts": "environmental factors", "type": "concept", "cluster": "Career & Management", "node_size": 10, "label": "environmental factors"}], ["tag alabama", {"concepts": "tag alabama", "type": "concept", "cluster": "Career & Management", "node_size": 10, "label": "tag alabama"}], ["science", {"concepts": "science", "type": "concept", "cluster": "Career & Management", "node_size": 10, "label": "science"}], ["tagging program", {"concepts": "tagging program", "type": "concept", "cluster": "Career & Management", "node_size": 10, "label": "tagging program"}], ["tag and release", {"concepts": "tag and release", "type": "concept", "cluster": "Career & Management", "node_size": 10, "label": "tag and release"}], ["diverse catching", {"concepts": "diverse catching", "type": "concept", "cluster": "Career & Management", "node_size": 10, "label": "diverse catching"}], ["alabama", {"concepts": "alabama", "type": "concept", "cluster": "Career & Management", "node_size": 10, "label": "alabama"}], ["general region", {"concepts": "general region", "type": "concept", "cluster": "Career & Management", "node_size": 10, "label": "general region"}]], "Community & Growth": [["bait type", {"concepts": "bait type", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "bait type"}], ["old gray-haired lady", {"concepts": "old gray-haired lady", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "old gray-haired lady"}], ["risky decision", {"concepts": "risky decision", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "risky decision"}], ["risky", {"concepts": "risky", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "risky"}], ["emotional decision", {"concepts": "emotional decision", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "emotional decision"}], ["short-term career", {"concepts": "short-term career", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "short-term career"}], ["stress", {"concepts": "stress", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "stress"}], ["job uncertainty", {"concepts": "job uncertainty", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "job uncertainty"}], ["new captains", {"concepts": "new captains", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "new captains"}], ["captain experience", {"concepts": "captain experience", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "captain experience"}], ["career change", {"concepts": "career change", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "career change"}], ["career anxiety", {"concepts": "career anxiety", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "career anxiety"}], ["negative impact", {"concepts": "negative impact", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "negative impact"}], ["resource depletion", {"concepts": "resource depletion", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "resource depletion"}], ["negative reviews", {"concepts": "negative reviews", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "negative reviews"}], ["negative competition", {"concepts": "negative competition", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "negative competition"}], ["scarcity mindset", {"concepts": "scarcity mindset", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "scarcity mindset"}], ["sleepless nights", {"concepts": "sleepless nights", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "sleepless nights"}], ["management experience", {"concepts": "management experience", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "management experience"}], ["workload management", {"concepts": "workload management", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "workload management"}], ["management", {"concepts": "management", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "management"}], ["management decisions", {"concepts": "management decisions", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "management decisions"}], ["employee impact", {"concepts": "employee impact", "type": "concept", "cluster": "Community & Growth", "node_size": 10, "label": "employee impact"}]], "Holistic Life Success": [["podcast", {"concepts": "podcast", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "podcast"}], ["positive feedback", {"concepts": "positive feedback", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "positive feedback"}], ["competition", {"concepts": "competition", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "competition"}], ["self help", {"concepts": "self help", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "self help"}], ["real jobs", {"concepts": "real jobs", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "real jobs"}], ["captain's license", {"concepts": "captain's license", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "captain's license"}], ["guiding", {"concepts": "guiding", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "guiding"}], ["education level", {"concepts": "education level", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "education level"}], ["regular customers", {"concepts": "regular customers", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "regular customers"}], ["local people", {"concepts": "local people", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "local people"}], ["abundance mindset", {"concepts": "abundance mindset", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "abundance mindset"}], ["social aspect", {"concepts": "social aspect", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "social aspect"}], ["family", {"concepts": "family", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "family"}], ["family vacations", {"concepts": "family vacations", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "family vacations"}], ["golf course management", {"concepts": "golf course management", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "golf course management"}], ["entertainment", {"concepts": "entertainment", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "entertainment"}], ["equity", {"concepts": "equity", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "equity"}], ["workshop", {"concepts": "workshop", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "workshop"}], ["goals", {"concepts": "goals", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "goals"}], ["faith", {"concepts": "faith", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "faith"}], ["self-help", {"concepts": "self-help", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "self-help"}], ["networking", {"concepts": "networking", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "networking"}], ["work-life balance", {"concepts": "work-life balance", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "work-life balance"}], ["personal goals", {"concepts": "personal goals", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "personal goals"}], ["group behavior", {"concepts": "group behavior", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "group behavior"}], ["podcasts", {"concepts": "podcasts", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "podcasts"}], ["healthy economy", {"concepts": "healthy economy", "type": "concept", "cluster": "Holistic Life Success", "node_size": 10, "label": "healthy economy"}]], "Marine Ecosystem": [["redfish", {"concepts": "redfish", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "redfish"}], ["fishery management", {"concepts": "fishery management", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "fishery management"}], ["catch limits", {"concepts": "catch limits", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "catch limits"}], ["fish diversity", {"concepts": "fish diversity", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "fish diversity"}], ["tagging fish", {"concepts": "tagging fish", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "tagging fish"}], ["marine mammals", {"concepts": "marine mammals", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "marine mammals"}], ["healthy fishery", {"concepts": "healthy fishery", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "healthy fishery"}], ["fish migrations", {"concepts": "fish migrations", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "fish migrations"}], ["redfish regulation", {"concepts": "redfish regulation", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "redfish regulation"}], ["water quality", {"concepts": "water quality", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "water quality"}], ["water conditions", {"concepts": "water conditions", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "water conditions"}], ["plant health", {"concepts": "plant health", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "plant health"}], ["grass beds", {"concepts": "grass beds", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "grass beds"}], ["oyster reefs", {"concepts": "oyster reefs", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "oyster reefs"}], ["coastal birds", {"concepts": "coastal birds", "type": "concept", "cluster": "Marine Ecosystem", "node_size": 10, "label": "coastal birds"}]], "Fishing Information": [["fishing locations", {"concepts": "fishing locations", "type": "concept", "cluster": "Fishing Information", "node_size": 10, "label": "fishing locations"}], ["fishing trip", {"concepts": "fishing trip", "type": "concept", "cluster": "Fishing Information", "node_size": 10, "label": "fishing trip"}], ["fishing reports", {"concepts": "fishing reports", "type": "concept", "cluster": "Fishing Information", "node_size": 10, "label": "fishing reports"}], ["fishing location", {"concepts": "fishing location", "type": "concept", "cluster": "Fishing Information", "node_size": 10, "label": "fishing location"}], ["fishing information", {"concepts": "fishing information", "type": "concept", "cluster": "Fishing Information", "node_size": 10, "label": "fishing information"}], ["fishing advice", {"concepts": "fishing advice", "type": "concept", "cluster": "Fishing Information", "node_size": 10, "label": "fishing advice"}], ["fishing style", {"concepts": "fishing style", "type": "concept", "cluster": "Fishing Information", "node_size": 10, "label": "fishing style"}], ["fishing business", {"concepts": "fishing business", "type": "concept", "cluster": "Fishing Information", "node_size": 10, "label": "fishing business"}], ["fishing industry", {"concepts": "fishing industry", "type": "concept", "cluster": "Fishing Information", "node_size": 10, "label": "fishing industry"}]], "Flounder Decline Factors": [["oil spill", {"concepts": "oil spill", "type": "concept", "cluster": "Flounder Decline Factors", "node_size": 10, "label": "oil spill"}], ["freshwater runoff", {"concepts": "freshwater runoff", "type": "concept", "cluster": "Flounder Decline Factors", "node_size": 10, "label": "freshwater runoff"}], ["fishery health", {"concepts": "fishery health", "type": "concept", "cluster": "Flounder Decline Factors", "node_size": 10, "label": "fishery health"}], ["wintertime fishing", {"concepts": "wintertime fishing", "type": "concept", "cluster": "Flounder Decline Factors", "node_size": 10, "label": "wintertime fishing"}], ["river levels", {"concepts": "river levels", "type": "concept", "cluster": "Flounder Decline Factors", "node_size": 10, "label": "river levels"}], ["flounder decline", {"concepts": "flounder decline", "type": "concept", "cluster": "Flounder Decline Factors", "node_size": 10, "label": "flounder decline"}], ["winter fishing", {"concepts": "winter fishing", "type": "concept", "cluster": "Flounder Decline Factors", "node_size": 10, "label": "winter fishing"}], ["fish patterns", {"concepts": "fish patterns", "type": "concept", "cluster": "Flounder Decline Factors", "node_size": 10, "label": "fish patterns"}], ["recreational anglers", {"concepts": "recreational anglers", "type": "concept", "cluster": "Flounder Decline Factors", "node_size": 10, "label": "recreational anglers"}], ["low-hanging fruit", {"concepts": "low-hanging fruit", "type": "concept", "cluster": "Flounder Decline Factors", "node_size": 10, "label": "low-hanging fruit"}]], "Boat Affordability": [["boat purchases", {"concepts": "boat purchases", "type": "concept", "cluster": "Boat Affordability", "node_size": 10, "label": "boat purchases"}], ["interest rates", {"concepts": "interest rates", "type": "concept", "cluster": "Boat Affordability", "node_size": 10, "label": "interest rates"}], ["income potential", {"concepts": "income potential", "type": "concept", "cluster": "Boat Affordability", "node_size": 10, "label": "income potential"}]], "Business Acumen": [["business reputation", {"concepts": "business reputation", "type": "concept", "cluster": "Business Acumen", "node_size": 10, "label": "business reputation"}], ["financial success", {"concepts": "financial success", "type": "concept", "cluster": "Business Acumen", "node_size": 10, "label": "financial success"}], ["business growth", {"concepts": "business growth", "type": "concept", "cluster": "Business Acumen", "node_size": 10, "label": "business growth"}], ["business savviness", {"concepts": "business savviness", "type": "concept", "cluster": "Business Acumen", "node_size": 10, "label": "business savviness"}]], "New Business Focus": [["business outreach", {"concepts": "business outreach", "type": "concept", "cluster": "New Business Focus", "node_size": 10, "label": "business outreach"}], ["business foundations", {"concepts": "business foundations", "type": "concept", "cluster": "New Business Focus", "node_size": 10, "label": "business foundations"}], ["new business", {"concepts": "new business", "type": "concept", "cluster": "New Business Focus", "node_size": 10, "label": "new business"}]]};
        const clusterEdges = {"Environment & Location": [], "Career & Management": [], "Community & Growth": [], "Holistic Life Success": [], "Marine Ecosystem": [], "Fishing Information": [], "Flounder Decline Factors": [], "Boat Affordability": [], "Business Acumen": [], "New Business Focus": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
