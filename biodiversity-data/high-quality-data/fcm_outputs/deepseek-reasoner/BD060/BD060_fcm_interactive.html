
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Coastal Wetland Threats/Restoration": {"concepts": "ghost forests, habitat forming species", "concept_list": ["ghost forests", "habitat forming species"], "type": "cluster", "node_size": 21, "label": "Coastal Wetland Threats/Restoration"}, "Biodiversity Conservation & Protection": {"concepts": "marsh loss, salinity impacts, sea level rise, coastal management, tidal marsh loss, marsh migration corridors, dredge oil applications, marine resource management, salt marsh birds, tidal creek extension, watershed management, restoration planting, eutrophication, water quality management, saltwater intrusion, coastal ecosystems, marine resources, interior ponding, dredge material", "concept_list": ["marsh loss", "salinity impacts", "sea level rise", "coastal management", "tidal marsh loss", "marsh migration corridors", "dredge oil applications", "marine resource management", "salt marsh birds", "tidal creek extension", "watershed management", "restoration planting", "eutrophication", "water quality management", "saltwater intrusion", "coastal ecosystems", "marine resources", "interior ponding", "dredge material"], "type": "cluster", "node_size": 72, "label": "Biodiversity Conservation & Protection"}, "Habitat Stress & Restoration": {"concepts": "conservation concern, population genetics, rare and endangered species, biodiversity preservation, species conservation concern, invasive species control, genetic diversity, species biodiversity, biodiversity conservation, herbicide, rare endangered species, rare species, adaptive potential, invasive species, key species, biodiversity management, population genetic diversity, harmful organisms, biodiversity perception, biodiversity role, biodiversity research, key food-web species", "concept_list": ["conservation concern", "population genetics", "rare and endangered species", "biodiversity preservation", "species conservation concern", "invasive species control", "genetic diversity", "species biodiversity", "biodiversity conservation", "herbicide", "rare endangered species", "rare species", "adaptive potential", "invasive species", "key species", "biodiversity management", "population genetic diversity", "harmful organisms", "biodiversity perception", "biodiversity role", "biodiversity research", "key food-web species"], "type": "cluster", "node_size": 81, "label": "Habitat Stress & Restoration"}, "Stakeholder Collaboration & Decision-Making": {"concepts": "prescribed burning, stress response, dredge oil creation, restoration, habitat transition, stress, physiological stress, agricultural impacts, climate change stressors, global change drivers, selective force, burning, environmental stressors, forest mortality, habitat-forming species, farmland abandonment, endangered species, habitat loss mitigation, habitat loss, wetland ecology, restoration management, land acquisition", "concept_list": ["prescribed burning", "stress response", "dredge oil creation", "restoration", "habitat transition", "stress", "physiological stress", "agricultural impacts", "climate change stressors", "global change drivers", "selective force", "burning", "environmental stressors", "forest mortality", "habitat-forming species", "farmland abandonment", "endangered species", "habitat loss mitigation", "habitat loss", "wetland ecology", "restoration management", "land acquisition"], "type": "cluster", "node_size": 81, "label": "Stakeholder Collaboration & Decision-Making"}, "Coastal Habitat Loss": {"concepts": "ditching, chesapeake bay, resource access, recall, stakeholders, stakeholder perspectives, mental modelers, monitoring programs, easements, study systems, runneling, manager priorities, management interventions, resource users, stakeholder engagement, drainage techniques, uncertainty expression, resource valuation, knowledge integration, researcher perspectives, cognitive load, disturbance events, phragmites, study system, collaborative management, mental modeler, disturbance, collaborative modeling, decision-making, mental modeling, decision weights, knowledge capturing, efficiency evaluation, cognitive mapping, confirmation bias, drainage, dredging, marsh creation, interdisciplinary collaboration", "concept_list": ["ditching", "chesapeake bay", "resource access", "recall", "stakeholders", "stakeholder perspectives", "mental modelers", "monitoring programs", "easements", "study systems", "runneling", "manager priorities", "management interventions", "resource users", "stakeholder engagement", "drainage techniques", "uncertainty expression", "resource valuation", "knowledge integration", "researcher perspectives", "cognitive load", "disturbance events", "phragmites", "study system", "collaborative management", "mental modeler", "disturbance", "collaborative modeling", "decision-making", "mental modeling", "decision weights", "knowledge capturing", "efficiency evaluation", "cognitive mapping", "confirmation bias", "drainage", "dredging", "marsh creation", "interdisciplinary collaboration"], "type": "cluster", "node_size": 132, "label": "Coastal Habitat Loss"}, "System Governance": {"concepts": "governance complexity, institutional frameworks, research institutions, reinforcement, legacy effects, regulatory frameworks, funding allocation, accretion facilitation, incentive structures", "concept_list": ["governance complexity", "institutional frameworks", "research institutions", "reinforcement", "legacy effects", "regulatory frameworks", "funding allocation", "accretion facilitation", "incentive structures"], "type": "cluster", "node_size": 42, "label": "System Governance"}, "Plant Community Ecology": {"concepts": "plant community assembly, plant communities, community ecology, community assembly", "concept_list": ["plant community assembly", "plant communities", "community ecology", "community assembly"], "type": "cluster", "node_size": 27, "label": "Plant Community Ecology"}, "Socio-Ecological Case Studies": {"concepts": "regional case studies, social ecological complexity, social ecological systems, community livelihoods", "concept_list": ["regional case studies", "social ecological complexity", "social ecological systems", "community livelihoods"], "type": "cluster", "node_size": 27, "label": "Socio-Ecological Case Studies"}, "Ecosystem Engineering Services": {"concepts": "ecosystem engineers, ecosystem services, ecological definition", "concept_list": ["ecosystem engineers", "ecosystem services", "ecological definition"], "type": "cluster", "node_size": 24, "label": "Ecosystem Engineering Services"}};
        const conceptData = {"ghost forests": {"concepts": "ghost forests", "type": "concept", "cluster": "Coastal Wetland Threats/Restoration", "node_size": 10, "label": "ghost forests"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Coastal Wetland Threats/Restoration", "node_size": 10, "label": "habitat forming species"}, "marsh loss": {"concepts": "marsh loss", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "marsh loss"}, "salinity impacts": {"concepts": "salinity impacts", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "salinity impacts"}, "sea level rise": {"concepts": "sea level rise", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "sea level rise"}, "coastal management": {"concepts": "coastal management", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "coastal management"}, "tidal marsh loss": {"concepts": "tidal marsh loss", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "tidal marsh loss"}, "marsh migration corridors": {"concepts": "marsh migration corridors", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "marsh migration corridors"}, "dredge oil applications": {"concepts": "dredge oil applications", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "dredge oil applications"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "marine resource management"}, "salt marsh birds": {"concepts": "salt marsh birds", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "salt marsh birds"}, "tidal creek extension": {"concepts": "tidal creek extension", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "tidal creek extension"}, "watershed management": {"concepts": "watershed management", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "watershed management"}, "restoration planting": {"concepts": "restoration planting", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "restoration planting"}, "eutrophication": {"concepts": "eutrophication", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "eutrophication"}, "water quality management": {"concepts": "water quality management", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "water quality management"}, "saltwater intrusion": {"concepts": "saltwater intrusion", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "saltwater intrusion"}, "coastal ecosystems": {"concepts": "coastal ecosystems", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "coastal ecosystems"}, "marine resources": {"concepts": "marine resources", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "marine resources"}, "interior ponding": {"concepts": "interior ponding", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "interior ponding"}, "dredge material": {"concepts": "dredge material", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "dredge material"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "conservation concern"}, "population genetics": {"concepts": "population genetics", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "population genetics"}, "rare and endangered species": {"concepts": "rare and endangered species", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "rare and endangered species"}, "biodiversity preservation": {"concepts": "biodiversity preservation", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "biodiversity preservation"}, "species conservation concern": {"concepts": "species conservation concern", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "species conservation concern"}, "invasive species control": {"concepts": "invasive species control", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "invasive species control"}, "genetic diversity": {"concepts": "genetic diversity", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "genetic diversity"}, "species biodiversity": {"concepts": "species biodiversity", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "species biodiversity"}, "biodiversity conservation": {"concepts": "biodiversity conservation", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "biodiversity conservation"}, "herbicide": {"concepts": "herbicide", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "herbicide"}, "rare endangered species": {"concepts": "rare endangered species", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "rare endangered species"}, "rare species": {"concepts": "rare species", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "rare species"}, "adaptive potential": {"concepts": "adaptive potential", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "adaptive potential"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "invasive species"}, "key species": {"concepts": "key species", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "key species"}, "biodiversity management": {"concepts": "biodiversity management", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "biodiversity management"}, "population genetic diversity": {"concepts": "population genetic diversity", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "population genetic diversity"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "harmful organisms"}, "biodiversity perception": {"concepts": "biodiversity perception", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "biodiversity perception"}, "biodiversity role": {"concepts": "biodiversity role", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "biodiversity role"}, "biodiversity research": {"concepts": "biodiversity research", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "biodiversity research"}, "key food-web species": {"concepts": "key food-web species", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "key food-web species"}, "prescribed burning": {"concepts": "prescribed burning", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "prescribed burning"}, "stress response": {"concepts": "stress response", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "stress response"}, "dredge oil creation": {"concepts": "dredge oil creation", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "dredge oil creation"}, "restoration": {"concepts": "restoration", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "restoration"}, "habitat transition": {"concepts": "habitat transition", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "habitat transition"}, "stress": {"concepts": "stress", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "stress"}, "physiological stress": {"concepts": "physiological stress", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "physiological stress"}, "agricultural impacts": {"concepts": "agricultural impacts", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "agricultural impacts"}, "climate change stressors": {"concepts": "climate change stressors", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "climate change stressors"}, "global change drivers": {"concepts": "global change drivers", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "global change drivers"}, "selective force": {"concepts": "selective force", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "selective force"}, "burning": {"concepts": "burning", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "burning"}, "environmental stressors": {"concepts": "environmental stressors", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "environmental stressors"}, "forest mortality": {"concepts": "forest mortality", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "forest mortality"}, "habitat-forming species": {"concepts": "habitat-forming species", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "habitat-forming species"}, "farmland abandonment": {"concepts": "farmland abandonment", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "farmland abandonment"}, "endangered species": {"concepts": "endangered species", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "endangered species"}, "habitat loss mitigation": {"concepts": "habitat loss mitigation", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "habitat loss mitigation"}, "habitat loss": {"concepts": "habitat loss", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "habitat loss"}, "wetland ecology": {"concepts": "wetland ecology", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "wetland ecology"}, "restoration management": {"concepts": "restoration management", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "restoration management"}, "land acquisition": {"concepts": "land acquisition", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "land acquisition"}, "ditching": {"concepts": "ditching", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "ditching"}, "chesapeake bay": {"concepts": "chesapeake bay", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "chesapeake bay"}, "resource access": {"concepts": "resource access", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "resource access"}, "recall": {"concepts": "recall", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "recall"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "stakeholders"}, "stakeholder perspectives": {"concepts": "stakeholder perspectives", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "stakeholder perspectives"}, "mental modelers": {"concepts": "mental modelers", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "mental modelers"}, "monitoring programs": {"concepts": "monitoring programs", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "monitoring programs"}, "easements": {"concepts": "easements", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "easements"}, "study systems": {"concepts": "study systems", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "study systems"}, "runneling": {"concepts": "runneling", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "runneling"}, "manager priorities": {"concepts": "manager priorities", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "manager priorities"}, "management interventions": {"concepts": "management interventions", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "management interventions"}, "resource users": {"concepts": "resource users", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "resource users"}, "stakeholder engagement": {"concepts": "stakeholder engagement", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "stakeholder engagement"}, "drainage techniques": {"concepts": "drainage techniques", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "drainage techniques"}, "uncertainty expression": {"concepts": "uncertainty expression", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "uncertainty expression"}, "resource valuation": {"concepts": "resource valuation", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "resource valuation"}, "knowledge integration": {"concepts": "knowledge integration", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "knowledge integration"}, "researcher perspectives": {"concepts": "researcher perspectives", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "researcher perspectives"}, "cognitive load": {"concepts": "cognitive load", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "cognitive load"}, "disturbance events": {"concepts": "disturbance events", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "disturbance events"}, "phragmites": {"concepts": "phragmites", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "phragmites"}, "study system": {"concepts": "study system", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "study system"}, "collaborative management": {"concepts": "collaborative management", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "collaborative management"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "mental modeler"}, "disturbance": {"concepts": "disturbance", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "disturbance"}, "collaborative modeling": {"concepts": "collaborative modeling", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "collaborative modeling"}, "decision-making": {"concepts": "decision-making", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "decision-making"}, "mental modeling": {"concepts": "mental modeling", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "mental modeling"}, "decision weights": {"concepts": "decision weights", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "decision weights"}, "knowledge capturing": {"concepts": "knowledge capturing", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "knowledge capturing"}, "efficiency evaluation": {"concepts": "efficiency evaluation", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "efficiency evaluation"}, "cognitive mapping": {"concepts": "cognitive mapping", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "cognitive mapping"}, "confirmation bias": {"concepts": "confirmation bias", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "confirmation bias"}, "drainage": {"concepts": "drainage", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "drainage"}, "dredging": {"concepts": "dredging", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "dredging"}, "marsh creation": {"concepts": "marsh creation", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "marsh creation"}, "interdisciplinary collaboration": {"concepts": "interdisciplinary collaboration", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "interdisciplinary collaboration"}, "governance complexity": {"concepts": "governance complexity", "type": "concept", "cluster": "System Governance", "node_size": 10, "label": "governance complexity"}, "institutional frameworks": {"concepts": "institutional frameworks", "type": "concept", "cluster": "System Governance", "node_size": 10, "label": "institutional frameworks"}, "research institutions": {"concepts": "research institutions", "type": "concept", "cluster": "System Governance", "node_size": 10, "label": "research institutions"}, "reinforcement": {"concepts": "reinforcement", "type": "concept", "cluster": "System Governance", "node_size": 10, "label": "reinforcement"}, "legacy effects": {"concepts": "legacy effects", "type": "concept", "cluster": "System Governance", "node_size": 10, "label": "legacy effects"}, "regulatory frameworks": {"concepts": "regulatory frameworks", "type": "concept", "cluster": "System Governance", "node_size": 10, "label": "regulatory frameworks"}, "funding allocation": {"concepts": "funding allocation", "type": "concept", "cluster": "System Governance", "node_size": 10, "label": "funding allocation"}, "accretion facilitation": {"concepts": "accretion facilitation", "type": "concept", "cluster": "System Governance", "node_size": 10, "label": "accretion facilitation"}, "incentive structures": {"concepts": "incentive structures", "type": "concept", "cluster": "System Governance", "node_size": 10, "label": "incentive structures"}, "plant community assembly": {"concepts": "plant community assembly", "type": "concept", "cluster": "Plant Community Ecology", "node_size": 10, "label": "plant community assembly"}, "plant communities": {"concepts": "plant communities", "type": "concept", "cluster": "Plant Community Ecology", "node_size": 10, "label": "plant communities"}, "community ecology": {"concepts": "community ecology", "type": "concept", "cluster": "Plant Community Ecology", "node_size": 10, "label": "community ecology"}, "community assembly": {"concepts": "community assembly", "type": "concept", "cluster": "Plant Community Ecology", "node_size": 10, "label": "community assembly"}, "regional case studies": {"concepts": "regional case studies", "type": "concept", "cluster": "Socio-Ecological Case Studies", "node_size": 10, "label": "regional case studies"}, "social ecological complexity": {"concepts": "social ecological complexity", "type": "concept", "cluster": "Socio-Ecological Case Studies", "node_size": 10, "label": "social ecological complexity"}, "social ecological systems": {"concepts": "social ecological systems", "type": "concept", "cluster": "Socio-Ecological Case Studies", "node_size": 10, "label": "social ecological systems"}, "community livelihoods": {"concepts": "community livelihoods", "type": "concept", "cluster": "Socio-Ecological Case Studies", "node_size": 10, "label": "community livelihoods"}, "ecosystem engineers": {"concepts": "ecosystem engineers", "type": "concept", "cluster": "Ecosystem Engineering Services", "node_size": 10, "label": "ecosystem engineers"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Ecosystem Engineering Services", "node_size": 10, "label": "ecosystem services"}, "ecological definition": {"concepts": "ecological definition", "type": "concept", "cluster": "Ecosystem Engineering Services", "node_size": 10, "label": "ecological definition"}};
        const interClusterEdges = [["Coastal Wetland Threats/Restoration", "Stakeholder Collaboration & Decision-Making", {"weight": 0.5, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Coastal Wetland Threats/Restoration", "Biodiversity Conservation & Protection", {"weight": -0.4, "confidence": 0.7200000000000001, "type": "inter_cluster", "style": "solid"}], ["Coastal Wetland Threats/Restoration", "Ecosystem Engineering Services", {"weight": 0.75, "confidence": 0.6875, "type": "inter_cluster", "style": "solid"}], ["Coastal Wetland Threats/Restoration", "Coastal Habitat Loss", {"weight": 0.5, "confidence": 0.4125, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Conservation & Protection", "Habitat Stress & Restoration", {"weight": -0.6, "confidence": 0.8800000000000001, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Conservation & Protection", "Coastal Habitat Loss", {"weight": 0.5, "confidence": 0.8875, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Conservation & Protection", "Coastal Wetland Threats/Restoration", {"weight": -0.3333333333333333, "confidence": 0.9333333333333332, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Conservation & Protection", "Ecosystem Engineering Services", {"weight": 0.3333333333333333, "confidence": 0.8666666666666666, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Conservation & Protection", "System Governance", {"weight": 0.6, "confidence": 0.47000000000000003, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Conservation & Protection", "Stakeholder Collaboration & Decision-Making", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Habitat Stress & Restoration", "Biodiversity Conservation & Protection", {"weight": -0.5, "confidence": 0.8749999999999999, "type": "inter_cluster", "style": "solid"}], ["Habitat Stress & Restoration", "Ecosystem Engineering Services", {"weight": 0.4, "confidence": 0.6699999999999999, "type": "inter_cluster", "style": "solid"}], ["Habitat Stress & Restoration", "System Governance", {"weight": 0.8, "confidence": 0.6200000000000001, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Collaboration & Decision-Making", "Plant Community Ecology", {"weight": 0.6, "confidence": 0.82, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Collaboration & Decision-Making", "Coastal Wetland Threats/Restoration", {"weight": 0.5, "confidence": 0.925, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Collaboration & Decision-Making", "Ecosystem Engineering Services", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Collaboration & Decision-Making", "Biodiversity Conservation & Protection", {"weight": -0.4, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Collaboration & Decision-Making", "Coastal Habitat Loss", {"weight": 1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Collaboration & Decision-Making", "Habitat Stress & Restoration", {"weight": 0.4, "confidence": 0.6599999999999999, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Collaboration & Decision-Making", "System Governance", {"weight": 1.0, "confidence": 0.7875000000000001, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Collaboration & Decision-Making", "Socio-Ecological Case Studies", {"weight": -0.25, "confidence": 0.2125, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitat Loss", "Biodiversity Conservation & Protection", {"weight": 0.2, "confidence": 0.79, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitat Loss", "Habitat Stress & Restoration", {"weight": -1.0, "confidence": 0.875, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitat Loss", "Plant Community Ecology", {"weight": -0.4, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitat Loss", "Stakeholder Collaboration & Decision-Making", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitat Loss", "System Governance", {"weight": 0.75, "confidence": 0.625, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitat Loss", "Socio-Ecological Case Studies", {"weight": 0.75, "confidence": 0.6125, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitat Loss", "Ecosystem Engineering Services", {"weight": -0.25, "confidence": 0.1875, "type": "inter_cluster", "style": "solid"}], ["System Governance", "Stakeholder Collaboration & Decision-Making", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["System Governance", "Biodiversity Conservation & Protection", {"weight": 1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["System Governance", "Coastal Habitat Loss", {"weight": 0.75, "confidence": 0.6125, "type": "inter_cluster", "style": "solid"}], ["System Governance", "Socio-Ecological Case Studies", {"weight": 0.4, "confidence": 0.31, "type": "inter_cluster", "style": "solid"}], ["Plant Community Ecology", "Stakeholder Collaboration & Decision-Making", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Plant Community Ecology", "Habitat Stress & Restoration", {"weight": -1.0, "confidence": 0.875, "type": "inter_cluster", "style": "solid"}], ["Plant Community Ecology", "Biodiversity Conservation & Protection", {"weight": -1.0, "confidence": 0.8624999999999999, "type": "inter_cluster", "style": "solid"}], ["Socio-Ecological Case Studies", "Coastal Habitat Loss", {"weight": 0.6666666666666666, "confidence": 0.5666666666666667, "type": "inter_cluster", "style": "solid"}], ["Socio-Ecological Case Studies", "Stakeholder Collaboration & Decision-Making", {"weight": 0.25, "confidence": 0.2, "type": "inter_cluster", "style": "solid"}], ["Socio-Ecological Case Studies", "Plant Community Ecology", {"weight": 0.2, "confidence": 0.13999999999999999, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Engineering Services", "Biodiversity Conservation & Protection", {"weight": -0.25, "confidence": 0.6625, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Engineering Services", "Plant Community Ecology", {"weight": 0.6, "confidence": 0.52, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Engineering Services", "Habitat Stress & Restoration", {"weight": 0.6666666666666666, "confidence": 0.5499999999999999, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Engineering Services", "Coastal Habitat Loss", {"weight": -0.25, "confidence": 0.2125, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Coastal Wetland Threats/Restoration": [["ghost forests", {"concepts": "ghost forests", "type": "concept", "cluster": "Coastal Wetland Threats/Restoration", "node_size": 10, "label": "ghost forests"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Coastal Wetland Threats/Restoration", "node_size": 10, "label": "habitat forming species"}]], "Biodiversity Conservation & Protection": [["marsh loss", {"concepts": "marsh loss", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "marsh loss"}], ["salinity impacts", {"concepts": "salinity impacts", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "salinity impacts"}], ["sea level rise", {"concepts": "sea level rise", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "sea level rise"}], ["coastal management", {"concepts": "coastal management", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "coastal management"}], ["tidal marsh loss", {"concepts": "tidal marsh loss", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "tidal marsh loss"}], ["marsh migration corridors", {"concepts": "marsh migration corridors", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "marsh migration corridors"}], ["dredge oil applications", {"concepts": "dredge oil applications", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "dredge oil applications"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "marine resource management"}], ["salt marsh birds", {"concepts": "salt marsh birds", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "salt marsh birds"}], ["tidal creek extension", {"concepts": "tidal creek extension", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "tidal creek extension"}], ["watershed management", {"concepts": "watershed management", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "watershed management"}], ["restoration planting", {"concepts": "restoration planting", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "restoration planting"}], ["eutrophication", {"concepts": "eutrophication", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "eutrophication"}], ["water quality management", {"concepts": "water quality management", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "water quality management"}], ["saltwater intrusion", {"concepts": "saltwater intrusion", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "saltwater intrusion"}], ["coastal ecosystems", {"concepts": "coastal ecosystems", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "coastal ecosystems"}], ["marine resources", {"concepts": "marine resources", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "marine resources"}], ["interior ponding", {"concepts": "interior ponding", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "interior ponding"}], ["dredge material", {"concepts": "dredge material", "type": "concept", "cluster": "Biodiversity Conservation & Protection", "node_size": 10, "label": "dredge material"}]], "Habitat Stress & Restoration": [["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "conservation concern"}], ["population genetics", {"concepts": "population genetics", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "population genetics"}], ["rare and endangered species", {"concepts": "rare and endangered species", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "rare and endangered species"}], ["biodiversity preservation", {"concepts": "biodiversity preservation", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "biodiversity preservation"}], ["species conservation concern", {"concepts": "species conservation concern", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "species conservation concern"}], ["invasive species control", {"concepts": "invasive species control", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "invasive species control"}], ["genetic diversity", {"concepts": "genetic diversity", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "genetic diversity"}], ["species biodiversity", {"concepts": "species biodiversity", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "species biodiversity"}], ["biodiversity conservation", {"concepts": "biodiversity conservation", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "biodiversity conservation"}], ["herbicide", {"concepts": "herbicide", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "herbicide"}], ["rare endangered species", {"concepts": "rare endangered species", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "rare endangered species"}], ["rare species", {"concepts": "rare species", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "rare species"}], ["adaptive potential", {"concepts": "adaptive potential", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "adaptive potential"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "invasive species"}], ["key species", {"concepts": "key species", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "key species"}], ["biodiversity management", {"concepts": "biodiversity management", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "biodiversity management"}], ["population genetic diversity", {"concepts": "population genetic diversity", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "population genetic diversity"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "harmful organisms"}], ["biodiversity perception", {"concepts": "biodiversity perception", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "biodiversity perception"}], ["biodiversity role", {"concepts": "biodiversity role", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "biodiversity role"}], ["biodiversity research", {"concepts": "biodiversity research", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "biodiversity research"}], ["key food-web species", {"concepts": "key food-web species", "type": "concept", "cluster": "Habitat Stress & Restoration", "node_size": 10, "label": "key food-web species"}]], "Stakeholder Collaboration & Decision-Making": [["prescribed burning", {"concepts": "prescribed burning", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "prescribed burning"}], ["stress response", {"concepts": "stress response", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "stress response"}], ["dredge oil creation", {"concepts": "dredge oil creation", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "dredge oil creation"}], ["restoration", {"concepts": "restoration", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "restoration"}], ["habitat transition", {"concepts": "habitat transition", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "habitat transition"}], ["stress", {"concepts": "stress", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "stress"}], ["physiological stress", {"concepts": "physiological stress", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "physiological stress"}], ["agricultural impacts", {"concepts": "agricultural impacts", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "agricultural impacts"}], ["climate change stressors", {"concepts": "climate change stressors", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "climate change stressors"}], ["global change drivers", {"concepts": "global change drivers", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "global change drivers"}], ["selective force", {"concepts": "selective force", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "selective force"}], ["burning", {"concepts": "burning", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "burning"}], ["environmental stressors", {"concepts": "environmental stressors", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "environmental stressors"}], ["forest mortality", {"concepts": "forest mortality", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "forest mortality"}], ["habitat-forming species", {"concepts": "habitat-forming species", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "habitat-forming species"}], ["farmland abandonment", {"concepts": "farmland abandonment", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "farmland abandonment"}], ["endangered species", {"concepts": "endangered species", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "endangered species"}], ["habitat loss mitigation", {"concepts": "habitat loss mitigation", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "habitat loss mitigation"}], ["habitat loss", {"concepts": "habitat loss", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "habitat loss"}], ["wetland ecology", {"concepts": "wetland ecology", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "wetland ecology"}], ["restoration management", {"concepts": "restoration management", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "restoration management"}], ["land acquisition", {"concepts": "land acquisition", "type": "concept", "cluster": "Stakeholder Collaboration & Decision-Making", "node_size": 10, "label": "land acquisition"}]], "Coastal Habitat Loss": [["ditching", {"concepts": "ditching", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "ditching"}], ["chesapeake bay", {"concepts": "chesapeake bay", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "chesapeake bay"}], ["resource access", {"concepts": "resource access", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "resource access"}], ["recall", {"concepts": "recall", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "recall"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "stakeholders"}], ["stakeholder perspectives", {"concepts": "stakeholder perspectives", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "stakeholder perspectives"}], ["mental modelers", {"concepts": "mental modelers", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "mental modelers"}], ["monitoring programs", {"concepts": "monitoring programs", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "monitoring programs"}], ["easements", {"concepts": "easements", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "easements"}], ["study systems", {"concepts": "study systems", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "study systems"}], ["runneling", {"concepts": "runneling", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "runneling"}], ["manager priorities", {"concepts": "manager priorities", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "manager priorities"}], ["management interventions", {"concepts": "management interventions", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "management interventions"}], ["resource users", {"concepts": "resource users", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "resource users"}], ["stakeholder engagement", {"concepts": "stakeholder engagement", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "stakeholder engagement"}], ["drainage techniques", {"concepts": "drainage techniques", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "drainage techniques"}], ["uncertainty expression", {"concepts": "uncertainty expression", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "uncertainty expression"}], ["resource valuation", {"concepts": "resource valuation", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "resource valuation"}], ["knowledge integration", {"concepts": "knowledge integration", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "knowledge integration"}], ["researcher perspectives", {"concepts": "researcher perspectives", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "researcher perspectives"}], ["cognitive load", {"concepts": "cognitive load", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "cognitive load"}], ["disturbance events", {"concepts": "disturbance events", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "disturbance events"}], ["phragmites", {"concepts": "phragmites", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "phragmites"}], ["study system", {"concepts": "study system", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "study system"}], ["collaborative management", {"concepts": "collaborative management", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "collaborative management"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "mental modeler"}], ["disturbance", {"concepts": "disturbance", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "disturbance"}], ["collaborative modeling", {"concepts": "collaborative modeling", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "collaborative modeling"}], ["decision-making", {"concepts": "decision-making", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "decision-making"}], ["mental modeling", {"concepts": "mental modeling", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "mental modeling"}], ["decision weights", {"concepts": "decision weights", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "decision weights"}], ["knowledge capturing", {"concepts": "knowledge capturing", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "knowledge capturing"}], ["efficiency evaluation", {"concepts": "efficiency evaluation", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "efficiency evaluation"}], ["cognitive mapping", {"concepts": "cognitive mapping", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "cognitive mapping"}], ["confirmation bias", {"concepts": "confirmation bias", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "confirmation bias"}], ["drainage", {"concepts": "drainage", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "drainage"}], ["dredging", {"concepts": "dredging", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "dredging"}], ["marsh creation", {"concepts": "marsh creation", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "marsh creation"}], ["interdisciplinary collaboration", {"concepts": "interdisciplinary collaboration", "type": "concept", "cluster": "Coastal Habitat Loss", "node_size": 10, "label": "interdisciplinary collaboration"}]], "System Governance": [["governance complexity", {"concepts": "governance complexity", "type": "concept", "cluster": "System Governance", "node_size": 10, "label": "governance complexity"}], ["institutional frameworks", {"concepts": "institutional frameworks", "type": "concept", "cluster": "System Governance", "node_size": 10, "label": "institutional frameworks"}], ["research institutions", {"concepts": "research institutions", "type": "concept", "cluster": "System Governance", "node_size": 10, "label": "research institutions"}], ["reinforcement", {"concepts": "reinforcement", "type": "concept", "cluster": "System Governance", "node_size": 10, "label": "reinforcement"}], ["legacy effects", {"concepts": "legacy effects", "type": "concept", "cluster": "System Governance", "node_size": 10, "label": "legacy effects"}], ["regulatory frameworks", {"concepts": "regulatory frameworks", "type": "concept", "cluster": "System Governance", "node_size": 10, "label": "regulatory frameworks"}], ["funding allocation", {"concepts": "funding allocation", "type": "concept", "cluster": "System Governance", "node_size": 10, "label": "funding allocation"}], ["accretion facilitation", {"concepts": "accretion facilitation", "type": "concept", "cluster": "System Governance", "node_size": 10, "label": "accretion facilitation"}], ["incentive structures", {"concepts": "incentive structures", "type": "concept", "cluster": "System Governance", "node_size": 10, "label": "incentive structures"}]], "Plant Community Ecology": [["plant community assembly", {"concepts": "plant community assembly", "type": "concept", "cluster": "Plant Community Ecology", "node_size": 10, "label": "plant community assembly"}], ["plant communities", {"concepts": "plant communities", "type": "concept", "cluster": "Plant Community Ecology", "node_size": 10, "label": "plant communities"}], ["community ecology", {"concepts": "community ecology", "type": "concept", "cluster": "Plant Community Ecology", "node_size": 10, "label": "community ecology"}], ["community assembly", {"concepts": "community assembly", "type": "concept", "cluster": "Plant Community Ecology", "node_size": 10, "label": "community assembly"}]], "Socio-Ecological Case Studies": [["regional case studies", {"concepts": "regional case studies", "type": "concept", "cluster": "Socio-Ecological Case Studies", "node_size": 10, "label": "regional case studies"}], ["social ecological complexity", {"concepts": "social ecological complexity", "type": "concept", "cluster": "Socio-Ecological Case Studies", "node_size": 10, "label": "social ecological complexity"}], ["social ecological systems", {"concepts": "social ecological systems", "type": "concept", "cluster": "Socio-Ecological Case Studies", "node_size": 10, "label": "social ecological systems"}], ["community livelihoods", {"concepts": "community livelihoods", "type": "concept", "cluster": "Socio-Ecological Case Studies", "node_size": 10, "label": "community livelihoods"}]], "Ecosystem Engineering Services": [["ecosystem engineers", {"concepts": "ecosystem engineers", "type": "concept", "cluster": "Ecosystem Engineering Services", "node_size": 10, "label": "ecosystem engineers"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Ecosystem Engineering Services", "node_size": 10, "label": "ecosystem services"}], ["ecological definition", {"concepts": "ecological definition", "type": "concept", "cluster": "Ecosystem Engineering Services", "node_size": 10, "label": "ecological definition"}]]};
        const clusterEdges = {"Coastal Wetland Threats/Restoration": [], "Biodiversity Conservation & Protection": [], "Habitat Stress & Restoration": [], "Stakeholder Collaboration & Decision-Making": [], "Coastal Habitat Loss": [], "System Governance": [], "Plant Community Ecology": [], "Socio-Ecological Case Studies": [], "Ecosystem Engineering Services": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
