
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Environmental Law & Justice": {"concepts": "hawaiian worldview, re-categorization, co-management, mental modeller, decision makers, relational framework, relationship restoration, paradigm, research program, impact level, term indigenization, genocide, social constructs, colonial history, indigenizing, social construct, power dynamics, indigenous people, framework, aina, indigenous stewardship, community culture, stewardship, co-management frameworks, green boxes, relationships, indigenous peoples, generational scale, local communities, tokenism, holistic perspective, stressor, virtual meeting, human dimensions, intergenerational trauma, indigenous leadership, generational perspective, power differentials, terminology sensitivity, reciprocal relationships, tourism impact, management, place-based relationships, research institutions, policy management actions, community allyship, colonization impact, colonization, indigenous resource management, land, systems perspective, research abilities, positive relationships, administrations, indigenous-led conservation, reciprocation of services, community alliances, contravailing concepts, mmp file, resource management, manifest destiny, collaborative management, nature reserve, interested parties, helicopter research, pristine nature, indigenous knowledge, research, indigenizing concepts, ancestral relationships, policy, hawaiian cosmology, co-evolutionary relationships, management plans, mental modeling, place-based knowledge, stakeholders, tribal-led initiatives, cultural identity, indigenous worldviews, policy management, humans as part of nature, human environment connectivity, reciprocation, community inclusion", "concept_list": ["hawaiian worldview", "re-categorization", "co-management", "mental modeller", "decision makers", "relational framework", "relationship restoration", "paradigm", "research program", "impact level", "term indigenization", "genocide", "social constructs", "colonial history", "indigenizing", "social construct", "power dynamics", "indigenous people", "framework", "aina", "indigenous stewardship", "community culture", "stewardship", "co-management frameworks", "green boxes", "relationships", "indigenous peoples", "generational scale", "local communities", "tokenism", "holistic perspective", "stressor", "virtual meeting", "human dimensions", "intergenerational trauma", "indigenous leadership", "generational perspective", "power differentials", "terminology sensitivity", "reciprocal relationships", "tourism impact", "management", "place-based relationships", "research institutions", "policy management actions", "community allyship", "colonization impact", "colonization", "indigenous resource management", "land", "systems perspective", "research abilities", "positive relationships", "administrations", "indigenous-led conservation", "reciprocation of services", "community alliances", "contravailing concepts", "mmp file", "resource management", "manifest destiny", "collaborative management", "nature reserve", "interested parties", "helicopter research", "pristine nature", "indigenous knowledge", "research", "indigenizing concepts", "ancestral relationships", "policy", "hawaiian cosmology", "co-evolutionary relationships", "management plans", "mental modeling", "place-based knowledge", "stakeholders", "tribal-led initiatives", "cultural identity", "indigenous worldviews", "policy management", "humans as part of nature", "human environment connectivity", "reciprocation", "community inclusion"], "type": "cluster", "node_size": 270, "label": "Environmental Law & Justice"}, "Fisheries & Marine Management": {"concepts": "authority to legislate, federal system, federal law, law interpretation, environmental injustices, judicial branch, environmental justice, judicial interpretation, state authority, social injustice, state government, federal authority, federal agencies, federal government, state law, environmental injustice", "concept_list": ["authority to legislate", "federal system", "federal law", "law interpretation", "environmental injustices", "judicial branch", "environmental justice", "judicial interpretation", "state authority", "social injustice", "state government", "federal authority", "federal agencies", "federal government", "state law", "environmental injustice"], "type": "cluster", "node_size": 63, "label": "Fisheries & Marine Management"}, "Conservation & Biodiversity": {"concepts": "indigenous fishers, community-based subsistence fishing, fishing lobby, marine resource management, commercial fishing, marine conservation, recreational fishing, marine resources", "concept_list": ["indigenous fishers", "community-based subsistence fishing", "fishing lobby", "marine resource management", "commercial fishing", "marine conservation", "recreational fishing", "marine resources"], "type": "cluster", "node_size": 39, "label": "Conservation & Biodiversity"}, "Native Hawaiian Biocultural Restoration": {"concepts": "biodiversity, conservation planning, conservation effectiveness, food webs, forest conservation, effective conservation, endangered species act, species diversity, endangered species conservation, species of conservation concern, conservation metrics, conservation initiatives, ecosystem services, endangered species recovery, conservation policy, harmful organisms", "concept_list": ["biodiversity", "conservation planning", "conservation effectiveness", "food webs", "forest conservation", "effective conservation", "endangered species act", "species diversity", "endangered species conservation", "species of conservation concern", "conservation metrics", "conservation initiatives", "ecosystem services", "endangered species recovery", "conservation policy", "harmful organisms"], "type": "cluster", "node_size": 63, "label": "Native Hawaiian Biocultural Restoration"}, "Indigenous Stewardship & Governance": {"concepts": "habitat-forming species, biocultural restoration, native hawaiian communities, native hawaiian community, biocultural diversity, native hawaiian", "concept_list": ["habitat-forming species", "biocultural restoration", "native hawaiian communities", "native hawaiian community", "biocultural diversity", "native hawaiian"], "type": "cluster", "node_size": 33, "label": "Indigenous Stewardship & Governance"}};
        const conceptData = {"hawaiian worldview": {"concepts": "hawaiian worldview", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "hawaiian worldview"}, "re-categorization": {"concepts": "re-categorization", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "re-categorization"}, "co-management": {"concepts": "co-management", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "co-management"}, "mental modeller": {"concepts": "mental modeller", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "mental modeller"}, "decision makers": {"concepts": "decision makers", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "decision makers"}, "relational framework": {"concepts": "relational framework", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "relational framework"}, "relationship restoration": {"concepts": "relationship restoration", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "relationship restoration"}, "paradigm": {"concepts": "paradigm", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "paradigm"}, "research program": {"concepts": "research program", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "research program"}, "impact level": {"concepts": "impact level", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "impact level"}, "term indigenization": {"concepts": "term indigenization", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "term indigenization"}, "genocide": {"concepts": "genocide", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "genocide"}, "social constructs": {"concepts": "social constructs", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "social constructs"}, "colonial history": {"concepts": "colonial history", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "colonial history"}, "indigenizing": {"concepts": "indigenizing", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "indigenizing"}, "social construct": {"concepts": "social construct", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "social construct"}, "power dynamics": {"concepts": "power dynamics", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "power dynamics"}, "indigenous people": {"concepts": "indigenous people", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "indigenous people"}, "framework": {"concepts": "framework", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "framework"}, "aina": {"concepts": "aina", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "aina"}, "indigenous stewardship": {"concepts": "indigenous stewardship", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "indigenous stewardship"}, "community culture": {"concepts": "community culture", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "community culture"}, "stewardship": {"concepts": "stewardship", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "stewardship"}, "co-management frameworks": {"concepts": "co-management frameworks", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "co-management frameworks"}, "green boxes": {"concepts": "green boxes", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "green boxes"}, "relationships": {"concepts": "relationships", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "relationships"}, "indigenous peoples": {"concepts": "indigenous peoples", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "indigenous peoples"}, "generational scale": {"concepts": "generational scale", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "generational scale"}, "local communities": {"concepts": "local communities", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "local communities"}, "tokenism": {"concepts": "tokenism", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "tokenism"}, "holistic perspective": {"concepts": "holistic perspective", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "holistic perspective"}, "stressor": {"concepts": "stressor", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "stressor"}, "virtual meeting": {"concepts": "virtual meeting", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "virtual meeting"}, "human dimensions": {"concepts": "human dimensions", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "human dimensions"}, "intergenerational trauma": {"concepts": "intergenerational trauma", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "intergenerational trauma"}, "indigenous leadership": {"concepts": "indigenous leadership", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "indigenous leadership"}, "generational perspective": {"concepts": "generational perspective", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "generational perspective"}, "power differentials": {"concepts": "power differentials", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "power differentials"}, "terminology sensitivity": {"concepts": "terminology sensitivity", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "terminology sensitivity"}, "reciprocal relationships": {"concepts": "reciprocal relationships", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "reciprocal relationships"}, "tourism impact": {"concepts": "tourism impact", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "tourism impact"}, "management": {"concepts": "management", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "management"}, "place-based relationships": {"concepts": "place-based relationships", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "place-based relationships"}, "research institutions": {"concepts": "research institutions", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "research institutions"}, "policy management actions": {"concepts": "policy management actions", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "policy management actions"}, "community allyship": {"concepts": "community allyship", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "community allyship"}, "colonization impact": {"concepts": "colonization impact", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "colonization impact"}, "colonization": {"concepts": "colonization", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "colonization"}, "indigenous resource management": {"concepts": "indigenous resource management", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "indigenous resource management"}, "land": {"concepts": "land", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "land"}, "systems perspective": {"concepts": "systems perspective", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "systems perspective"}, "research abilities": {"concepts": "research abilities", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "research abilities"}, "positive relationships": {"concepts": "positive relationships", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "positive relationships"}, "administrations": {"concepts": "administrations", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "administrations"}, "indigenous-led conservation": {"concepts": "indigenous-led conservation", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "indigenous-led conservation"}, "reciprocation of services": {"concepts": "reciprocation of services", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "reciprocation of services"}, "community alliances": {"concepts": "community alliances", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "community alliances"}, "contravailing concepts": {"concepts": "contravailing concepts", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "contravailing concepts"}, "mmp file": {"concepts": "mmp file", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "mmp file"}, "resource management": {"concepts": "resource management", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "resource management"}, "manifest destiny": {"concepts": "manifest destiny", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "manifest destiny"}, "collaborative management": {"concepts": "collaborative management", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "collaborative management"}, "nature reserve": {"concepts": "nature reserve", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "nature reserve"}, "interested parties": {"concepts": "interested parties", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "interested parties"}, "helicopter research": {"concepts": "helicopter research", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "helicopter research"}, "pristine nature": {"concepts": "pristine nature", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "pristine nature"}, "indigenous knowledge": {"concepts": "indigenous knowledge", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "indigenous knowledge"}, "research": {"concepts": "research", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "research"}, "indigenizing concepts": {"concepts": "indigenizing concepts", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "indigenizing concepts"}, "ancestral relationships": {"concepts": "ancestral relationships", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "ancestral relationships"}, "policy": {"concepts": "policy", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "policy"}, "hawaiian cosmology": {"concepts": "hawaiian cosmology", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "hawaiian cosmology"}, "co-evolutionary relationships": {"concepts": "co-evolutionary relationships", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "co-evolutionary relationships"}, "management plans": {"concepts": "management plans", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "management plans"}, "mental modeling": {"concepts": "mental modeling", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "mental modeling"}, "place-based knowledge": {"concepts": "place-based knowledge", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "place-based knowledge"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "stakeholders"}, "tribal-led initiatives": {"concepts": "tribal-led initiatives", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "tribal-led initiatives"}, "cultural identity": {"concepts": "cultural identity", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "cultural identity"}, "indigenous worldviews": {"concepts": "indigenous worldviews", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "indigenous worldviews"}, "policy management": {"concepts": "policy management", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "policy management"}, "humans as part of nature": {"concepts": "humans as part of nature", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "humans as part of nature"}, "human environment connectivity": {"concepts": "human environment connectivity", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "human environment connectivity"}, "reciprocation": {"concepts": "reciprocation", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "reciprocation"}, "community inclusion": {"concepts": "community inclusion", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "community inclusion"}, "authority to legislate": {"concepts": "authority to legislate", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "authority to legislate"}, "federal system": {"concepts": "federal system", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "federal system"}, "federal law": {"concepts": "federal law", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "federal law"}, "law interpretation": {"concepts": "law interpretation", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "law interpretation"}, "environmental injustices": {"concepts": "environmental injustices", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "environmental injustices"}, "judicial branch": {"concepts": "judicial branch", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "judicial branch"}, "environmental justice": {"concepts": "environmental justice", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "environmental justice"}, "judicial interpretation": {"concepts": "judicial interpretation", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "judicial interpretation"}, "state authority": {"concepts": "state authority", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "state authority"}, "social injustice": {"concepts": "social injustice", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "social injustice"}, "state government": {"concepts": "state government", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "state government"}, "federal authority": {"concepts": "federal authority", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "federal authority"}, "federal agencies": {"concepts": "federal agencies", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "federal agencies"}, "federal government": {"concepts": "federal government", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "federal government"}, "state law": {"concepts": "state law", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "state law"}, "environmental injustice": {"concepts": "environmental injustice", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "environmental injustice"}, "indigenous fishers": {"concepts": "indigenous fishers", "type": "concept", "cluster": "Conservation & Biodiversity", "node_size": 10, "label": "indigenous fishers"}, "community-based subsistence fishing": {"concepts": "community-based subsistence fishing", "type": "concept", "cluster": "Conservation & Biodiversity", "node_size": 10, "label": "community-based subsistence fishing"}, "fishing lobby": {"concepts": "fishing lobby", "type": "concept", "cluster": "Conservation & Biodiversity", "node_size": 10, "label": "fishing lobby"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Conservation & Biodiversity", "node_size": 10, "label": "marine resource management"}, "commercial fishing": {"concepts": "commercial fishing", "type": "concept", "cluster": "Conservation & Biodiversity", "node_size": 10, "label": "commercial fishing"}, "marine conservation": {"concepts": "marine conservation", "type": "concept", "cluster": "Conservation & Biodiversity", "node_size": 10, "label": "marine conservation"}, "recreational fishing": {"concepts": "recreational fishing", "type": "concept", "cluster": "Conservation & Biodiversity", "node_size": 10, "label": "recreational fishing"}, "marine resources": {"concepts": "marine resources", "type": "concept", "cluster": "Conservation & Biodiversity", "node_size": 10, "label": "marine resources"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "biodiversity"}, "conservation planning": {"concepts": "conservation planning", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "conservation planning"}, "conservation effectiveness": {"concepts": "conservation effectiveness", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "conservation effectiveness"}, "food webs": {"concepts": "food webs", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "food webs"}, "forest conservation": {"concepts": "forest conservation", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "forest conservation"}, "effective conservation": {"concepts": "effective conservation", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "effective conservation"}, "endangered species act": {"concepts": "endangered species act", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "endangered species act"}, "species diversity": {"concepts": "species diversity", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "species diversity"}, "endangered species conservation": {"concepts": "endangered species conservation", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "endangered species conservation"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "species of conservation concern"}, "conservation metrics": {"concepts": "conservation metrics", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "conservation metrics"}, "conservation initiatives": {"concepts": "conservation initiatives", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "conservation initiatives"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "ecosystem services"}, "endangered species recovery": {"concepts": "endangered species recovery", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "endangered species recovery"}, "conservation policy": {"concepts": "conservation policy", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "conservation policy"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "harmful organisms"}, "habitat-forming species": {"concepts": "habitat-forming species", "type": "concept", "cluster": "Indigenous Stewardship & Governance", "node_size": 10, "label": "habitat-forming species"}, "biocultural restoration": {"concepts": "biocultural restoration", "type": "concept", "cluster": "Indigenous Stewardship & Governance", "node_size": 10, "label": "biocultural restoration"}, "native hawaiian communities": {"concepts": "native hawaiian communities", "type": "concept", "cluster": "Indigenous Stewardship & Governance", "node_size": 10, "label": "native hawaiian communities"}, "native hawaiian community": {"concepts": "native hawaiian community", "type": "concept", "cluster": "Indigenous Stewardship & Governance", "node_size": 10, "label": "native hawaiian community"}, "biocultural diversity": {"concepts": "biocultural diversity", "type": "concept", "cluster": "Indigenous Stewardship & Governance", "node_size": 10, "label": "biocultural diversity"}, "native hawaiian": {"concepts": "native hawaiian", "type": "concept", "cluster": "Indigenous Stewardship & Governance", "node_size": 10, "label": "native hawaiian"}};
        const interClusterEdges = [["Environmental Law & Justice", "Native Hawaiian Biocultural Restoration", {"weight": 1.0, "confidence": 0.8125, "type": "inter_cluster", "style": "solid"}], ["Environmental Law & Justice", "Indigenous Stewardship & Governance", {"weight": 1.0, "confidence": 0.8875, "type": "inter_cluster", "style": "solid"}], ["Environmental Law & Justice", "Conservation & Biodiversity", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Environmental Law & Justice", "Fisheries & Marine Management", {"weight": -0.25, "confidence": 0.5625, "type": "inter_cluster", "style": "solid"}], ["Fisheries & Marine Management", "Conservation & Biodiversity", {"weight": -0.5, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Fisheries & Marine Management", "Environmental Law & Justice", {"weight": -0.75, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Fisheries & Marine Management", "Native Hawaiian Biocultural Restoration", {"weight": -0.25, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["Fisheries & Marine Management", "Indigenous Stewardship & Governance", {"weight": -0.3333333333333333, "confidence": 0.7000000000000001, "type": "inter_cluster", "style": "solid"}], ["Conservation & Biodiversity", "Fisheries & Marine Management", {"weight": -0.5, "confidence": 0.7125, "type": "inter_cluster", "style": "solid"}], ["Conservation & Biodiversity", "Indigenous Stewardship & Governance", {"weight": 1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["Conservation & Biodiversity", "Native Hawaiian Biocultural Restoration", {"weight": 1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["Native Hawaiian Biocultural Restoration", "Indigenous Stewardship & Governance", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Native Hawaiian Biocultural Restoration", "Environmental Law & Justice", {"weight": 1.0, "confidence": 0.7749999999999999, "type": "inter_cluster", "style": "solid"}], ["Native Hawaiian Biocultural Restoration", "Conservation & Biodiversity", {"weight": 0.6666666666666666, "confidence": 0.5166666666666667, "type": "inter_cluster", "style": "solid"}], ["Native Hawaiian Biocultural Restoration", "Fisheries & Marine Management", {"weight": -1.0, "confidence": 0.675, "type": "inter_cluster", "style": "solid"}], ["Indigenous Stewardship & Governance", "Environmental Law & Justice", {"weight": 0.8, "confidence": 0.68, "type": "inter_cluster", "style": "solid"}], ["Indigenous Stewardship & Governance", "Native Hawaiian Biocultural Restoration", {"weight": 1.0, "confidence": 0.8333333333333334, "type": "inter_cluster", "style": "solid"}], ["Indigenous Stewardship & Governance", "Fisheries & Marine Management", {"weight": -1.0, "confidence": 0.6999999999999998, "type": "inter_cluster", "style": "solid"}], ["Indigenous Stewardship & Governance", "Conservation & Biodiversity", {"weight": 1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Environmental Law & Justice": [["hawaiian worldview", {"concepts": "hawaiian worldview", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "hawaiian worldview"}], ["re-categorization", {"concepts": "re-categorization", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "re-categorization"}], ["co-management", {"concepts": "co-management", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "co-management"}], ["mental modeller", {"concepts": "mental modeller", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "mental modeller"}], ["decision makers", {"concepts": "decision makers", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "decision makers"}], ["relational framework", {"concepts": "relational framework", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "relational framework"}], ["relationship restoration", {"concepts": "relationship restoration", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "relationship restoration"}], ["paradigm", {"concepts": "paradigm", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "paradigm"}], ["research program", {"concepts": "research program", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "research program"}], ["impact level", {"concepts": "impact level", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "impact level"}], ["term indigenization", {"concepts": "term indigenization", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "term indigenization"}], ["genocide", {"concepts": "genocide", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "genocide"}], ["social constructs", {"concepts": "social constructs", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "social constructs"}], ["colonial history", {"concepts": "colonial history", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "colonial history"}], ["indigenizing", {"concepts": "indigenizing", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "indigenizing"}], ["social construct", {"concepts": "social construct", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "social construct"}], ["power dynamics", {"concepts": "power dynamics", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "power dynamics"}], ["indigenous people", {"concepts": "indigenous people", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "indigenous people"}], ["framework", {"concepts": "framework", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "framework"}], ["aina", {"concepts": "aina", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "aina"}], ["indigenous stewardship", {"concepts": "indigenous stewardship", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "indigenous stewardship"}], ["community culture", {"concepts": "community culture", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "community culture"}], ["stewardship", {"concepts": "stewardship", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "stewardship"}], ["co-management frameworks", {"concepts": "co-management frameworks", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "co-management frameworks"}], ["green boxes", {"concepts": "green boxes", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "green boxes"}], ["relationships", {"concepts": "relationships", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "relationships"}], ["indigenous peoples", {"concepts": "indigenous peoples", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "indigenous peoples"}], ["generational scale", {"concepts": "generational scale", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "generational scale"}], ["local communities", {"concepts": "local communities", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "local communities"}], ["tokenism", {"concepts": "tokenism", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "tokenism"}], ["holistic perspective", {"concepts": "holistic perspective", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "holistic perspective"}], ["stressor", {"concepts": "stressor", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "stressor"}], ["virtual meeting", {"concepts": "virtual meeting", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "virtual meeting"}], ["human dimensions", {"concepts": "human dimensions", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "human dimensions"}], ["intergenerational trauma", {"concepts": "intergenerational trauma", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "intergenerational trauma"}], ["indigenous leadership", {"concepts": "indigenous leadership", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "indigenous leadership"}], ["generational perspective", {"concepts": "generational perspective", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "generational perspective"}], ["power differentials", {"concepts": "power differentials", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "power differentials"}], ["terminology sensitivity", {"concepts": "terminology sensitivity", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "terminology sensitivity"}], ["reciprocal relationships", {"concepts": "reciprocal relationships", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "reciprocal relationships"}], ["tourism impact", {"concepts": "tourism impact", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "tourism impact"}], ["management", {"concepts": "management", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "management"}], ["place-based relationships", {"concepts": "place-based relationships", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "place-based relationships"}], ["research institutions", {"concepts": "research institutions", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "research institutions"}], ["policy management actions", {"concepts": "policy management actions", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "policy management actions"}], ["community allyship", {"concepts": "community allyship", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "community allyship"}], ["colonization impact", {"concepts": "colonization impact", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "colonization impact"}], ["colonization", {"concepts": "colonization", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "colonization"}], ["indigenous resource management", {"concepts": "indigenous resource management", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "indigenous resource management"}], ["land", {"concepts": "land", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "land"}], ["systems perspective", {"concepts": "systems perspective", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "systems perspective"}], ["research abilities", {"concepts": "research abilities", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "research abilities"}], ["positive relationships", {"concepts": "positive relationships", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "positive relationships"}], ["administrations", {"concepts": "administrations", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "administrations"}], ["indigenous-led conservation", {"concepts": "indigenous-led conservation", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "indigenous-led conservation"}], ["reciprocation of services", {"concepts": "reciprocation of services", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "reciprocation of services"}], ["community alliances", {"concepts": "community alliances", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "community alliances"}], ["contravailing concepts", {"concepts": "contravailing concepts", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "contravailing concepts"}], ["mmp file", {"concepts": "mmp file", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "mmp file"}], ["resource management", {"concepts": "resource management", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "resource management"}], ["manifest destiny", {"concepts": "manifest destiny", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "manifest destiny"}], ["collaborative management", {"concepts": "collaborative management", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "collaborative management"}], ["nature reserve", {"concepts": "nature reserve", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "nature reserve"}], ["interested parties", {"concepts": "interested parties", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "interested parties"}], ["helicopter research", {"concepts": "helicopter research", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "helicopter research"}], ["pristine nature", {"concepts": "pristine nature", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "pristine nature"}], ["indigenous knowledge", {"concepts": "indigenous knowledge", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "indigenous knowledge"}], ["research", {"concepts": "research", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "research"}], ["indigenizing concepts", {"concepts": "indigenizing concepts", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "indigenizing concepts"}], ["ancestral relationships", {"concepts": "ancestral relationships", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "ancestral relationships"}], ["policy", {"concepts": "policy", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "policy"}], ["hawaiian cosmology", {"concepts": "hawaiian cosmology", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "hawaiian cosmology"}], ["co-evolutionary relationships", {"concepts": "co-evolutionary relationships", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "co-evolutionary relationships"}], ["management plans", {"concepts": "management plans", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "management plans"}], ["mental modeling", {"concepts": "mental modeling", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "mental modeling"}], ["place-based knowledge", {"concepts": "place-based knowledge", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "place-based knowledge"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "stakeholders"}], ["tribal-led initiatives", {"concepts": "tribal-led initiatives", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "tribal-led initiatives"}], ["cultural identity", {"concepts": "cultural identity", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "cultural identity"}], ["indigenous worldviews", {"concepts": "indigenous worldviews", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "indigenous worldviews"}], ["policy management", {"concepts": "policy management", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "policy management"}], ["humans as part of nature", {"concepts": "humans as part of nature", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "humans as part of nature"}], ["human environment connectivity", {"concepts": "human environment connectivity", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "human environment connectivity"}], ["reciprocation", {"concepts": "reciprocation", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "reciprocation"}], ["community inclusion", {"concepts": "community inclusion", "type": "concept", "cluster": "Environmental Law & Justice", "node_size": 10, "label": "community inclusion"}]], "Fisheries & Marine Management": [["authority to legislate", {"concepts": "authority to legislate", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "authority to legislate"}], ["federal system", {"concepts": "federal system", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "federal system"}], ["federal law", {"concepts": "federal law", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "federal law"}], ["law interpretation", {"concepts": "law interpretation", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "law interpretation"}], ["environmental injustices", {"concepts": "environmental injustices", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "environmental injustices"}], ["judicial branch", {"concepts": "judicial branch", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "judicial branch"}], ["environmental justice", {"concepts": "environmental justice", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "environmental justice"}], ["judicial interpretation", {"concepts": "judicial interpretation", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "judicial interpretation"}], ["state authority", {"concepts": "state authority", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "state authority"}], ["social injustice", {"concepts": "social injustice", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "social injustice"}], ["state government", {"concepts": "state government", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "state government"}], ["federal authority", {"concepts": "federal authority", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "federal authority"}], ["federal agencies", {"concepts": "federal agencies", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "federal agencies"}], ["federal government", {"concepts": "federal government", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "federal government"}], ["state law", {"concepts": "state law", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "state law"}], ["environmental injustice", {"concepts": "environmental injustice", "type": "concept", "cluster": "Fisheries & Marine Management", "node_size": 10, "label": "environmental injustice"}]], "Conservation & Biodiversity": [["indigenous fishers", {"concepts": "indigenous fishers", "type": "concept", "cluster": "Conservation & Biodiversity", "node_size": 10, "label": "indigenous fishers"}], ["community-based subsistence fishing", {"concepts": "community-based subsistence fishing", "type": "concept", "cluster": "Conservation & Biodiversity", "node_size": 10, "label": "community-based subsistence fishing"}], ["fishing lobby", {"concepts": "fishing lobby", "type": "concept", "cluster": "Conservation & Biodiversity", "node_size": 10, "label": "fishing lobby"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Conservation & Biodiversity", "node_size": 10, "label": "marine resource management"}], ["commercial fishing", {"concepts": "commercial fishing", "type": "concept", "cluster": "Conservation & Biodiversity", "node_size": 10, "label": "commercial fishing"}], ["marine conservation", {"concepts": "marine conservation", "type": "concept", "cluster": "Conservation & Biodiversity", "node_size": 10, "label": "marine conservation"}], ["recreational fishing", {"concepts": "recreational fishing", "type": "concept", "cluster": "Conservation & Biodiversity", "node_size": 10, "label": "recreational fishing"}], ["marine resources", {"concepts": "marine resources", "type": "concept", "cluster": "Conservation & Biodiversity", "node_size": 10, "label": "marine resources"}]], "Native Hawaiian Biocultural Restoration": [["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "biodiversity"}], ["conservation planning", {"concepts": "conservation planning", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "conservation planning"}], ["conservation effectiveness", {"concepts": "conservation effectiveness", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "conservation effectiveness"}], ["food webs", {"concepts": "food webs", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "food webs"}], ["forest conservation", {"concepts": "forest conservation", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "forest conservation"}], ["effective conservation", {"concepts": "effective conservation", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "effective conservation"}], ["endangered species act", {"concepts": "endangered species act", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "endangered species act"}], ["species diversity", {"concepts": "species diversity", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "species diversity"}], ["endangered species conservation", {"concepts": "endangered species conservation", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "endangered species conservation"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "species of conservation concern"}], ["conservation metrics", {"concepts": "conservation metrics", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "conservation metrics"}], ["conservation initiatives", {"concepts": "conservation initiatives", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "conservation initiatives"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "ecosystem services"}], ["endangered species recovery", {"concepts": "endangered species recovery", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "endangered species recovery"}], ["conservation policy", {"concepts": "conservation policy", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "conservation policy"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Native Hawaiian Biocultural Restoration", "node_size": 10, "label": "harmful organisms"}]], "Indigenous Stewardship & Governance": [["habitat-forming species", {"concepts": "habitat-forming species", "type": "concept", "cluster": "Indigenous Stewardship & Governance", "node_size": 10, "label": "habitat-forming species"}], ["biocultural restoration", {"concepts": "biocultural restoration", "type": "concept", "cluster": "Indigenous Stewardship & Governance", "node_size": 10, "label": "biocultural restoration"}], ["native hawaiian communities", {"concepts": "native hawaiian communities", "type": "concept", "cluster": "Indigenous Stewardship & Governance", "node_size": 10, "label": "native hawaiian communities"}], ["native hawaiian community", {"concepts": "native hawaiian community", "type": "concept", "cluster": "Indigenous Stewardship & Governance", "node_size": 10, "label": "native hawaiian community"}], ["biocultural diversity", {"concepts": "biocultural diversity", "type": "concept", "cluster": "Indigenous Stewardship & Governance", "node_size": 10, "label": "biocultural diversity"}], ["native hawaiian", {"concepts": "native hawaiian", "type": "concept", "cluster": "Indigenous Stewardship & Governance", "node_size": 10, "label": "native hawaiian"}]]};
        const clusterEdges = {"Environmental Law & Justice": [], "Fisheries & Marine Management": [], "Conservation & Biodiversity": [], "Native Hawaiian Biocultural Restoration": [], "Indigenous Stewardship & Governance": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
