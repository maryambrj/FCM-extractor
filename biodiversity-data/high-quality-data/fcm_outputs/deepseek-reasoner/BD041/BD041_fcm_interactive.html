
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Management Effectiveness": {"concepts": "management actions, upstream management, management strategies, management components", "concept_list": ["management actions", "upstream management", "management strategies", "management components"], "type": "cluster", "node_size": 27, "label": "Management Effectiveness"}, "Key Food Web Species": {"concepts": "management approaches, management effectiveness", "concept_list": ["management approaches", "management effectiveness"], "type": "cluster", "node_size": 21, "label": "Key Food Web Species"}, "Food Web Support": {"concepts": "food web species, food web, key food web supporting species, food web supporting species, key food web species", "concept_list": ["food web species", "food web", "key food web supporting species", "food web supporting species", "key food web species"], "type": "cluster", "node_size": 30, "label": "Food Web Support"}, "Ecosystem Conservation Management": {"concepts": "key food web, food web support", "concept_list": ["key food web", "food web support"], "type": "cluster", "node_size": 21, "label": "Ecosystem Conservation Management"}, "Management Strategies": {"concepts": "biodiversity, species of conservation concern, biodiversity inventories, harmful organisms, natural inventory, predator-prey dynamics, native species diversity, mangrove forests, nutrient flux, coastal resilience, habitat restoration, nutrient pollution, ecosystem health, conservation concern species, nature conservancy, species richness, native organisms, ecosystem protections, ecosystem balance, habitat species, blue carbon, top predators, watershed management, conservation management, biodiversity impact, conservation species, biodiversity concepts, species diversity, biodiversity components, predator-prey relationships, invasive species removal, native abundance, stressors, healthy ecosystems, species conservation, ecosystem restoration, invasive species, broad ecosystem protection, biodiversity indicators, estuary systems, biodiversity management, coastal ecosystems, species conservation concern, ecosystem protection, habitat forming species, conservation concern, wetland filling, ecological stressors, healthy ecosystem, contaminants, nutrient influx", "concept_list": ["biodiversity", "species of conservation concern", "biodiversity inventories", "harmful organisms", "natural inventory", "predator-prey dynamics", "native species diversity", "mangrove forests", "nutrient flux", "coastal resilience", "habitat restoration", "nutrient pollution", "ecosystem health", "conservation concern species", "nature conservancy", "species richness", "native organisms", "ecosystem protections", "ecosystem balance", "habitat species", "blue carbon", "top predators", "watershed management", "conservation management", "biodiversity impact", "conservation species", "biodiversity concepts", "species diversity", "biodiversity components", "predator-prey relationships", "invasive species removal", "native abundance", "stressors", "healthy ecosystems", "species conservation", "ecosystem restoration", "invasive species", "broad ecosystem protection", "biodiversity indicators", "estuary systems", "biodiversity management", "coastal ecosystems", "species conservation concern", "ecosystem protection", "habitat forming species", "conservation concern", "wetland filling", "ecological stressors", "healthy ecosystem", "contaminants", "nutrient influx"], "type": "cluster", "node_size": 168, "label": "Management Strategies"}, "Marine Ecosystem Conservation": {"concepts": "marine assessment, pollutant spills, oil spill assessment, contaminant spills, marine resources, fisheries policy, marine conservation, oil spill damage assessment, marine ecology, marine biology, aquatic biology, sea level rise, oyster reefs, oyster reef restoration, storm surge mitigation, marine assessments, lionfish, coral reefs, marine policy, storm surge reduction, marine ecosystems, marine resource management", "concept_list": ["marine assessment", "pollutant spills", "oil spill assessment", "contaminant spills", "marine resources", "fisheries policy", "marine conservation", "oil spill damage assessment", "marine ecology", "marine biology", "aquatic biology", "sea level rise", "oyster reefs", "oyster reef restoration", "storm surge mitigation", "marine assessments", "lionfish", "coral reefs", "marine policy", "storm surge reduction", "marine ecosystems", "marine resource management"], "type": "cluster", "node_size": 81, "label": "Marine Ecosystem Conservation"}, "Stakeholder Collaboration Process": {"concepts": "importation bans, mapping, relationship mapping, stakeholder collaboration, workshop participation, travel coordination, quantitative process, collaborative process, knowledge integration, interview process, travel arrangements, expert responses, everglades restoration, no-take areas, expertise background, bans non-natives, gulf of mexico, interviews, effectiveness reduction, stakeholder engagement, collective thinking, sedimentation, no take areas, workshop, bans on non-natives, geospatial analysis, qualitative aggregation, baseline data, projects, meeting productivity, expert input, comprehensive model, meeting logistics, collective perspectives, mental modeler", "concept_list": ["importation bans", "mapping", "relationship mapping", "stakeholder collaboration", "workshop participation", "travel coordination", "quantitative process", "collaborative process", "knowledge integration", "interview process", "travel arrangements", "expert responses", "everglades restoration", "no-take areas", "expertise background", "bans non-natives", "gulf of mexico", "interviews", "effectiveness reduction", "stakeholder engagement", "collective thinking", "sedimentation", "no take areas", "workshop", "bans on non-natives", "geospatial analysis", "qualitative aggregation", "baseline data", "projects", "meeting productivity", "expert input", "comprehensive model", "meeting logistics", "collective perspectives", "mental modeler"], "type": "cluster", "node_size": 120, "label": "Stakeholder Collaboration Process"}};
        const conceptData = {"management actions": {"concepts": "management actions", "type": "concept", "cluster": "Management Effectiveness", "node_size": 10, "label": "management actions"}, "upstream management": {"concepts": "upstream management", "type": "concept", "cluster": "Management Effectiveness", "node_size": 10, "label": "upstream management"}, "management strategies": {"concepts": "management strategies", "type": "concept", "cluster": "Management Effectiveness", "node_size": 10, "label": "management strategies"}, "management components": {"concepts": "management components", "type": "concept", "cluster": "Management Effectiveness", "node_size": 10, "label": "management components"}, "management approaches": {"concepts": "management approaches", "type": "concept", "cluster": "Key Food Web Species", "node_size": 10, "label": "management approaches"}, "management effectiveness": {"concepts": "management effectiveness", "type": "concept", "cluster": "Key Food Web Species", "node_size": 10, "label": "management effectiveness"}, "food web species": {"concepts": "food web species", "type": "concept", "cluster": "Food Web Support", "node_size": 10, "label": "food web species"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Food Web Support", "node_size": 10, "label": "food web"}, "key food web supporting species": {"concepts": "key food web supporting species", "type": "concept", "cluster": "Food Web Support", "node_size": 10, "label": "key food web supporting species"}, "food web supporting species": {"concepts": "food web supporting species", "type": "concept", "cluster": "Food Web Support", "node_size": 10, "label": "food web supporting species"}, "key food web species": {"concepts": "key food web species", "type": "concept", "cluster": "Food Web Support", "node_size": 10, "label": "key food web species"}, "key food web": {"concepts": "key food web", "type": "concept", "cluster": "Ecosystem Conservation Management", "node_size": 10, "label": "key food web"}, "food web support": {"concepts": "food web support", "type": "concept", "cluster": "Ecosystem Conservation Management", "node_size": 10, "label": "food web support"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "biodiversity"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species of conservation concern"}, "biodiversity inventories": {"concepts": "biodiversity inventories", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "biodiversity inventories"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "harmful organisms"}, "natural inventory": {"concepts": "natural inventory", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "natural inventory"}, "predator-prey dynamics": {"concepts": "predator-prey dynamics", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "predator-prey dynamics"}, "native species diversity": {"concepts": "native species diversity", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "native species diversity"}, "mangrove forests": {"concepts": "mangrove forests", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "mangrove forests"}, "nutrient flux": {"concepts": "nutrient flux", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "nutrient flux"}, "coastal resilience": {"concepts": "coastal resilience", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "coastal resilience"}, "habitat restoration": {"concepts": "habitat restoration", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "habitat restoration"}, "nutrient pollution": {"concepts": "nutrient pollution", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "nutrient pollution"}, "ecosystem health": {"concepts": "ecosystem health", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "ecosystem health"}, "conservation concern species": {"concepts": "conservation concern species", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "conservation concern species"}, "nature conservancy": {"concepts": "nature conservancy", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "nature conservancy"}, "species richness": {"concepts": "species richness", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species richness"}, "native organisms": {"concepts": "native organisms", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "native organisms"}, "ecosystem protections": {"concepts": "ecosystem protections", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "ecosystem protections"}, "ecosystem balance": {"concepts": "ecosystem balance", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "ecosystem balance"}, "habitat species": {"concepts": "habitat species", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "habitat species"}, "blue carbon": {"concepts": "blue carbon", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "blue carbon"}, "top predators": {"concepts": "top predators", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "top predators"}, "watershed management": {"concepts": "watershed management", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "watershed management"}, "conservation management": {"concepts": "conservation management", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "conservation management"}, "biodiversity impact": {"concepts": "biodiversity impact", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "biodiversity impact"}, "conservation species": {"concepts": "conservation species", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "conservation species"}, "biodiversity concepts": {"concepts": "biodiversity concepts", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "biodiversity concepts"}, "species diversity": {"concepts": "species diversity", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species diversity"}, "biodiversity components": {"concepts": "biodiversity components", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "biodiversity components"}, "predator-prey relationships": {"concepts": "predator-prey relationships", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "predator-prey relationships"}, "invasive species removal": {"concepts": "invasive species removal", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "invasive species removal"}, "native abundance": {"concepts": "native abundance", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "native abundance"}, "stressors": {"concepts": "stressors", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "stressors"}, "healthy ecosystems": {"concepts": "healthy ecosystems", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "healthy ecosystems"}, "species conservation": {"concepts": "species conservation", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species conservation"}, "ecosystem restoration": {"concepts": "ecosystem restoration", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "ecosystem restoration"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "invasive species"}, "broad ecosystem protection": {"concepts": "broad ecosystem protection", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "broad ecosystem protection"}, "biodiversity indicators": {"concepts": "biodiversity indicators", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "biodiversity indicators"}, "estuary systems": {"concepts": "estuary systems", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "estuary systems"}, "biodiversity management": {"concepts": "biodiversity management", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "biodiversity management"}, "coastal ecosystems": {"concepts": "coastal ecosystems", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "coastal ecosystems"}, "species conservation concern": {"concepts": "species conservation concern", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species conservation concern"}, "ecosystem protection": {"concepts": "ecosystem protection", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "ecosystem protection"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "habitat forming species"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "conservation concern"}, "wetland filling": {"concepts": "wetland filling", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "wetland filling"}, "ecological stressors": {"concepts": "ecological stressors", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "ecological stressors"}, "healthy ecosystem": {"concepts": "healthy ecosystem", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "healthy ecosystem"}, "contaminants": {"concepts": "contaminants", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "contaminants"}, "nutrient influx": {"concepts": "nutrient influx", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "nutrient influx"}, "marine assessment": {"concepts": "marine assessment", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "marine assessment"}, "pollutant spills": {"concepts": "pollutant spills", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "pollutant spills"}, "oil spill assessment": {"concepts": "oil spill assessment", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "oil spill assessment"}, "contaminant spills": {"concepts": "contaminant spills", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "contaminant spills"}, "marine resources": {"concepts": "marine resources", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "marine resources"}, "fisheries policy": {"concepts": "fisheries policy", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "fisheries policy"}, "marine conservation": {"concepts": "marine conservation", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "marine conservation"}, "oil spill damage assessment": {"concepts": "oil spill damage assessment", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "oil spill damage assessment"}, "marine ecology": {"concepts": "marine ecology", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "marine ecology"}, "marine biology": {"concepts": "marine biology", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "marine biology"}, "aquatic biology": {"concepts": "aquatic biology", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "aquatic biology"}, "sea level rise": {"concepts": "sea level rise", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "sea level rise"}, "oyster reefs": {"concepts": "oyster reefs", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "oyster reefs"}, "oyster reef restoration": {"concepts": "oyster reef restoration", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "oyster reef restoration"}, "storm surge mitigation": {"concepts": "storm surge mitigation", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "storm surge mitigation"}, "marine assessments": {"concepts": "marine assessments", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "marine assessments"}, "lionfish": {"concepts": "lionfish", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "lionfish"}, "coral reefs": {"concepts": "coral reefs", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "coral reefs"}, "marine policy": {"concepts": "marine policy", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "marine policy"}, "storm surge reduction": {"concepts": "storm surge reduction", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "storm surge reduction"}, "marine ecosystems": {"concepts": "marine ecosystems", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "marine ecosystems"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "marine resource management"}, "importation bans": {"concepts": "importation bans", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "importation bans"}, "mapping": {"concepts": "mapping", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "mapping"}, "relationship mapping": {"concepts": "relationship mapping", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "relationship mapping"}, "stakeholder collaboration": {"concepts": "stakeholder collaboration", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "stakeholder collaboration"}, "workshop participation": {"concepts": "workshop participation", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "workshop participation"}, "travel coordination": {"concepts": "travel coordination", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "travel coordination"}, "quantitative process": {"concepts": "quantitative process", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "quantitative process"}, "collaborative process": {"concepts": "collaborative process", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "collaborative process"}, "knowledge integration": {"concepts": "knowledge integration", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "knowledge integration"}, "interview process": {"concepts": "interview process", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "interview process"}, "travel arrangements": {"concepts": "travel arrangements", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "travel arrangements"}, "expert responses": {"concepts": "expert responses", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "expert responses"}, "everglades restoration": {"concepts": "everglades restoration", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "everglades restoration"}, "no-take areas": {"concepts": "no-take areas", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "no-take areas"}, "expertise background": {"concepts": "expertise background", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "expertise background"}, "bans non-natives": {"concepts": "bans non-natives", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "bans non-natives"}, "gulf of mexico": {"concepts": "gulf of mexico", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "gulf of mexico"}, "interviews": {"concepts": "interviews", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "interviews"}, "effectiveness reduction": {"concepts": "effectiveness reduction", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "effectiveness reduction"}, "stakeholder engagement": {"concepts": "stakeholder engagement", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "stakeholder engagement"}, "collective thinking": {"concepts": "collective thinking", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "collective thinking"}, "sedimentation": {"concepts": "sedimentation", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "sedimentation"}, "no take areas": {"concepts": "no take areas", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "no take areas"}, "workshop": {"concepts": "workshop", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "workshop"}, "bans on non-natives": {"concepts": "bans on non-natives", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "bans on non-natives"}, "geospatial analysis": {"concepts": "geospatial analysis", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "geospatial analysis"}, "qualitative aggregation": {"concepts": "qualitative aggregation", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "qualitative aggregation"}, "baseline data": {"concepts": "baseline data", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "baseline data"}, "projects": {"concepts": "projects", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "projects"}, "meeting productivity": {"concepts": "meeting productivity", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "meeting productivity"}, "expert input": {"concepts": "expert input", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "expert input"}, "comprehensive model": {"concepts": "comprehensive model", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "comprehensive model"}, "meeting logistics": {"concepts": "meeting logistics", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "meeting logistics"}, "collective perspectives": {"concepts": "collective perspectives", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "collective perspectives"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "mental modeler"}};
        const interClusterEdges = [["Management Effectiveness", "Management Strategies", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Management Effectiveness", "Stakeholder Collaboration Process", {"weight": 0.5, "confidence": 0.3875, "type": "inter_cluster", "style": "solid"}], ["Management Effectiveness", "Food Web Support", {"weight": 0.5, "confidence": 0.3625, "type": "inter_cluster", "style": "solid"}], ["Management Effectiveness", "Key Food Web Species", {"weight": 0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Management Effectiveness", "Ecosystem Conservation Management", {"weight": 0.5, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Key Food Web Species", "Management Strategies", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Key Food Web Species", "Marine Ecosystem Conservation", {"weight": 0.6666666666666666, "confidence": 0.5333333333333333, "type": "inter_cluster", "style": "solid"}], ["Key Food Web Species", "Management Effectiveness", {"weight": 1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["Key Food Web Species", "Stakeholder Collaboration Process", {"weight": 0.6666666666666666, "confidence": 0.5333333333333333, "type": "inter_cluster", "style": "solid"}], ["Food Web Support", "Ecosystem Conservation Management", {"weight": 0.6666666666666666, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Food Web Support", "Management Strategies", {"weight": 1.0, "confidence": 0.875, "type": "inter_cluster", "style": "solid"}], ["Food Web Support", "Marine Ecosystem Conservation", {"weight": 0.3333333333333333, "confidence": 0.2833333333333333, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Conservation Management", "Management Strategies", {"weight": 1.0, "confidence": 0.8999999999999999, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Conservation Management", "Food Web Support", {"weight": 0.6666666666666666, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Conservation Management", "Management Effectiveness", {"weight": -0.5, "confidence": 0.325, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Conservation Management", "Marine Ecosystem Conservation", {"weight": 0.3333333333333333, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}], ["Management Strategies", "Key Food Web Species", {"weight": 0.5, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Management Strategies", "Food Web Support", {"weight": 1.0, "confidence": 0.8333333333333334, "type": "inter_cluster", "style": "solid"}], ["Management Strategies", "Marine Ecosystem Conservation", {"weight": 1.0, "confidence": 0.8999999999999999, "type": "inter_cluster", "style": "solid"}], ["Management Strategies", "Management Effectiveness", {"weight": 0.5, "confidence": 0.425, "type": "inter_cluster", "style": "solid"}], ["Management Strategies", "Ecosystem Conservation Management", {"weight": 0.6666666666666666, "confidence": 0.5499999999999999, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystem Conservation", "Management Strategies", {"weight": 1.0, "confidence": 0.875, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystem Conservation", "Key Food Web Species", {"weight": 0.5, "confidence": 0.4125, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystem Conservation", "Food Web Support", {"weight": 0.3333333333333333, "confidence": 0.2833333333333333, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystem Conservation", "Management Effectiveness", {"weight": 0.3333333333333333, "confidence": 0.26666666666666666, "type": "inter_cluster", "style": "solid"}], ["Marine Ecosystem Conservation", "Ecosystem Conservation Management", {"weight": 0.3333333333333333, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Collaboration Process", "Key Food Web Species", {"weight": 0.6666666666666666, "confidence": 0.5499999999999999, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Collaboration Process", "Management Strategies", {"weight": 0.3333333333333333, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Management Effectiveness": [["management actions", {"concepts": "management actions", "type": "concept", "cluster": "Management Effectiveness", "node_size": 10, "label": "management actions"}], ["upstream management", {"concepts": "upstream management", "type": "concept", "cluster": "Management Effectiveness", "node_size": 10, "label": "upstream management"}], ["management strategies", {"concepts": "management strategies", "type": "concept", "cluster": "Management Effectiveness", "node_size": 10, "label": "management strategies"}], ["management components", {"concepts": "management components", "type": "concept", "cluster": "Management Effectiveness", "node_size": 10, "label": "management components"}]], "Key Food Web Species": [["management approaches", {"concepts": "management approaches", "type": "concept", "cluster": "Key Food Web Species", "node_size": 10, "label": "management approaches"}], ["management effectiveness", {"concepts": "management effectiveness", "type": "concept", "cluster": "Key Food Web Species", "node_size": 10, "label": "management effectiveness"}]], "Food Web Support": [["food web species", {"concepts": "food web species", "type": "concept", "cluster": "Food Web Support", "node_size": 10, "label": "food web species"}], ["food web", {"concepts": "food web", "type": "concept", "cluster": "Food Web Support", "node_size": 10, "label": "food web"}], ["key food web supporting species", {"concepts": "key food web supporting species", "type": "concept", "cluster": "Food Web Support", "node_size": 10, "label": "key food web supporting species"}], ["food web supporting species", {"concepts": "food web supporting species", "type": "concept", "cluster": "Food Web Support", "node_size": 10, "label": "food web supporting species"}], ["key food web species", {"concepts": "key food web species", "type": "concept", "cluster": "Food Web Support", "node_size": 10, "label": "key food web species"}]], "Ecosystem Conservation Management": [["key food web", {"concepts": "key food web", "type": "concept", "cluster": "Ecosystem Conservation Management", "node_size": 10, "label": "key food web"}], ["food web support", {"concepts": "food web support", "type": "concept", "cluster": "Ecosystem Conservation Management", "node_size": 10, "label": "food web support"}]], "Management Strategies": [["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "biodiversity"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species of conservation concern"}], ["biodiversity inventories", {"concepts": "biodiversity inventories", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "biodiversity inventories"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "harmful organisms"}], ["natural inventory", {"concepts": "natural inventory", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "natural inventory"}], ["predator-prey dynamics", {"concepts": "predator-prey dynamics", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "predator-prey dynamics"}], ["native species diversity", {"concepts": "native species diversity", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "native species diversity"}], ["mangrove forests", {"concepts": "mangrove forests", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "mangrove forests"}], ["nutrient flux", {"concepts": "nutrient flux", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "nutrient flux"}], ["coastal resilience", {"concepts": "coastal resilience", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "coastal resilience"}], ["habitat restoration", {"concepts": "habitat restoration", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "habitat restoration"}], ["nutrient pollution", {"concepts": "nutrient pollution", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "nutrient pollution"}], ["ecosystem health", {"concepts": "ecosystem health", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "ecosystem health"}], ["conservation concern species", {"concepts": "conservation concern species", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "conservation concern species"}], ["nature conservancy", {"concepts": "nature conservancy", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "nature conservancy"}], ["species richness", {"concepts": "species richness", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species richness"}], ["native organisms", {"concepts": "native organisms", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "native organisms"}], ["ecosystem protections", {"concepts": "ecosystem protections", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "ecosystem protections"}], ["ecosystem balance", {"concepts": "ecosystem balance", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "ecosystem balance"}], ["habitat species", {"concepts": "habitat species", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "habitat species"}], ["blue carbon", {"concepts": "blue carbon", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "blue carbon"}], ["top predators", {"concepts": "top predators", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "top predators"}], ["watershed management", {"concepts": "watershed management", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "watershed management"}], ["conservation management", {"concepts": "conservation management", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "conservation management"}], ["biodiversity impact", {"concepts": "biodiversity impact", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "biodiversity impact"}], ["conservation species", {"concepts": "conservation species", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "conservation species"}], ["biodiversity concepts", {"concepts": "biodiversity concepts", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "biodiversity concepts"}], ["species diversity", {"concepts": "species diversity", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species diversity"}], ["biodiversity components", {"concepts": "biodiversity components", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "biodiversity components"}], ["predator-prey relationships", {"concepts": "predator-prey relationships", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "predator-prey relationships"}], ["invasive species removal", {"concepts": "invasive species removal", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "invasive species removal"}], ["native abundance", {"concepts": "native abundance", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "native abundance"}], ["stressors", {"concepts": "stressors", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "stressors"}], ["healthy ecosystems", {"concepts": "healthy ecosystems", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "healthy ecosystems"}], ["species conservation", {"concepts": "species conservation", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species conservation"}], ["ecosystem restoration", {"concepts": "ecosystem restoration", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "ecosystem restoration"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "invasive species"}], ["broad ecosystem protection", {"concepts": "broad ecosystem protection", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "broad ecosystem protection"}], ["biodiversity indicators", {"concepts": "biodiversity indicators", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "biodiversity indicators"}], ["estuary systems", {"concepts": "estuary systems", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "estuary systems"}], ["biodiversity management", {"concepts": "biodiversity management", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "biodiversity management"}], ["coastal ecosystems", {"concepts": "coastal ecosystems", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "coastal ecosystems"}], ["species conservation concern", {"concepts": "species conservation concern", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species conservation concern"}], ["ecosystem protection", {"concepts": "ecosystem protection", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "ecosystem protection"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "habitat forming species"}], ["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "conservation concern"}], ["wetland filling", {"concepts": "wetland filling", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "wetland filling"}], ["ecological stressors", {"concepts": "ecological stressors", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "ecological stressors"}], ["healthy ecosystem", {"concepts": "healthy ecosystem", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "healthy ecosystem"}], ["contaminants", {"concepts": "contaminants", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "contaminants"}], ["nutrient influx", {"concepts": "nutrient influx", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "nutrient influx"}]], "Marine Ecosystem Conservation": [["marine assessment", {"concepts": "marine assessment", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "marine assessment"}], ["pollutant spills", {"concepts": "pollutant spills", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "pollutant spills"}], ["oil spill assessment", {"concepts": "oil spill assessment", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "oil spill assessment"}], ["contaminant spills", {"concepts": "contaminant spills", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "contaminant spills"}], ["marine resources", {"concepts": "marine resources", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "marine resources"}], ["fisheries policy", {"concepts": "fisheries policy", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "fisheries policy"}], ["marine conservation", {"concepts": "marine conservation", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "marine conservation"}], ["oil spill damage assessment", {"concepts": "oil spill damage assessment", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "oil spill damage assessment"}], ["marine ecology", {"concepts": "marine ecology", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "marine ecology"}], ["marine biology", {"concepts": "marine biology", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "marine biology"}], ["aquatic biology", {"concepts": "aquatic biology", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "aquatic biology"}], ["sea level rise", {"concepts": "sea level rise", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "sea level rise"}], ["oyster reefs", {"concepts": "oyster reefs", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "oyster reefs"}], ["oyster reef restoration", {"concepts": "oyster reef restoration", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "oyster reef restoration"}], ["storm surge mitigation", {"concepts": "storm surge mitigation", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "storm surge mitigation"}], ["marine assessments", {"concepts": "marine assessments", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "marine assessments"}], ["lionfish", {"concepts": "lionfish", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "lionfish"}], ["coral reefs", {"concepts": "coral reefs", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "coral reefs"}], ["marine policy", {"concepts": "marine policy", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "marine policy"}], ["storm surge reduction", {"concepts": "storm surge reduction", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "storm surge reduction"}], ["marine ecosystems", {"concepts": "marine ecosystems", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "marine ecosystems"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Marine Ecosystem Conservation", "node_size": 10, "label": "marine resource management"}]], "Stakeholder Collaboration Process": [["importation bans", {"concepts": "importation bans", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "importation bans"}], ["mapping", {"concepts": "mapping", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "mapping"}], ["relationship mapping", {"concepts": "relationship mapping", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "relationship mapping"}], ["stakeholder collaboration", {"concepts": "stakeholder collaboration", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "stakeholder collaboration"}], ["workshop participation", {"concepts": "workshop participation", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "workshop participation"}], ["travel coordination", {"concepts": "travel coordination", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "travel coordination"}], ["quantitative process", {"concepts": "quantitative process", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "quantitative process"}], ["collaborative process", {"concepts": "collaborative process", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "collaborative process"}], ["knowledge integration", {"concepts": "knowledge integration", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "knowledge integration"}], ["interview process", {"concepts": "interview process", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "interview process"}], ["travel arrangements", {"concepts": "travel arrangements", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "travel arrangements"}], ["expert responses", {"concepts": "expert responses", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "expert responses"}], ["everglades restoration", {"concepts": "everglades restoration", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "everglades restoration"}], ["no-take areas", {"concepts": "no-take areas", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "no-take areas"}], ["expertise background", {"concepts": "expertise background", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "expertise background"}], ["bans non-natives", {"concepts": "bans non-natives", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "bans non-natives"}], ["gulf of mexico", {"concepts": "gulf of mexico", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "gulf of mexico"}], ["interviews", {"concepts": "interviews", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "interviews"}], ["effectiveness reduction", {"concepts": "effectiveness reduction", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "effectiveness reduction"}], ["stakeholder engagement", {"concepts": "stakeholder engagement", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "stakeholder engagement"}], ["collective thinking", {"concepts": "collective thinking", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "collective thinking"}], ["sedimentation", {"concepts": "sedimentation", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "sedimentation"}], ["no take areas", {"concepts": "no take areas", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "no take areas"}], ["workshop", {"concepts": "workshop", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "workshop"}], ["bans on non-natives", {"concepts": "bans on non-natives", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "bans on non-natives"}], ["geospatial analysis", {"concepts": "geospatial analysis", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "geospatial analysis"}], ["qualitative aggregation", {"concepts": "qualitative aggregation", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "qualitative aggregation"}], ["baseline data", {"concepts": "baseline data", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "baseline data"}], ["projects", {"concepts": "projects", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "projects"}], ["meeting productivity", {"concepts": "meeting productivity", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "meeting productivity"}], ["expert input", {"concepts": "expert input", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "expert input"}], ["comprehensive model", {"concepts": "comprehensive model", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "comprehensive model"}], ["meeting logistics", {"concepts": "meeting logistics", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "meeting logistics"}], ["collective perspectives", {"concepts": "collective perspectives", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "collective perspectives"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Stakeholder Collaboration Process", "node_size": 10, "label": "mental modeler"}]]};
        const clusterEdges = {"Management Effectiveness": [], "Key Food Web Species": [], "Food Web Support": [], "Ecosystem Conservation Management": [], "Management Strategies": [], "Marine Ecosystem Conservation": [], "Stakeholder Collaboration Process": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
