
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"ecosystem technical committees": {"concepts": "ecosystem technical committees", "concept_list": ["ecosystem technical committees"], "type": "cluster", "node_size": 18, "label": "ecosystem technical committees"}, "Conservation Threats & Habitat": {"concepts": "genetic techniques, gear entanglements, gene flow, mmpa listed species, regional collaboration, spatial system, regional community composition, management actions, management measures, spatial shifts, gear entanglement, entanglement risk, regional communication, entanglement impact, dynamic management, adaptive management", "concept_list": ["genetic techniques", "gear entanglements", "gene flow", "mmpa listed species", "regional collaboration", "spatial system", "regional community composition", "management actions", "management measures", "spatial shifts", "gear entanglement", "entanglement risk", "regional communication", "entanglement impact", "dynamic management", "adaptive management"], "type": "cluster", "node_size": 63, "label": "Conservation Threats & Habitat"}, "Population Health & Stressors": {"concepts": "spawning aggregations, marine mammal protection act, lionfish invasion, ship speed regulations, species of conservation concern, marine debris, conservation concern, cetaceans, vessel strikes, coral settlement, coral disease, endangered species act, illegal fishing, river ecosystems, stony coral tissue loss disease, fishery management councils, spawning habitats, marine mammals, fisheries impact, poaching, shrimp fishery, fishery ecosystem plans, seagrass, seagrass conservation, essential fish habitat, fishing pressure, oil spill risk, johnson\u2019s seagrass, endangered species delisting, ship strikes", "concept_list": ["spawning aggregations", "marine mammal protection act", "lionfish invasion", "ship speed regulations", "species of conservation concern", "marine debris", "conservation concern", "cetaceans", "vessel strikes", "coral settlement", "coral disease", "endangered species act", "illegal fishing", "river ecosystems", "stony coral tissue loss disease", "fishery management councils", "spawning habitats", "marine mammals", "fisheries impact", "poaching", "shrimp fishery", "fishery ecosystem plans", "seagrass", "seagrass conservation", "essential fish habitat", "fishing pressure", "oil spill risk", "johnson\u2019s seagrass", "endangered species delisting", "ship strikes"], "type": "cluster", "node_size": 105, "label": "Population Health & Stressors"}, "Species Ecology & Biodiversity": {"concepts": "morbillivirus, hormonal triggers, cetacean morbillivirus, threat factors, reproduction, historical overutilization, cumulative effects, confidence intervals, mortality events, conceptual model, enforcement, esa listing factors, recovery plans, multiple stressors, categorical weights, statutory authority, qualitative tool, odds ratios, population consequences, weighting adjustments, aggregation behavior, magnuson-stevens act, population trajectory, observer coverage, connectivity, semi-quantitative tool, productivity, multi-stress model, disease, compliance, mate finding, knowledge gaps, pollution effects, qualitative conceptual tool, connectivity disruption, bycatch, framework, statistical models, negative spiral, regime shifts, queen conch, mental modeling, stressor weighting, impact assessment, abundance, section 7 consultation, extinction risk, population density, population viability, diversity, seismic noise, overutilization, demographic factors, stressors, model structure, population resilience, demographic criteria, esa regulations", "concept_list": ["morbillivirus", "hormonal triggers", "cetacean morbillivirus", "threat factors", "reproduction", "historical overutilization", "cumulative effects", "confidence intervals", "mortality events", "conceptual model", "enforcement", "esa listing factors", "recovery plans", "multiple stressors", "categorical weights", "statutory authority", "qualitative tool", "odds ratios", "population consequences", "weighting adjustments", "aggregation behavior", "magnuson-stevens act", "population trajectory", "observer coverage", "connectivity", "semi-quantitative tool", "productivity", "multi-stress model", "disease", "compliance", "mate finding", "knowledge gaps", "pollution effects", "qualitative conceptual tool", "connectivity disruption", "bycatch", "framework", "statistical models", "negative spiral", "regime shifts", "queen conch", "mental modeling", "stressor weighting", "impact assessment", "abundance", "section 7 consultation", "extinction risk", "population density", "population viability", "diversity", "seismic noise", "overutilization", "demographic factors", "stressors", "model structure", "population resilience", "demographic criteria", "esa regulations"], "type": "cluster", "node_size": 189, "label": "Species Ecology & Biodiversity"}, "Reproduction & Offspring Survival": {"concepts": "key food webs, msa listed species, feeding behavior, native species, k-selected species, invasive species, biodiversity, habitat destruction, prey distribution, species abundance, primary succession, large predators, habitat formation, predation, species resilience, spatial biodiversity, key food web species, food web, esa listed species, esa species, species modeling, local prey abundance, species recovery, community composition, species distribution, food webs, genetic diversity, species presence, species mortality, bioenergetics, habitat forming species, food base, harmful organisms, introduced species, species migration", "concept_list": ["key food webs", "msa listed species", "feeding behavior", "native species", "k-selected species", "invasive species", "biodiversity", "habitat destruction", "prey distribution", "species abundance", "primary succession", "large predators", "habitat formation", "predation", "species resilience", "spatial biodiversity", "key food web species", "food web", "esa listed species", "esa species", "species modeling", "local prey abundance", "species recovery", "community composition", "species distribution", "food webs", "genetic diversity", "species presence", "species mortality", "bioenergetics", "habitat forming species", "food base", "harmful organisms", "introduced species", "species migration"], "type": "cluster", "node_size": 120, "label": "Reproduction & Offspring Survival"}, "Adaptive Management & Entanglement": {"concepts": "reproductive cycle, calving rates, reproductive fitness, reproductive rate, reproductive species, dams, reproductive output, offspring survival", "concept_list": ["reproductive cycle", "calving rates", "reproductive fitness", "reproductive rate", "reproductive species", "dams", "reproductive output", "offspring survival"], "type": "cluster", "node_size": 39, "label": "Adaptive Management & Entanglement"}, "Temperature Adaptation": {"concepts": "temperature tolerance, sea surface temperature, water temperature", "concept_list": ["temperature tolerance", "sea surface temperature", "water temperature"], "type": "cluster", "node_size": 24, "label": "Temperature Adaptation"}, "Ecosystem Dynamics": {"concepts": "ecosystem maintenance, ecosystem disruption, ecosystem services, ecosystem changes, ecosystem influence, ecosystem function", "concept_list": ["ecosystem maintenance", "ecosystem disruption", "ecosystem services", "ecosystem changes", "ecosystem influence", "ecosystem function"], "type": "cluster", "node_size": 33, "label": "Ecosystem Dynamics"}, "Climate Resilience": {"concepts": "climate change, climate adaptation", "concept_list": ["climate change", "climate adaptation"], "type": "cluster", "node_size": 21, "label": "Climate Resilience"}};
        const conceptData = {"genetic techniques": {"concepts": "genetic techniques", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "genetic techniques"}, "gear entanglements": {"concepts": "gear entanglements", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "gear entanglements"}, "gene flow": {"concepts": "gene flow", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "gene flow"}, "mmpa listed species": {"concepts": "mmpa listed species", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "mmpa listed species"}, "regional collaboration": {"concepts": "regional collaboration", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "regional collaboration"}, "spatial system": {"concepts": "spatial system", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "spatial system"}, "regional community composition": {"concepts": "regional community composition", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "regional community composition"}, "management actions": {"concepts": "management actions", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "management actions"}, "management measures": {"concepts": "management measures", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "management measures"}, "spatial shifts": {"concepts": "spatial shifts", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "spatial shifts"}, "gear entanglement": {"concepts": "gear entanglement", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "gear entanglement"}, "entanglement risk": {"concepts": "entanglement risk", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "entanglement risk"}, "regional communication": {"concepts": "regional communication", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "regional communication"}, "entanglement impact": {"concepts": "entanglement impact", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "entanglement impact"}, "dynamic management": {"concepts": "dynamic management", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "dynamic management"}, "adaptive management": {"concepts": "adaptive management", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "adaptive management"}, "spawning aggregations": {"concepts": "spawning aggregations", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "spawning aggregations"}, "marine mammal protection act": {"concepts": "marine mammal protection act", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "marine mammal protection act"}, "lionfish invasion": {"concepts": "lionfish invasion", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "lionfish invasion"}, "ship speed regulations": {"concepts": "ship speed regulations", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "ship speed regulations"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "species of conservation concern"}, "marine debris": {"concepts": "marine debris", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "marine debris"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "conservation concern"}, "cetaceans": {"concepts": "cetaceans", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "cetaceans"}, "vessel strikes": {"concepts": "vessel strikes", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "vessel strikes"}, "coral settlement": {"concepts": "coral settlement", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "coral settlement"}, "coral disease": {"concepts": "coral disease", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "coral disease"}, "endangered species act": {"concepts": "endangered species act", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "endangered species act"}, "illegal fishing": {"concepts": "illegal fishing", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "illegal fishing"}, "river ecosystems": {"concepts": "river ecosystems", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "river ecosystems"}, "stony coral tissue loss disease": {"concepts": "stony coral tissue loss disease", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "stony coral tissue loss disease"}, "fishery management councils": {"concepts": "fishery management councils", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "fishery management councils"}, "spawning habitats": {"concepts": "spawning habitats", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "spawning habitats"}, "marine mammals": {"concepts": "marine mammals", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "marine mammals"}, "fisheries impact": {"concepts": "fisheries impact", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "fisheries impact"}, "poaching": {"concepts": "poaching", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "poaching"}, "shrimp fishery": {"concepts": "shrimp fishery", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "shrimp fishery"}, "fishery ecosystem plans": {"concepts": "fishery ecosystem plans", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "fishery ecosystem plans"}, "seagrass": {"concepts": "seagrass", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "seagrass"}, "seagrass conservation": {"concepts": "seagrass conservation", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "seagrass conservation"}, "essential fish habitat": {"concepts": "essential fish habitat", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "essential fish habitat"}, "fishing pressure": {"concepts": "fishing pressure", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "fishing pressure"}, "oil spill risk": {"concepts": "oil spill risk", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "oil spill risk"}, "johnson\u2019s seagrass": {"concepts": "johnson\u2019s seagrass", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "johnson\u2019s seagrass"}, "endangered species delisting": {"concepts": "endangered species delisting", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "endangered species delisting"}, "ship strikes": {"concepts": "ship strikes", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "ship strikes"}, "morbillivirus": {"concepts": "morbillivirus", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "morbillivirus"}, "hormonal triggers": {"concepts": "hormonal triggers", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "hormonal triggers"}, "cetacean morbillivirus": {"concepts": "cetacean morbillivirus", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "cetacean morbillivirus"}, "threat factors": {"concepts": "threat factors", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "threat factors"}, "reproduction": {"concepts": "reproduction", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "reproduction"}, "historical overutilization": {"concepts": "historical overutilization", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "historical overutilization"}, "cumulative effects": {"concepts": "cumulative effects", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "cumulative effects"}, "confidence intervals": {"concepts": "confidence intervals", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "confidence intervals"}, "mortality events": {"concepts": "mortality events", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "mortality events"}, "conceptual model": {"concepts": "conceptual model", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "conceptual model"}, "enforcement": {"concepts": "enforcement", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "enforcement"}, "esa listing factors": {"concepts": "esa listing factors", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "esa listing factors"}, "recovery plans": {"concepts": "recovery plans", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "recovery plans"}, "multiple stressors": {"concepts": "multiple stressors", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "multiple stressors"}, "categorical weights": {"concepts": "categorical weights", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "categorical weights"}, "statutory authority": {"concepts": "statutory authority", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "statutory authority"}, "qualitative tool": {"concepts": "qualitative tool", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "qualitative tool"}, "odds ratios": {"concepts": "odds ratios", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "odds ratios"}, "population consequences": {"concepts": "population consequences", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "population consequences"}, "weighting adjustments": {"concepts": "weighting adjustments", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "weighting adjustments"}, "aggregation behavior": {"concepts": "aggregation behavior", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "aggregation behavior"}, "magnuson-stevens act": {"concepts": "magnuson-stevens act", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "magnuson-stevens act"}, "population trajectory": {"concepts": "population trajectory", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "population trajectory"}, "observer coverage": {"concepts": "observer coverage", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "observer coverage"}, "connectivity": {"concepts": "connectivity", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "connectivity"}, "semi-quantitative tool": {"concepts": "semi-quantitative tool", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "semi-quantitative tool"}, "productivity": {"concepts": "productivity", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "productivity"}, "multi-stress model": {"concepts": "multi-stress model", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "multi-stress model"}, "disease": {"concepts": "disease", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "disease"}, "compliance": {"concepts": "compliance", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "compliance"}, "mate finding": {"concepts": "mate finding", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "mate finding"}, "knowledge gaps": {"concepts": "knowledge gaps", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "knowledge gaps"}, "pollution effects": {"concepts": "pollution effects", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "pollution effects"}, "qualitative conceptual tool": {"concepts": "qualitative conceptual tool", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "qualitative conceptual tool"}, "connectivity disruption": {"concepts": "connectivity disruption", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "connectivity disruption"}, "bycatch": {"concepts": "bycatch", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "bycatch"}, "framework": {"concepts": "framework", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "framework"}, "statistical models": {"concepts": "statistical models", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "statistical models"}, "negative spiral": {"concepts": "negative spiral", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "negative spiral"}, "regime shifts": {"concepts": "regime shifts", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "regime shifts"}, "queen conch": {"concepts": "queen conch", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "queen conch"}, "mental modeling": {"concepts": "mental modeling", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "mental modeling"}, "stressor weighting": {"concepts": "stressor weighting", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "stressor weighting"}, "impact assessment": {"concepts": "impact assessment", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "impact assessment"}, "abundance": {"concepts": "abundance", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "abundance"}, "section 7 consultation": {"concepts": "section 7 consultation", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "section 7 consultation"}, "extinction risk": {"concepts": "extinction risk", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "extinction risk"}, "population density": {"concepts": "population density", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "population density"}, "population viability": {"concepts": "population viability", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "population viability"}, "diversity": {"concepts": "diversity", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "diversity"}, "seismic noise": {"concepts": "seismic noise", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "seismic noise"}, "overutilization": {"concepts": "overutilization", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "overutilization"}, "demographic factors": {"concepts": "demographic factors", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "demographic factors"}, "stressors": {"concepts": "stressors", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "stressors"}, "model structure": {"concepts": "model structure", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "model structure"}, "population resilience": {"concepts": "population resilience", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "population resilience"}, "demographic criteria": {"concepts": "demographic criteria", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "demographic criteria"}, "esa regulations": {"concepts": "esa regulations", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "esa regulations"}, "key food webs": {"concepts": "key food webs", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "key food webs"}, "msa listed species": {"concepts": "msa listed species", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "msa listed species"}, "feeding behavior": {"concepts": "feeding behavior", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "feeding behavior"}, "native species": {"concepts": "native species", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "native species"}, "k-selected species": {"concepts": "k-selected species", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "k-selected species"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "invasive species"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "biodiversity"}, "habitat destruction": {"concepts": "habitat destruction", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "habitat destruction"}, "prey distribution": {"concepts": "prey distribution", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "prey distribution"}, "species abundance": {"concepts": "species abundance", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "species abundance"}, "primary succession": {"concepts": "primary succession", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "primary succession"}, "large predators": {"concepts": "large predators", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "large predators"}, "habitat formation": {"concepts": "habitat formation", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "habitat formation"}, "predation": {"concepts": "predation", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "predation"}, "species resilience": {"concepts": "species resilience", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "species resilience"}, "spatial biodiversity": {"concepts": "spatial biodiversity", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "spatial biodiversity"}, "key food web species": {"concepts": "key food web species", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "key food web species"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "food web"}, "esa listed species": {"concepts": "esa listed species", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "esa listed species"}, "esa species": {"concepts": "esa species", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "esa species"}, "species modeling": {"concepts": "species modeling", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "species modeling"}, "local prey abundance": {"concepts": "local prey abundance", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "local prey abundance"}, "species recovery": {"concepts": "species recovery", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "species recovery"}, "community composition": {"concepts": "community composition", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "community composition"}, "species distribution": {"concepts": "species distribution", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "species distribution"}, "food webs": {"concepts": "food webs", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "food webs"}, "genetic diversity": {"concepts": "genetic diversity", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "genetic diversity"}, "species presence": {"concepts": "species presence", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "species presence"}, "species mortality": {"concepts": "species mortality", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "species mortality"}, "bioenergetics": {"concepts": "bioenergetics", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "bioenergetics"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "habitat forming species"}, "food base": {"concepts": "food base", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "food base"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "harmful organisms"}, "introduced species": {"concepts": "introduced species", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "introduced species"}, "species migration": {"concepts": "species migration", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "species migration"}, "reproductive cycle": {"concepts": "reproductive cycle", "type": "concept", "cluster": "Adaptive Management & Entanglement", "node_size": 10, "label": "reproductive cycle"}, "calving rates": {"concepts": "calving rates", "type": "concept", "cluster": "Adaptive Management & Entanglement", "node_size": 10, "label": "calving rates"}, "reproductive fitness": {"concepts": "reproductive fitness", "type": "concept", "cluster": "Adaptive Management & Entanglement", "node_size": 10, "label": "reproductive fitness"}, "reproductive rate": {"concepts": "reproductive rate", "type": "concept", "cluster": "Adaptive Management & Entanglement", "node_size": 10, "label": "reproductive rate"}, "reproductive species": {"concepts": "reproductive species", "type": "concept", "cluster": "Adaptive Management & Entanglement", "node_size": 10, "label": "reproductive species"}, "dams": {"concepts": "dams", "type": "concept", "cluster": "Adaptive Management & Entanglement", "node_size": 10, "label": "dams"}, "reproductive output": {"concepts": "reproductive output", "type": "concept", "cluster": "Adaptive Management & Entanglement", "node_size": 10, "label": "reproductive output"}, "offspring survival": {"concepts": "offspring survival", "type": "concept", "cluster": "Adaptive Management & Entanglement", "node_size": 10, "label": "offspring survival"}, "temperature tolerance": {"concepts": "temperature tolerance", "type": "concept", "cluster": "Temperature Adaptation", "node_size": 10, "label": "temperature tolerance"}, "sea surface temperature": {"concepts": "sea surface temperature", "type": "concept", "cluster": "Temperature Adaptation", "node_size": 10, "label": "sea surface temperature"}, "water temperature": {"concepts": "water temperature", "type": "concept", "cluster": "Temperature Adaptation", "node_size": 10, "label": "water temperature"}, "ecosystem maintenance": {"concepts": "ecosystem maintenance", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem maintenance"}, "ecosystem disruption": {"concepts": "ecosystem disruption", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem disruption"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem services"}, "ecosystem changes": {"concepts": "ecosystem changes", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem changes"}, "ecosystem influence": {"concepts": "ecosystem influence", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem influence"}, "ecosystem function": {"concepts": "ecosystem function", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem function"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Climate Resilience", "node_size": 10, "label": "climate change"}, "climate adaptation": {"concepts": "climate adaptation", "type": "concept", "cluster": "Climate Resilience", "node_size": 10, "label": "climate adaptation"}};
        const interClusterEdges = [["ecosystem technical committees", "Population Health & Stressors", {"weight": 1.0, "confidence": 0.8666666666666667, "type": "inter_cluster", "style": "solid"}], ["ecosystem technical committees", "Reproduction & Offspring Survival", {"weight": 1.0, "confidence": 0.8333333333333334, "type": "inter_cluster", "style": "solid"}], ["ecosystem technical committees", "Conservation Threats & Habitat", {"weight": 1.0, "confidence": 0.95, "type": "inter_cluster", "style": "solid"}], ["ecosystem technical committees", "Ecosystem Dynamics", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["ecosystem technical committees", "Species Ecology & Biodiversity", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Conservation Threats & Habitat", "ecosystem technical committees", {"weight": 1.0, "confidence": 0.8625, "type": "inter_cluster", "style": "solid"}], ["Conservation Threats & Habitat", "Population Health & Stressors", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Conservation Threats & Habitat", "Ecosystem Dynamics", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Population Health & Stressors", "Reproduction & Offspring Survival", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Population Health & Stressors", "Conservation Threats & Habitat", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Population Health & Stressors", "Adaptive Management & Entanglement", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Population Health & Stressors", "Climate Resilience", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Species Ecology & Biodiversity", "Ecosystem Dynamics", {"weight": -1.0, "confidence": 0.8666666666666667, "type": "inter_cluster", "style": "solid"}], ["Species Ecology & Biodiversity", "Adaptive Management & Entanglement", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Species Ecology & Biodiversity", "Conservation Threats & Habitat", {"weight": -1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Reproduction & Offspring Survival", "Ecosystem Dynamics", {"weight": 1.0, "confidence": 0.875, "type": "inter_cluster", "style": "solid"}], ["Reproduction & Offspring Survival", "Climate Resilience", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Adaptive Management & Entanglement", "Reproduction & Offspring Survival", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Adaptive Management & Entanglement", "Conservation Threats & Habitat", {"weight": 1.0, "confidence": 0.7250000000000001, "type": "inter_cluster", "style": "solid"}], ["Adaptive Management & Entanglement", "Ecosystem Dynamics", {"weight": 1.0, "confidence": 0.7250000000000001, "type": "inter_cluster", "style": "solid"}], ["Temperature Adaptation", "Ecosystem Dynamics", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Dynamics", "Reproduction & Offspring Survival", {"weight": 1.0, "confidence": 0.875, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Dynamics", "Population Health & Stressors", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Climate Resilience", "Temperature Adaptation", {"weight": 1.0, "confidence": 0.8624999999999999, "type": "inter_cluster", "style": "solid"}], ["Climate Resilience", "Adaptive Management & Entanglement", {"weight": -1.0, "confidence": 0.8000000000000002, "type": "inter_cluster", "style": "solid"}], ["Climate Resilience", "Reproduction & Offspring Survival", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Climate Resilience", "Ecosystem Dynamics", {"weight": -1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Climate Resilience", "Conservation Threats & Habitat", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Climate Resilience", "ecosystem technical committees", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Conservation Threats & Habitat": [["genetic techniques", {"concepts": "genetic techniques", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "genetic techniques"}], ["gear entanglements", {"concepts": "gear entanglements", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "gear entanglements"}], ["gene flow", {"concepts": "gene flow", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "gene flow"}], ["mmpa listed species", {"concepts": "mmpa listed species", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "mmpa listed species"}], ["regional collaboration", {"concepts": "regional collaboration", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "regional collaboration"}], ["spatial system", {"concepts": "spatial system", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "spatial system"}], ["regional community composition", {"concepts": "regional community composition", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "regional community composition"}], ["management actions", {"concepts": "management actions", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "management actions"}], ["management measures", {"concepts": "management measures", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "management measures"}], ["spatial shifts", {"concepts": "spatial shifts", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "spatial shifts"}], ["gear entanglement", {"concepts": "gear entanglement", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "gear entanglement"}], ["entanglement risk", {"concepts": "entanglement risk", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "entanglement risk"}], ["regional communication", {"concepts": "regional communication", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "regional communication"}], ["entanglement impact", {"concepts": "entanglement impact", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "entanglement impact"}], ["dynamic management", {"concepts": "dynamic management", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "dynamic management"}], ["adaptive management", {"concepts": "adaptive management", "type": "concept", "cluster": "Conservation Threats & Habitat", "node_size": 10, "label": "adaptive management"}]], "Population Health & Stressors": [["spawning aggregations", {"concepts": "spawning aggregations", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "spawning aggregations"}], ["marine mammal protection act", {"concepts": "marine mammal protection act", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "marine mammal protection act"}], ["lionfish invasion", {"concepts": "lionfish invasion", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "lionfish invasion"}], ["ship speed regulations", {"concepts": "ship speed regulations", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "ship speed regulations"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "species of conservation concern"}], ["marine debris", {"concepts": "marine debris", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "marine debris"}], ["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "conservation concern"}], ["cetaceans", {"concepts": "cetaceans", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "cetaceans"}], ["vessel strikes", {"concepts": "vessel strikes", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "vessel strikes"}], ["coral settlement", {"concepts": "coral settlement", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "coral settlement"}], ["coral disease", {"concepts": "coral disease", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "coral disease"}], ["endangered species act", {"concepts": "endangered species act", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "endangered species act"}], ["illegal fishing", {"concepts": "illegal fishing", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "illegal fishing"}], ["river ecosystems", {"concepts": "river ecosystems", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "river ecosystems"}], ["stony coral tissue loss disease", {"concepts": "stony coral tissue loss disease", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "stony coral tissue loss disease"}], ["fishery management councils", {"concepts": "fishery management councils", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "fishery management councils"}], ["spawning habitats", {"concepts": "spawning habitats", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "spawning habitats"}], ["marine mammals", {"concepts": "marine mammals", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "marine mammals"}], ["fisheries impact", {"concepts": "fisheries impact", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "fisheries impact"}], ["poaching", {"concepts": "poaching", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "poaching"}], ["shrimp fishery", {"concepts": "shrimp fishery", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "shrimp fishery"}], ["fishery ecosystem plans", {"concepts": "fishery ecosystem plans", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "fishery ecosystem plans"}], ["seagrass", {"concepts": "seagrass", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "seagrass"}], ["seagrass conservation", {"concepts": "seagrass conservation", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "seagrass conservation"}], ["essential fish habitat", {"concepts": "essential fish habitat", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "essential fish habitat"}], ["fishing pressure", {"concepts": "fishing pressure", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "fishing pressure"}], ["oil spill risk", {"concepts": "oil spill risk", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "oil spill risk"}], ["johnson\u2019s seagrass", {"concepts": "johnson\u2019s seagrass", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "johnson\u2019s seagrass"}], ["endangered species delisting", {"concepts": "endangered species delisting", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "endangered species delisting"}], ["ship strikes", {"concepts": "ship strikes", "type": "concept", "cluster": "Population Health & Stressors", "node_size": 10, "label": "ship strikes"}]], "Species Ecology & Biodiversity": [["morbillivirus", {"concepts": "morbillivirus", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "morbillivirus"}], ["hormonal triggers", {"concepts": "hormonal triggers", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "hormonal triggers"}], ["cetacean morbillivirus", {"concepts": "cetacean morbillivirus", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "cetacean morbillivirus"}], ["threat factors", {"concepts": "threat factors", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "threat factors"}], ["reproduction", {"concepts": "reproduction", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "reproduction"}], ["historical overutilization", {"concepts": "historical overutilization", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "historical overutilization"}], ["cumulative effects", {"concepts": "cumulative effects", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "cumulative effects"}], ["confidence intervals", {"concepts": "confidence intervals", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "confidence intervals"}], ["mortality events", {"concepts": "mortality events", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "mortality events"}], ["conceptual model", {"concepts": "conceptual model", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "conceptual model"}], ["enforcement", {"concepts": "enforcement", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "enforcement"}], ["esa listing factors", {"concepts": "esa listing factors", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "esa listing factors"}], ["recovery plans", {"concepts": "recovery plans", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "recovery plans"}], ["multiple stressors", {"concepts": "multiple stressors", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "multiple stressors"}], ["categorical weights", {"concepts": "categorical weights", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "categorical weights"}], ["statutory authority", {"concepts": "statutory authority", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "statutory authority"}], ["qualitative tool", {"concepts": "qualitative tool", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "qualitative tool"}], ["odds ratios", {"concepts": "odds ratios", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "odds ratios"}], ["population consequences", {"concepts": "population consequences", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "population consequences"}], ["weighting adjustments", {"concepts": "weighting adjustments", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "weighting adjustments"}], ["aggregation behavior", {"concepts": "aggregation behavior", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "aggregation behavior"}], ["magnuson-stevens act", {"concepts": "magnuson-stevens act", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "magnuson-stevens act"}], ["population trajectory", {"concepts": "population trajectory", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "population trajectory"}], ["observer coverage", {"concepts": "observer coverage", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "observer coverage"}], ["connectivity", {"concepts": "connectivity", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "connectivity"}], ["semi-quantitative tool", {"concepts": "semi-quantitative tool", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "semi-quantitative tool"}], ["productivity", {"concepts": "productivity", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "productivity"}], ["multi-stress model", {"concepts": "multi-stress model", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "multi-stress model"}], ["disease", {"concepts": "disease", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "disease"}], ["compliance", {"concepts": "compliance", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "compliance"}], ["mate finding", {"concepts": "mate finding", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "mate finding"}], ["knowledge gaps", {"concepts": "knowledge gaps", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "knowledge gaps"}], ["pollution effects", {"concepts": "pollution effects", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "pollution effects"}], ["qualitative conceptual tool", {"concepts": "qualitative conceptual tool", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "qualitative conceptual tool"}], ["connectivity disruption", {"concepts": "connectivity disruption", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "connectivity disruption"}], ["bycatch", {"concepts": "bycatch", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "bycatch"}], ["framework", {"concepts": "framework", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "framework"}], ["statistical models", {"concepts": "statistical models", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "statistical models"}], ["negative spiral", {"concepts": "negative spiral", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "negative spiral"}], ["regime shifts", {"concepts": "regime shifts", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "regime shifts"}], ["queen conch", {"concepts": "queen conch", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "queen conch"}], ["mental modeling", {"concepts": "mental modeling", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "mental modeling"}], ["stressor weighting", {"concepts": "stressor weighting", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "stressor weighting"}], ["impact assessment", {"concepts": "impact assessment", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "impact assessment"}], ["abundance", {"concepts": "abundance", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "abundance"}], ["section 7 consultation", {"concepts": "section 7 consultation", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "section 7 consultation"}], ["extinction risk", {"concepts": "extinction risk", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "extinction risk"}], ["population density", {"concepts": "population density", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "population density"}], ["population viability", {"concepts": "population viability", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "population viability"}], ["diversity", {"concepts": "diversity", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "diversity"}], ["seismic noise", {"concepts": "seismic noise", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "seismic noise"}], ["overutilization", {"concepts": "overutilization", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "overutilization"}], ["demographic factors", {"concepts": "demographic factors", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "demographic factors"}], ["stressors", {"concepts": "stressors", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "stressors"}], ["model structure", {"concepts": "model structure", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "model structure"}], ["population resilience", {"concepts": "population resilience", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "population resilience"}], ["demographic criteria", {"concepts": "demographic criteria", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "demographic criteria"}], ["esa regulations", {"concepts": "esa regulations", "type": "concept", "cluster": "Species Ecology & Biodiversity", "node_size": 10, "label": "esa regulations"}]], "Reproduction & Offspring Survival": [["key food webs", {"concepts": "key food webs", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "key food webs"}], ["msa listed species", {"concepts": "msa listed species", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "msa listed species"}], ["feeding behavior", {"concepts": "feeding behavior", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "feeding behavior"}], ["native species", {"concepts": "native species", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "native species"}], ["k-selected species", {"concepts": "k-selected species", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "k-selected species"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "invasive species"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "biodiversity"}], ["habitat destruction", {"concepts": "habitat destruction", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "habitat destruction"}], ["prey distribution", {"concepts": "prey distribution", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "prey distribution"}], ["species abundance", {"concepts": "species abundance", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "species abundance"}], ["primary succession", {"concepts": "primary succession", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "primary succession"}], ["large predators", {"concepts": "large predators", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "large predators"}], ["habitat formation", {"concepts": "habitat formation", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "habitat formation"}], ["predation", {"concepts": "predation", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "predation"}], ["species resilience", {"concepts": "species resilience", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "species resilience"}], ["spatial biodiversity", {"concepts": "spatial biodiversity", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "spatial biodiversity"}], ["key food web species", {"concepts": "key food web species", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "key food web species"}], ["food web", {"concepts": "food web", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "food web"}], ["esa listed species", {"concepts": "esa listed species", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "esa listed species"}], ["esa species", {"concepts": "esa species", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "esa species"}], ["species modeling", {"concepts": "species modeling", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "species modeling"}], ["local prey abundance", {"concepts": "local prey abundance", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "local prey abundance"}], ["species recovery", {"concepts": "species recovery", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "species recovery"}], ["community composition", {"concepts": "community composition", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "community composition"}], ["species distribution", {"concepts": "species distribution", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "species distribution"}], ["food webs", {"concepts": "food webs", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "food webs"}], ["genetic diversity", {"concepts": "genetic diversity", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "genetic diversity"}], ["species presence", {"concepts": "species presence", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "species presence"}], ["species mortality", {"concepts": "species mortality", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "species mortality"}], ["bioenergetics", {"concepts": "bioenergetics", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "bioenergetics"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "habitat forming species"}], ["food base", {"concepts": "food base", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "food base"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "harmful organisms"}], ["introduced species", {"concepts": "introduced species", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "introduced species"}], ["species migration", {"concepts": "species migration", "type": "concept", "cluster": "Reproduction & Offspring Survival", "node_size": 10, "label": "species migration"}]], "Adaptive Management & Entanglement": [["reproductive cycle", {"concepts": "reproductive cycle", "type": "concept", "cluster": "Adaptive Management & Entanglement", "node_size": 10, "label": "reproductive cycle"}], ["calving rates", {"concepts": "calving rates", "type": "concept", "cluster": "Adaptive Management & Entanglement", "node_size": 10, "label": "calving rates"}], ["reproductive fitness", {"concepts": "reproductive fitness", "type": "concept", "cluster": "Adaptive Management & Entanglement", "node_size": 10, "label": "reproductive fitness"}], ["reproductive rate", {"concepts": "reproductive rate", "type": "concept", "cluster": "Adaptive Management & Entanglement", "node_size": 10, "label": "reproductive rate"}], ["reproductive species", {"concepts": "reproductive species", "type": "concept", "cluster": "Adaptive Management & Entanglement", "node_size": 10, "label": "reproductive species"}], ["dams", {"concepts": "dams", "type": "concept", "cluster": "Adaptive Management & Entanglement", "node_size": 10, "label": "dams"}], ["reproductive output", {"concepts": "reproductive output", "type": "concept", "cluster": "Adaptive Management & Entanglement", "node_size": 10, "label": "reproductive output"}], ["offspring survival", {"concepts": "offspring survival", "type": "concept", "cluster": "Adaptive Management & Entanglement", "node_size": 10, "label": "offspring survival"}]], "Temperature Adaptation": [["temperature tolerance", {"concepts": "temperature tolerance", "type": "concept", "cluster": "Temperature Adaptation", "node_size": 10, "label": "temperature tolerance"}], ["sea surface temperature", {"concepts": "sea surface temperature", "type": "concept", "cluster": "Temperature Adaptation", "node_size": 10, "label": "sea surface temperature"}], ["water temperature", {"concepts": "water temperature", "type": "concept", "cluster": "Temperature Adaptation", "node_size": 10, "label": "water temperature"}]], "Ecosystem Dynamics": [["ecosystem maintenance", {"concepts": "ecosystem maintenance", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem maintenance"}], ["ecosystem disruption", {"concepts": "ecosystem disruption", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem disruption"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem services"}], ["ecosystem changes", {"concepts": "ecosystem changes", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem changes"}], ["ecosystem influence", {"concepts": "ecosystem influence", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem influence"}], ["ecosystem function", {"concepts": "ecosystem function", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem function"}]], "Climate Resilience": [["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Climate Resilience", "node_size": 10, "label": "climate change"}], ["climate adaptation", {"concepts": "climate adaptation", "type": "concept", "cluster": "Climate Resilience", "node_size": 10, "label": "climate adaptation"}]]};
        const clusterEdges = {"Conservation Threats & Habitat": [], "Population Health & Stressors": [], "Species Ecology & Biodiversity": [], "Reproduction & Offspring Survival": [], "Adaptive Management & Entanglement": [], "Temperature Adaptation": [], "Ecosystem Dynamics": [], "Climate Resilience": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
