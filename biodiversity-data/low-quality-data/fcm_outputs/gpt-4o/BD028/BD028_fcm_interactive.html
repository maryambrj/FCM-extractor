
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Habitat Ecology": {"concepts": "monoculture environment, multi-species management, single-species management", "concept_list": ["monoculture environment", "multi-species management", "single-species management"], "type": "cluster", "node_size": 24, "label": "Habitat Ecology"}, "Marine Policy": {"concepts": "long-term habitat, ecological monitoring, marshes, essential fish habitat, habitat stability, habitat limitation, habitat structure, deep-water ecology, habitat-forming species, habitat forming species, habitat ecology branch", "concept_list": ["long-term habitat", "ecological monitoring", "marshes", "essential fish habitat", "habitat stability", "habitat limitation", "habitat structure", "deep-water ecology", "habitat-forming species", "habitat forming species", "habitat ecology branch"], "type": "cluster", "node_size": 48, "label": "Marine Policy"}, "Biodiversity Conservation": {"concepts": "deep-water corals, black grouper, presence of organisms, policy, jason link, incurrent data, manhaven, midshore, system components, california current, post-doc, experts., everglades restoration, presence or absence, precursor project, state policies, florida reef track, human dimensions, trade-offs, management plan, management policies, space management model, data collection, machine learning, practice, management decisions, regional office, anchovies, oral history., decision making, clean conch, county policies, phd, regulations, human behavior, pacific coast, science centers, sero., management group, regional administrator, nepa, offshore, hart research institute, red snapper, oral history, national coral reef monitoring program, dc, dauphin island, miami, fmps, funding, sardines, genetic resiliency, long-term effects, amberjack, cumulative effects, gulf council, omnivorous generalists, fuzzy cognitive mapping, foundational data, foam, coral research, scale understanding, omnivory, coral disease, noaa, nepa process, coral reef, policy triggers, decisions, consequences, opportunism, practice implementation, gulf islands national seashore, theory, ebfm, commercial industry, coral project, decision makers, coral ecology program, sero, gulf of mexico, virgin islands, policy decisions, national park service, operational end, scale, mental modeler, croaker", "concept_list": ["deep-water corals", "black grouper", "presence of organisms", "policy", "jason link", "incurrent data", "manhaven", "midshore", "system components", "california current", "post-doc", "experts.", "everglades restoration", "presence or absence", "precursor project", "state policies", "florida reef track", "human dimensions", "trade-offs", "management plan", "management policies", "space management model", "data collection", "machine learning", "practice", "management decisions", "regional office", "anchovies", "oral history.", "decision making", "clean conch", "county policies", "phd", "regulations", "human behavior", "pacific coast", "science centers", "sero.", "management group", "regional administrator", "nepa", "offshore", "hart research institute", "red snapper", "oral history", "national coral reef monitoring program", "dc", "dauphin island", "miami", "fmps", "funding", "sardines", "genetic resiliency", "long-term effects", "amberjack", "cumulative effects", "gulf council", "omnivorous generalists", "fuzzy cognitive mapping", "foundational data", "foam", "coral research", "scale understanding", "omnivory", "coral disease", "noaa", "nepa process", "coral reef", "policy triggers", "decisions", "consequences", "opportunism", "practice implementation", "gulf islands national seashore", "theory", "ebfm", "commercial industry", "coral project", "decision makers", "coral ecology program", "sero", "gulf of mexico", "virgin islands", "policy decisions", "national park service", "operational end", "scale", "mental modeler", "croaker"], "type": "cluster", "node_size": 282, "label": "Biodiversity Conservation"}, "Nutrient Dynamics": {"concepts": "biodiversity framework, species scale, threatened species, conservation concern, biodiversity management, biodiversity, biodiversity scale, harvested species, genetic biodiversity, harvesting practices, florida keys, species of conservation concern, population range, invasive species, species introduction, ecology, habitats", "concept_list": ["biodiversity framework", "species scale", "threatened species", "conservation concern", "biodiversity management", "biodiversity", "biodiversity scale", "harvested species", "genetic biodiversity", "harvesting practices", "florida keys", "species of conservation concern", "population range", "invasive species", "species introduction", "ecology", "habitats"], "type": "cluster", "node_size": 66, "label": "Nutrient Dynamics"}, "Species Management": {"concepts": "nutrient production, prey species abundance, prey species, omnivorous fish, prey selection, carbon production", "concept_list": ["nutrient production", "prey species abundance", "prey species", "omnivorous fish", "prey selection", "carbon production"], "type": "cluster", "node_size": 33, "label": "Species Management"}, "Algal Blooms Impact": {"concepts": "harmful algal blooms, harmful algal bloom, shrimp, phytoplankton, shrimp genetics, harmful organisms", "concept_list": ["harmful algal blooms", "harmful algal bloom", "shrimp", "phytoplankton", "shrimp genetics", "harmful organisms"], "type": "cluster", "node_size": 33, "label": "Algal Blooms Impact"}, "Fisheries Management": {"concepts": "fishery, fisheries management, marine resources management, noaa fisheries, fisheries management plan, fishery research, fishing behavior, ecosystem-based fisheries management, fisheries, fishing regulations, marine resource management", "concept_list": ["fishery", "fisheries management", "marine resources management", "noaa fisheries", "fisheries management plan", "fishery research", "fishing behavior", "ecosystem-based fisheries management", "fisheries", "fishing regulations", "marine resource management"], "type": "cluster", "node_size": 48, "label": "Fisheries Management"}, "Food-Web Dynamics": {"concepts": "key food-web supporting species, seagrass, harmful species, food-web supporting species, key food-web species, trigger fish, food limitation", "concept_list": ["key food-web supporting species", "seagrass", "harmful species", "food-web supporting species", "key food-web species", "trigger fish", "food limitation"], "type": "cluster", "node_size": 36, "label": "Food-Web Dynamics"}, "Ecosystem Approaches": {"concepts": "ecosystem management, ecosystem level effects, ecosystem change, ecosystem supported view, top-down ecosystem approach, ecosystem approaches, ecosystem function, ecosystem models", "concept_list": ["ecosystem management", "ecosystem level effects", "ecosystem change", "ecosystem supported view", "top-down ecosystem approach", "ecosystem approaches", "ecosystem function", "ecosystem models"], "type": "cluster", "node_size": 39, "label": "Ecosystem Approaches"}};
        const conceptData = {"monoculture environment": {"concepts": "monoculture environment", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "monoculture environment"}, "multi-species management": {"concepts": "multi-species management", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "multi-species management"}, "single-species management": {"concepts": "single-species management", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "single-species management"}, "long-term habitat": {"concepts": "long-term habitat", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "long-term habitat"}, "ecological monitoring": {"concepts": "ecological monitoring", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "ecological monitoring"}, "marshes": {"concepts": "marshes", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "marshes"}, "essential fish habitat": {"concepts": "essential fish habitat", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "essential fish habitat"}, "habitat stability": {"concepts": "habitat stability", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "habitat stability"}, "habitat limitation": {"concepts": "habitat limitation", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "habitat limitation"}, "habitat structure": {"concepts": "habitat structure", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "habitat structure"}, "deep-water ecology": {"concepts": "deep-water ecology", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "deep-water ecology"}, "habitat-forming species": {"concepts": "habitat-forming species", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "habitat-forming species"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "habitat forming species"}, "habitat ecology branch": {"concepts": "habitat ecology branch", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "habitat ecology branch"}, "deep-water corals": {"concepts": "deep-water corals", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "deep-water corals"}, "black grouper": {"concepts": "black grouper", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "black grouper"}, "presence of organisms": {"concepts": "presence of organisms", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "presence of organisms"}, "policy": {"concepts": "policy", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "policy"}, "jason link": {"concepts": "jason link", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "jason link"}, "incurrent data": {"concepts": "incurrent data", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "incurrent data"}, "manhaven": {"concepts": "manhaven", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "manhaven"}, "midshore": {"concepts": "midshore", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "midshore"}, "system components": {"concepts": "system components", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "system components"}, "california current": {"concepts": "california current", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "california current"}, "post-doc": {"concepts": "post-doc", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "post-doc"}, "experts.": {"concepts": "experts.", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "experts."}, "everglades restoration": {"concepts": "everglades restoration", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "everglades restoration"}, "presence or absence": {"concepts": "presence or absence", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "presence or absence"}, "precursor project": {"concepts": "precursor project", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "precursor project"}, "state policies": {"concepts": "state policies", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "state policies"}, "florida reef track": {"concepts": "florida reef track", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "florida reef track"}, "human dimensions": {"concepts": "human dimensions", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "human dimensions"}, "trade-offs": {"concepts": "trade-offs", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "trade-offs"}, "management plan": {"concepts": "management plan", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "management plan"}, "management policies": {"concepts": "management policies", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "management policies"}, "space management model": {"concepts": "space management model", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "space management model"}, "data collection": {"concepts": "data collection", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "data collection"}, "machine learning": {"concepts": "machine learning", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "machine learning"}, "practice": {"concepts": "practice", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "practice"}, "management decisions": {"concepts": "management decisions", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "management decisions"}, "regional office": {"concepts": "regional office", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "regional office"}, "anchovies": {"concepts": "anchovies", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "anchovies"}, "oral history.": {"concepts": "oral history.", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "oral history."}, "decision making": {"concepts": "decision making", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "decision making"}, "clean conch": {"concepts": "clean conch", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "clean conch"}, "county policies": {"concepts": "county policies", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "county policies"}, "phd": {"concepts": "phd", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "phd"}, "regulations": {"concepts": "regulations", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "regulations"}, "human behavior": {"concepts": "human behavior", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "human behavior"}, "pacific coast": {"concepts": "pacific coast", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "pacific coast"}, "science centers": {"concepts": "science centers", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "science centers"}, "sero.": {"concepts": "sero.", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "sero."}, "management group": {"concepts": "management group", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "management group"}, "regional administrator": {"concepts": "regional administrator", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "regional administrator"}, "nepa": {"concepts": "nepa", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "nepa"}, "offshore": {"concepts": "offshore", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "offshore"}, "hart research institute": {"concepts": "hart research institute", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "hart research institute"}, "red snapper": {"concepts": "red snapper", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "red snapper"}, "oral history": {"concepts": "oral history", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "oral history"}, "national coral reef monitoring program": {"concepts": "national coral reef monitoring program", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "national coral reef monitoring program"}, "dc": {"concepts": "dc", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "dc"}, "dauphin island": {"concepts": "dauphin island", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "dauphin island"}, "miami": {"concepts": "miami", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "miami"}, "fmps": {"concepts": "fmps", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "fmps"}, "funding": {"concepts": "funding", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "funding"}, "sardines": {"concepts": "sardines", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "sardines"}, "genetic resiliency": {"concepts": "genetic resiliency", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "genetic resiliency"}, "long-term effects": {"concepts": "long-term effects", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "long-term effects"}, "amberjack": {"concepts": "amberjack", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "amberjack"}, "cumulative effects": {"concepts": "cumulative effects", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "cumulative effects"}, "gulf council": {"concepts": "gulf council", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "gulf council"}, "omnivorous generalists": {"concepts": "omnivorous generalists", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "omnivorous generalists"}, "fuzzy cognitive mapping": {"concepts": "fuzzy cognitive mapping", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "fuzzy cognitive mapping"}, "foundational data": {"concepts": "foundational data", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "foundational data"}, "foam": {"concepts": "foam", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "foam"}, "coral research": {"concepts": "coral research", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "coral research"}, "scale understanding": {"concepts": "scale understanding", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "scale understanding"}, "omnivory": {"concepts": "omnivory", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "omnivory"}, "coral disease": {"concepts": "coral disease", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "coral disease"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "noaa"}, "nepa process": {"concepts": "nepa process", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "nepa process"}, "coral reef": {"concepts": "coral reef", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "coral reef"}, "policy triggers": {"concepts": "policy triggers", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "policy triggers"}, "decisions": {"concepts": "decisions", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "decisions"}, "consequences": {"concepts": "consequences", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "consequences"}, "opportunism": {"concepts": "opportunism", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "opportunism"}, "practice implementation": {"concepts": "practice implementation", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "practice implementation"}, "gulf islands national seashore": {"concepts": "gulf islands national seashore", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "gulf islands national seashore"}, "theory": {"concepts": "theory", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "theory"}, "ebfm": {"concepts": "ebfm", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "ebfm"}, "commercial industry": {"concepts": "commercial industry", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "commercial industry"}, "coral project": {"concepts": "coral project", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "coral project"}, "decision makers": {"concepts": "decision makers", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "decision makers"}, "coral ecology program": {"concepts": "coral ecology program", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "coral ecology program"}, "sero": {"concepts": "sero", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "sero"}, "gulf of mexico": {"concepts": "gulf of mexico", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "gulf of mexico"}, "virgin islands": {"concepts": "virgin islands", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "virgin islands"}, "policy decisions": {"concepts": "policy decisions", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "policy decisions"}, "national park service": {"concepts": "national park service", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "national park service"}, "operational end": {"concepts": "operational end", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "operational end"}, "scale": {"concepts": "scale", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "scale"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "mental modeler"}, "croaker": {"concepts": "croaker", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "croaker"}, "biodiversity framework": {"concepts": "biodiversity framework", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "biodiversity framework"}, "species scale": {"concepts": "species scale", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "species scale"}, "threatened species": {"concepts": "threatened species", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "threatened species"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "conservation concern"}, "biodiversity management": {"concepts": "biodiversity management", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "biodiversity management"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "biodiversity"}, "biodiversity scale": {"concepts": "biodiversity scale", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "biodiversity scale"}, "harvested species": {"concepts": "harvested species", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "harvested species"}, "genetic biodiversity": {"concepts": "genetic biodiversity", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "genetic biodiversity"}, "harvesting practices": {"concepts": "harvesting practices", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "harvesting practices"}, "florida keys": {"concepts": "florida keys", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "florida keys"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "species of conservation concern"}, "population range": {"concepts": "population range", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "population range"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "invasive species"}, "species introduction": {"concepts": "species introduction", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "species introduction"}, "ecology": {"concepts": "ecology", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "ecology"}, "habitats": {"concepts": "habitats", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "habitats"}, "nutrient production": {"concepts": "nutrient production", "type": "concept", "cluster": "Species Management", "node_size": 10, "label": "nutrient production"}, "prey species abundance": {"concepts": "prey species abundance", "type": "concept", "cluster": "Species Management", "node_size": 10, "label": "prey species abundance"}, "prey species": {"concepts": "prey species", "type": "concept", "cluster": "Species Management", "node_size": 10, "label": "prey species"}, "omnivorous fish": {"concepts": "omnivorous fish", "type": "concept", "cluster": "Species Management", "node_size": 10, "label": "omnivorous fish"}, "prey selection": {"concepts": "prey selection", "type": "concept", "cluster": "Species Management", "node_size": 10, "label": "prey selection"}, "carbon production": {"concepts": "carbon production", "type": "concept", "cluster": "Species Management", "node_size": 10, "label": "carbon production"}, "harmful algal blooms": {"concepts": "harmful algal blooms", "type": "concept", "cluster": "Algal Blooms Impact", "node_size": 10, "label": "harmful algal blooms"}, "harmful algal bloom": {"concepts": "harmful algal bloom", "type": "concept", "cluster": "Algal Blooms Impact", "node_size": 10, "label": "harmful algal bloom"}, "shrimp": {"concepts": "shrimp", "type": "concept", "cluster": "Algal Blooms Impact", "node_size": 10, "label": "shrimp"}, "phytoplankton": {"concepts": "phytoplankton", "type": "concept", "cluster": "Algal Blooms Impact", "node_size": 10, "label": "phytoplankton"}, "shrimp genetics": {"concepts": "shrimp genetics", "type": "concept", "cluster": "Algal Blooms Impact", "node_size": 10, "label": "shrimp genetics"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Algal Blooms Impact", "node_size": 10, "label": "harmful organisms"}, "fishery": {"concepts": "fishery", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishery"}, "fisheries management": {"concepts": "fisheries management", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fisheries management"}, "marine resources management": {"concepts": "marine resources management", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "marine resources management"}, "noaa fisheries": {"concepts": "noaa fisheries", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "noaa fisheries"}, "fisheries management plan": {"concepts": "fisheries management plan", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fisheries management plan"}, "fishery research": {"concepts": "fishery research", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishery research"}, "fishing behavior": {"concepts": "fishing behavior", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishing behavior"}, "ecosystem-based fisheries management": {"concepts": "ecosystem-based fisheries management", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "ecosystem-based fisheries management"}, "fisheries": {"concepts": "fisheries", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fisheries"}, "fishing regulations": {"concepts": "fishing regulations", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishing regulations"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "marine resource management"}, "key food-web supporting species": {"concepts": "key food-web supporting species", "type": "concept", "cluster": "Food-Web Dynamics", "node_size": 10, "label": "key food-web supporting species"}, "seagrass": {"concepts": "seagrass", "type": "concept", "cluster": "Food-Web Dynamics", "node_size": 10, "label": "seagrass"}, "harmful species": {"concepts": "harmful species", "type": "concept", "cluster": "Food-Web Dynamics", "node_size": 10, "label": "harmful species"}, "food-web supporting species": {"concepts": "food-web supporting species", "type": "concept", "cluster": "Food-Web Dynamics", "node_size": 10, "label": "food-web supporting species"}, "key food-web species": {"concepts": "key food-web species", "type": "concept", "cluster": "Food-Web Dynamics", "node_size": 10, "label": "key food-web species"}, "trigger fish": {"concepts": "trigger fish", "type": "concept", "cluster": "Food-Web Dynamics", "node_size": 10, "label": "trigger fish"}, "food limitation": {"concepts": "food limitation", "type": "concept", "cluster": "Food-Web Dynamics", "node_size": 10, "label": "food limitation"}, "ecosystem management": {"concepts": "ecosystem management", "type": "concept", "cluster": "Ecosystem Approaches", "node_size": 10, "label": "ecosystem management"}, "ecosystem level effects": {"concepts": "ecosystem level effects", "type": "concept", "cluster": "Ecosystem Approaches", "node_size": 10, "label": "ecosystem level effects"}, "ecosystem change": {"concepts": "ecosystem change", "type": "concept", "cluster": "Ecosystem Approaches", "node_size": 10, "label": "ecosystem change"}, "ecosystem supported view": {"concepts": "ecosystem supported view", "type": "concept", "cluster": "Ecosystem Approaches", "node_size": 10, "label": "ecosystem supported view"}, "top-down ecosystem approach": {"concepts": "top-down ecosystem approach", "type": "concept", "cluster": "Ecosystem Approaches", "node_size": 10, "label": "top-down ecosystem approach"}, "ecosystem approaches": {"concepts": "ecosystem approaches", "type": "concept", "cluster": "Ecosystem Approaches", "node_size": 10, "label": "ecosystem approaches"}, "ecosystem function": {"concepts": "ecosystem function", "type": "concept", "cluster": "Ecosystem Approaches", "node_size": 10, "label": "ecosystem function"}, "ecosystem models": {"concepts": "ecosystem models", "type": "concept", "cluster": "Ecosystem Approaches", "node_size": 10, "label": "ecosystem models"}};
        const interClusterEdges = [["Habitat Ecology", "Fisheries Management", {"weight": 0.4, "confidence": 0.5900000000000001, "type": "inter_cluster", "style": "solid"}], ["Habitat Ecology", "Species Management", {"weight": 0.2, "confidence": 0.47000000000000003, "type": "inter_cluster", "style": "solid"}], ["Habitat Ecology", "Marine Policy", {"weight": 0.2, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Marine Policy", "Algal Blooms Impact", {"weight": 0.6, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Marine Policy", "Species Management", {"weight": 1.0, "confidence": 0.8166666666666668, "type": "inter_cluster", "style": "solid"}], ["Marine Policy", "Food-Web Dynamics", {"weight": 0.25, "confidence": 0.5875, "type": "inter_cluster", "style": "solid"}], ["Marine Policy", "Ecosystem Approaches", {"weight": 0.2, "confidence": 0.47000000000000003, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Conservation", "Ecosystem Approaches", {"weight": 0.8, "confidence": 0.64, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Conservation", "Marine Policy", {"weight": 0.5, "confidence": 0.3875, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Conservation", "Food-Web Dynamics", {"weight": -0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Nutrient Dynamics", "Marine Policy", {"weight": 0.8, "confidence": 0.6199999999999999, "type": "inter_cluster", "style": "solid"}], ["Nutrient Dynamics", "Food-Web Dynamics", {"weight": 0.6, "confidence": 0.45999999999999996, "type": "inter_cluster", "style": "solid"}], ["Nutrient Dynamics", "Fisheries Management", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Nutrient Dynamics", "Ecosystem Approaches", {"weight": 0.2, "confidence": 0.16, "type": "inter_cluster", "style": "solid"}], ["Species Management", "Ecosystem Approaches", {"weight": 0.4, "confidence": 0.31, "type": "inter_cluster", "style": "solid"}], ["Species Management", "Marine Policy", {"weight": 0.2, "confidence": 0.16999999999999998, "type": "inter_cluster", "style": "solid"}], ["Algal Blooms Impact", "Fisheries Management", {"weight": 0.25, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Algal Blooms Impact", "Habitat Ecology", {"weight": 0.4, "confidence": 0.31, "type": "inter_cluster", "style": "solid"}], ["Algal Blooms Impact", "Species Management", {"weight": 0.25, "confidence": 0.2125, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Algal Blooms Impact", {"weight": 0.8, "confidence": 0.64, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Species Management", {"weight": 0.4, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Nutrient Dynamics", {"weight": 0.5, "confidence": 0.4125, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Biodiversity Conservation", {"weight": 0.4, "confidence": 0.33999999999999997, "type": "inter_cluster", "style": "solid"}], ["Food-Web Dynamics", "Species Management", {"weight": 0.2, "confidence": 0.49000000000000005, "type": "inter_cluster", "style": "solid"}], ["Food-Web Dynamics", "Biodiversity Conservation", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["Food-Web Dynamics", "Ecosystem Approaches", {"weight": 0.4, "confidence": 0.31, "type": "inter_cluster", "style": "solid"}], ["Food-Web Dynamics", "Habitat Ecology", {"weight": -0.5, "confidence": 0.35, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Approaches", "Nutrient Dynamics", {"weight": 0.6, "confidence": 0.47000000000000003, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Approaches", "Marine Policy", {"weight": 0.6, "confidence": 0.48, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Approaches", "Fisheries Management", {"weight": 0.2, "confidence": 0.16, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Habitat Ecology": [["monoculture environment", {"concepts": "monoculture environment", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "monoculture environment"}], ["multi-species management", {"concepts": "multi-species management", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "multi-species management"}], ["single-species management", {"concepts": "single-species management", "type": "concept", "cluster": "Habitat Ecology", "node_size": 10, "label": "single-species management"}]], "Marine Policy": [["long-term habitat", {"concepts": "long-term habitat", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "long-term habitat"}], ["ecological monitoring", {"concepts": "ecological monitoring", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "ecological monitoring"}], ["marshes", {"concepts": "marshes", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "marshes"}], ["essential fish habitat", {"concepts": "essential fish habitat", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "essential fish habitat"}], ["habitat stability", {"concepts": "habitat stability", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "habitat stability"}], ["habitat limitation", {"concepts": "habitat limitation", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "habitat limitation"}], ["habitat structure", {"concepts": "habitat structure", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "habitat structure"}], ["deep-water ecology", {"concepts": "deep-water ecology", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "deep-water ecology"}], ["habitat-forming species", {"concepts": "habitat-forming species", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "habitat-forming species"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "habitat forming species"}], ["habitat ecology branch", {"concepts": "habitat ecology branch", "type": "concept", "cluster": "Marine Policy", "node_size": 10, "label": "habitat ecology branch"}]], "Biodiversity Conservation": [["deep-water corals", {"concepts": "deep-water corals", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "deep-water corals"}], ["black grouper", {"concepts": "black grouper", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "black grouper"}], ["presence of organisms", {"concepts": "presence of organisms", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "presence of organisms"}], ["policy", {"concepts": "policy", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "policy"}], ["jason link", {"concepts": "jason link", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "jason link"}], ["incurrent data", {"concepts": "incurrent data", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "incurrent data"}], ["manhaven", {"concepts": "manhaven", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "manhaven"}], ["midshore", {"concepts": "midshore", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "midshore"}], ["system components", {"concepts": "system components", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "system components"}], ["california current", {"concepts": "california current", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "california current"}], ["post-doc", {"concepts": "post-doc", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "post-doc"}], ["experts.", {"concepts": "experts.", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "experts."}], ["everglades restoration", {"concepts": "everglades restoration", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "everglades restoration"}], ["presence or absence", {"concepts": "presence or absence", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "presence or absence"}], ["precursor project", {"concepts": "precursor project", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "precursor project"}], ["state policies", {"concepts": "state policies", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "state policies"}], ["florida reef track", {"concepts": "florida reef track", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "florida reef track"}], ["human dimensions", {"concepts": "human dimensions", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "human dimensions"}], ["trade-offs", {"concepts": "trade-offs", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "trade-offs"}], ["management plan", {"concepts": "management plan", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "management plan"}], ["management policies", {"concepts": "management policies", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "management policies"}], ["space management model", {"concepts": "space management model", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "space management model"}], ["data collection", {"concepts": "data collection", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "data collection"}], ["machine learning", {"concepts": "machine learning", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "machine learning"}], ["practice", {"concepts": "practice", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "practice"}], ["management decisions", {"concepts": "management decisions", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "management decisions"}], ["regional office", {"concepts": "regional office", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "regional office"}], ["anchovies", {"concepts": "anchovies", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "anchovies"}], ["oral history.", {"concepts": "oral history.", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "oral history."}], ["decision making", {"concepts": "decision making", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "decision making"}], ["clean conch", {"concepts": "clean conch", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "clean conch"}], ["county policies", {"concepts": "county policies", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "county policies"}], ["phd", {"concepts": "phd", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "phd"}], ["regulations", {"concepts": "regulations", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "regulations"}], ["human behavior", {"concepts": "human behavior", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "human behavior"}], ["pacific coast", {"concepts": "pacific coast", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "pacific coast"}], ["science centers", {"concepts": "science centers", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "science centers"}], ["sero.", {"concepts": "sero.", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "sero."}], ["management group", {"concepts": "management group", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "management group"}], ["regional administrator", {"concepts": "regional administrator", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "regional administrator"}], ["nepa", {"concepts": "nepa", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "nepa"}], ["offshore", {"concepts": "offshore", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "offshore"}], ["hart research institute", {"concepts": "hart research institute", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "hart research institute"}], ["red snapper", {"concepts": "red snapper", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "red snapper"}], ["oral history", {"concepts": "oral history", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "oral history"}], ["national coral reef monitoring program", {"concepts": "national coral reef monitoring program", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "national coral reef monitoring program"}], ["dc", {"concepts": "dc", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "dc"}], ["dauphin island", {"concepts": "dauphin island", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "dauphin island"}], ["miami", {"concepts": "miami", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "miami"}], ["fmps", {"concepts": "fmps", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "fmps"}], ["funding", {"concepts": "funding", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "funding"}], ["sardines", {"concepts": "sardines", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "sardines"}], ["genetic resiliency", {"concepts": "genetic resiliency", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "genetic resiliency"}], ["long-term effects", {"concepts": "long-term effects", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "long-term effects"}], ["amberjack", {"concepts": "amberjack", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "amberjack"}], ["cumulative effects", {"concepts": "cumulative effects", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "cumulative effects"}], ["gulf council", {"concepts": "gulf council", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "gulf council"}], ["omnivorous generalists", {"concepts": "omnivorous generalists", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "omnivorous generalists"}], ["fuzzy cognitive mapping", {"concepts": "fuzzy cognitive mapping", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "fuzzy cognitive mapping"}], ["foundational data", {"concepts": "foundational data", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "foundational data"}], ["foam", {"concepts": "foam", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "foam"}], ["coral research", {"concepts": "coral research", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "coral research"}], ["scale understanding", {"concepts": "scale understanding", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "scale understanding"}], ["omnivory", {"concepts": "omnivory", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "omnivory"}], ["coral disease", {"concepts": "coral disease", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "coral disease"}], ["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "noaa"}], ["nepa process", {"concepts": "nepa process", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "nepa process"}], ["coral reef", {"concepts": "coral reef", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "coral reef"}], ["policy triggers", {"concepts": "policy triggers", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "policy triggers"}], ["decisions", {"concepts": "decisions", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "decisions"}], ["consequences", {"concepts": "consequences", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "consequences"}], ["opportunism", {"concepts": "opportunism", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "opportunism"}], ["practice implementation", {"concepts": "practice implementation", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "practice implementation"}], ["gulf islands national seashore", {"concepts": "gulf islands national seashore", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "gulf islands national seashore"}], ["theory", {"concepts": "theory", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "theory"}], ["ebfm", {"concepts": "ebfm", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "ebfm"}], ["commercial industry", {"concepts": "commercial industry", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "commercial industry"}], ["coral project", {"concepts": "coral project", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "coral project"}], ["decision makers", {"concepts": "decision makers", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "decision makers"}], ["coral ecology program", {"concepts": "coral ecology program", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "coral ecology program"}], ["sero", {"concepts": "sero", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "sero"}], ["gulf of mexico", {"concepts": "gulf of mexico", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "gulf of mexico"}], ["virgin islands", {"concepts": "virgin islands", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "virgin islands"}], ["policy decisions", {"concepts": "policy decisions", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "policy decisions"}], ["national park service", {"concepts": "national park service", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "national park service"}], ["operational end", {"concepts": "operational end", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "operational end"}], ["scale", {"concepts": "scale", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "scale"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "mental modeler"}], ["croaker", {"concepts": "croaker", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "croaker"}]], "Nutrient Dynamics": [["biodiversity framework", {"concepts": "biodiversity framework", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "biodiversity framework"}], ["species scale", {"concepts": "species scale", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "species scale"}], ["threatened species", {"concepts": "threatened species", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "threatened species"}], ["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "conservation concern"}], ["biodiversity management", {"concepts": "biodiversity management", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "biodiversity management"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "biodiversity"}], ["biodiversity scale", {"concepts": "biodiversity scale", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "biodiversity scale"}], ["harvested species", {"concepts": "harvested species", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "harvested species"}], ["genetic biodiversity", {"concepts": "genetic biodiversity", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "genetic biodiversity"}], ["harvesting practices", {"concepts": "harvesting practices", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "harvesting practices"}], ["florida keys", {"concepts": "florida keys", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "florida keys"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "species of conservation concern"}], ["population range", {"concepts": "population range", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "population range"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "invasive species"}], ["species introduction", {"concepts": "species introduction", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "species introduction"}], ["ecology", {"concepts": "ecology", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "ecology"}], ["habitats", {"concepts": "habitats", "type": "concept", "cluster": "Nutrient Dynamics", "node_size": 10, "label": "habitats"}]], "Species Management": [["nutrient production", {"concepts": "nutrient production", "type": "concept", "cluster": "Species Management", "node_size": 10, "label": "nutrient production"}], ["prey species abundance", {"concepts": "prey species abundance", "type": "concept", "cluster": "Species Management", "node_size": 10, "label": "prey species abundance"}], ["prey species", {"concepts": "prey species", "type": "concept", "cluster": "Species Management", "node_size": 10, "label": "prey species"}], ["omnivorous fish", {"concepts": "omnivorous fish", "type": "concept", "cluster": "Species Management", "node_size": 10, "label": "omnivorous fish"}], ["prey selection", {"concepts": "prey selection", "type": "concept", "cluster": "Species Management", "node_size": 10, "label": "prey selection"}], ["carbon production", {"concepts": "carbon production", "type": "concept", "cluster": "Species Management", "node_size": 10, "label": "carbon production"}]], "Algal Blooms Impact": [["harmful algal blooms", {"concepts": "harmful algal blooms", "type": "concept", "cluster": "Algal Blooms Impact", "node_size": 10, "label": "harmful algal blooms"}], ["harmful algal bloom", {"concepts": "harmful algal bloom", "type": "concept", "cluster": "Algal Blooms Impact", "node_size": 10, "label": "harmful algal bloom"}], ["shrimp", {"concepts": "shrimp", "type": "concept", "cluster": "Algal Blooms Impact", "node_size": 10, "label": "shrimp"}], ["phytoplankton", {"concepts": "phytoplankton", "type": "concept", "cluster": "Algal Blooms Impact", "node_size": 10, "label": "phytoplankton"}], ["shrimp genetics", {"concepts": "shrimp genetics", "type": "concept", "cluster": "Algal Blooms Impact", "node_size": 10, "label": "shrimp genetics"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Algal Blooms Impact", "node_size": 10, "label": "harmful organisms"}]], "Fisheries Management": [["fishery", {"concepts": "fishery", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishery"}], ["fisheries management", {"concepts": "fisheries management", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fisheries management"}], ["marine resources management", {"concepts": "marine resources management", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "marine resources management"}], ["noaa fisheries", {"concepts": "noaa fisheries", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "noaa fisheries"}], ["fisheries management plan", {"concepts": "fisheries management plan", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fisheries management plan"}], ["fishery research", {"concepts": "fishery research", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishery research"}], ["fishing behavior", {"concepts": "fishing behavior", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishing behavior"}], ["ecosystem-based fisheries management", {"concepts": "ecosystem-based fisheries management", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "ecosystem-based fisheries management"}], ["fisheries", {"concepts": "fisheries", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fisheries"}], ["fishing regulations", {"concepts": "fishing regulations", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishing regulations"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "marine resource management"}]], "Food-Web Dynamics": [["key food-web supporting species", {"concepts": "key food-web supporting species", "type": "concept", "cluster": "Food-Web Dynamics", "node_size": 10, "label": "key food-web supporting species"}], ["seagrass", {"concepts": "seagrass", "type": "concept", "cluster": "Food-Web Dynamics", "node_size": 10, "label": "seagrass"}], ["harmful species", {"concepts": "harmful species", "type": "concept", "cluster": "Food-Web Dynamics", "node_size": 10, "label": "harmful species"}], ["food-web supporting species", {"concepts": "food-web supporting species", "type": "concept", "cluster": "Food-Web Dynamics", "node_size": 10, "label": "food-web supporting species"}], ["key food-web species", {"concepts": "key food-web species", "type": "concept", "cluster": "Food-Web Dynamics", "node_size": 10, "label": "key food-web species"}], ["trigger fish", {"concepts": "trigger fish", "type": "concept", "cluster": "Food-Web Dynamics", "node_size": 10, "label": "trigger fish"}], ["food limitation", {"concepts": "food limitation", "type": "concept", "cluster": "Food-Web Dynamics", "node_size": 10, "label": "food limitation"}]], "Ecosystem Approaches": [["ecosystem management", {"concepts": "ecosystem management", "type": "concept", "cluster": "Ecosystem Approaches", "node_size": 10, "label": "ecosystem management"}], ["ecosystem level effects", {"concepts": "ecosystem level effects", "type": "concept", "cluster": "Ecosystem Approaches", "node_size": 10, "label": "ecosystem level effects"}], ["ecosystem change", {"concepts": "ecosystem change", "type": "concept", "cluster": "Ecosystem Approaches", "node_size": 10, "label": "ecosystem change"}], ["ecosystem supported view", {"concepts": "ecosystem supported view", "type": "concept", "cluster": "Ecosystem Approaches", "node_size": 10, "label": "ecosystem supported view"}], ["top-down ecosystem approach", {"concepts": "top-down ecosystem approach", "type": "concept", "cluster": "Ecosystem Approaches", "node_size": 10, "label": "top-down ecosystem approach"}], ["ecosystem approaches", {"concepts": "ecosystem approaches", "type": "concept", "cluster": "Ecosystem Approaches", "node_size": 10, "label": "ecosystem approaches"}], ["ecosystem function", {"concepts": "ecosystem function", "type": "concept", "cluster": "Ecosystem Approaches", "node_size": 10, "label": "ecosystem function"}], ["ecosystem models", {"concepts": "ecosystem models", "type": "concept", "cluster": "Ecosystem Approaches", "node_size": 10, "label": "ecosystem models"}]]};
        const clusterEdges = {"Habitat Ecology": [], "Marine Policy": [], "Biodiversity Conservation": [], "Nutrient Dynamics": [], "Species Management": [], "Algal Blooms Impact": [], "Fisheries Management": [], "Food-Web Dynamics": [], "Ecosystem Approaches": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
