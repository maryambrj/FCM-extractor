
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"living shorelines act": {"concepts": "living shorelines act", "concept_list": ["living shorelines act"], "type": "cluster", "node_size": 18, "label": "living shorelines act"}, "shoreline archetypes": {"concepts": "shoreline archetypes", "concept_list": ["shoreline archetypes"], "type": "cluster", "node_size": 18, "label": "shoreline archetypes"}, "Biodiversity Conservation": {"concepts": "management approaches, low impact, medium impact, co-benefits, remove effects, positive impact, co-benefits., high impact, negative impact", "concept_list": ["management approaches", "low impact", "medium impact", "co-benefits", "remove effects", "positive impact", "co-benefits.", "high impact", "negative impact"], "type": "cluster", "node_size": 42, "label": "Biodiversity Conservation"}, "Project Planning Dynamics": {"concepts": "habitat forming, native species, diversity of plants, mangroves, conservation concern, diversity of animals, species, animals, crocodiles, harmful organisms, ecosystem services, plant diversity, plants, animal diversity, diversity, carbon storage, historic preservation, species of conservation concern, habitat creation, key food web supporting species, biodiversity, species diversity framework, invasive species, ecology, habitat forming species", "concept_list": ["habitat forming", "native species", "diversity of plants", "mangroves", "conservation concern", "diversity of animals", "species", "animals", "crocodiles", "harmful organisms", "ecosystem services", "plant diversity", "plants", "animal diversity", "diversity", "carbon storage", "historic preservation", "species of conservation concern", "habitat creation", "key food web supporting species", "biodiversity", "species diversity framework", "invasive species", "ecology", "habitat forming species"], "type": "cluster", "node_size": 90, "label": "Project Planning Dynamics"}, "Waterfront Communities": {"concepts": "phragmites, underwood associates, project planning, teach, half day, interested, feedback loop, come, jacksonville, policies, system dynamics, adaptive changes, tourists, dnr programs, interviewer, love, sarah phillips, mental modeler, fcms, mitigate, ecotourism, engineering, invasive, engineering perspective, restoration, gulf workshop, tourism, pat sullivan, maryland, great, wesley gould, nice, mandates, noaa, naval academy, military perspective, regulations, resident scale, bd043, juncus, workshop invitation, obstacles, st. mary\u2019s, join, flooding, pier, second day, thursday, mental models, interview transcriptions, stakeholders, permitting hurdles, relationships, dnr, bulkheads, dcr, funding, implementation guidelines, spartina, chesapeake workshop, audubon society, political dynamics, dates, enforcement, sending, wednesday", "concept_list": ["phragmites", "underwood associates", "project planning", "teach", "half day", "interested", "feedback loop", "come", "jacksonville", "policies", "system dynamics", "adaptive changes", "tourists", "dnr programs", "interviewer", "love", "sarah phillips", "mental modeler", "fcms", "mitigate", "ecotourism", "engineering", "invasive", "engineering perspective", "restoration", "gulf workshop", "tourism", "pat sullivan", "maryland", "great", "wesley gould", "nice", "mandates", "noaa", "naval academy", "military perspective", "regulations", "resident scale", "bd043", "juncus", "workshop invitation", "obstacles", "st. mary\u2019s", "join", "flooding", "pier", "second day", "thursday", "mental models", "interview transcriptions", "stakeholders", "permitting hurdles", "relationships", "dnr", "bulkheads", "dcr", "funding", "implementation guidelines", "spartina", "chesapeake workshop", "audubon society", "political dynamics", "dates", "enforcement", "sending", "wednesday"], "type": "cluster", "node_size": 213, "label": "Waterfront Communities"}, "Sea Level Adaptation": {"concepts": "waterfront businesses, crabs, waterfront residents, food web species, marsh grass, watermen, businesses, waterfront homeowners, food web, environmental benefits, climate, e-introductions", "concept_list": ["waterfront businesses", "crabs", "waterfront residents", "food web species", "marsh grass", "watermen", "businesses", "waterfront homeowners", "food web", "environmental benefits", "climate", "e-introductions"], "type": "cluster", "node_size": 51, "label": "Sea Level Adaptation"}, "Impact Management": {"concepts": "seawall, city dock, marsh, wave attenuation, climate change, turtles, sediment, climate marching, sea level rise, kilometer scales, sea level risk, sea level rise advisory council, marsh walks, spatial scale, sea walls", "concept_list": ["seawall", "city dock", "marsh", "wave attenuation", "climate change", "turtles", "sediment", "climate marching", "sea level rise", "kilometer scales", "sea level risk", "sea level rise advisory council", "marsh walks", "spatial scale", "sea walls"], "type": "cluster", "node_size": 60, "label": "Impact Management"}, "Shoreline Conservation": {"concepts": "shoreline erosion, shoreline protection, living shoreline, living shorelines, baby fish", "concept_list": ["shoreline erosion", "shoreline protection", "living shoreline", "living shorelines", "baby fish"], "type": "cluster", "node_size": 30, "label": "Shoreline Conservation"}, "Oyster Cultivation": {"concepts": "oyster reef, oyster farms, resident scale oyster farms", "concept_list": ["oyster reef", "oyster farms", "resident scale oyster farms"], "type": "cluster", "node_size": 24, "label": "Oyster Cultivation"}, "Shorebird Nesting Zones": {"concepts": "nesting shorebirds, tidal zones", "concept_list": ["nesting shorebirds", "tidal zones"], "type": "cluster", "node_size": 21, "label": "Shorebird Nesting Zones"}, "Marine Quality Management": {"concepts": "water quality, marine resource management", "concept_list": ["water quality", "marine resource management"], "type": "cluster", "node_size": 21, "label": "Marine Quality Management"}};
        const conceptData = {"management approaches": {"concepts": "management approaches", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "management approaches"}, "low impact": {"concepts": "low impact", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "low impact"}, "medium impact": {"concepts": "medium impact", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "medium impact"}, "co-benefits": {"concepts": "co-benefits", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "co-benefits"}, "remove effects": {"concepts": "remove effects", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "remove effects"}, "positive impact": {"concepts": "positive impact", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "positive impact"}, "co-benefits.": {"concepts": "co-benefits.", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "co-benefits."}, "high impact": {"concepts": "high impact", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "high impact"}, "negative impact": {"concepts": "negative impact", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "negative impact"}, "habitat forming": {"concepts": "habitat forming", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "habitat forming"}, "native species": {"concepts": "native species", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "native species"}, "diversity of plants": {"concepts": "diversity of plants", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "diversity of plants"}, "mangroves": {"concepts": "mangroves", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "mangroves"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "conservation concern"}, "diversity of animals": {"concepts": "diversity of animals", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "diversity of animals"}, "species": {"concepts": "species", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "species"}, "animals": {"concepts": "animals", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "animals"}, "crocodiles": {"concepts": "crocodiles", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "crocodiles"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "harmful organisms"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "ecosystem services"}, "plant diversity": {"concepts": "plant diversity", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "plant diversity"}, "plants": {"concepts": "plants", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "plants"}, "animal diversity": {"concepts": "animal diversity", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "animal diversity"}, "diversity": {"concepts": "diversity", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "diversity"}, "carbon storage": {"concepts": "carbon storage", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "carbon storage"}, "historic preservation": {"concepts": "historic preservation", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "historic preservation"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "species of conservation concern"}, "habitat creation": {"concepts": "habitat creation", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "habitat creation"}, "key food web supporting species": {"concepts": "key food web supporting species", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "key food web supporting species"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "biodiversity"}, "species diversity framework": {"concepts": "species diversity framework", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "species diversity framework"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "invasive species"}, "ecology": {"concepts": "ecology", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "ecology"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "habitat forming species"}, "phragmites": {"concepts": "phragmites", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "phragmites"}, "underwood associates": {"concepts": "underwood associates", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "underwood associates"}, "project planning": {"concepts": "project planning", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "project planning"}, "teach": {"concepts": "teach", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "teach"}, "half day": {"concepts": "half day", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "half day"}, "interested": {"concepts": "interested", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "interested"}, "feedback loop": {"concepts": "feedback loop", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "feedback loop"}, "come": {"concepts": "come", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "come"}, "jacksonville": {"concepts": "jacksonville", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "jacksonville"}, "policies": {"concepts": "policies", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "policies"}, "system dynamics": {"concepts": "system dynamics", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "system dynamics"}, "adaptive changes": {"concepts": "adaptive changes", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "adaptive changes"}, "tourists": {"concepts": "tourists", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "tourists"}, "dnr programs": {"concepts": "dnr programs", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "dnr programs"}, "interviewer": {"concepts": "interviewer", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "interviewer"}, "love": {"concepts": "love", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "love"}, "sarah phillips": {"concepts": "sarah phillips", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "sarah phillips"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "mental modeler"}, "fcms": {"concepts": "fcms", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "fcms"}, "mitigate": {"concepts": "mitigate", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "mitigate"}, "ecotourism": {"concepts": "ecotourism", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "ecotourism"}, "engineering": {"concepts": "engineering", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "engineering"}, "invasive": {"concepts": "invasive", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "invasive"}, "engineering perspective": {"concepts": "engineering perspective", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "engineering perspective"}, "restoration": {"concepts": "restoration", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "restoration"}, "gulf workshop": {"concepts": "gulf workshop", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "gulf workshop"}, "tourism": {"concepts": "tourism", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "tourism"}, "pat sullivan": {"concepts": "pat sullivan", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "pat sullivan"}, "maryland": {"concepts": "maryland", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "maryland"}, "great": {"concepts": "great", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "great"}, "wesley gould": {"concepts": "wesley gould", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "wesley gould"}, "nice": {"concepts": "nice", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "nice"}, "mandates": {"concepts": "mandates", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "mandates"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "noaa"}, "naval academy": {"concepts": "naval academy", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "naval academy"}, "military perspective": {"concepts": "military perspective", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "military perspective"}, "regulations": {"concepts": "regulations", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "regulations"}, "resident scale": {"concepts": "resident scale", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "resident scale"}, "bd043": {"concepts": "bd043", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "bd043"}, "juncus": {"concepts": "juncus", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "juncus"}, "workshop invitation": {"concepts": "workshop invitation", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "workshop invitation"}, "obstacles": {"concepts": "obstacles", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "obstacles"}, "st. mary\u2019s": {"concepts": "st. mary\u2019s", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "st. mary\u2019s"}, "join": {"concepts": "join", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "join"}, "flooding": {"concepts": "flooding", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "flooding"}, "pier": {"concepts": "pier", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "pier"}, "second day": {"concepts": "second day", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "second day"}, "thursday": {"concepts": "thursday", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "thursday"}, "mental models": {"concepts": "mental models", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "mental models"}, "interview transcriptions": {"concepts": "interview transcriptions", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "interview transcriptions"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "stakeholders"}, "permitting hurdles": {"concepts": "permitting hurdles", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "permitting hurdles"}, "relationships": {"concepts": "relationships", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "relationships"}, "dnr": {"concepts": "dnr", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "dnr"}, "bulkheads": {"concepts": "bulkheads", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "bulkheads"}, "dcr": {"concepts": "dcr", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "dcr"}, "funding": {"concepts": "funding", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "funding"}, "implementation guidelines": {"concepts": "implementation guidelines", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "implementation guidelines"}, "spartina": {"concepts": "spartina", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "spartina"}, "chesapeake workshop": {"concepts": "chesapeake workshop", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "chesapeake workshop"}, "audubon society": {"concepts": "audubon society", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "audubon society"}, "political dynamics": {"concepts": "political dynamics", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "political dynamics"}, "dates": {"concepts": "dates", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "dates"}, "enforcement": {"concepts": "enforcement", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "enforcement"}, "sending": {"concepts": "sending", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "sending"}, "wednesday": {"concepts": "wednesday", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "wednesday"}, "waterfront businesses": {"concepts": "waterfront businesses", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "waterfront businesses"}, "crabs": {"concepts": "crabs", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "crabs"}, "waterfront residents": {"concepts": "waterfront residents", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "waterfront residents"}, "food web species": {"concepts": "food web species", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "food web species"}, "marsh grass": {"concepts": "marsh grass", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "marsh grass"}, "watermen": {"concepts": "watermen", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "watermen"}, "businesses": {"concepts": "businesses", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "businesses"}, "waterfront homeowners": {"concepts": "waterfront homeowners", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "waterfront homeowners"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "food web"}, "environmental benefits": {"concepts": "environmental benefits", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "environmental benefits"}, "climate": {"concepts": "climate", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "climate"}, "e-introductions": {"concepts": "e-introductions", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "e-introductions"}, "seawall": {"concepts": "seawall", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "seawall"}, "city dock": {"concepts": "city dock", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "city dock"}, "marsh": {"concepts": "marsh", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "marsh"}, "wave attenuation": {"concepts": "wave attenuation", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "wave attenuation"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "climate change"}, "turtles": {"concepts": "turtles", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "turtles"}, "sediment": {"concepts": "sediment", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "sediment"}, "climate marching": {"concepts": "climate marching", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "climate marching"}, "sea level rise": {"concepts": "sea level rise", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "sea level rise"}, "kilometer scales": {"concepts": "kilometer scales", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "kilometer scales"}, "sea level risk": {"concepts": "sea level risk", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "sea level risk"}, "sea level rise advisory council": {"concepts": "sea level rise advisory council", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "sea level rise advisory council"}, "marsh walks": {"concepts": "marsh walks", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "marsh walks"}, "spatial scale": {"concepts": "spatial scale", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "spatial scale"}, "sea walls": {"concepts": "sea walls", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "sea walls"}, "shoreline erosion": {"concepts": "shoreline erosion", "type": "concept", "cluster": "Shoreline Conservation", "node_size": 10, "label": "shoreline erosion"}, "shoreline protection": {"concepts": "shoreline protection", "type": "concept", "cluster": "Shoreline Conservation", "node_size": 10, "label": "shoreline protection"}, "living shoreline": {"concepts": "living shoreline", "type": "concept", "cluster": "Shoreline Conservation", "node_size": 10, "label": "living shoreline"}, "living shorelines": {"concepts": "living shorelines", "type": "concept", "cluster": "Shoreline Conservation", "node_size": 10, "label": "living shorelines"}, "baby fish": {"concepts": "baby fish", "type": "concept", "cluster": "Shoreline Conservation", "node_size": 10, "label": "baby fish"}, "oyster reef": {"concepts": "oyster reef", "type": "concept", "cluster": "Oyster Cultivation", "node_size": 10, "label": "oyster reef"}, "oyster farms": {"concepts": "oyster farms", "type": "concept", "cluster": "Oyster Cultivation", "node_size": 10, "label": "oyster farms"}, "resident scale oyster farms": {"concepts": "resident scale oyster farms", "type": "concept", "cluster": "Oyster Cultivation", "node_size": 10, "label": "resident scale oyster farms"}, "nesting shorebirds": {"concepts": "nesting shorebirds", "type": "concept", "cluster": "Shorebird Nesting Zones", "node_size": 10, "label": "nesting shorebirds"}, "tidal zones": {"concepts": "tidal zones", "type": "concept", "cluster": "Shorebird Nesting Zones", "node_size": 10, "label": "tidal zones"}, "water quality": {"concepts": "water quality", "type": "concept", "cluster": "Marine Quality Management", "node_size": 10, "label": "water quality"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Marine Quality Management", "node_size": 10, "label": "marine resource management"}};
        const interClusterEdges = [["living shorelines act", "Impact Management", {"weight": -0.75, "confidence": 0.5875, "type": "inter_cluster", "style": "solid"}], ["living shorelines act", "Shorebird Nesting Zones", {"weight": 0.75, "confidence": 0.5375, "type": "inter_cluster", "style": "solid"}], ["living shorelines act", "Marine Quality Management", {"weight": 1.0, "confidence": 0.7666666666666666, "type": "inter_cluster", "style": "solid"}], ["living shorelines act", "Waterfront Communities", {"weight": 1.0, "confidence": 0.775, "type": "inter_cluster", "style": "solid"}], ["living shorelines act", "Biodiversity Conservation", {"weight": 0.5, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["shoreline archetypes", "Impact Management", {"weight": -0.2, "confidence": 0.7499999999999999, "type": "inter_cluster", "style": "solid"}], ["shoreline archetypes", "Marine Quality Management", {"weight": 0.8, "confidence": 0.5800000000000001, "type": "inter_cluster", "style": "solid"}], ["shoreline archetypes", "Project Planning Dynamics", {"weight": 0.8, "confidence": 0.5900000000000001, "type": "inter_cluster", "style": "solid"}], ["shoreline archetypes", "Oyster Cultivation", {"weight": 0.8, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["shoreline archetypes", "Shorebird Nesting Zones", {"weight": 0.75, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["shoreline archetypes", "living shorelines act", {"weight": 0.6666666666666666, "confidence": 0.48333333333333334, "type": "inter_cluster", "style": "solid"}], ["shoreline archetypes", "Waterfront Communities", {"weight": 0.6666666666666666, "confidence": 0.4666666666666666, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Conservation", "Oyster Cultivation", {"weight": 0.8, "confidence": 0.5800000000000001, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Conservation", "Shorebird Nesting Zones", {"weight": 0.75, "confidence": 0.5249999999999999, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Conservation", "shoreline archetypes", {"weight": 0.6, "confidence": 0.41, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Conservation", "Sea Level Adaptation", {"weight": 0.6666666666666666, "confidence": 0.48333333333333334, "type": "inter_cluster", "style": "solid"}], ["Project Planning Dynamics", "Shoreline Conservation", {"weight": 1.0, "confidence": 0.7499999999999999, "type": "inter_cluster", "style": "solid"}], ["Project Planning Dynamics", "Waterfront Communities", {"weight": 0.4, "confidence": 0.27, "type": "inter_cluster", "style": "solid"}], ["Project Planning Dynamics", "Shorebird Nesting Zones", {"weight": 0.5, "confidence": 0.3625, "type": "inter_cluster", "style": "solid"}], ["Project Planning Dynamics", "Sea Level Adaptation", {"weight": 0.5, "confidence": 0.35, "type": "inter_cluster", "style": "solid"}], ["Waterfront Communities", "Impact Management", {"weight": 0.25, "confidence": 0.5625, "type": "inter_cluster", "style": "solid"}], ["Waterfront Communities", "Biodiversity Conservation", {"weight": -0.25, "confidence": 0.5625, "type": "inter_cluster", "style": "solid"}], ["Waterfront Communities", "shoreline archetypes", {"weight": 0.6, "confidence": 0.42000000000000004, "type": "inter_cluster", "style": "solid"}], ["Waterfront Communities", "Project Planning Dynamics", {"weight": 0.75, "confidence": 0.5249999999999999, "type": "inter_cluster", "style": "solid"}], ["Waterfront Communities", "Sea Level Adaptation", {"weight": 0.5, "confidence": 0.3375, "type": "inter_cluster", "style": "solid"}], ["Waterfront Communities", "Marine Quality Management", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["Sea Level Adaptation", "Marine Quality Management", {"weight": 1.0, "confidence": 0.72, "type": "inter_cluster", "style": "solid"}], ["Sea Level Adaptation", "Impact Management", {"weight": 0.4, "confidence": 0.57, "type": "inter_cluster", "style": "solid"}], ["Sea Level Adaptation", "Shoreline Conservation", {"weight": 0.6, "confidence": 0.43, "type": "inter_cluster", "style": "solid"}], ["Sea Level Adaptation", "Waterfront Communities", {"weight": 0.6666666666666666, "confidence": 0.5166666666666666, "type": "inter_cluster", "style": "solid"}], ["Impact Management", "Sea Level Adaptation", {"weight": -0.8, "confidence": 0.6199999999999999, "type": "inter_cluster", "style": "solid"}], ["Impact Management", "Marine Quality Management", {"weight": -0.4, "confidence": 0.6200000000000001, "type": "inter_cluster", "style": "solid"}], ["Impact Management", "shoreline archetypes", {"weight": -0.2, "confidence": 0.41999999999999993, "type": "inter_cluster", "style": "solid"}], ["Impact Management", "living shorelines act", {"weight": -0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Shoreline Conservation", "Oyster Cultivation", {"weight": 1.0, "confidence": 0.7250000000000001, "type": "inter_cluster", "style": "solid"}], ["Shoreline Conservation", "shoreline archetypes", {"weight": 0.6, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Oyster Cultivation", "Shoreline Conservation", {"weight": 0.75, "confidence": 0.5625, "type": "inter_cluster", "style": "solid"}], ["Oyster Cultivation", "living shorelines act", {"weight": 0.5, "confidence": 0.3625, "type": "inter_cluster", "style": "solid"}], ["Shorebird Nesting Zones", "Sea Level Adaptation", {"weight": 1.0, "confidence": 0.71, "type": "inter_cluster", "style": "solid"}], ["Shorebird Nesting Zones", "Biodiversity Conservation", {"weight": 1.0, "confidence": 0.7, "type": "inter_cluster", "style": "solid"}], ["Marine Quality Management", "Shorebird Nesting Zones", {"weight": 0.8, "confidence": 0.5599999999999999, "type": "inter_cluster", "style": "solid"}], ["Marine Quality Management", "Project Planning Dynamics", {"weight": 0.75, "confidence": 0.6125, "type": "inter_cluster", "style": "solid"}], ["Marine Quality Management", "Impact Management", {"weight": 0.25, "confidence": 0.55, "type": "inter_cluster", "style": "solid"}], ["Marine Quality Management", "Sea Level Adaptation", {"weight": 0.75, "confidence": 0.5625, "type": "inter_cluster", "style": "solid"}], ["Marine Quality Management", "Oyster Cultivation", {"weight": 0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Biodiversity Conservation": [["management approaches", {"concepts": "management approaches", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "management approaches"}], ["low impact", {"concepts": "low impact", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "low impact"}], ["medium impact", {"concepts": "medium impact", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "medium impact"}], ["co-benefits", {"concepts": "co-benefits", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "co-benefits"}], ["remove effects", {"concepts": "remove effects", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "remove effects"}], ["positive impact", {"concepts": "positive impact", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "positive impact"}], ["co-benefits.", {"concepts": "co-benefits.", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "co-benefits."}], ["high impact", {"concepts": "high impact", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "high impact"}], ["negative impact", {"concepts": "negative impact", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "negative impact"}]], "Project Planning Dynamics": [["habitat forming", {"concepts": "habitat forming", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "habitat forming"}], ["native species", {"concepts": "native species", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "native species"}], ["diversity of plants", {"concepts": "diversity of plants", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "diversity of plants"}], ["mangroves", {"concepts": "mangroves", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "mangroves"}], ["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "conservation concern"}], ["diversity of animals", {"concepts": "diversity of animals", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "diversity of animals"}], ["species", {"concepts": "species", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "species"}], ["animals", {"concepts": "animals", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "animals"}], ["crocodiles", {"concepts": "crocodiles", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "crocodiles"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "harmful organisms"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "ecosystem services"}], ["plant diversity", {"concepts": "plant diversity", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "plant diversity"}], ["plants", {"concepts": "plants", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "plants"}], ["animal diversity", {"concepts": "animal diversity", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "animal diversity"}], ["diversity", {"concepts": "diversity", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "diversity"}], ["carbon storage", {"concepts": "carbon storage", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "carbon storage"}], ["historic preservation", {"concepts": "historic preservation", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "historic preservation"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "species of conservation concern"}], ["habitat creation", {"concepts": "habitat creation", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "habitat creation"}], ["key food web supporting species", {"concepts": "key food web supporting species", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "key food web supporting species"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "biodiversity"}], ["species diversity framework", {"concepts": "species diversity framework", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "species diversity framework"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "invasive species"}], ["ecology", {"concepts": "ecology", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "ecology"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Project Planning Dynamics", "node_size": 10, "label": "habitat forming species"}]], "Waterfront Communities": [["phragmites", {"concepts": "phragmites", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "phragmites"}], ["underwood associates", {"concepts": "underwood associates", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "underwood associates"}], ["project planning", {"concepts": "project planning", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "project planning"}], ["teach", {"concepts": "teach", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "teach"}], ["half day", {"concepts": "half day", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "half day"}], ["interested", {"concepts": "interested", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "interested"}], ["feedback loop", {"concepts": "feedback loop", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "feedback loop"}], ["come", {"concepts": "come", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "come"}], ["jacksonville", {"concepts": "jacksonville", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "jacksonville"}], ["policies", {"concepts": "policies", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "policies"}], ["system dynamics", {"concepts": "system dynamics", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "system dynamics"}], ["adaptive changes", {"concepts": "adaptive changes", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "adaptive changes"}], ["tourists", {"concepts": "tourists", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "tourists"}], ["dnr programs", {"concepts": "dnr programs", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "dnr programs"}], ["interviewer", {"concepts": "interviewer", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "interviewer"}], ["love", {"concepts": "love", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "love"}], ["sarah phillips", {"concepts": "sarah phillips", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "sarah phillips"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "mental modeler"}], ["fcms", {"concepts": "fcms", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "fcms"}], ["mitigate", {"concepts": "mitigate", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "mitigate"}], ["ecotourism", {"concepts": "ecotourism", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "ecotourism"}], ["engineering", {"concepts": "engineering", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "engineering"}], ["invasive", {"concepts": "invasive", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "invasive"}], ["engineering perspective", {"concepts": "engineering perspective", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "engineering perspective"}], ["restoration", {"concepts": "restoration", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "restoration"}], ["gulf workshop", {"concepts": "gulf workshop", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "gulf workshop"}], ["tourism", {"concepts": "tourism", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "tourism"}], ["pat sullivan", {"concepts": "pat sullivan", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "pat sullivan"}], ["maryland", {"concepts": "maryland", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "maryland"}], ["great", {"concepts": "great", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "great"}], ["wesley gould", {"concepts": "wesley gould", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "wesley gould"}], ["nice", {"concepts": "nice", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "nice"}], ["mandates", {"concepts": "mandates", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "mandates"}], ["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "noaa"}], ["naval academy", {"concepts": "naval academy", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "naval academy"}], ["military perspective", {"concepts": "military perspective", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "military perspective"}], ["regulations", {"concepts": "regulations", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "regulations"}], ["resident scale", {"concepts": "resident scale", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "resident scale"}], ["bd043", {"concepts": "bd043", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "bd043"}], ["juncus", {"concepts": "juncus", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "juncus"}], ["workshop invitation", {"concepts": "workshop invitation", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "workshop invitation"}], ["obstacles", {"concepts": "obstacles", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "obstacles"}], ["st. mary\u2019s", {"concepts": "st. mary\u2019s", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "st. mary\u2019s"}], ["join", {"concepts": "join", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "join"}], ["flooding", {"concepts": "flooding", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "flooding"}], ["pier", {"concepts": "pier", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "pier"}], ["second day", {"concepts": "second day", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "second day"}], ["thursday", {"concepts": "thursday", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "thursday"}], ["mental models", {"concepts": "mental models", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "mental models"}], ["interview transcriptions", {"concepts": "interview transcriptions", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "interview transcriptions"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "stakeholders"}], ["permitting hurdles", {"concepts": "permitting hurdles", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "permitting hurdles"}], ["relationships", {"concepts": "relationships", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "relationships"}], ["dnr", {"concepts": "dnr", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "dnr"}], ["bulkheads", {"concepts": "bulkheads", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "bulkheads"}], ["dcr", {"concepts": "dcr", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "dcr"}], ["funding", {"concepts": "funding", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "funding"}], ["implementation guidelines", {"concepts": "implementation guidelines", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "implementation guidelines"}], ["spartina", {"concepts": "spartina", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "spartina"}], ["chesapeake workshop", {"concepts": "chesapeake workshop", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "chesapeake workshop"}], ["audubon society", {"concepts": "audubon society", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "audubon society"}], ["political dynamics", {"concepts": "political dynamics", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "political dynamics"}], ["dates", {"concepts": "dates", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "dates"}], ["enforcement", {"concepts": "enforcement", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "enforcement"}], ["sending", {"concepts": "sending", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "sending"}], ["wednesday", {"concepts": "wednesday", "type": "concept", "cluster": "Waterfront Communities", "node_size": 10, "label": "wednesday"}]], "Sea Level Adaptation": [["waterfront businesses", {"concepts": "waterfront businesses", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "waterfront businesses"}], ["crabs", {"concepts": "crabs", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "crabs"}], ["waterfront residents", {"concepts": "waterfront residents", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "waterfront residents"}], ["food web species", {"concepts": "food web species", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "food web species"}], ["marsh grass", {"concepts": "marsh grass", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "marsh grass"}], ["watermen", {"concepts": "watermen", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "watermen"}], ["businesses", {"concepts": "businesses", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "businesses"}], ["waterfront homeowners", {"concepts": "waterfront homeowners", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "waterfront homeowners"}], ["food web", {"concepts": "food web", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "food web"}], ["environmental benefits", {"concepts": "environmental benefits", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "environmental benefits"}], ["climate", {"concepts": "climate", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "climate"}], ["e-introductions", {"concepts": "e-introductions", "type": "concept", "cluster": "Sea Level Adaptation", "node_size": 10, "label": "e-introductions"}]], "Impact Management": [["seawall", {"concepts": "seawall", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "seawall"}], ["city dock", {"concepts": "city dock", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "city dock"}], ["marsh", {"concepts": "marsh", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "marsh"}], ["wave attenuation", {"concepts": "wave attenuation", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "wave attenuation"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "climate change"}], ["turtles", {"concepts": "turtles", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "turtles"}], ["sediment", {"concepts": "sediment", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "sediment"}], ["climate marching", {"concepts": "climate marching", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "climate marching"}], ["sea level rise", {"concepts": "sea level rise", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "sea level rise"}], ["kilometer scales", {"concepts": "kilometer scales", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "kilometer scales"}], ["sea level risk", {"concepts": "sea level risk", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "sea level risk"}], ["sea level rise advisory council", {"concepts": "sea level rise advisory council", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "sea level rise advisory council"}], ["marsh walks", {"concepts": "marsh walks", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "marsh walks"}], ["spatial scale", {"concepts": "spatial scale", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "spatial scale"}], ["sea walls", {"concepts": "sea walls", "type": "concept", "cluster": "Impact Management", "node_size": 10, "label": "sea walls"}]], "Shoreline Conservation": [["shoreline erosion", {"concepts": "shoreline erosion", "type": "concept", "cluster": "Shoreline Conservation", "node_size": 10, "label": "shoreline erosion"}], ["shoreline protection", {"concepts": "shoreline protection", "type": "concept", "cluster": "Shoreline Conservation", "node_size": 10, "label": "shoreline protection"}], ["living shoreline", {"concepts": "living shoreline", "type": "concept", "cluster": "Shoreline Conservation", "node_size": 10, "label": "living shoreline"}], ["living shorelines", {"concepts": "living shorelines", "type": "concept", "cluster": "Shoreline Conservation", "node_size": 10, "label": "living shorelines"}], ["baby fish", {"concepts": "baby fish", "type": "concept", "cluster": "Shoreline Conservation", "node_size": 10, "label": "baby fish"}]], "Oyster Cultivation": [["oyster reef", {"concepts": "oyster reef", "type": "concept", "cluster": "Oyster Cultivation", "node_size": 10, "label": "oyster reef"}], ["oyster farms", {"concepts": "oyster farms", "type": "concept", "cluster": "Oyster Cultivation", "node_size": 10, "label": "oyster farms"}], ["resident scale oyster farms", {"concepts": "resident scale oyster farms", "type": "concept", "cluster": "Oyster Cultivation", "node_size": 10, "label": "resident scale oyster farms"}]], "Shorebird Nesting Zones": [["nesting shorebirds", {"concepts": "nesting shorebirds", "type": "concept", "cluster": "Shorebird Nesting Zones", "node_size": 10, "label": "nesting shorebirds"}], ["tidal zones", {"concepts": "tidal zones", "type": "concept", "cluster": "Shorebird Nesting Zones", "node_size": 10, "label": "tidal zones"}]], "Marine Quality Management": [["water quality", {"concepts": "water quality", "type": "concept", "cluster": "Marine Quality Management", "node_size": 10, "label": "water quality"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Marine Quality Management", "node_size": 10, "label": "marine resource management"}]]};
        const clusterEdges = {"Biodiversity Conservation": [], "Project Planning Dynamics": [], "Waterfront Communities": [], "Sea Level Adaptation": [], "Impact Management": [], "Shoreline Conservation": [], "Oyster Cultivation": [], "Shorebird Nesting Zones": [], "Marine Quality Management": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
