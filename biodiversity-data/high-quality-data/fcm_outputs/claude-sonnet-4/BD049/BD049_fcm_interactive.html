
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"policy implementation": {"concepts": "policy implementation", "concept_list": ["policy implementation"], "type": "cluster", "node_size": 18, "label": "policy implementation"}, "Marsh Restoration": {"concepts": "restoration, habitat formation, natural marsh system, sediment layer replacement, dredging, elevation building, natural recruitment, marsh creation, thin layer placement, marsh building", "concept_list": ["restoration", "habitat formation", "natural marsh system", "sediment layer replacement", "dredging", "elevation building", "natural recruitment", "marsh creation", "thin layer placement", "marsh building"], "type": "cluster", "node_size": 45, "label": "Marsh Restoration"}, "Ecological Relationships": {"concepts": "ecological relationships, adjacent habitats, marsh migration, migration patterns, habitat quality, nesting, marsh sediment, food web, keystone species, facilitator species, habitat, habitat associations", "concept_list": ["ecological relationships", "adjacent habitats", "marsh migration", "migration patterns", "habitat quality", "nesting", "marsh sediment", "food web", "keystone species", "facilitator species", "habitat", "habitat associations"], "type": "cluster", "node_size": 51, "label": "Ecological Relationships"}, "Environmental Stress": {"concepts": "drowning resistance, cost considerations, conservation concern, plant tolerance, marsh drowning, ecological tolerance, drowning vulnerability, flooding frequency, flooding tolerance, environmental pressures, plant burial, tolerance range, environmental stressors, storms, natural stressors, species tolerance", "concept_list": ["drowning resistance", "cost considerations", "conservation concern", "plant tolerance", "marsh drowning", "ecological tolerance", "drowning vulnerability", "flooding frequency", "flooding tolerance", "environmental pressures", "plant burial", "tolerance range", "environmental stressors", "storms", "natural stressors", "species tolerance"], "type": "cluster", "node_size": 63, "label": "Environmental Stress"}, "Stakeholder Management": {"concepts": "resource managers, property owners, practitioners, decision making, maintenance costs, customer satisfaction, economic disruption, stakeholder roles, stakeholder interests, dnr, stakeholder preferences", "concept_list": ["resource managers", "property owners", "practitioners", "decision making", "maintenance costs", "customer satisfaction", "economic disruption", "stakeholder roles", "stakeholder interests", "dnr", "stakeholder preferences"], "type": "cluster", "node_size": 48, "label": "Stakeholder Management"}, "Plant Communities": {"concepts": "marsh plant species, living shoreline law, plant diversity, sav, med, living shoreline, high marsh, plant communities, blackwater, sav beds, biodiversity, bacteria, meso-haline bay, diversity, living shorelines, marsh plants, marshes, low marsh, species diversity", "concept_list": ["marsh plant species", "living shoreline law", "plant diversity", "sav", "med", "living shoreline", "high marsh", "plant communities", "blackwater", "sav beds", "biodiversity", "bacteria", "meso-haline bay", "diversity", "living shorelines", "marsh plants", "marshes", "low marsh", "species diversity"], "type": "cluster", "node_size": 72, "label": "Plant Communities"}, "Ecosystem Dynamics": {"concepts": "salt marsh sparrow, elevation gradient, system dynamics, sediment dynamics, sediment balance, socio-ecological systems, ecosystem benefits, sediment retention, preferred state, causal connections, increase effects, decrease effects, adaptive capacity, nutrient storage, system resilience, management dynamics, adaptation responses, environmental adaptation, shoreline alterations, sediment supply, ecosystem resilience, high energy environment, shoreline hardening, temperature, relationship mapping, resource management, impact assessment, biological organisms, sediment spray, positive arrows, growing season, salinity changes, species interactions, biodiversity components, water quality, species of concern, migration capacity, biological processes, ecological correctness, stressor mitigation, trade-offs, organisms, system components, channel maintenance, trade offs, erosion mitigation, community transformation, innovative approaches, environmental change, design approval, ecosystem stability, elevation maintenance, marine resource management, ecosystem adaptation, mental models, feedback loops, ecological benefit, management strategies, built-in adaptation, sea level rise, resilience, negative relationships, sea level stability, storm impacts, management interventions", "concept_list": ["salt marsh sparrow", "elevation gradient", "system dynamics", "sediment dynamics", "sediment balance", "socio-ecological systems", "ecosystem benefits", "sediment retention", "preferred state", "causal connections", "increase effects", "decrease effects", "adaptive capacity", "nutrient storage", "system resilience", "management dynamics", "adaptation responses", "environmental adaptation", "shoreline alterations", "sediment supply", "ecosystem resilience", "high energy environment", "shoreline hardening", "temperature", "relationship mapping", "resource management", "impact assessment", "biological organisms", "sediment spray", "positive arrows", "growing season", "salinity changes", "species interactions", "biodiversity components", "water quality", "species of concern", "migration capacity", "biological processes", "ecological correctness", "stressor mitigation", "trade-offs", "organisms", "system components", "channel maintenance", "trade offs", "erosion mitigation", "community transformation", "innovative approaches", "environmental change", "design approval", "ecosystem stability", "elevation maintenance", "marine resource management", "ecosystem adaptation", "mental models", "feedback loops", "ecological benefit", "management strategies", "built-in adaptation", "sea level rise", "resilience", "negative relationships", "sea level stability", "storm impacts", "management interventions"], "type": "cluster", "node_size": 210, "label": "Ecosystem Dynamics"}, "Environmental Law": {"concepts": "legal compliance, environmental law, regulatory frameworks, policy enforcement", "concept_list": ["legal compliance", "environmental law", "regulatory frameworks", "policy enforcement"], "type": "cluster", "node_size": 27, "label": "Environmental Law"}, "Permit Process": {"concepts": "compliance mechanisms, permitters, permit process, permit requirements", "concept_list": ["compliance mechanisms", "permitters", "permit process", "permit requirements"], "type": "cluster", "node_size": 27, "label": "Permit Process"}};
        const conceptData = {"restoration": {"concepts": "restoration", "type": "concept", "cluster": "Marsh Restoration", "node_size": 10, "label": "restoration"}, "habitat formation": {"concepts": "habitat formation", "type": "concept", "cluster": "Marsh Restoration", "node_size": 10, "label": "habitat formation"}, "natural marsh system": {"concepts": "natural marsh system", "type": "concept", "cluster": "Marsh Restoration", "node_size": 10, "label": "natural marsh system"}, "sediment layer replacement": {"concepts": "sediment layer replacement", "type": "concept", "cluster": "Marsh Restoration", "node_size": 10, "label": "sediment layer replacement"}, "dredging": {"concepts": "dredging", "type": "concept", "cluster": "Marsh Restoration", "node_size": 10, "label": "dredging"}, "elevation building": {"concepts": "elevation building", "type": "concept", "cluster": "Marsh Restoration", "node_size": 10, "label": "elevation building"}, "natural recruitment": {"concepts": "natural recruitment", "type": "concept", "cluster": "Marsh Restoration", "node_size": 10, "label": "natural recruitment"}, "marsh creation": {"concepts": "marsh creation", "type": "concept", "cluster": "Marsh Restoration", "node_size": 10, "label": "marsh creation"}, "thin layer placement": {"concepts": "thin layer placement", "type": "concept", "cluster": "Marsh Restoration", "node_size": 10, "label": "thin layer placement"}, "marsh building": {"concepts": "marsh building", "type": "concept", "cluster": "Marsh Restoration", "node_size": 10, "label": "marsh building"}, "ecological relationships": {"concepts": "ecological relationships", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "ecological relationships"}, "adjacent habitats": {"concepts": "adjacent habitats", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "adjacent habitats"}, "marsh migration": {"concepts": "marsh migration", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "marsh migration"}, "migration patterns": {"concepts": "migration patterns", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "migration patterns"}, "habitat quality": {"concepts": "habitat quality", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "habitat quality"}, "nesting": {"concepts": "nesting", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "nesting"}, "marsh sediment": {"concepts": "marsh sediment", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "marsh sediment"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "food web"}, "keystone species": {"concepts": "keystone species", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "keystone species"}, "facilitator species": {"concepts": "facilitator species", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "facilitator species"}, "habitat": {"concepts": "habitat", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "habitat"}, "habitat associations": {"concepts": "habitat associations", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "habitat associations"}, "drowning resistance": {"concepts": "drowning resistance", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "drowning resistance"}, "cost considerations": {"concepts": "cost considerations", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "cost considerations"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "conservation concern"}, "plant tolerance": {"concepts": "plant tolerance", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "plant tolerance"}, "marsh drowning": {"concepts": "marsh drowning", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "marsh drowning"}, "ecological tolerance": {"concepts": "ecological tolerance", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "ecological tolerance"}, "drowning vulnerability": {"concepts": "drowning vulnerability", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "drowning vulnerability"}, "flooding frequency": {"concepts": "flooding frequency", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "flooding frequency"}, "flooding tolerance": {"concepts": "flooding tolerance", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "flooding tolerance"}, "environmental pressures": {"concepts": "environmental pressures", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "environmental pressures"}, "plant burial": {"concepts": "plant burial", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "plant burial"}, "tolerance range": {"concepts": "tolerance range", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "tolerance range"}, "environmental stressors": {"concepts": "environmental stressors", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "environmental stressors"}, "storms": {"concepts": "storms", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "storms"}, "natural stressors": {"concepts": "natural stressors", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "natural stressors"}, "species tolerance": {"concepts": "species tolerance", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "species tolerance"}, "resource managers": {"concepts": "resource managers", "type": "concept", "cluster": "Stakeholder Management", "node_size": 10, "label": "resource managers"}, "property owners": {"concepts": "property owners", "type": "concept", "cluster": "Stakeholder Management", "node_size": 10, "label": "property owners"}, "practitioners": {"concepts": "practitioners", "type": "concept", "cluster": "Stakeholder Management", "node_size": 10, "label": "practitioners"}, "decision making": {"concepts": "decision making", "type": "concept", "cluster": "Stakeholder Management", "node_size": 10, "label": "decision making"}, "maintenance costs": {"concepts": "maintenance costs", "type": "concept", "cluster": "Stakeholder Management", "node_size": 10, "label": "maintenance costs"}, "customer satisfaction": {"concepts": "customer satisfaction", "type": "concept", "cluster": "Stakeholder Management", "node_size": 10, "label": "customer satisfaction"}, "economic disruption": {"concepts": "economic disruption", "type": "concept", "cluster": "Stakeholder Management", "node_size": 10, "label": "economic disruption"}, "stakeholder roles": {"concepts": "stakeholder roles", "type": "concept", "cluster": "Stakeholder Management", "node_size": 10, "label": "stakeholder roles"}, "stakeholder interests": {"concepts": "stakeholder interests", "type": "concept", "cluster": "Stakeholder Management", "node_size": 10, "label": "stakeholder interests"}, "dnr": {"concepts": "dnr", "type": "concept", "cluster": "Stakeholder Management", "node_size": 10, "label": "dnr"}, "stakeholder preferences": {"concepts": "stakeholder preferences", "type": "concept", "cluster": "Stakeholder Management", "node_size": 10, "label": "stakeholder preferences"}, "marsh plant species": {"concepts": "marsh plant species", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "marsh plant species"}, "living shoreline law": {"concepts": "living shoreline law", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "living shoreline law"}, "plant diversity": {"concepts": "plant diversity", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "plant diversity"}, "sav": {"concepts": "sav", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "sav"}, "med": {"concepts": "med", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "med"}, "living shoreline": {"concepts": "living shoreline", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "living shoreline"}, "high marsh": {"concepts": "high marsh", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "high marsh"}, "plant communities": {"concepts": "plant communities", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "plant communities"}, "blackwater": {"concepts": "blackwater", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "blackwater"}, "sav beds": {"concepts": "sav beds", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "sav beds"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "biodiversity"}, "bacteria": {"concepts": "bacteria", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "bacteria"}, "meso-haline bay": {"concepts": "meso-haline bay", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "meso-haline bay"}, "diversity": {"concepts": "diversity", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "diversity"}, "living shorelines": {"concepts": "living shorelines", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "living shorelines"}, "marsh plants": {"concepts": "marsh plants", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "marsh plants"}, "marshes": {"concepts": "marshes", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "marshes"}, "low marsh": {"concepts": "low marsh", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "low marsh"}, "species diversity": {"concepts": "species diversity", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "species diversity"}, "salt marsh sparrow": {"concepts": "salt marsh sparrow", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "salt marsh sparrow"}, "elevation gradient": {"concepts": "elevation gradient", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "elevation gradient"}, "system dynamics": {"concepts": "system dynamics", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "system dynamics"}, "sediment dynamics": {"concepts": "sediment dynamics", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "sediment dynamics"}, "sediment balance": {"concepts": "sediment balance", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "sediment balance"}, "socio-ecological systems": {"concepts": "socio-ecological systems", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "socio-ecological systems"}, "ecosystem benefits": {"concepts": "ecosystem benefits", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem benefits"}, "sediment retention": {"concepts": "sediment retention", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "sediment retention"}, "preferred state": {"concepts": "preferred state", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "preferred state"}, "causal connections": {"concepts": "causal connections", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "causal connections"}, "increase effects": {"concepts": "increase effects", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "increase effects"}, "decrease effects": {"concepts": "decrease effects", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "decrease effects"}, "adaptive capacity": {"concepts": "adaptive capacity", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "adaptive capacity"}, "nutrient storage": {"concepts": "nutrient storage", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "nutrient storage"}, "system resilience": {"concepts": "system resilience", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "system resilience"}, "management dynamics": {"concepts": "management dynamics", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "management dynamics"}, "adaptation responses": {"concepts": "adaptation responses", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "adaptation responses"}, "environmental adaptation": {"concepts": "environmental adaptation", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "environmental adaptation"}, "shoreline alterations": {"concepts": "shoreline alterations", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "shoreline alterations"}, "sediment supply": {"concepts": "sediment supply", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "sediment supply"}, "ecosystem resilience": {"concepts": "ecosystem resilience", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem resilience"}, "high energy environment": {"concepts": "high energy environment", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "high energy environment"}, "shoreline hardening": {"concepts": "shoreline hardening", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "shoreline hardening"}, "temperature": {"concepts": "temperature", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "temperature"}, "relationship mapping": {"concepts": "relationship mapping", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "relationship mapping"}, "resource management": {"concepts": "resource management", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "resource management"}, "impact assessment": {"concepts": "impact assessment", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "impact assessment"}, "biological organisms": {"concepts": "biological organisms", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "biological organisms"}, "sediment spray": {"concepts": "sediment spray", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "sediment spray"}, "positive arrows": {"concepts": "positive arrows", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "positive arrows"}, "growing season": {"concepts": "growing season", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "growing season"}, "salinity changes": {"concepts": "salinity changes", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "salinity changes"}, "species interactions": {"concepts": "species interactions", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "species interactions"}, "biodiversity components": {"concepts": "biodiversity components", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "biodiversity components"}, "water quality": {"concepts": "water quality", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "water quality"}, "species of concern": {"concepts": "species of concern", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "species of concern"}, "migration capacity": {"concepts": "migration capacity", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "migration capacity"}, "biological processes": {"concepts": "biological processes", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "biological processes"}, "ecological correctness": {"concepts": "ecological correctness", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecological correctness"}, "stressor mitigation": {"concepts": "stressor mitigation", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "stressor mitigation"}, "trade-offs": {"concepts": "trade-offs", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "trade-offs"}, "organisms": {"concepts": "organisms", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "organisms"}, "system components": {"concepts": "system components", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "system components"}, "channel maintenance": {"concepts": "channel maintenance", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "channel maintenance"}, "trade offs": {"concepts": "trade offs", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "trade offs"}, "erosion mitigation": {"concepts": "erosion mitigation", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "erosion mitigation"}, "community transformation": {"concepts": "community transformation", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "community transformation"}, "innovative approaches": {"concepts": "innovative approaches", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "innovative approaches"}, "environmental change": {"concepts": "environmental change", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "environmental change"}, "design approval": {"concepts": "design approval", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "design approval"}, "ecosystem stability": {"concepts": "ecosystem stability", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem stability"}, "elevation maintenance": {"concepts": "elevation maintenance", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "elevation maintenance"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "marine resource management"}, "ecosystem adaptation": {"concepts": "ecosystem adaptation", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem adaptation"}, "mental models": {"concepts": "mental models", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "mental models"}, "feedback loops": {"concepts": "feedback loops", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "feedback loops"}, "ecological benefit": {"concepts": "ecological benefit", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecological benefit"}, "management strategies": {"concepts": "management strategies", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "management strategies"}, "built-in adaptation": {"concepts": "built-in adaptation", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "built-in adaptation"}, "sea level rise": {"concepts": "sea level rise", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "sea level rise"}, "resilience": {"concepts": "resilience", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "resilience"}, "negative relationships": {"concepts": "negative relationships", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "negative relationships"}, "sea level stability": {"concepts": "sea level stability", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "sea level stability"}, "storm impacts": {"concepts": "storm impacts", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "storm impacts"}, "management interventions": {"concepts": "management interventions", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "management interventions"}, "legal compliance": {"concepts": "legal compliance", "type": "concept", "cluster": "Environmental Law", "node_size": 10, "label": "legal compliance"}, "environmental law": {"concepts": "environmental law", "type": "concept", "cluster": "Environmental Law", "node_size": 10, "label": "environmental law"}, "regulatory frameworks": {"concepts": "regulatory frameworks", "type": "concept", "cluster": "Environmental Law", "node_size": 10, "label": "regulatory frameworks"}, "policy enforcement": {"concepts": "policy enforcement", "type": "concept", "cluster": "Environmental Law", "node_size": 10, "label": "policy enforcement"}, "compliance mechanisms": {"concepts": "compliance mechanisms", "type": "concept", "cluster": "Permit Process", "node_size": 10, "label": "compliance mechanisms"}, "permitters": {"concepts": "permitters", "type": "concept", "cluster": "Permit Process", "node_size": 10, "label": "permitters"}, "permit process": {"concepts": "permit process", "type": "concept", "cluster": "Permit Process", "node_size": 10, "label": "permit process"}, "permit requirements": {"concepts": "permit requirements", "type": "concept", "cluster": "Permit Process", "node_size": 10, "label": "permit requirements"}};
        const interClusterEdges = [["policy implementation", "Marsh Restoration", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["policy implementation", "Ecological Relationships", {"weight": 0.25, "confidence": 0.225, "type": "inter_cluster", "style": "solid"}], ["Marsh Restoration", "Ecosystem Dynamics", {"weight": 0.8, "confidence": 0.6599999999999999, "type": "inter_cluster", "style": "solid"}], ["Marsh Restoration", "Stakeholder Management", {"weight": 1.0, "confidence": 0.6749999999999999, "type": "inter_cluster", "style": "solid"}], ["Marsh Restoration", "Permit Process", {"weight": 0.5, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Ecological Relationships", "Marsh Restoration", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Ecological Relationships", "policy implementation", {"weight": 0.6666666666666666, "confidence": 0.4666666666666666, "type": "inter_cluster", "style": "solid"}], ["Environmental Stress", "policy implementation", {"weight": 0.8, "confidence": 0.6699999999999999, "type": "inter_cluster", "style": "solid"}], ["Environmental Stress", "Ecological Relationships", {"weight": 0.6, "confidence": 0.49000000000000005, "type": "inter_cluster", "style": "solid"}], ["Environmental Stress", "Permit Process", {"weight": 0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Environmental Stress", "Stakeholder Management", {"weight": 0.5, "confidence": 0.3875, "type": "inter_cluster", "style": "solid"}], ["Environmental Stress", "Environmental Law", {"weight": 1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Environmental Stress", "Ecosystem Dynamics", {"weight": 0.25, "confidence": 0.1875, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Management", "Marsh Restoration", {"weight": 0.4, "confidence": 0.32999999999999996, "type": "inter_cluster", "style": "solid"}], ["Stakeholder Management", "Environmental Law", {"weight": 0.5, "confidence": 0.425, "type": "inter_cluster", "style": "solid"}], ["Plant Communities", "Ecological Relationships", {"weight": 0.8, "confidence": 0.6399999999999999, "type": "inter_cluster", "style": "solid"}], ["Plant Communities", "Environmental Law", {"weight": 0.6, "confidence": 0.48, "type": "inter_cluster", "style": "solid"}], ["Plant Communities", "policy implementation", {"weight": 0.6, "confidence": 0.41, "type": "inter_cluster", "style": "solid"}], ["Plant Communities", "Environmental Stress", {"weight": 0.75, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Plant Communities", "Stakeholder Management", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Plant Communities", "Permit Process", {"weight": 0.5, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Dynamics", "Environmental Law", {"weight": 0.8, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Dynamics", "policy implementation", {"weight": 0.4, "confidence": 0.6300000000000001, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Dynamics", "Stakeholder Management", {"weight": 0.4, "confidence": 0.31, "type": "inter_cluster", "style": "solid"}], ["Environmental Law", "Ecosystem Dynamics", {"weight": 0.75, "confidence": 0.6375000000000001, "type": "inter_cluster", "style": "solid"}], ["Environmental Law", "Environmental Stress", {"weight": 0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Environmental Law", "policy implementation", {"weight": 0.5, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["Permit Process", "Stakeholder Management", {"weight": 0.75, "confidence": 0.6125, "type": "inter_cluster", "style": "solid"}], ["Permit Process", "Environmental Stress", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["Permit Process", "Plant Communities", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Permit Process", "Ecosystem Dynamics", {"weight": 0.25, "confidence": 0.2125, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Marsh Restoration": [["restoration", {"concepts": "restoration", "type": "concept", "cluster": "Marsh Restoration", "node_size": 10, "label": "restoration"}], ["habitat formation", {"concepts": "habitat formation", "type": "concept", "cluster": "Marsh Restoration", "node_size": 10, "label": "habitat formation"}], ["natural marsh system", {"concepts": "natural marsh system", "type": "concept", "cluster": "Marsh Restoration", "node_size": 10, "label": "natural marsh system"}], ["sediment layer replacement", {"concepts": "sediment layer replacement", "type": "concept", "cluster": "Marsh Restoration", "node_size": 10, "label": "sediment layer replacement"}], ["dredging", {"concepts": "dredging", "type": "concept", "cluster": "Marsh Restoration", "node_size": 10, "label": "dredging"}], ["elevation building", {"concepts": "elevation building", "type": "concept", "cluster": "Marsh Restoration", "node_size": 10, "label": "elevation building"}], ["natural recruitment", {"concepts": "natural recruitment", "type": "concept", "cluster": "Marsh Restoration", "node_size": 10, "label": "natural recruitment"}], ["marsh creation", {"concepts": "marsh creation", "type": "concept", "cluster": "Marsh Restoration", "node_size": 10, "label": "marsh creation"}], ["thin layer placement", {"concepts": "thin layer placement", "type": "concept", "cluster": "Marsh Restoration", "node_size": 10, "label": "thin layer placement"}], ["marsh building", {"concepts": "marsh building", "type": "concept", "cluster": "Marsh Restoration", "node_size": 10, "label": "marsh building"}]], "Ecological Relationships": [["ecological relationships", {"concepts": "ecological relationships", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "ecological relationships"}], ["adjacent habitats", {"concepts": "adjacent habitats", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "adjacent habitats"}], ["marsh migration", {"concepts": "marsh migration", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "marsh migration"}], ["migration patterns", {"concepts": "migration patterns", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "migration patterns"}], ["habitat quality", {"concepts": "habitat quality", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "habitat quality"}], ["nesting", {"concepts": "nesting", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "nesting"}], ["marsh sediment", {"concepts": "marsh sediment", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "marsh sediment"}], ["food web", {"concepts": "food web", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "food web"}], ["keystone species", {"concepts": "keystone species", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "keystone species"}], ["facilitator species", {"concepts": "facilitator species", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "facilitator species"}], ["habitat", {"concepts": "habitat", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "habitat"}], ["habitat associations", {"concepts": "habitat associations", "type": "concept", "cluster": "Ecological Relationships", "node_size": 10, "label": "habitat associations"}]], "Environmental Stress": [["drowning resistance", {"concepts": "drowning resistance", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "drowning resistance"}], ["cost considerations", {"concepts": "cost considerations", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "cost considerations"}], ["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "conservation concern"}], ["plant tolerance", {"concepts": "plant tolerance", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "plant tolerance"}], ["marsh drowning", {"concepts": "marsh drowning", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "marsh drowning"}], ["ecological tolerance", {"concepts": "ecological tolerance", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "ecological tolerance"}], ["drowning vulnerability", {"concepts": "drowning vulnerability", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "drowning vulnerability"}], ["flooding frequency", {"concepts": "flooding frequency", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "flooding frequency"}], ["flooding tolerance", {"concepts": "flooding tolerance", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "flooding tolerance"}], ["environmental pressures", {"concepts": "environmental pressures", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "environmental pressures"}], ["plant burial", {"concepts": "plant burial", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "plant burial"}], ["tolerance range", {"concepts": "tolerance range", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "tolerance range"}], ["environmental stressors", {"concepts": "environmental stressors", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "environmental stressors"}], ["storms", {"concepts": "storms", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "storms"}], ["natural stressors", {"concepts": "natural stressors", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "natural stressors"}], ["species tolerance", {"concepts": "species tolerance", "type": "concept", "cluster": "Environmental Stress", "node_size": 10, "label": "species tolerance"}]], "Stakeholder Management": [["resource managers", {"concepts": "resource managers", "type": "concept", "cluster": "Stakeholder Management", "node_size": 10, "label": "resource managers"}], ["property owners", {"concepts": "property owners", "type": "concept", "cluster": "Stakeholder Management", "node_size": 10, "label": "property owners"}], ["practitioners", {"concepts": "practitioners", "type": "concept", "cluster": "Stakeholder Management", "node_size": 10, "label": "practitioners"}], ["decision making", {"concepts": "decision making", "type": "concept", "cluster": "Stakeholder Management", "node_size": 10, "label": "decision making"}], ["maintenance costs", {"concepts": "maintenance costs", "type": "concept", "cluster": "Stakeholder Management", "node_size": 10, "label": "maintenance costs"}], ["customer satisfaction", {"concepts": "customer satisfaction", "type": "concept", "cluster": "Stakeholder Management", "node_size": 10, "label": "customer satisfaction"}], ["economic disruption", {"concepts": "economic disruption", "type": "concept", "cluster": "Stakeholder Management", "node_size": 10, "label": "economic disruption"}], ["stakeholder roles", {"concepts": "stakeholder roles", "type": "concept", "cluster": "Stakeholder Management", "node_size": 10, "label": "stakeholder roles"}], ["stakeholder interests", {"concepts": "stakeholder interests", "type": "concept", "cluster": "Stakeholder Management", "node_size": 10, "label": "stakeholder interests"}], ["dnr", {"concepts": "dnr", "type": "concept", "cluster": "Stakeholder Management", "node_size": 10, "label": "dnr"}], ["stakeholder preferences", {"concepts": "stakeholder preferences", "type": "concept", "cluster": "Stakeholder Management", "node_size": 10, "label": "stakeholder preferences"}]], "Plant Communities": [["marsh plant species", {"concepts": "marsh plant species", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "marsh plant species"}], ["living shoreline law", {"concepts": "living shoreline law", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "living shoreline law"}], ["plant diversity", {"concepts": "plant diversity", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "plant diversity"}], ["sav", {"concepts": "sav", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "sav"}], ["med", {"concepts": "med", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "med"}], ["living shoreline", {"concepts": "living shoreline", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "living shoreline"}], ["high marsh", {"concepts": "high marsh", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "high marsh"}], ["plant communities", {"concepts": "plant communities", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "plant communities"}], ["blackwater", {"concepts": "blackwater", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "blackwater"}], ["sav beds", {"concepts": "sav beds", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "sav beds"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "biodiversity"}], ["bacteria", {"concepts": "bacteria", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "bacteria"}], ["meso-haline bay", {"concepts": "meso-haline bay", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "meso-haline bay"}], ["diversity", {"concepts": "diversity", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "diversity"}], ["living shorelines", {"concepts": "living shorelines", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "living shorelines"}], ["marsh plants", {"concepts": "marsh plants", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "marsh plants"}], ["marshes", {"concepts": "marshes", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "marshes"}], ["low marsh", {"concepts": "low marsh", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "low marsh"}], ["species diversity", {"concepts": "species diversity", "type": "concept", "cluster": "Plant Communities", "node_size": 10, "label": "species diversity"}]], "Ecosystem Dynamics": [["salt marsh sparrow", {"concepts": "salt marsh sparrow", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "salt marsh sparrow"}], ["elevation gradient", {"concepts": "elevation gradient", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "elevation gradient"}], ["system dynamics", {"concepts": "system dynamics", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "system dynamics"}], ["sediment dynamics", {"concepts": "sediment dynamics", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "sediment dynamics"}], ["sediment balance", {"concepts": "sediment balance", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "sediment balance"}], ["socio-ecological systems", {"concepts": "socio-ecological systems", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "socio-ecological systems"}], ["ecosystem benefits", {"concepts": "ecosystem benefits", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem benefits"}], ["sediment retention", {"concepts": "sediment retention", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "sediment retention"}], ["preferred state", {"concepts": "preferred state", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "preferred state"}], ["causal connections", {"concepts": "causal connections", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "causal connections"}], ["increase effects", {"concepts": "increase effects", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "increase effects"}], ["decrease effects", {"concepts": "decrease effects", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "decrease effects"}], ["adaptive capacity", {"concepts": "adaptive capacity", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "adaptive capacity"}], ["nutrient storage", {"concepts": "nutrient storage", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "nutrient storage"}], ["system resilience", {"concepts": "system resilience", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "system resilience"}], ["management dynamics", {"concepts": "management dynamics", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "management dynamics"}], ["adaptation responses", {"concepts": "adaptation responses", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "adaptation responses"}], ["environmental adaptation", {"concepts": "environmental adaptation", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "environmental adaptation"}], ["shoreline alterations", {"concepts": "shoreline alterations", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "shoreline alterations"}], ["sediment supply", {"concepts": "sediment supply", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "sediment supply"}], ["ecosystem resilience", {"concepts": "ecosystem resilience", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem resilience"}], ["high energy environment", {"concepts": "high energy environment", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "high energy environment"}], ["shoreline hardening", {"concepts": "shoreline hardening", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "shoreline hardening"}], ["temperature", {"concepts": "temperature", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "temperature"}], ["relationship mapping", {"concepts": "relationship mapping", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "relationship mapping"}], ["resource management", {"concepts": "resource management", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "resource management"}], ["impact assessment", {"concepts": "impact assessment", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "impact assessment"}], ["biological organisms", {"concepts": "biological organisms", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "biological organisms"}], ["sediment spray", {"concepts": "sediment spray", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "sediment spray"}], ["positive arrows", {"concepts": "positive arrows", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "positive arrows"}], ["growing season", {"concepts": "growing season", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "growing season"}], ["salinity changes", {"concepts": "salinity changes", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "salinity changes"}], ["species interactions", {"concepts": "species interactions", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "species interactions"}], ["biodiversity components", {"concepts": "biodiversity components", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "biodiversity components"}], ["water quality", {"concepts": "water quality", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "water quality"}], ["species of concern", {"concepts": "species of concern", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "species of concern"}], ["migration capacity", {"concepts": "migration capacity", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "migration capacity"}], ["biological processes", {"concepts": "biological processes", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "biological processes"}], ["ecological correctness", {"concepts": "ecological correctness", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecological correctness"}], ["stressor mitigation", {"concepts": "stressor mitigation", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "stressor mitigation"}], ["trade-offs", {"concepts": "trade-offs", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "trade-offs"}], ["organisms", {"concepts": "organisms", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "organisms"}], ["system components", {"concepts": "system components", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "system components"}], ["channel maintenance", {"concepts": "channel maintenance", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "channel maintenance"}], ["trade offs", {"concepts": "trade offs", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "trade offs"}], ["erosion mitigation", {"concepts": "erosion mitigation", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "erosion mitigation"}], ["community transformation", {"concepts": "community transformation", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "community transformation"}], ["innovative approaches", {"concepts": "innovative approaches", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "innovative approaches"}], ["environmental change", {"concepts": "environmental change", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "environmental change"}], ["design approval", {"concepts": "design approval", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "design approval"}], ["ecosystem stability", {"concepts": "ecosystem stability", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem stability"}], ["elevation maintenance", {"concepts": "elevation maintenance", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "elevation maintenance"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "marine resource management"}], ["ecosystem adaptation", {"concepts": "ecosystem adaptation", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecosystem adaptation"}], ["mental models", {"concepts": "mental models", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "mental models"}], ["feedback loops", {"concepts": "feedback loops", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "feedback loops"}], ["ecological benefit", {"concepts": "ecological benefit", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "ecological benefit"}], ["management strategies", {"concepts": "management strategies", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "management strategies"}], ["built-in adaptation", {"concepts": "built-in adaptation", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "built-in adaptation"}], ["sea level rise", {"concepts": "sea level rise", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "sea level rise"}], ["resilience", {"concepts": "resilience", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "resilience"}], ["negative relationships", {"concepts": "negative relationships", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "negative relationships"}], ["sea level stability", {"concepts": "sea level stability", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "sea level stability"}], ["storm impacts", {"concepts": "storm impacts", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "storm impacts"}], ["management interventions", {"concepts": "management interventions", "type": "concept", "cluster": "Ecosystem Dynamics", "node_size": 10, "label": "management interventions"}]], "Environmental Law": [["legal compliance", {"concepts": "legal compliance", "type": "concept", "cluster": "Environmental Law", "node_size": 10, "label": "legal compliance"}], ["environmental law", {"concepts": "environmental law", "type": "concept", "cluster": "Environmental Law", "node_size": 10, "label": "environmental law"}], ["regulatory frameworks", {"concepts": "regulatory frameworks", "type": "concept", "cluster": "Environmental Law", "node_size": 10, "label": "regulatory frameworks"}], ["policy enforcement", {"concepts": "policy enforcement", "type": "concept", "cluster": "Environmental Law", "node_size": 10, "label": "policy enforcement"}]], "Permit Process": [["compliance mechanisms", {"concepts": "compliance mechanisms", "type": "concept", "cluster": "Permit Process", "node_size": 10, "label": "compliance mechanisms"}], ["permitters", {"concepts": "permitters", "type": "concept", "cluster": "Permit Process", "node_size": 10, "label": "permitters"}], ["permit process", {"concepts": "permit process", "type": "concept", "cluster": "Permit Process", "node_size": 10, "label": "permit process"}], ["permit requirements", {"concepts": "permit requirements", "type": "concept", "cluster": "Permit Process", "node_size": 10, "label": "permit requirements"}]]};
        const clusterEdges = {"Marsh Restoration": [], "Ecological Relationships": [], "Environmental Stress": [], "Stakeholder Management": [], "Plant Communities": [], "Ecosystem Dynamics": [], "Environmental Law": [], "Permit Process": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
