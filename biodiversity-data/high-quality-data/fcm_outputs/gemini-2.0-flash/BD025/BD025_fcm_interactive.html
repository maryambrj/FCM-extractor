
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"species shifts": {"concepts": "species shifts", "concept_list": ["species shifts"], "type": "cluster", "node_size": 18, "label": "species shifts"}, "biodiversity": {"concepts": "biodiversity", "concept_list": ["biodiversity"], "type": "cluster", "node_size": 18, "label": "biodiversity"}, "oyster drill": {"concepts": "oyster drill", "concept_list": ["oyster drill"], "type": "cluster", "node_size": 18, "label": "oyster drill"}, "dams": {"concepts": "dams", "concept_list": ["dams"], "type": "cluster", "node_size": 18, "label": "dams"}, "Coastal Communities": {"concepts": "marine, fish passage, shipbuilding, fishing vessels", "concept_list": ["marine", "fish passage", "shipbuilding", "fishing vessels"], "type": "cluster", "node_size": 27, "label": "Coastal Communities"}, "Salinity Levels": {"concepts": "coastal residents, coastal communities, coastal, coastal bird trail", "concept_list": ["coastal residents", "coastal communities", "coastal", "coastal bird trail"], "type": "cluster", "node_size": 27, "label": "Salinity Levels"}, "Coastal Structures": {"concepts": "salinity regime, salinity, salinities", "concept_list": ["salinity regime", "salinity", "salinities"], "type": "cluster", "node_size": 24, "label": "Coastal Structures"}, "Seafood & Savannas": {"concepts": "fish bypasses, seawall panels", "concept_list": ["fish bypasses", "seawall panels"], "type": "cluster", "node_size": 21, "label": "Seafood & Savannas"}, "Marine & Vessels": {"concepts": "seafood processing, coastal savannas", "concept_list": ["seafood processing", "coastal savannas"], "type": "cluster", "node_size": 21, "label": "Marine & Vessels"}, "Harmful Invasives": {"concepts": "invasive species, harmful organisms", "concept_list": ["invasive species", "harmful organisms"], "type": "cluster", "node_size": 21, "label": "Harmful Invasives"}, "Single Species Conservation": {"concepts": "species conservation concern, single species conservation, single species, umbrella species, keystone species, single species management, species protection", "concept_list": ["species conservation concern", "single species conservation", "single species", "umbrella species", "keystone species", "single species management", "species protection"], "type": "cluster", "node_size": 36, "label": "Single Species Conservation"}, "Key Influencers": {"concepts": "decision makers, elected officials, funders, stakeholders, state agencies, resource managers", "concept_list": ["decision makers", "elected officials", "funders", "stakeholders", "state agencies", "resource managers"], "type": "cluster", "node_size": 33, "label": "Key Influencers"}, "Ecosystems & Communities": {"concepts": "human communities, ecosystem services, ecosystem service, phosphorus, social ecological system, human side, public health, community, ecosystem management, nature-based solutions, ecosystem-wide, ecosystem health, natural resources, ecosystem conservation, environment, community connection, academics, sedimentation, manage pig hunts, mental models", "concept_list": ["human communities", "ecosystem services", "ecosystem service", "phosphorus", "social ecological system", "human side", "public health", "community", "ecosystem management", "nature-based solutions", "ecosystem-wide", "ecosystem health", "natural resources", "ecosystem conservation", "environment", "community connection", "academics", "sedimentation", "manage pig hunts", "mental models"], "type": "cluster", "node_size": 75, "label": "Ecosystems & Communities"}, "[Invasive Organisms]": {"concepts": "communities, emergency response, public engagement, tourism, human diversity, diversity continuum, community engagement, partnerships", "concept_list": ["communities", "emergency response", "public engagement", "tourism", "human diversity", "diversity continuum", "community engagement", "partnerships"], "type": "cluster", "node_size": 39, "label": "[Invasive Organisms]"}, "Coastal Resource Management": {"concepts": "red snapper, farm-to-table, monitoring, diseases, staff turnover, antiquated infrastructure, erosion issues, beneficial use, aesthetic, marshes, ports, shad runs, conch, resource depletion, long-length pine, funding constraints, long-leaf pine, fecal coliforms, nitrogen, southern slash pine, escargot, regulatory framework, food web, management intervention, edge material, marsh, striped bass, mullet, marsh grass, industry workers, culverts, shell thickness, commerce, marsh erosion, eroding marsh, gulf sturgeon, pavilion", "concept_list": ["red snapper", "farm-to-table", "monitoring", "diseases", "staff turnover", "antiquated infrastructure", "erosion issues", "beneficial use", "aesthetic", "marshes", "ports", "shad runs", "conch", "resource depletion", "long-length pine", "funding constraints", "long-leaf pine", "fecal coliforms", "nitrogen", "southern slash pine", "escargot", "regulatory framework", "food web", "management intervention", "edge material", "marsh", "striped bass", "mullet", "marsh grass", "industry workers", "culverts", "shell thickness", "commerce", "marsh erosion", "eroding marsh", "gulf sturgeon", "pavilion"], "type": "cluster", "node_size": 126, "label": "Coastal Resource Management"}, "Oyster Industry": {"concepts": "oyster aquaculture, aquaculture, oyster fishery, fishery jobs, oyster industry", "concept_list": ["oyster aquaculture", "aquaculture", "oyster fishery", "fishery jobs", "oyster industry"], "type": "cluster", "node_size": 30, "label": "Oyster Industry"}, "Coastal Habitats": {"concepts": "oyster reef, oyster reefs, seagrass", "concept_list": ["oyster reef", "oyster reefs", "seagrass"], "type": "cluster", "node_size": 24, "label": "Coastal Habitats"}, "Seagrass & Sea Level": {"concepts": "seagrass protection, seagrass intrusion, seagrasses, sea level rise", "concept_list": ["seagrass protection", "seagrass intrusion", "seagrasses", "sea level rise"], "type": "cluster", "node_size": 27, "label": "Seagrass & Sea Level"}, "Coastal Ecosystem Impacts": {"concepts": "fishing industry, industrial seawalls, lionfish", "concept_list": ["fishing industry", "industrial seawalls", "lionfish"], "type": "cluster", "node_size": 24, "label": "Coastal Ecosystem Impacts"}, "Bird Migration": {"concepts": "migrating birds, migratory corridors, migratory species", "concept_list": ["migrating birds", "migratory corridors", "migratory species"], "type": "cluster", "node_size": 24, "label": "Bird Migration"}, "Habitat Dynamics": {"concepts": "nursery habitat, habitat forming species, habitat migration, habitat restoration, habitat management, wildlife habitat, wildfire protection, recreation", "concept_list": ["nursery habitat", "habitat forming species", "habitat migration", "habitat restoration", "habitat management", "wildlife habitat", "wildfire protection", "recreation"], "type": "cluster", "node_size": 39, "label": "Habitat Dynamics"}, "Climate Change Effects": {"concepts": "climate impacts, climate migration, climate-induced species", "concept_list": ["climate impacts", "climate migration", "climate-induced species"], "type": "cluster", "node_size": 24, "label": "Climate Change Effects"}, "Freshwater Systems": {"concepts": "riverine systems, hydrology, freshwater system, water quality, eutrophication, acidification", "concept_list": ["riverine systems", "hydrology", "freshwater system", "water quality", "eutrophication", "acidification"], "type": "cluster", "node_size": 33, "label": "Freshwater Systems"}, "Sediment & Dredge": {"concepts": "dredge material, sediment, culvert sediment", "concept_list": ["dredge material", "sediment", "culvert sediment"], "type": "cluster", "node_size": 24, "label": "Sediment & Dredge"}, "Stormwater Management": {"concepts": "stormwater infrastructure, storm water, stormwater management, stormwater", "concept_list": ["stormwater infrastructure", "storm water", "stormwater management", "stormwater"], "type": "cluster", "node_size": 27, "label": "Stormwater Management"}, "Coastal Waterways": {"concepts": "riverine transportation, inter-coastal waterways, dam operations, breakwaters", "concept_list": ["riverine transportation", "inter-coastal waterways", "dam operations", "breakwaters"], "type": "cluster", "node_size": 27, "label": "Coastal Waterways"}, "Shoreline Management": {"concepts": "tidal creeks, shoreline ownership, shoreline regulations, private shorelines", "concept_list": ["tidal creeks", "shoreline ownership", "shoreline regulations", "private shorelines"], "type": "cluster", "node_size": 27, "label": "Shoreline Management"}, "Land Stewardship": {"concepts": "land acquisition, private landowners, land stewardship", "concept_list": ["land acquisition", "private landowners", "land stewardship"], "type": "cluster", "node_size": 24, "label": "Land Stewardship"}};
        const conceptData = {"marine": {"concepts": "marine", "type": "concept", "cluster": "Coastal Communities", "node_size": 10, "label": "marine"}, "fish passage": {"concepts": "fish passage", "type": "concept", "cluster": "Coastal Communities", "node_size": 10, "label": "fish passage"}, "shipbuilding": {"concepts": "shipbuilding", "type": "concept", "cluster": "Coastal Communities", "node_size": 10, "label": "shipbuilding"}, "fishing vessels": {"concepts": "fishing vessels", "type": "concept", "cluster": "Coastal Communities", "node_size": 10, "label": "fishing vessels"}, "coastal residents": {"concepts": "coastal residents", "type": "concept", "cluster": "Salinity Levels", "node_size": 10, "label": "coastal residents"}, "coastal communities": {"concepts": "coastal communities", "type": "concept", "cluster": "Salinity Levels", "node_size": 10, "label": "coastal communities"}, "coastal": {"concepts": "coastal", "type": "concept", "cluster": "Salinity Levels", "node_size": 10, "label": "coastal"}, "coastal bird trail": {"concepts": "coastal bird trail", "type": "concept", "cluster": "Salinity Levels", "node_size": 10, "label": "coastal bird trail"}, "salinity regime": {"concepts": "salinity regime", "type": "concept", "cluster": "Coastal Structures", "node_size": 10, "label": "salinity regime"}, "salinity": {"concepts": "salinity", "type": "concept", "cluster": "Coastal Structures", "node_size": 10, "label": "salinity"}, "salinities": {"concepts": "salinities", "type": "concept", "cluster": "Coastal Structures", "node_size": 10, "label": "salinities"}, "fish bypasses": {"concepts": "fish bypasses", "type": "concept", "cluster": "Seafood & Savannas", "node_size": 10, "label": "fish bypasses"}, "seawall panels": {"concepts": "seawall panels", "type": "concept", "cluster": "Seafood & Savannas", "node_size": 10, "label": "seawall panels"}, "seafood processing": {"concepts": "seafood processing", "type": "concept", "cluster": "Marine & Vessels", "node_size": 10, "label": "seafood processing"}, "coastal savannas": {"concepts": "coastal savannas", "type": "concept", "cluster": "Marine & Vessels", "node_size": 10, "label": "coastal savannas"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Harmful Invasives", "node_size": 10, "label": "invasive species"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Harmful Invasives", "node_size": 10, "label": "harmful organisms"}, "species conservation concern": {"concepts": "species conservation concern", "type": "concept", "cluster": "Single Species Conservation", "node_size": 10, "label": "species conservation concern"}, "single species conservation": {"concepts": "single species conservation", "type": "concept", "cluster": "Single Species Conservation", "node_size": 10, "label": "single species conservation"}, "single species": {"concepts": "single species", "type": "concept", "cluster": "Single Species Conservation", "node_size": 10, "label": "single species"}, "umbrella species": {"concepts": "umbrella species", "type": "concept", "cluster": "Single Species Conservation", "node_size": 10, "label": "umbrella species"}, "keystone species": {"concepts": "keystone species", "type": "concept", "cluster": "Single Species Conservation", "node_size": 10, "label": "keystone species"}, "single species management": {"concepts": "single species management", "type": "concept", "cluster": "Single Species Conservation", "node_size": 10, "label": "single species management"}, "species protection": {"concepts": "species protection", "type": "concept", "cluster": "Single Species Conservation", "node_size": 10, "label": "species protection"}, "decision makers": {"concepts": "decision makers", "type": "concept", "cluster": "Key Influencers", "node_size": 10, "label": "decision makers"}, "elected officials": {"concepts": "elected officials", "type": "concept", "cluster": "Key Influencers", "node_size": 10, "label": "elected officials"}, "funders": {"concepts": "funders", "type": "concept", "cluster": "Key Influencers", "node_size": 10, "label": "funders"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Key Influencers", "node_size": 10, "label": "stakeholders"}, "state agencies": {"concepts": "state agencies", "type": "concept", "cluster": "Key Influencers", "node_size": 10, "label": "state agencies"}, "resource managers": {"concepts": "resource managers", "type": "concept", "cluster": "Key Influencers", "node_size": 10, "label": "resource managers"}, "human communities": {"concepts": "human communities", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "human communities"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "ecosystem services"}, "ecosystem service": {"concepts": "ecosystem service", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "ecosystem service"}, "phosphorus": {"concepts": "phosphorus", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "phosphorus"}, "social ecological system": {"concepts": "social ecological system", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "social ecological system"}, "human side": {"concepts": "human side", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "human side"}, "public health": {"concepts": "public health", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "public health"}, "community": {"concepts": "community", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "community"}, "ecosystem management": {"concepts": "ecosystem management", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "ecosystem management"}, "nature-based solutions": {"concepts": "nature-based solutions", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "nature-based solutions"}, "ecosystem-wide": {"concepts": "ecosystem-wide", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "ecosystem-wide"}, "ecosystem health": {"concepts": "ecosystem health", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "ecosystem health"}, "natural resources": {"concepts": "natural resources", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "natural resources"}, "ecosystem conservation": {"concepts": "ecosystem conservation", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "ecosystem conservation"}, "environment": {"concepts": "environment", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "environment"}, "community connection": {"concepts": "community connection", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "community connection"}, "academics": {"concepts": "academics", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "academics"}, "sedimentation": {"concepts": "sedimentation", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "sedimentation"}, "manage pig hunts": {"concepts": "manage pig hunts", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "manage pig hunts"}, "mental models": {"concepts": "mental models", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "mental models"}, "communities": {"concepts": "communities", "type": "concept", "cluster": "[Invasive Organisms]", "node_size": 10, "label": "communities"}, "emergency response": {"concepts": "emergency response", "type": "concept", "cluster": "[Invasive Organisms]", "node_size": 10, "label": "emergency response"}, "public engagement": {"concepts": "public engagement", "type": "concept", "cluster": "[Invasive Organisms]", "node_size": 10, "label": "public engagement"}, "tourism": {"concepts": "tourism", "type": "concept", "cluster": "[Invasive Organisms]", "node_size": 10, "label": "tourism"}, "human diversity": {"concepts": "human diversity", "type": "concept", "cluster": "[Invasive Organisms]", "node_size": 10, "label": "human diversity"}, "diversity continuum": {"concepts": "diversity continuum", "type": "concept", "cluster": "[Invasive Organisms]", "node_size": 10, "label": "diversity continuum"}, "community engagement": {"concepts": "community engagement", "type": "concept", "cluster": "[Invasive Organisms]", "node_size": 10, "label": "community engagement"}, "partnerships": {"concepts": "partnerships", "type": "concept", "cluster": "[Invasive Organisms]", "node_size": 10, "label": "partnerships"}, "red snapper": {"concepts": "red snapper", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "red snapper"}, "farm-to-table": {"concepts": "farm-to-table", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "farm-to-table"}, "monitoring": {"concepts": "monitoring", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "monitoring"}, "diseases": {"concepts": "diseases", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "diseases"}, "staff turnover": {"concepts": "staff turnover", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "staff turnover"}, "antiquated infrastructure": {"concepts": "antiquated infrastructure", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "antiquated infrastructure"}, "erosion issues": {"concepts": "erosion issues", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "erosion issues"}, "beneficial use": {"concepts": "beneficial use", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "beneficial use"}, "aesthetic": {"concepts": "aesthetic", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "aesthetic"}, "marshes": {"concepts": "marshes", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "marshes"}, "ports": {"concepts": "ports", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "ports"}, "shad runs": {"concepts": "shad runs", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "shad runs"}, "conch": {"concepts": "conch", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "conch"}, "resource depletion": {"concepts": "resource depletion", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "resource depletion"}, "long-length pine": {"concepts": "long-length pine", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "long-length pine"}, "funding constraints": {"concepts": "funding constraints", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "funding constraints"}, "long-leaf pine": {"concepts": "long-leaf pine", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "long-leaf pine"}, "fecal coliforms": {"concepts": "fecal coliforms", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "fecal coliforms"}, "nitrogen": {"concepts": "nitrogen", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "nitrogen"}, "southern slash pine": {"concepts": "southern slash pine", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "southern slash pine"}, "escargot": {"concepts": "escargot", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "escargot"}, "regulatory framework": {"concepts": "regulatory framework", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "regulatory framework"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "food web"}, "management intervention": {"concepts": "management intervention", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "management intervention"}, "edge material": {"concepts": "edge material", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "edge material"}, "marsh": {"concepts": "marsh", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "marsh"}, "striped bass": {"concepts": "striped bass", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "striped bass"}, "mullet": {"concepts": "mullet", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "mullet"}, "marsh grass": {"concepts": "marsh grass", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "marsh grass"}, "industry workers": {"concepts": "industry workers", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "industry workers"}, "culverts": {"concepts": "culverts", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "culverts"}, "shell thickness": {"concepts": "shell thickness", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "shell thickness"}, "commerce": {"concepts": "commerce", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "commerce"}, "marsh erosion": {"concepts": "marsh erosion", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "marsh erosion"}, "eroding marsh": {"concepts": "eroding marsh", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "eroding marsh"}, "gulf sturgeon": {"concepts": "gulf sturgeon", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "gulf sturgeon"}, "pavilion": {"concepts": "pavilion", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "pavilion"}, "oyster aquaculture": {"concepts": "oyster aquaculture", "type": "concept", "cluster": "Oyster Industry", "node_size": 10, "label": "oyster aquaculture"}, "aquaculture": {"concepts": "aquaculture", "type": "concept", "cluster": "Oyster Industry", "node_size": 10, "label": "aquaculture"}, "oyster fishery": {"concepts": "oyster fishery", "type": "concept", "cluster": "Oyster Industry", "node_size": 10, "label": "oyster fishery"}, "fishery jobs": {"concepts": "fishery jobs", "type": "concept", "cluster": "Oyster Industry", "node_size": 10, "label": "fishery jobs"}, "oyster industry": {"concepts": "oyster industry", "type": "concept", "cluster": "Oyster Industry", "node_size": 10, "label": "oyster industry"}, "oyster reef": {"concepts": "oyster reef", "type": "concept", "cluster": "Coastal Habitats", "node_size": 10, "label": "oyster reef"}, "oyster reefs": {"concepts": "oyster reefs", "type": "concept", "cluster": "Coastal Habitats", "node_size": 10, "label": "oyster reefs"}, "seagrass": {"concepts": "seagrass", "type": "concept", "cluster": "Coastal Habitats", "node_size": 10, "label": "seagrass"}, "seagrass protection": {"concepts": "seagrass protection", "type": "concept", "cluster": "Seagrass & Sea Level", "node_size": 10, "label": "seagrass protection"}, "seagrass intrusion": {"concepts": "seagrass intrusion", "type": "concept", "cluster": "Seagrass & Sea Level", "node_size": 10, "label": "seagrass intrusion"}, "seagrasses": {"concepts": "seagrasses", "type": "concept", "cluster": "Seagrass & Sea Level", "node_size": 10, "label": "seagrasses"}, "sea level rise": {"concepts": "sea level rise", "type": "concept", "cluster": "Seagrass & Sea Level", "node_size": 10, "label": "sea level rise"}, "fishing industry": {"concepts": "fishing industry", "type": "concept", "cluster": "Coastal Ecosystem Impacts", "node_size": 10, "label": "fishing industry"}, "industrial seawalls": {"concepts": "industrial seawalls", "type": "concept", "cluster": "Coastal Ecosystem Impacts", "node_size": 10, "label": "industrial seawalls"}, "lionfish": {"concepts": "lionfish", "type": "concept", "cluster": "Coastal Ecosystem Impacts", "node_size": 10, "label": "lionfish"}, "migrating birds": {"concepts": "migrating birds", "type": "concept", "cluster": "Bird Migration", "node_size": 10, "label": "migrating birds"}, "migratory corridors": {"concepts": "migratory corridors", "type": "concept", "cluster": "Bird Migration", "node_size": 10, "label": "migratory corridors"}, "migratory species": {"concepts": "migratory species", "type": "concept", "cluster": "Bird Migration", "node_size": 10, "label": "migratory species"}, "nursery habitat": {"concepts": "nursery habitat", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "nursery habitat"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "habitat forming species"}, "habitat migration": {"concepts": "habitat migration", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "habitat migration"}, "habitat restoration": {"concepts": "habitat restoration", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "habitat restoration"}, "habitat management": {"concepts": "habitat management", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "habitat management"}, "wildlife habitat": {"concepts": "wildlife habitat", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "wildlife habitat"}, "wildfire protection": {"concepts": "wildfire protection", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "wildfire protection"}, "recreation": {"concepts": "recreation", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "recreation"}, "climate impacts": {"concepts": "climate impacts", "type": "concept", "cluster": "Climate Change Effects", "node_size": 10, "label": "climate impacts"}, "climate migration": {"concepts": "climate migration", "type": "concept", "cluster": "Climate Change Effects", "node_size": 10, "label": "climate migration"}, "climate-induced species": {"concepts": "climate-induced species", "type": "concept", "cluster": "Climate Change Effects", "node_size": 10, "label": "climate-induced species"}, "riverine systems": {"concepts": "riverine systems", "type": "concept", "cluster": "Freshwater Systems", "node_size": 10, "label": "riverine systems"}, "hydrology": {"concepts": "hydrology", "type": "concept", "cluster": "Freshwater Systems", "node_size": 10, "label": "hydrology"}, "freshwater system": {"concepts": "freshwater system", "type": "concept", "cluster": "Freshwater Systems", "node_size": 10, "label": "freshwater system"}, "water quality": {"concepts": "water quality", "type": "concept", "cluster": "Freshwater Systems", "node_size": 10, "label": "water quality"}, "eutrophication": {"concepts": "eutrophication", "type": "concept", "cluster": "Freshwater Systems", "node_size": 10, "label": "eutrophication"}, "acidification": {"concepts": "acidification", "type": "concept", "cluster": "Freshwater Systems", "node_size": 10, "label": "acidification"}, "dredge material": {"concepts": "dredge material", "type": "concept", "cluster": "Sediment & Dredge", "node_size": 10, "label": "dredge material"}, "sediment": {"concepts": "sediment", "type": "concept", "cluster": "Sediment & Dredge", "node_size": 10, "label": "sediment"}, "culvert sediment": {"concepts": "culvert sediment", "type": "concept", "cluster": "Sediment & Dredge", "node_size": 10, "label": "culvert sediment"}, "stormwater infrastructure": {"concepts": "stormwater infrastructure", "type": "concept", "cluster": "Stormwater Management", "node_size": 10, "label": "stormwater infrastructure"}, "storm water": {"concepts": "storm water", "type": "concept", "cluster": "Stormwater Management", "node_size": 10, "label": "storm water"}, "stormwater management": {"concepts": "stormwater management", "type": "concept", "cluster": "Stormwater Management", "node_size": 10, "label": "stormwater management"}, "stormwater": {"concepts": "stormwater", "type": "concept", "cluster": "Stormwater Management", "node_size": 10, "label": "stormwater"}, "riverine transportation": {"concepts": "riverine transportation", "type": "concept", "cluster": "Coastal Waterways", "node_size": 10, "label": "riverine transportation"}, "inter-coastal waterways": {"concepts": "inter-coastal waterways", "type": "concept", "cluster": "Coastal Waterways", "node_size": 10, "label": "inter-coastal waterways"}, "dam operations": {"concepts": "dam operations", "type": "concept", "cluster": "Coastal Waterways", "node_size": 10, "label": "dam operations"}, "breakwaters": {"concepts": "breakwaters", "type": "concept", "cluster": "Coastal Waterways", "node_size": 10, "label": "breakwaters"}, "tidal creeks": {"concepts": "tidal creeks", "type": "concept", "cluster": "Shoreline Management", "node_size": 10, "label": "tidal creeks"}, "shoreline ownership": {"concepts": "shoreline ownership", "type": "concept", "cluster": "Shoreline Management", "node_size": 10, "label": "shoreline ownership"}, "shoreline regulations": {"concepts": "shoreline regulations", "type": "concept", "cluster": "Shoreline Management", "node_size": 10, "label": "shoreline regulations"}, "private shorelines": {"concepts": "private shorelines", "type": "concept", "cluster": "Shoreline Management", "node_size": 10, "label": "private shorelines"}, "land acquisition": {"concepts": "land acquisition", "type": "concept", "cluster": "Land Stewardship", "node_size": 10, "label": "land acquisition"}, "private landowners": {"concepts": "private landowners", "type": "concept", "cluster": "Land Stewardship", "node_size": 10, "label": "private landowners"}, "land stewardship": {"concepts": "land stewardship", "type": "concept", "cluster": "Land Stewardship", "node_size": 10, "label": "land stewardship"}};
        const interClusterEdges = [["species shifts", "Seagrass & Sea Level", {"weight": 0.6666666666666666, "confidence": 0.26666666666666666, "type": "inter_cluster", "style": "solid"}], ["biodiversity", "[Invasive Organisms]", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["biodiversity", "species shifts", {"weight": 1.0, "confidence": 0.4, "type": "inter_cluster", "style": "solid"}], ["biodiversity", "Land Stewardship", {"weight": 1.0, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["oyster drill", "species shifts", {"weight": 1.0, "confidence": 0.525, "type": "inter_cluster", "style": "solid"}], ["dams", "biodiversity", {"weight": -1.0, "confidence": 0.64, "type": "inter_cluster", "style": "solid"}], ["dams", "Habitat Dynamics", {"weight": -1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["dams", "Sediment & Dredge", {"weight": 0.75, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}], ["Coastal Communities", "Coastal Structures", {"weight": 1.0, "confidence": 0.36, "type": "inter_cluster", "style": "solid"}], ["Coastal Communities", "species shifts", {"weight": 1.0, "confidence": 0.34, "type": "inter_cluster", "style": "solid"}], ["Coastal Communities", "Harmful Invasives", {"weight": 1.0, "confidence": 0.44999999999999996, "type": "inter_cluster", "style": "solid"}], ["Coastal Communities", "Bird Migration", {"weight": -1.0, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}], ["Salinity Levels", "Ecosystems & Communities", {"weight": 1.0, "confidence": 0.6900000000000001, "type": "inter_cluster", "style": "solid"}], ["Salinity Levels", "Bird Migration", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Coastal Structures", "species shifts", {"weight": 1.0, "confidence": 0.625, "type": "inter_cluster", "style": "solid"}], ["Seafood & Savannas", "Oyster Industry", {"weight": 0.8, "confidence": 0.42000000000000004, "type": "inter_cluster", "style": "solid"}], ["Seafood & Savannas", "biodiversity", {"weight": 1.0, "confidence": 0.5666666666666667, "type": "inter_cluster", "style": "solid"}], ["Marine & Vessels", "[Invasive Organisms]", {"weight": 0.5, "confidence": 0.2, "type": "inter_cluster", "style": "solid"}], ["Harmful Invasives", "Coastal Habitats", {"weight": -1.0, "confidence": 0.675, "type": "inter_cluster", "style": "solid"}], ["Harmful Invasives", "Marine & Vessels", {"weight": -0.25, "confidence": 0.1, "type": "inter_cluster", "style": "solid"}], ["Harmful Invasives", "Key Influencers", {"weight": 1.0, "confidence": 0.2, "type": "inter_cluster", "style": "solid"}], ["Single Species Conservation", "Habitat Dynamics", {"weight": 0.6666666666666666, "confidence": 0.26666666666666666, "type": "inter_cluster", "style": "solid"}], ["Key Influencers", "Habitat Dynamics", {"weight": 1.0, "confidence": 0.45999999999999996, "type": "inter_cluster", "style": "solid"}], ["Key Influencers", "Shoreline Management", {"weight": 1.0, "confidence": 0.3, "type": "inter_cluster", "style": "solid"}], ["Ecosystems & Communities", "Bird Migration", {"weight": 0.5, "confidence": 0.175, "type": "inter_cluster", "style": "solid"}], ["[Invasive Organisms]", "Habitat Dynamics", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["[Invasive Organisms]", "Coastal Resource Management", {"weight": 0.4, "confidence": 0.13999999999999999, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitats", "[Invasive Organisms]", {"weight": 1.0, "confidence": 0.5125, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitats", "Seagrass & Sea Level", {"weight": 1.0, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitats", "Key Influencers", {"weight": 1.0, "confidence": 0.35, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitats", "Shoreline Management", {"weight": 0.6666666666666666, "confidence": 0.2333333333333333, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitats", "Coastal Communities", {"weight": -0.5, "confidence": 0.15, "type": "inter_cluster", "style": "solid"}], ["Coastal Habitats", "Climate Change Effects", {"weight": -0.5, "confidence": 0.15, "type": "inter_cluster", "style": "solid"}], ["Seagrass & Sea Level", "Ecosystems & Communities", {"weight": 1.0, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["Seagrass & Sea Level", "Stormwater Management", {"weight": -0.5, "confidence": 0.15, "type": "inter_cluster", "style": "solid"}], ["Coastal Ecosystem Impacts", "Marine & Vessels", {"weight": 0.5, "confidence": 0.2, "type": "inter_cluster", "style": "solid"}], ["Bird Migration", "Salinity Levels", {"weight": 1.0, "confidence": 0.5249999999999999, "type": "inter_cluster", "style": "solid"}], ["Habitat Dynamics", "Stormwater Management", {"weight": 0.8, "confidence": 0.25999999999999995, "type": "inter_cluster", "style": "solid"}], ["Habitat Dynamics", "Land Stewardship", {"weight": 0.5, "confidence": 0.25, "type": "inter_cluster", "style": "solid"}], ["Habitat Dynamics", "Coastal Structures", {"weight": 0.5, "confidence": 0.15, "type": "inter_cluster", "style": "solid"}], ["Freshwater Systems", "Coastal Habitats", {"weight": -0.6, "confidence": 0.5, "type": "inter_cluster", "style": "solid"}], ["Sediment & Dredge", "Freshwater Systems", {"weight": 0.6, "confidence": 0.49000000000000005, "type": "inter_cluster", "style": "solid"}], ["Sediment & Dredge", "Stormwater Management", {"weight": -0.5, "confidence": 0.15, "type": "inter_cluster", "style": "solid"}], ["Stormwater Management", "Harmful Invasives", {"weight": -0.6, "confidence": 0.18, "type": "inter_cluster", "style": "solid"}], ["Coastal Waterways", "Freshwater Systems", {"weight": 1.0, "confidence": 0.5399999999999999, "type": "inter_cluster", "style": "solid"}], ["Coastal Waterways", "biodiversity", {"weight": -1.0, "confidence": 0.42000000000000004, "type": "inter_cluster", "style": "solid"}], ["Coastal Waterways", "Shoreline Management", {"weight": 0.25, "confidence": 0.275, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Coastal Communities": [["marine", {"concepts": "marine", "type": "concept", "cluster": "Coastal Communities", "node_size": 10, "label": "marine"}], ["fish passage", {"concepts": "fish passage", "type": "concept", "cluster": "Coastal Communities", "node_size": 10, "label": "fish passage"}], ["shipbuilding", {"concepts": "shipbuilding", "type": "concept", "cluster": "Coastal Communities", "node_size": 10, "label": "shipbuilding"}], ["fishing vessels", {"concepts": "fishing vessels", "type": "concept", "cluster": "Coastal Communities", "node_size": 10, "label": "fishing vessels"}]], "Salinity Levels": [["coastal residents", {"concepts": "coastal residents", "type": "concept", "cluster": "Salinity Levels", "node_size": 10, "label": "coastal residents"}], ["coastal communities", {"concepts": "coastal communities", "type": "concept", "cluster": "Salinity Levels", "node_size": 10, "label": "coastal communities"}], ["coastal", {"concepts": "coastal", "type": "concept", "cluster": "Salinity Levels", "node_size": 10, "label": "coastal"}], ["coastal bird trail", {"concepts": "coastal bird trail", "type": "concept", "cluster": "Salinity Levels", "node_size": 10, "label": "coastal bird trail"}]], "Coastal Structures": [["salinity regime", {"concepts": "salinity regime", "type": "concept", "cluster": "Coastal Structures", "node_size": 10, "label": "salinity regime"}], ["salinity", {"concepts": "salinity", "type": "concept", "cluster": "Coastal Structures", "node_size": 10, "label": "salinity"}], ["salinities", {"concepts": "salinities", "type": "concept", "cluster": "Coastal Structures", "node_size": 10, "label": "salinities"}]], "Seafood & Savannas": [["fish bypasses", {"concepts": "fish bypasses", "type": "concept", "cluster": "Seafood & Savannas", "node_size": 10, "label": "fish bypasses"}], ["seawall panels", {"concepts": "seawall panels", "type": "concept", "cluster": "Seafood & Savannas", "node_size": 10, "label": "seawall panels"}]], "Marine & Vessels": [["seafood processing", {"concepts": "seafood processing", "type": "concept", "cluster": "Marine & Vessels", "node_size": 10, "label": "seafood processing"}], ["coastal savannas", {"concepts": "coastal savannas", "type": "concept", "cluster": "Marine & Vessels", "node_size": 10, "label": "coastal savannas"}]], "Harmful Invasives": [["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Harmful Invasives", "node_size": 10, "label": "invasive species"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Harmful Invasives", "node_size": 10, "label": "harmful organisms"}]], "Single Species Conservation": [["species conservation concern", {"concepts": "species conservation concern", "type": "concept", "cluster": "Single Species Conservation", "node_size": 10, "label": "species conservation concern"}], ["single species conservation", {"concepts": "single species conservation", "type": "concept", "cluster": "Single Species Conservation", "node_size": 10, "label": "single species conservation"}], ["single species", {"concepts": "single species", "type": "concept", "cluster": "Single Species Conservation", "node_size": 10, "label": "single species"}], ["umbrella species", {"concepts": "umbrella species", "type": "concept", "cluster": "Single Species Conservation", "node_size": 10, "label": "umbrella species"}], ["keystone species", {"concepts": "keystone species", "type": "concept", "cluster": "Single Species Conservation", "node_size": 10, "label": "keystone species"}], ["single species management", {"concepts": "single species management", "type": "concept", "cluster": "Single Species Conservation", "node_size": 10, "label": "single species management"}], ["species protection", {"concepts": "species protection", "type": "concept", "cluster": "Single Species Conservation", "node_size": 10, "label": "species protection"}]], "Key Influencers": [["decision makers", {"concepts": "decision makers", "type": "concept", "cluster": "Key Influencers", "node_size": 10, "label": "decision makers"}], ["elected officials", {"concepts": "elected officials", "type": "concept", "cluster": "Key Influencers", "node_size": 10, "label": "elected officials"}], ["funders", {"concepts": "funders", "type": "concept", "cluster": "Key Influencers", "node_size": 10, "label": "funders"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Key Influencers", "node_size": 10, "label": "stakeholders"}], ["state agencies", {"concepts": "state agencies", "type": "concept", "cluster": "Key Influencers", "node_size": 10, "label": "state agencies"}], ["resource managers", {"concepts": "resource managers", "type": "concept", "cluster": "Key Influencers", "node_size": 10, "label": "resource managers"}]], "Ecosystems & Communities": [["human communities", {"concepts": "human communities", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "human communities"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "ecosystem services"}], ["ecosystem service", {"concepts": "ecosystem service", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "ecosystem service"}], ["phosphorus", {"concepts": "phosphorus", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "phosphorus"}], ["social ecological system", {"concepts": "social ecological system", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "social ecological system"}], ["human side", {"concepts": "human side", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "human side"}], ["public health", {"concepts": "public health", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "public health"}], ["community", {"concepts": "community", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "community"}], ["ecosystem management", {"concepts": "ecosystem management", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "ecosystem management"}], ["nature-based solutions", {"concepts": "nature-based solutions", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "nature-based solutions"}], ["ecosystem-wide", {"concepts": "ecosystem-wide", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "ecosystem-wide"}], ["ecosystem health", {"concepts": "ecosystem health", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "ecosystem health"}], ["natural resources", {"concepts": "natural resources", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "natural resources"}], ["ecosystem conservation", {"concepts": "ecosystem conservation", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "ecosystem conservation"}], ["environment", {"concepts": "environment", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "environment"}], ["community connection", {"concepts": "community connection", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "community connection"}], ["academics", {"concepts": "academics", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "academics"}], ["sedimentation", {"concepts": "sedimentation", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "sedimentation"}], ["manage pig hunts", {"concepts": "manage pig hunts", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "manage pig hunts"}], ["mental models", {"concepts": "mental models", "type": "concept", "cluster": "Ecosystems & Communities", "node_size": 10, "label": "mental models"}]], "[Invasive Organisms]": [["communities", {"concepts": "communities", "type": "concept", "cluster": "[Invasive Organisms]", "node_size": 10, "label": "communities"}], ["emergency response", {"concepts": "emergency response", "type": "concept", "cluster": "[Invasive Organisms]", "node_size": 10, "label": "emergency response"}], ["public engagement", {"concepts": "public engagement", "type": "concept", "cluster": "[Invasive Organisms]", "node_size": 10, "label": "public engagement"}], ["tourism", {"concepts": "tourism", "type": "concept", "cluster": "[Invasive Organisms]", "node_size": 10, "label": "tourism"}], ["human diversity", {"concepts": "human diversity", "type": "concept", "cluster": "[Invasive Organisms]", "node_size": 10, "label": "human diversity"}], ["diversity continuum", {"concepts": "diversity continuum", "type": "concept", "cluster": "[Invasive Organisms]", "node_size": 10, "label": "diversity continuum"}], ["community engagement", {"concepts": "community engagement", "type": "concept", "cluster": "[Invasive Organisms]", "node_size": 10, "label": "community engagement"}], ["partnerships", {"concepts": "partnerships", "type": "concept", "cluster": "[Invasive Organisms]", "node_size": 10, "label": "partnerships"}]], "Coastal Resource Management": [["red snapper", {"concepts": "red snapper", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "red snapper"}], ["farm-to-table", {"concepts": "farm-to-table", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "farm-to-table"}], ["monitoring", {"concepts": "monitoring", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "monitoring"}], ["diseases", {"concepts": "diseases", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "diseases"}], ["staff turnover", {"concepts": "staff turnover", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "staff turnover"}], ["antiquated infrastructure", {"concepts": "antiquated infrastructure", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "antiquated infrastructure"}], ["erosion issues", {"concepts": "erosion issues", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "erosion issues"}], ["beneficial use", {"concepts": "beneficial use", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "beneficial use"}], ["aesthetic", {"concepts": "aesthetic", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "aesthetic"}], ["marshes", {"concepts": "marshes", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "marshes"}], ["ports", {"concepts": "ports", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "ports"}], ["shad runs", {"concepts": "shad runs", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "shad runs"}], ["conch", {"concepts": "conch", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "conch"}], ["resource depletion", {"concepts": "resource depletion", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "resource depletion"}], ["long-length pine", {"concepts": "long-length pine", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "long-length pine"}], ["funding constraints", {"concepts": "funding constraints", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "funding constraints"}], ["long-leaf pine", {"concepts": "long-leaf pine", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "long-leaf pine"}], ["fecal coliforms", {"concepts": "fecal coliforms", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "fecal coliforms"}], ["nitrogen", {"concepts": "nitrogen", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "nitrogen"}], ["southern slash pine", {"concepts": "southern slash pine", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "southern slash pine"}], ["escargot", {"concepts": "escargot", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "escargot"}], ["regulatory framework", {"concepts": "regulatory framework", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "regulatory framework"}], ["food web", {"concepts": "food web", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "food web"}], ["management intervention", {"concepts": "management intervention", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "management intervention"}], ["edge material", {"concepts": "edge material", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "edge material"}], ["marsh", {"concepts": "marsh", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "marsh"}], ["striped bass", {"concepts": "striped bass", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "striped bass"}], ["mullet", {"concepts": "mullet", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "mullet"}], ["marsh grass", {"concepts": "marsh grass", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "marsh grass"}], ["industry workers", {"concepts": "industry workers", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "industry workers"}], ["culverts", {"concepts": "culverts", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "culverts"}], ["shell thickness", {"concepts": "shell thickness", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "shell thickness"}], ["commerce", {"concepts": "commerce", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "commerce"}], ["marsh erosion", {"concepts": "marsh erosion", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "marsh erosion"}], ["eroding marsh", {"concepts": "eroding marsh", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "eroding marsh"}], ["gulf sturgeon", {"concepts": "gulf sturgeon", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "gulf sturgeon"}], ["pavilion", {"concepts": "pavilion", "type": "concept", "cluster": "Coastal Resource Management", "node_size": 10, "label": "pavilion"}]], "Oyster Industry": [["oyster aquaculture", {"concepts": "oyster aquaculture", "type": "concept", "cluster": "Oyster Industry", "node_size": 10, "label": "oyster aquaculture"}], ["aquaculture", {"concepts": "aquaculture", "type": "concept", "cluster": "Oyster Industry", "node_size": 10, "label": "aquaculture"}], ["oyster fishery", {"concepts": "oyster fishery", "type": "concept", "cluster": "Oyster Industry", "node_size": 10, "label": "oyster fishery"}], ["fishery jobs", {"concepts": "fishery jobs", "type": "concept", "cluster": "Oyster Industry", "node_size": 10, "label": "fishery jobs"}], ["oyster industry", {"concepts": "oyster industry", "type": "concept", "cluster": "Oyster Industry", "node_size": 10, "label": "oyster industry"}]], "Coastal Habitats": [["oyster reef", {"concepts": "oyster reef", "type": "concept", "cluster": "Coastal Habitats", "node_size": 10, "label": "oyster reef"}], ["oyster reefs", {"concepts": "oyster reefs", "type": "concept", "cluster": "Coastal Habitats", "node_size": 10, "label": "oyster reefs"}], ["seagrass", {"concepts": "seagrass", "type": "concept", "cluster": "Coastal Habitats", "node_size": 10, "label": "seagrass"}]], "Seagrass & Sea Level": [["seagrass protection", {"concepts": "seagrass protection", "type": "concept", "cluster": "Seagrass & Sea Level", "node_size": 10, "label": "seagrass protection"}], ["seagrass intrusion", {"concepts": "seagrass intrusion", "type": "concept", "cluster": "Seagrass & Sea Level", "node_size": 10, "label": "seagrass intrusion"}], ["seagrasses", {"concepts": "seagrasses", "type": "concept", "cluster": "Seagrass & Sea Level", "node_size": 10, "label": "seagrasses"}], ["sea level rise", {"concepts": "sea level rise", "type": "concept", "cluster": "Seagrass & Sea Level", "node_size": 10, "label": "sea level rise"}]], "Coastal Ecosystem Impacts": [["fishing industry", {"concepts": "fishing industry", "type": "concept", "cluster": "Coastal Ecosystem Impacts", "node_size": 10, "label": "fishing industry"}], ["industrial seawalls", {"concepts": "industrial seawalls", "type": "concept", "cluster": "Coastal Ecosystem Impacts", "node_size": 10, "label": "industrial seawalls"}], ["lionfish", {"concepts": "lionfish", "type": "concept", "cluster": "Coastal Ecosystem Impacts", "node_size": 10, "label": "lionfish"}]], "Bird Migration": [["migrating birds", {"concepts": "migrating birds", "type": "concept", "cluster": "Bird Migration", "node_size": 10, "label": "migrating birds"}], ["migratory corridors", {"concepts": "migratory corridors", "type": "concept", "cluster": "Bird Migration", "node_size": 10, "label": "migratory corridors"}], ["migratory species", {"concepts": "migratory species", "type": "concept", "cluster": "Bird Migration", "node_size": 10, "label": "migratory species"}]], "Habitat Dynamics": [["nursery habitat", {"concepts": "nursery habitat", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "nursery habitat"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "habitat forming species"}], ["habitat migration", {"concepts": "habitat migration", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "habitat migration"}], ["habitat restoration", {"concepts": "habitat restoration", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "habitat restoration"}], ["habitat management", {"concepts": "habitat management", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "habitat management"}], ["wildlife habitat", {"concepts": "wildlife habitat", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "wildlife habitat"}], ["wildfire protection", {"concepts": "wildfire protection", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "wildfire protection"}], ["recreation", {"concepts": "recreation", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "recreation"}]], "Climate Change Effects": [["climate impacts", {"concepts": "climate impacts", "type": "concept", "cluster": "Climate Change Effects", "node_size": 10, "label": "climate impacts"}], ["climate migration", {"concepts": "climate migration", "type": "concept", "cluster": "Climate Change Effects", "node_size": 10, "label": "climate migration"}], ["climate-induced species", {"concepts": "climate-induced species", "type": "concept", "cluster": "Climate Change Effects", "node_size": 10, "label": "climate-induced species"}]], "Freshwater Systems": [["riverine systems", {"concepts": "riverine systems", "type": "concept", "cluster": "Freshwater Systems", "node_size": 10, "label": "riverine systems"}], ["hydrology", {"concepts": "hydrology", "type": "concept", "cluster": "Freshwater Systems", "node_size": 10, "label": "hydrology"}], ["freshwater system", {"concepts": "freshwater system", "type": "concept", "cluster": "Freshwater Systems", "node_size": 10, "label": "freshwater system"}], ["water quality", {"concepts": "water quality", "type": "concept", "cluster": "Freshwater Systems", "node_size": 10, "label": "water quality"}], ["eutrophication", {"concepts": "eutrophication", "type": "concept", "cluster": "Freshwater Systems", "node_size": 10, "label": "eutrophication"}], ["acidification", {"concepts": "acidification", "type": "concept", "cluster": "Freshwater Systems", "node_size": 10, "label": "acidification"}]], "Sediment & Dredge": [["dredge material", {"concepts": "dredge material", "type": "concept", "cluster": "Sediment & Dredge", "node_size": 10, "label": "dredge material"}], ["sediment", {"concepts": "sediment", "type": "concept", "cluster": "Sediment & Dredge", "node_size": 10, "label": "sediment"}], ["culvert sediment", {"concepts": "culvert sediment", "type": "concept", "cluster": "Sediment & Dredge", "node_size": 10, "label": "culvert sediment"}]], "Stormwater Management": [["stormwater infrastructure", {"concepts": "stormwater infrastructure", "type": "concept", "cluster": "Stormwater Management", "node_size": 10, "label": "stormwater infrastructure"}], ["storm water", {"concepts": "storm water", "type": "concept", "cluster": "Stormwater Management", "node_size": 10, "label": "storm water"}], ["stormwater management", {"concepts": "stormwater management", "type": "concept", "cluster": "Stormwater Management", "node_size": 10, "label": "stormwater management"}], ["stormwater", {"concepts": "stormwater", "type": "concept", "cluster": "Stormwater Management", "node_size": 10, "label": "stormwater"}]], "Coastal Waterways": [["riverine transportation", {"concepts": "riverine transportation", "type": "concept", "cluster": "Coastal Waterways", "node_size": 10, "label": "riverine transportation"}], ["inter-coastal waterways", {"concepts": "inter-coastal waterways", "type": "concept", "cluster": "Coastal Waterways", "node_size": 10, "label": "inter-coastal waterways"}], ["dam operations", {"concepts": "dam operations", "type": "concept", "cluster": "Coastal Waterways", "node_size": 10, "label": "dam operations"}], ["breakwaters", {"concepts": "breakwaters", "type": "concept", "cluster": "Coastal Waterways", "node_size": 10, "label": "breakwaters"}]], "Shoreline Management": [["tidal creeks", {"concepts": "tidal creeks", "type": "concept", "cluster": "Shoreline Management", "node_size": 10, "label": "tidal creeks"}], ["shoreline ownership", {"concepts": "shoreline ownership", "type": "concept", "cluster": "Shoreline Management", "node_size": 10, "label": "shoreline ownership"}], ["shoreline regulations", {"concepts": "shoreline regulations", "type": "concept", "cluster": "Shoreline Management", "node_size": 10, "label": "shoreline regulations"}], ["private shorelines", {"concepts": "private shorelines", "type": "concept", "cluster": "Shoreline Management", "node_size": 10, "label": "private shorelines"}]], "Land Stewardship": [["land acquisition", {"concepts": "land acquisition", "type": "concept", "cluster": "Land Stewardship", "node_size": 10, "label": "land acquisition"}], ["private landowners", {"concepts": "private landowners", "type": "concept", "cluster": "Land Stewardship", "node_size": 10, "label": "private landowners"}], ["land stewardship", {"concepts": "land stewardship", "type": "concept", "cluster": "Land Stewardship", "node_size": 10, "label": "land stewardship"}]]};
        const clusterEdges = {"Coastal Communities": [], "Salinity Levels": [], "Coastal Structures": [], "Seafood & Savannas": [], "Marine & Vessels": [], "Harmful Invasives": [], "Single Species Conservation": [], "Key Influencers": [], "Ecosystems & Communities": [], "[Invasive Organisms]": [], "Coastal Resource Management": [], "Oyster Industry": [], "Coastal Habitats": [], "Seagrass & Sea Level": [], "Coastal Ecosystem Impacts": [], "Bird Migration": [], "Habitat Dynamics": [], "Climate Change Effects": [], "Freshwater Systems": [], "Sediment & Dredge": [], "Stormwater Management": [], "Coastal Waterways": [], "Shoreline Management": [], "Land Stewardship": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
