
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Biodiversity Conservation": {"concepts": "population genetics, invasive species control, species of conservation concern, biodiversity preservation, population genetic diversity, biodiversity, endangered species, invasive species, harmful organism, species diversity, harmful organisms, species biodiversity, rare species", "concept_list": ["population genetics", "invasive species control", "species of conservation concern", "biodiversity preservation", "population genetic diversity", "biodiversity", "endangered species", "invasive species", "harmful organism", "species diversity", "harmful organisms", "species biodiversity", "rare species"], "type": "cluster", "node_size": 54, "label": "Biodiversity Conservation"}, "Ecosystem Management": {"concepts": "regional managers, primary producers, key food web species, ecosystem services, tourism operators, food web., food-web supporting species, smithsonian environmental research center, plant communities, social ecological, ecosystem engineers, planting, social ecological standpoint, local community members, ecological definition, community ecology", "concept_list": ["regional managers", "primary producers", "key food web species", "ecosystem services", "tourism operators", "food web.", "food-web supporting species", "smithsonian environmental research center", "plant communities", "social ecological", "ecosystem engineers", "planting", "social ecological standpoint", "local community members", "ecological definition", "community ecology"], "type": "cluster", "node_size": 63, "label": "Ecosystem Management"}, "Habitat Restoration": {"concepts": "watermen, fishermen, dredge oil, seed mixes, prescribed burning, fires, marsh creation, dredge oil creation, herbicide", "concept_list": ["watermen", "fishermen", "dredge oil", "seed mixes", "prescribed burning", "fires", "marsh creation", "dredge oil creation", "herbicide"], "type": "cluster", "node_size": 42, "label": "Habitat Restoration"}, "Environmental Research": {"concepts": "researchers, property rights, academics, epa, tnc, technical experts, management interventions, drainage, noaa, accretion, serc, stakeholders, institutions, ditching, legacy effect, crabs, mental modeler, smaller scale disturbances, sesync, legacy effects, burning phragmites, medium impact, phragmites, new england, management components, selective force, high impact, easements, runneling, resource users, low impact, drowning, management activities, michigan state, conservation, behavior change, steven grey, incentive structures, disturbance, knowledge capturing, restoration, adaptive potential, flooding, research institutions, monitoring, system dynamics, research, mental modelers, dredging", "concept_list": ["researchers", "property rights", "academics", "epa", "tnc", "technical experts", "management interventions", "drainage", "noaa", "accretion", "serc", "stakeholders", "institutions", "ditching", "legacy effect", "crabs", "mental modeler", "smaller scale disturbances", "sesync", "legacy effects", "burning phragmites", "medium impact", "phragmites", "new england", "management components", "selective force", "high impact", "easements", "runneling", "resource users", "low impact", "drowning", "management activities", "michigan state", "conservation", "behavior change", "steven grey", "incentive structures", "disturbance", "knowledge capturing", "restoration", "adaptive potential", "flooding", "research institutions", "monitoring", "system dynamics", "research", "mental modelers", "dredging"], "type": "cluster", "node_size": 162, "label": "Environmental Research"}, "Habitat Dynamics": {"concepts": "forest tree mortality, native habitat forming species, future habitat, watershed, ghost forest formation, habitat, habitat loss, habitat forming species", "concept_list": ["forest tree mortality", "native habitat forming species", "future habitat", "watershed", "ghost forest formation", "habitat", "habitat loss", "habitat forming species"], "type": "cluster", "node_size": 39, "label": "Habitat Dynamics"}, "Environmental Stressors": {"concepts": "salinity, environmental stressors, stressor, stress response, global change drivers, stress, climate change stressors, physiological stressors, stressors", "concept_list": ["salinity", "environmental stressors", "stressor", "stress response", "global change drivers", "stress", "climate change stressors", "physiological stressors", "stressors"], "type": "cluster", "node_size": 42, "label": "Environmental Stressors"}, "Chesapeake Bay Issues": {"concepts": "chesapeake bay seminole site cooperative, storms, sea level rise, chesapeake, chesapeake bay program, salish sea, chesapeake bay, waffle marshes, high tide line", "concept_list": ["chesapeake bay seminole site cooperative", "storms", "sea level rise", "chesapeake", "chesapeake bay program", "salish sea", "chesapeake bay", "waffle marshes", "high tide line"], "type": "cluster", "node_size": 42, "label": "Chesapeake Bay Issues"}, "Coastal Marsh Management": {"concepts": "marsh loss, droughts, intertidal, marine resource management, hydrology, interior ponding, coastal community, high marsh, marsh habitat, low marsh, tidal creek extension, northeastern, salt marsh sparrow, shorebirds, coastal resource management, northern gulf of mexico, intertidal marshes, marsh migration corridors, estuary, wetland ecology, water quality management, ponding, coastal ecosystems, tidal marsh loss, coastal zone, coastal biodiversity, eutrophication, salt marsh birds, saltwater intrusion report, tidal marshes, marine biodiversity, marsh grasses, oyster farmers", "concept_list": ["marsh loss", "droughts", "intertidal", "marine resource management", "hydrology", "interior ponding", "coastal community", "high marsh", "marsh habitat", "low marsh", "tidal creek extension", "northeastern", "salt marsh sparrow", "shorebirds", "coastal resource management", "northern gulf of mexico", "intertidal marshes", "marsh migration corridors", "estuary", "wetland ecology", "water quality management", "ponding", "coastal ecosystems", "tidal marsh loss", "coastal zone", "coastal biodiversity", "eutrophication", "salt marsh birds", "saltwater intrusion report", "tidal marshes", "marine biodiversity", "marsh grasses", "oyster farmers"], "type": "cluster", "node_size": 114, "label": "Coastal Marsh Management"}, "Land Restoration": {"concepts": "restoration projects, agricultural land management, land acquisition, farmland, restoration planting, farmlands", "concept_list": ["restoration projects", "agricultural land management", "land acquisition", "farmland", "restoration planting", "farmlands"], "type": "cluster", "node_size": 33, "label": "Land Restoration"}};
        const conceptData = {"population genetics": {"concepts": "population genetics", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "population genetics"}, "invasive species control": {"concepts": "invasive species control", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "invasive species control"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "species of conservation concern"}, "biodiversity preservation": {"concepts": "biodiversity preservation", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "biodiversity preservation"}, "population genetic diversity": {"concepts": "population genetic diversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "population genetic diversity"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "biodiversity"}, "endangered species": {"concepts": "endangered species", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "endangered species"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "invasive species"}, "harmful organism": {"concepts": "harmful organism", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "harmful organism"}, "species diversity": {"concepts": "species diversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "species diversity"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "harmful organisms"}, "species biodiversity": {"concepts": "species biodiversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "species biodiversity"}, "rare species": {"concepts": "rare species", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "rare species"}, "regional managers": {"concepts": "regional managers", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "regional managers"}, "primary producers": {"concepts": "primary producers", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "primary producers"}, "key food web species": {"concepts": "key food web species", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "key food web species"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "ecosystem services"}, "tourism operators": {"concepts": "tourism operators", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "tourism operators"}, "food web.": {"concepts": "food web.", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "food web."}, "food-web supporting species": {"concepts": "food-web supporting species", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "food-web supporting species"}, "smithsonian environmental research center": {"concepts": "smithsonian environmental research center", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "smithsonian environmental research center"}, "plant communities": {"concepts": "plant communities", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "plant communities"}, "social ecological": {"concepts": "social ecological", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "social ecological"}, "ecosystem engineers": {"concepts": "ecosystem engineers", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "ecosystem engineers"}, "planting": {"concepts": "planting", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "planting"}, "social ecological standpoint": {"concepts": "social ecological standpoint", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "social ecological standpoint"}, "local community members": {"concepts": "local community members", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "local community members"}, "ecological definition": {"concepts": "ecological definition", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "ecological definition"}, "community ecology": {"concepts": "community ecology", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "community ecology"}, "watermen": {"concepts": "watermen", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "watermen"}, "fishermen": {"concepts": "fishermen", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "fishermen"}, "dredge oil": {"concepts": "dredge oil", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "dredge oil"}, "seed mixes": {"concepts": "seed mixes", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "seed mixes"}, "prescribed burning": {"concepts": "prescribed burning", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "prescribed burning"}, "fires": {"concepts": "fires", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "fires"}, "marsh creation": {"concepts": "marsh creation", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "marsh creation"}, "dredge oil creation": {"concepts": "dredge oil creation", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "dredge oil creation"}, "herbicide": {"concepts": "herbicide", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "herbicide"}, "researchers": {"concepts": "researchers", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "researchers"}, "property rights": {"concepts": "property rights", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "property rights"}, "academics": {"concepts": "academics", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "academics"}, "epa": {"concepts": "epa", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "epa"}, "tnc": {"concepts": "tnc", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "tnc"}, "technical experts": {"concepts": "technical experts", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "technical experts"}, "management interventions": {"concepts": "management interventions", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "management interventions"}, "drainage": {"concepts": "drainage", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "drainage"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "noaa"}, "accretion": {"concepts": "accretion", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "accretion"}, "serc": {"concepts": "serc", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "serc"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "stakeholders"}, "institutions": {"concepts": "institutions", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "institutions"}, "ditching": {"concepts": "ditching", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "ditching"}, "legacy effect": {"concepts": "legacy effect", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "legacy effect"}, "crabs": {"concepts": "crabs", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "crabs"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "mental modeler"}, "smaller scale disturbances": {"concepts": "smaller scale disturbances", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "smaller scale disturbances"}, "sesync": {"concepts": "sesync", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "sesync"}, "legacy effects": {"concepts": "legacy effects", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "legacy effects"}, "burning phragmites": {"concepts": "burning phragmites", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "burning phragmites"}, "medium impact": {"concepts": "medium impact", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "medium impact"}, "phragmites": {"concepts": "phragmites", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "phragmites"}, "new england": {"concepts": "new england", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "new england"}, "management components": {"concepts": "management components", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "management components"}, "selective force": {"concepts": "selective force", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "selective force"}, "high impact": {"concepts": "high impact", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "high impact"}, "easements": {"concepts": "easements", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "easements"}, "runneling": {"concepts": "runneling", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "runneling"}, "resource users": {"concepts": "resource users", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "resource users"}, "low impact": {"concepts": "low impact", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "low impact"}, "drowning": {"concepts": "drowning", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "drowning"}, "management activities": {"concepts": "management activities", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "management activities"}, "michigan state": {"concepts": "michigan state", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "michigan state"}, "conservation": {"concepts": "conservation", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "conservation"}, "behavior change": {"concepts": "behavior change", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "behavior change"}, "steven grey": {"concepts": "steven grey", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "steven grey"}, "incentive structures": {"concepts": "incentive structures", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "incentive structures"}, "disturbance": {"concepts": "disturbance", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "disturbance"}, "knowledge capturing": {"concepts": "knowledge capturing", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "knowledge capturing"}, "restoration": {"concepts": "restoration", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "restoration"}, "adaptive potential": {"concepts": "adaptive potential", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "adaptive potential"}, "flooding": {"concepts": "flooding", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "flooding"}, "research institutions": {"concepts": "research institutions", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "research institutions"}, "monitoring": {"concepts": "monitoring", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "monitoring"}, "system dynamics": {"concepts": "system dynamics", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "system dynamics"}, "research": {"concepts": "research", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "research"}, "mental modelers": {"concepts": "mental modelers", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "mental modelers"}, "dredging": {"concepts": "dredging", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "dredging"}, "forest tree mortality": {"concepts": "forest tree mortality", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "forest tree mortality"}, "native habitat forming species": {"concepts": "native habitat forming species", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "native habitat forming species"}, "future habitat": {"concepts": "future habitat", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "future habitat"}, "watershed": {"concepts": "watershed", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "watershed"}, "ghost forest formation": {"concepts": "ghost forest formation", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "ghost forest formation"}, "habitat": {"concepts": "habitat", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "habitat"}, "habitat loss": {"concepts": "habitat loss", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "habitat loss"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "habitat forming species"}, "salinity": {"concepts": "salinity", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "salinity"}, "environmental stressors": {"concepts": "environmental stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "environmental stressors"}, "stressor": {"concepts": "stressor", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "stressor"}, "stress response": {"concepts": "stress response", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "stress response"}, "global change drivers": {"concepts": "global change drivers", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "global change drivers"}, "stress": {"concepts": "stress", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "stress"}, "climate change stressors": {"concepts": "climate change stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "climate change stressors"}, "physiological stressors": {"concepts": "physiological stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "physiological stressors"}, "stressors": {"concepts": "stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "stressors"}, "chesapeake bay seminole site cooperative": {"concepts": "chesapeake bay seminole site cooperative", "type": "concept", "cluster": "Chesapeake Bay Issues", "node_size": 10, "label": "chesapeake bay seminole site cooperative"}, "storms": {"concepts": "storms", "type": "concept", "cluster": "Chesapeake Bay Issues", "node_size": 10, "label": "storms"}, "sea level rise": {"concepts": "sea level rise", "type": "concept", "cluster": "Chesapeake Bay Issues", "node_size": 10, "label": "sea level rise"}, "chesapeake": {"concepts": "chesapeake", "type": "concept", "cluster": "Chesapeake Bay Issues", "node_size": 10, "label": "chesapeake"}, "chesapeake bay program": {"concepts": "chesapeake bay program", "type": "concept", "cluster": "Chesapeake Bay Issues", "node_size": 10, "label": "chesapeake bay program"}, "salish sea": {"concepts": "salish sea", "type": "concept", "cluster": "Chesapeake Bay Issues", "node_size": 10, "label": "salish sea"}, "chesapeake bay": {"concepts": "chesapeake bay", "type": "concept", "cluster": "Chesapeake Bay Issues", "node_size": 10, "label": "chesapeake bay"}, "waffle marshes": {"concepts": "waffle marshes", "type": "concept", "cluster": "Chesapeake Bay Issues", "node_size": 10, "label": "waffle marshes"}, "high tide line": {"concepts": "high tide line", "type": "concept", "cluster": "Chesapeake Bay Issues", "node_size": 10, "label": "high tide line"}, "marsh loss": {"concepts": "marsh loss", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "marsh loss"}, "droughts": {"concepts": "droughts", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "droughts"}, "intertidal": {"concepts": "intertidal", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "intertidal"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "marine resource management"}, "hydrology": {"concepts": "hydrology", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "hydrology"}, "interior ponding": {"concepts": "interior ponding", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "interior ponding"}, "coastal community": {"concepts": "coastal community", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "coastal community"}, "high marsh": {"concepts": "high marsh", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "high marsh"}, "marsh habitat": {"concepts": "marsh habitat", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "marsh habitat"}, "low marsh": {"concepts": "low marsh", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "low marsh"}, "tidal creek extension": {"concepts": "tidal creek extension", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "tidal creek extension"}, "northeastern": {"concepts": "northeastern", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "northeastern"}, "salt marsh sparrow": {"concepts": "salt marsh sparrow", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "salt marsh sparrow"}, "shorebirds": {"concepts": "shorebirds", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "shorebirds"}, "coastal resource management": {"concepts": "coastal resource management", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "coastal resource management"}, "northern gulf of mexico": {"concepts": "northern gulf of mexico", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "northern gulf of mexico"}, "intertidal marshes": {"concepts": "intertidal marshes", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "intertidal marshes"}, "marsh migration corridors": {"concepts": "marsh migration corridors", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "marsh migration corridors"}, "estuary": {"concepts": "estuary", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "estuary"}, "wetland ecology": {"concepts": "wetland ecology", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "wetland ecology"}, "water quality management": {"concepts": "water quality management", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "water quality management"}, "ponding": {"concepts": "ponding", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "ponding"}, "coastal ecosystems": {"concepts": "coastal ecosystems", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "coastal ecosystems"}, "tidal marsh loss": {"concepts": "tidal marsh loss", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "tidal marsh loss"}, "coastal zone": {"concepts": "coastal zone", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "coastal zone"}, "coastal biodiversity": {"concepts": "coastal biodiversity", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "coastal biodiversity"}, "eutrophication": {"concepts": "eutrophication", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "eutrophication"}, "salt marsh birds": {"concepts": "salt marsh birds", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "salt marsh birds"}, "saltwater intrusion report": {"concepts": "saltwater intrusion report", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "saltwater intrusion report"}, "tidal marshes": {"concepts": "tidal marshes", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "tidal marshes"}, "marine biodiversity": {"concepts": "marine biodiversity", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "marine biodiversity"}, "marsh grasses": {"concepts": "marsh grasses", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "marsh grasses"}, "oyster farmers": {"concepts": "oyster farmers", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "oyster farmers"}, "restoration projects": {"concepts": "restoration projects", "type": "concept", "cluster": "Land Restoration", "node_size": 10, "label": "restoration projects"}, "agricultural land management": {"concepts": "agricultural land management", "type": "concept", "cluster": "Land Restoration", "node_size": 10, "label": "agricultural land management"}, "land acquisition": {"concepts": "land acquisition", "type": "concept", "cluster": "Land Restoration", "node_size": 10, "label": "land acquisition"}, "farmland": {"concepts": "farmland", "type": "concept", "cluster": "Land Restoration", "node_size": 10, "label": "farmland"}, "restoration planting": {"concepts": "restoration planting", "type": "concept", "cluster": "Land Restoration", "node_size": 10, "label": "restoration planting"}, "farmlands": {"concepts": "farmlands", "type": "concept", "cluster": "Land Restoration", "node_size": 10, "label": "farmlands"}};
        const interClusterEdges = [["Biodiversity Conservation", "Chesapeake Bay Issues", {"weight": -0.6, "confidence": 0.82, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Conservation", "Habitat Dynamics", {"weight": -0.5, "confidence": 0.8625, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Conservation", "Land Restoration", {"weight": 0.6, "confidence": 0.45999999999999996, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Conservation", "Coastal Marsh Management", {"weight": -0.2, "confidence": 0.51, "type": "inter_cluster", "style": "solid"}], ["Biodiversity Conservation", "Habitat Restoration", {"weight": 0.5, "confidence": 0.3875, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Management", "Habitat Dynamics", {"weight": 0.8, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Management", "Biodiversity Conservation", {"weight": 0.75, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Management", "Land Restoration", {"weight": 0.75, "confidence": 0.6, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Management", "Environmental Stressors", {"weight": -0.4, "confidence": 0.32, "type": "inter_cluster", "style": "solid"}], ["Ecosystem Management", "Habitat Restoration", {"weight": 0.3333333333333333, "confidence": 0.26666666666666666, "type": "inter_cluster", "style": "solid"}], ["Habitat Restoration", "Habitat Dynamics", {"weight": 0.8, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Habitat Restoration", "Coastal Marsh Management", {"weight": -0.4, "confidence": 0.64, "type": "inter_cluster", "style": "solid"}], ["Habitat Restoration", "Environmental Stressors", {"weight": -0.2, "confidence": 0.44000000000000006, "type": "inter_cluster", "style": "solid"}], ["Habitat Restoration", "Chesapeake Bay Issues", {"weight": 0.2, "confidence": 0.44000000000000006, "type": "inter_cluster", "style": "solid"}], ["Habitat Restoration", "Environmental Research", {"weight": 0.4, "confidence": 0.31, "type": "inter_cluster", "style": "solid"}], ["Habitat Restoration", "Land Restoration", {"weight": 0.4, "confidence": 0.31, "type": "inter_cluster", "style": "solid"}], ["Habitat Restoration", "Biodiversity Conservation", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Environmental Research", "Ecosystem Management", {"weight": 0.25, "confidence": 0.5875, "type": "inter_cluster", "style": "solid"}], ["Environmental Research", "Coastal Marsh Management", {"weight": 0.25, "confidence": 0.575, "type": "inter_cluster", "style": "solid"}], ["Environmental Research", "Land Restoration", {"weight": 0.6, "confidence": 0.47000000000000003, "type": "inter_cluster", "style": "solid"}], ["Environmental Research", "Habitat Restoration", {"weight": -0.2, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Environmental Research", "Biodiversity Conservation", {"weight": 0.5, "confidence": 0.375, "type": "inter_cluster", "style": "solid"}], ["Habitat Dynamics", "Environmental Stressors", {"weight": 0.2, "confidence": 0.78, "type": "inter_cluster", "style": "solid"}], ["Habitat Dynamics", "Coastal Marsh Management", {"weight": 0.8, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Habitat Dynamics", "Land Restoration", {"weight": 0.8, "confidence": 0.5900000000000001, "type": "inter_cluster", "style": "solid"}], ["Habitat Dynamics", "Environmental Research", {"weight": 0.6, "confidence": 0.45999999999999996, "type": "inter_cluster", "style": "solid"}], ["Habitat Dynamics", "Habitat Restoration", {"weight": -0.2, "confidence": 0.44000000000000006, "type": "inter_cluster", "style": "solid"}], ["Environmental Stressors", "Ecosystem Management", {"weight": -0.25, "confidence": 0.6125, "type": "inter_cluster", "style": "solid"}], ["Environmental Stressors", "Chesapeake Bay Issues", {"weight": 0.6, "confidence": 0.54, "type": "inter_cluster", "style": "solid"}], ["Environmental Stressors", "Land Restoration", {"weight": -0.6, "confidence": 0.44000000000000006, "type": "inter_cluster", "style": "solid"}], ["Chesapeake Bay Issues", "Environmental Stressors", {"weight": 0.6, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Chesapeake Bay Issues", "Environmental Research", {"weight": 0.75, "confidence": 0.625, "type": "inter_cluster", "style": "solid"}], ["Chesapeake Bay Issues", "Habitat Restoration", {"weight": 0.25, "confidence": 0.5875, "type": "inter_cluster", "style": "solid"}], ["Chesapeake Bay Issues", "Coastal Marsh Management", {"weight": 0.6, "confidence": 0.54, "type": "inter_cluster", "style": "solid"}], ["Chesapeake Bay Issues", "Ecosystem Management", {"weight": -0.4, "confidence": 0.32, "type": "inter_cluster", "style": "solid"}], ["Chesapeake Bay Issues", "Land Restoration", {"weight": -0.5, "confidence": 0.3625, "type": "inter_cluster", "style": "solid"}], ["Coastal Marsh Management", "Environmental Stressors", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Coastal Marsh Management", "Habitat Restoration", {"weight": -0.4, "confidence": 0.66, "type": "inter_cluster", "style": "solid"}], ["Coastal Marsh Management", "Habitat Dynamics", {"weight": 0.4, "confidence": 0.6699999999999999, "type": "inter_cluster", "style": "solid"}], ["Coastal Marsh Management", "Environmental Research", {"weight": 0.25, "confidence": 0.6375000000000001, "type": "inter_cluster", "style": "solid"}], ["Coastal Marsh Management", "Biodiversity Conservation", {"weight": -0.75, "confidence": 0.65, "type": "inter_cluster", "style": "solid"}], ["Coastal Marsh Management", "Chesapeake Bay Issues", {"weight": 0.5, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Land Restoration", "Habitat Dynamics", {"weight": 0.8, "confidence": 0.63, "type": "inter_cluster", "style": "solid"}], ["Land Restoration", "Habitat Restoration", {"weight": 0.25, "confidence": 0.5875, "type": "inter_cluster", "style": "solid"}], ["Land Restoration", "Environmental Research", {"weight": 0.6, "confidence": 0.45, "type": "inter_cluster", "style": "solid"}], ["Land Restoration", "Ecosystem Management", {"weight": 0.4, "confidence": 0.31, "type": "inter_cluster", "style": "solid"}], ["Land Restoration", "Biodiversity Conservation", {"weight": 0.4, "confidence": 0.29, "type": "inter_cluster", "style": "solid"}], ["Land Restoration", "Chesapeake Bay Issues", {"weight": -0.4, "confidence": 0.29, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Biodiversity Conservation": [["population genetics", {"concepts": "population genetics", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "population genetics"}], ["invasive species control", {"concepts": "invasive species control", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "invasive species control"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "species of conservation concern"}], ["biodiversity preservation", {"concepts": "biodiversity preservation", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "biodiversity preservation"}], ["population genetic diversity", {"concepts": "population genetic diversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "population genetic diversity"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "biodiversity"}], ["endangered species", {"concepts": "endangered species", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "endangered species"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "invasive species"}], ["harmful organism", {"concepts": "harmful organism", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "harmful organism"}], ["species diversity", {"concepts": "species diversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "species diversity"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "harmful organisms"}], ["species biodiversity", {"concepts": "species biodiversity", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "species biodiversity"}], ["rare species", {"concepts": "rare species", "type": "concept", "cluster": "Biodiversity Conservation", "node_size": 10, "label": "rare species"}]], "Ecosystem Management": [["regional managers", {"concepts": "regional managers", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "regional managers"}], ["primary producers", {"concepts": "primary producers", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "primary producers"}], ["key food web species", {"concepts": "key food web species", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "key food web species"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "ecosystem services"}], ["tourism operators", {"concepts": "tourism operators", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "tourism operators"}], ["food web.", {"concepts": "food web.", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "food web."}], ["food-web supporting species", {"concepts": "food-web supporting species", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "food-web supporting species"}], ["smithsonian environmental research center", {"concepts": "smithsonian environmental research center", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "smithsonian environmental research center"}], ["plant communities", {"concepts": "plant communities", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "plant communities"}], ["social ecological", {"concepts": "social ecological", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "social ecological"}], ["ecosystem engineers", {"concepts": "ecosystem engineers", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "ecosystem engineers"}], ["planting", {"concepts": "planting", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "planting"}], ["social ecological standpoint", {"concepts": "social ecological standpoint", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "social ecological standpoint"}], ["local community members", {"concepts": "local community members", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "local community members"}], ["ecological definition", {"concepts": "ecological definition", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "ecological definition"}], ["community ecology", {"concepts": "community ecology", "type": "concept", "cluster": "Ecosystem Management", "node_size": 10, "label": "community ecology"}]], "Habitat Restoration": [["watermen", {"concepts": "watermen", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "watermen"}], ["fishermen", {"concepts": "fishermen", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "fishermen"}], ["dredge oil", {"concepts": "dredge oil", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "dredge oil"}], ["seed mixes", {"concepts": "seed mixes", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "seed mixes"}], ["prescribed burning", {"concepts": "prescribed burning", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "prescribed burning"}], ["fires", {"concepts": "fires", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "fires"}], ["marsh creation", {"concepts": "marsh creation", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "marsh creation"}], ["dredge oil creation", {"concepts": "dredge oil creation", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "dredge oil creation"}], ["herbicide", {"concepts": "herbicide", "type": "concept", "cluster": "Habitat Restoration", "node_size": 10, "label": "herbicide"}]], "Environmental Research": [["researchers", {"concepts": "researchers", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "researchers"}], ["property rights", {"concepts": "property rights", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "property rights"}], ["academics", {"concepts": "academics", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "academics"}], ["epa", {"concepts": "epa", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "epa"}], ["tnc", {"concepts": "tnc", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "tnc"}], ["technical experts", {"concepts": "technical experts", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "technical experts"}], ["management interventions", {"concepts": "management interventions", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "management interventions"}], ["drainage", {"concepts": "drainage", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "drainage"}], ["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "noaa"}], ["accretion", {"concepts": "accretion", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "accretion"}], ["serc", {"concepts": "serc", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "serc"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "stakeholders"}], ["institutions", {"concepts": "institutions", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "institutions"}], ["ditching", {"concepts": "ditching", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "ditching"}], ["legacy effect", {"concepts": "legacy effect", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "legacy effect"}], ["crabs", {"concepts": "crabs", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "crabs"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "mental modeler"}], ["smaller scale disturbances", {"concepts": "smaller scale disturbances", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "smaller scale disturbances"}], ["sesync", {"concepts": "sesync", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "sesync"}], ["legacy effects", {"concepts": "legacy effects", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "legacy effects"}], ["burning phragmites", {"concepts": "burning phragmites", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "burning phragmites"}], ["medium impact", {"concepts": "medium impact", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "medium impact"}], ["phragmites", {"concepts": "phragmites", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "phragmites"}], ["new england", {"concepts": "new england", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "new england"}], ["management components", {"concepts": "management components", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "management components"}], ["selective force", {"concepts": "selective force", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "selective force"}], ["high impact", {"concepts": "high impact", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "high impact"}], ["easements", {"concepts": "easements", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "easements"}], ["runneling", {"concepts": "runneling", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "runneling"}], ["resource users", {"concepts": "resource users", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "resource users"}], ["low impact", {"concepts": "low impact", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "low impact"}], ["drowning", {"concepts": "drowning", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "drowning"}], ["management activities", {"concepts": "management activities", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "management activities"}], ["michigan state", {"concepts": "michigan state", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "michigan state"}], ["conservation", {"concepts": "conservation", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "conservation"}], ["behavior change", {"concepts": "behavior change", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "behavior change"}], ["steven grey", {"concepts": "steven grey", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "steven grey"}], ["incentive structures", {"concepts": "incentive structures", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "incentive structures"}], ["disturbance", {"concepts": "disturbance", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "disturbance"}], ["knowledge capturing", {"concepts": "knowledge capturing", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "knowledge capturing"}], ["restoration", {"concepts": "restoration", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "restoration"}], ["adaptive potential", {"concepts": "adaptive potential", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "adaptive potential"}], ["flooding", {"concepts": "flooding", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "flooding"}], ["research institutions", {"concepts": "research institutions", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "research institutions"}], ["monitoring", {"concepts": "monitoring", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "monitoring"}], ["system dynamics", {"concepts": "system dynamics", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "system dynamics"}], ["research", {"concepts": "research", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "research"}], ["mental modelers", {"concepts": "mental modelers", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "mental modelers"}], ["dredging", {"concepts": "dredging", "type": "concept", "cluster": "Environmental Research", "node_size": 10, "label": "dredging"}]], "Habitat Dynamics": [["forest tree mortality", {"concepts": "forest tree mortality", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "forest tree mortality"}], ["native habitat forming species", {"concepts": "native habitat forming species", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "native habitat forming species"}], ["future habitat", {"concepts": "future habitat", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "future habitat"}], ["watershed", {"concepts": "watershed", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "watershed"}], ["ghost forest formation", {"concepts": "ghost forest formation", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "ghost forest formation"}], ["habitat", {"concepts": "habitat", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "habitat"}], ["habitat loss", {"concepts": "habitat loss", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "habitat loss"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Habitat Dynamics", "node_size": 10, "label": "habitat forming species"}]], "Environmental Stressors": [["salinity", {"concepts": "salinity", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "salinity"}], ["environmental stressors", {"concepts": "environmental stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "environmental stressors"}], ["stressor", {"concepts": "stressor", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "stressor"}], ["stress response", {"concepts": "stress response", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "stress response"}], ["global change drivers", {"concepts": "global change drivers", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "global change drivers"}], ["stress", {"concepts": "stress", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "stress"}], ["climate change stressors", {"concepts": "climate change stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "climate change stressors"}], ["physiological stressors", {"concepts": "physiological stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "physiological stressors"}], ["stressors", {"concepts": "stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "stressors"}]], "Chesapeake Bay Issues": [["chesapeake bay seminole site cooperative", {"concepts": "chesapeake bay seminole site cooperative", "type": "concept", "cluster": "Chesapeake Bay Issues", "node_size": 10, "label": "chesapeake bay seminole site cooperative"}], ["storms", {"concepts": "storms", "type": "concept", "cluster": "Chesapeake Bay Issues", "node_size": 10, "label": "storms"}], ["sea level rise", {"concepts": "sea level rise", "type": "concept", "cluster": "Chesapeake Bay Issues", "node_size": 10, "label": "sea level rise"}], ["chesapeake", {"concepts": "chesapeake", "type": "concept", "cluster": "Chesapeake Bay Issues", "node_size": 10, "label": "chesapeake"}], ["chesapeake bay program", {"concepts": "chesapeake bay program", "type": "concept", "cluster": "Chesapeake Bay Issues", "node_size": 10, "label": "chesapeake bay program"}], ["salish sea", {"concepts": "salish sea", "type": "concept", "cluster": "Chesapeake Bay Issues", "node_size": 10, "label": "salish sea"}], ["chesapeake bay", {"concepts": "chesapeake bay", "type": "concept", "cluster": "Chesapeake Bay Issues", "node_size": 10, "label": "chesapeake bay"}], ["waffle marshes", {"concepts": "waffle marshes", "type": "concept", "cluster": "Chesapeake Bay Issues", "node_size": 10, "label": "waffle marshes"}], ["high tide line", {"concepts": "high tide line", "type": "concept", "cluster": "Chesapeake Bay Issues", "node_size": 10, "label": "high tide line"}]], "Coastal Marsh Management": [["marsh loss", {"concepts": "marsh loss", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "marsh loss"}], ["droughts", {"concepts": "droughts", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "droughts"}], ["intertidal", {"concepts": "intertidal", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "intertidal"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "marine resource management"}], ["hydrology", {"concepts": "hydrology", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "hydrology"}], ["interior ponding", {"concepts": "interior ponding", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "interior ponding"}], ["coastal community", {"concepts": "coastal community", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "coastal community"}], ["high marsh", {"concepts": "high marsh", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "high marsh"}], ["marsh habitat", {"concepts": "marsh habitat", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "marsh habitat"}], ["low marsh", {"concepts": "low marsh", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "low marsh"}], ["tidal creek extension", {"concepts": "tidal creek extension", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "tidal creek extension"}], ["northeastern", {"concepts": "northeastern", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "northeastern"}], ["salt marsh sparrow", {"concepts": "salt marsh sparrow", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "salt marsh sparrow"}], ["shorebirds", {"concepts": "shorebirds", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "shorebirds"}], ["coastal resource management", {"concepts": "coastal resource management", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "coastal resource management"}], ["northern gulf of mexico", {"concepts": "northern gulf of mexico", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "northern gulf of mexico"}], ["intertidal marshes", {"concepts": "intertidal marshes", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "intertidal marshes"}], ["marsh migration corridors", {"concepts": "marsh migration corridors", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "marsh migration corridors"}], ["estuary", {"concepts": "estuary", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "estuary"}], ["wetland ecology", {"concepts": "wetland ecology", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "wetland ecology"}], ["water quality management", {"concepts": "water quality management", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "water quality management"}], ["ponding", {"concepts": "ponding", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "ponding"}], ["coastal ecosystems", {"concepts": "coastal ecosystems", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "coastal ecosystems"}], ["tidal marsh loss", {"concepts": "tidal marsh loss", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "tidal marsh loss"}], ["coastal zone", {"concepts": "coastal zone", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "coastal zone"}], ["coastal biodiversity", {"concepts": "coastal biodiversity", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "coastal biodiversity"}], ["eutrophication", {"concepts": "eutrophication", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "eutrophication"}], ["salt marsh birds", {"concepts": "salt marsh birds", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "salt marsh birds"}], ["saltwater intrusion report", {"concepts": "saltwater intrusion report", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "saltwater intrusion report"}], ["tidal marshes", {"concepts": "tidal marshes", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "tidal marshes"}], ["marine biodiversity", {"concepts": "marine biodiversity", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "marine biodiversity"}], ["marsh grasses", {"concepts": "marsh grasses", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "marsh grasses"}], ["oyster farmers", {"concepts": "oyster farmers", "type": "concept", "cluster": "Coastal Marsh Management", "node_size": 10, "label": "oyster farmers"}]], "Land Restoration": [["restoration projects", {"concepts": "restoration projects", "type": "concept", "cluster": "Land Restoration", "node_size": 10, "label": "restoration projects"}], ["agricultural land management", {"concepts": "agricultural land management", "type": "concept", "cluster": "Land Restoration", "node_size": 10, "label": "agricultural land management"}], ["land acquisition", {"concepts": "land acquisition", "type": "concept", "cluster": "Land Restoration", "node_size": 10, "label": "land acquisition"}], ["farmland", {"concepts": "farmland", "type": "concept", "cluster": "Land Restoration", "node_size": 10, "label": "farmland"}], ["restoration planting", {"concepts": "restoration planting", "type": "concept", "cluster": "Land Restoration", "node_size": 10, "label": "restoration planting"}], ["farmlands", {"concepts": "farmlands", "type": "concept", "cluster": "Land Restoration", "node_size": 10, "label": "farmlands"}]]};
        const clusterEdges = {"Biodiversity Conservation": [], "Ecosystem Management": [], "Habitat Restoration": [], "Environmental Research": [], "Habitat Dynamics": [], "Environmental Stressors": [], "Chesapeake Bay Issues": [], "Coastal Marsh Management": [], "Land Restoration": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
