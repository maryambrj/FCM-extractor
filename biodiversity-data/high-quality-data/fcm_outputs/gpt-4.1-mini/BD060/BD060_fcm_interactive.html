
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Invasive Species Control": {"concepts": "uplands, tidal creek extension, sinuous creek channel, upland marshes, upland management, microtidal marshes, tidal marshes, intertidal marshes, waffle marshes, marsh, coastal bays, interior ponding, sparrows, salt marsh sparrow, grasses", "concept_list": ["uplands", "tidal creek extension", "sinuous creek channel", "upland marshes", "upland management", "microtidal marshes", "tidal marshes", "intertidal marshes", "waffle marshes", "marsh", "coastal bays", "interior ponding", "sparrows", "salt marsh sparrow", "grasses"], "type": "cluster", "node_size": 60, "label": "Invasive Species Control"}, "Conservation Species": {"concepts": "invasive species, harmful organisms, ditching, invasive species control, herbicide, phragmites, burning phragmites, burning", "concept_list": ["invasive species", "harmful organisms", "ditching", "invasive species control", "herbicide", "phragmites", "burning phragmites", "burning"], "type": "cluster", "node_size": 39, "label": "Conservation Species"}, "Biodiversity & Food Webs": {"concepts": "species of conservation concern, habitat species, native habitat forming species, habitat forming species, marsh grasses, low marsh species, endangered species, biodiversity preservation, rare species, population genetic diversity, marine biodiversity, coastal biodiversity, species diversity, high marsh species, salt marsh birds, tidal marsh loss, salt marsh sparrow, nest flooding, population genetics, population genetic diversity, adaptive potential, selective force", "concept_list": ["species of conservation concern", "habitat species", "native habitat forming species", "habitat forming species", "marsh grasses", "low marsh species", "endangered species", "biodiversity preservation", "rare species", "population genetic diversity", "marine biodiversity", "coastal biodiversity", "species diversity", "high marsh species", "salt marsh birds", "tidal marsh loss", "salt marsh sparrow", "nest flooding", "population genetics", "population genetic diversity", "adaptive potential", "selective force"], "type": "cluster", "node_size": 81, "label": "Biodiversity & Food Webs"}, "Marsh Ecosystem Dynamics": {"concepts": "biodiversity, food web, ecosystem services, species biodiversity, social-ecological systems, wetland ecology, community ecology, key food web species, associated organisms, interaction webs, food-web species, primary producers, food-web, drought, stress, stress response, physiological stress", "concept_list": ["biodiversity", "food web", "ecosystem services", "species biodiversity", "social-ecological systems", "wetland ecology", "community ecology", "key food web species", "associated organisms", "interaction webs", "food-web species", "primary producers", "food-web", "drought", "stress", "stress response", "physiological stress"], "type": "cluster", "node_size": 66, "label": "Marsh Ecosystem Dynamics"}, "Marsh Habitat Features": {"concepts": "runneling, ecosystem engineers, plant community assembly, ecological disturbance, marsh creation, marsh loss, ghost forest formation, marsh accretion, thatch layer, disturbance, habitat loss, fires, tidal marsh loss", "concept_list": ["runneling", "ecosystem engineers", "plant community assembly", "ecological disturbance", "marsh creation", "marsh loss", "ghost forest formation", "marsh accretion", "thatch layer", "disturbance", "habitat loss", "fires", "tidal marsh loss"], "type": "cluster", "node_size": 54, "label": "Marsh Habitat Features"}, "Coastal Environmental Collaboration": {"concepts": "academics, sesync, mental modeling, research institutions, stakeholders, interdisciplinary collaboration, community members, coastal community, environmental research, seminole site cooperative, researchers, case studies, shorebird research, chesapeake bay program, noaa, institutional research, technical experts, system dynamics, smithsonian environmental research center, chesapeake, ponding, regional managers, study system, michigan state, epa, the nature conservancy, salish sea, management activities, incentive structures, behavior change, site management, mental modeler, grasses, social ecology", "concept_list": ["academics", "sesync", "mental modeling", "research institutions", "stakeholders", "interdisciplinary collaboration", "community members", "coastal community", "environmental research", "seminole site cooperative", "researchers", "case studies", "shorebird research", "chesapeake bay program", "noaa", "institutional research", "technical experts", "system dynamics", "smithsonian environmental research center", "chesapeake", "ponding", "regional managers", "study system", "michigan state", "epa", "the nature conservancy", "salish sea", "management activities", "incentive structures", "behavior change", "site management", "mental modeler", "grasses", "social ecology"], "type": "cluster", "node_size": 117, "label": "Coastal Environmental Collaboration"}, "Coastal Ecosystem Management": {"concepts": "watershed management, hydrology, hydrologic connectivity, intertidal zone, coastal ecosystems, saltwater intrusion, management interventions, marsh accretion, easements, watermen, ecosystem services, environmental management, coastal resource management, coastal biodiversity, resource users, northern gulf of mexico, dredging, management activities, marine resource management, water quality management, drainage", "concept_list": ["watershed management", "hydrology", "hydrologic connectivity", "intertidal zone", "coastal ecosystems", "saltwater intrusion", "management interventions", "marsh accretion", "easements", "watermen", "ecosystem services", "environmental management", "coastal resource management", "coastal biodiversity", "resource users", "northern gulf of mexico", "dredging", "management activities", "marine resource management", "water quality management", "drainage"], "type": "cluster", "node_size": 78, "label": "Coastal Ecosystem Management"}, "Ecological Restoration": {"concepts": "seed mixes, restoration activities, invasive species control, planting, restoration, restoration projects, the nature conservancy, restoration planting", "concept_list": ["seed mixes", "restoration activities", "invasive species control", "planting", "restoration", "restoration projects", "the nature conservancy", "restoration planting"], "type": "cluster", "node_size": 39, "label": "Ecological Restoration"}, "Environmental Research Collaboration": {"concepts": "prescribed burning, fires, burning phragmites, burning", "concept_list": ["prescribed burning", "fires", "burning phragmites", "burning"], "type": "cluster", "node_size": 27, "label": "Environmental Research Collaboration"}, "Coastal Land Management": {"concepts": "land acquisition, stakeholders, tourism operators, waterfront homeowners, local community, fishermen, trees, permitting, monitoring, farmland abandonment, community members, coastal community, regulatory power, seminole site cooperative, easements, researchers, case studies, chesapeake bay program, noaa, institutional research, technical experts, system dynamics, regional managers, the nature conservancy, incentive structures, private property rights, behavior change, site management, social ecology", "concept_list": ["land acquisition", "stakeholders", "tourism operators", "waterfront homeowners", "local community", "fishermen", "trees", "permitting", "monitoring", "farmland abandonment", "community members", "coastal community", "regulatory power", "seminole site cooperative", "easements", "researchers", "case studies", "chesapeake bay program", "noaa", "institutional research", "technical experts", "system dynamics", "regional managers", "the nature conservancy", "incentive structures", "private property rights", "behavior change", "site management", "social ecology"], "type": "cluster", "node_size": 102, "label": "Coastal Land Management"}, "Salt Marsh Ecology": {"concepts": "habitat forming species, marsh grasses, low marsh species, high marsh species, salt marsh birds, salt marsh sparrow", "concept_list": ["habitat forming species", "marsh grasses", "low marsh species", "high marsh species", "salt marsh birds", "salt marsh sparrow"], "type": "cluster", "node_size": 33, "label": "Salt Marsh Ecology"}, "Salt Marsh Birds": {"concepts": "shorebirds, salt marsh birds, sparrows, salt marsh sparrow, nest flooding", "concept_list": ["shorebirds", "salt marsh birds", "sparrows", "salt marsh sparrow", "nest flooding"], "type": "cluster", "node_size": 30, "label": "Salt Marsh Birds"}, "Coastal Impact Challenges": {"concepts": "storms, sea level rise, new england, chesapeake bay, habitat loss, northern gulf of mexico, dredging, coastal bays", "concept_list": ["storms", "sea level rise", "new england", "chesapeake bay", "habitat loss", "northern gulf of mexico", "dredging", "coastal bays"], "type": "cluster", "node_size": 39, "label": "Coastal Impact Challenges"}, "Dredge Oil Production": {"concepts": "dredge oil, dredge oil creation, stembor, steven grey", "concept_list": ["dredge oil", "dredge oil creation", "stembor", "steven grey"], "type": "cluster", "node_size": 27, "label": "Dredge Oil Production"}, "Coastal Ecosystem Dynamics": {"concepts": "forest tree mortality, barrier ponding, knowledge capturing, thin layer deposition, farmlands, new jersey coast, conservation, high elevation, oyster farmers, crabs, relationship weights, eutrophication, salinity impact", "concept_list": ["forest tree mortality", "barrier ponding", "knowledge capturing", "thin layer deposition", "farmlands", "new jersey coast", "conservation", "high elevation", "oyster farmers", "crabs", "relationship weights", "eutrophication", "salinity impact"], "type": "cluster", "node_size": 54, "label": "Coastal Ecosystem Dynamics"}, "Environmental Stressors": {"concepts": "stressor, climate change stressors, drowning, physiological stressors, environmental stressors, global change drivers", "concept_list": ["stressor", "climate change stressors", "drowning", "physiological stressors", "environmental stressors", "global change drivers"], "type": "cluster", "node_size": 33, "label": "Environmental Stressors"}, "Legacy Consequences": {"concepts": "legacy impacts, legacy effects", "concept_list": ["legacy impacts", "legacy effects"], "type": "cluster", "node_size": 21, "label": "Legacy Consequences"}};
        const conceptData = {"uplands": {"concepts": "uplands", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "uplands"}, "tidal creek extension": {"concepts": "tidal creek extension", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "tidal creek extension"}, "sinuous creek channel": {"concepts": "sinuous creek channel", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "sinuous creek channel"}, "upland marshes": {"concepts": "upland marshes", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "upland marshes"}, "upland management": {"concepts": "upland management", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "upland management"}, "microtidal marshes": {"concepts": "microtidal marshes", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "microtidal marshes"}, "tidal marshes": {"concepts": "tidal marshes", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "tidal marshes"}, "intertidal marshes": {"concepts": "intertidal marshes", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "intertidal marshes"}, "waffle marshes": {"concepts": "waffle marshes", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "waffle marshes"}, "marsh": {"concepts": "marsh", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "marsh"}, "coastal bays": {"concepts": "coastal bays", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "coastal bays"}, "interior ponding": {"concepts": "interior ponding", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "interior ponding"}, "sparrows": {"concepts": "sparrows", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "sparrows"}, "salt marsh sparrow": {"concepts": "salt marsh sparrow", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "salt marsh sparrow"}, "grasses": {"concepts": "grasses", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "grasses"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Conservation Species", "node_size": 10, "label": "invasive species"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Conservation Species", "node_size": 10, "label": "harmful organisms"}, "ditching": {"concepts": "ditching", "type": "concept", "cluster": "Conservation Species", "node_size": 10, "label": "ditching"}, "invasive species control": {"concepts": "invasive species control", "type": "concept", "cluster": "Conservation Species", "node_size": 10, "label": "invasive species control"}, "herbicide": {"concepts": "herbicide", "type": "concept", "cluster": "Conservation Species", "node_size": 10, "label": "herbicide"}, "phragmites": {"concepts": "phragmites", "type": "concept", "cluster": "Conservation Species", "node_size": 10, "label": "phragmites"}, "burning phragmites": {"concepts": "burning phragmites", "type": "concept", "cluster": "Conservation Species", "node_size": 10, "label": "burning phragmites"}, "burning": {"concepts": "burning", "type": "concept", "cluster": "Conservation Species", "node_size": 10, "label": "burning"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "species of conservation concern"}, "habitat species": {"concepts": "habitat species", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "habitat species"}, "native habitat forming species": {"concepts": "native habitat forming species", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "native habitat forming species"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "habitat forming species"}, "marsh grasses": {"concepts": "marsh grasses", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "marsh grasses"}, "low marsh species": {"concepts": "low marsh species", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "low marsh species"}, "endangered species": {"concepts": "endangered species", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "endangered species"}, "biodiversity preservation": {"concepts": "biodiversity preservation", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "biodiversity preservation"}, "rare species": {"concepts": "rare species", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "rare species"}, "population genetic diversity": {"concepts": "population genetic diversity", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "population genetic diversity"}, "marine biodiversity": {"concepts": "marine biodiversity", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "marine biodiversity"}, "coastal biodiversity": {"concepts": "coastal biodiversity", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "coastal biodiversity"}, "species diversity": {"concepts": "species diversity", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "species diversity"}, "high marsh species": {"concepts": "high marsh species", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "high marsh species"}, "salt marsh birds": {"concepts": "salt marsh birds", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "salt marsh birds"}, "tidal marsh loss": {"concepts": "tidal marsh loss", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "tidal marsh loss"}, "nest flooding": {"concepts": "nest flooding", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "nest flooding"}, "population genetics": {"concepts": "population genetics", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "population genetics"}, "adaptive potential": {"concepts": "adaptive potential", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "adaptive potential"}, "selective force": {"concepts": "selective force", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "selective force"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "biodiversity"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "food web"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "ecosystem services"}, "species biodiversity": {"concepts": "species biodiversity", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "species biodiversity"}, "social-ecological systems": {"concepts": "social-ecological systems", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "social-ecological systems"}, "wetland ecology": {"concepts": "wetland ecology", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "wetland ecology"}, "community ecology": {"concepts": "community ecology", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "community ecology"}, "key food web species": {"concepts": "key food web species", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "key food web species"}, "associated organisms": {"concepts": "associated organisms", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "associated organisms"}, "interaction webs": {"concepts": "interaction webs", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "interaction webs"}, "food-web species": {"concepts": "food-web species", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "food-web species"}, "primary producers": {"concepts": "primary producers", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "primary producers"}, "food-web": {"concepts": "food-web", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "food-web"}, "drought": {"concepts": "drought", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "drought"}, "stress": {"concepts": "stress", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "stress"}, "stress response": {"concepts": "stress response", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "stress response"}, "physiological stress": {"concepts": "physiological stress", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "physiological stress"}, "runneling": {"concepts": "runneling", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "runneling"}, "ecosystem engineers": {"concepts": "ecosystem engineers", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "ecosystem engineers"}, "plant community assembly": {"concepts": "plant community assembly", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "plant community assembly"}, "ecological disturbance": {"concepts": "ecological disturbance", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "ecological disturbance"}, "marsh creation": {"concepts": "marsh creation", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "marsh creation"}, "marsh loss": {"concepts": "marsh loss", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "marsh loss"}, "ghost forest formation": {"concepts": "ghost forest formation", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "ghost forest formation"}, "marsh accretion": {"concepts": "marsh accretion", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "marsh accretion"}, "thatch layer": {"concepts": "thatch layer", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "thatch layer"}, "disturbance": {"concepts": "disturbance", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "disturbance"}, "habitat loss": {"concepts": "habitat loss", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "habitat loss"}, "fires": {"concepts": "fires", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "fires"}, "academics": {"concepts": "academics", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "academics"}, "sesync": {"concepts": "sesync", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "sesync"}, "mental modeling": {"concepts": "mental modeling", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "mental modeling"}, "research institutions": {"concepts": "research institutions", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "research institutions"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "stakeholders"}, "interdisciplinary collaboration": {"concepts": "interdisciplinary collaboration", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "interdisciplinary collaboration"}, "community members": {"concepts": "community members", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "community members"}, "coastal community": {"concepts": "coastal community", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "coastal community"}, "environmental research": {"concepts": "environmental research", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "environmental research"}, "seminole site cooperative": {"concepts": "seminole site cooperative", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "seminole site cooperative"}, "researchers": {"concepts": "researchers", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "researchers"}, "case studies": {"concepts": "case studies", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "case studies"}, "shorebird research": {"concepts": "shorebird research", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "shorebird research"}, "chesapeake bay program": {"concepts": "chesapeake bay program", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "chesapeake bay program"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "noaa"}, "institutional research": {"concepts": "institutional research", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "institutional research"}, "technical experts": {"concepts": "technical experts", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "technical experts"}, "system dynamics": {"concepts": "system dynamics", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "system dynamics"}, "smithsonian environmental research center": {"concepts": "smithsonian environmental research center", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "smithsonian environmental research center"}, "chesapeake": {"concepts": "chesapeake", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "chesapeake"}, "ponding": {"concepts": "ponding", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "ponding"}, "regional managers": {"concepts": "regional managers", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "regional managers"}, "study system": {"concepts": "study system", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "study system"}, "michigan state": {"concepts": "michigan state", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "michigan state"}, "epa": {"concepts": "epa", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "epa"}, "the nature conservancy": {"concepts": "the nature conservancy", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "the nature conservancy"}, "salish sea": {"concepts": "salish sea", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "salish sea"}, "management activities": {"concepts": "management activities", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "management activities"}, "incentive structures": {"concepts": "incentive structures", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "incentive structures"}, "behavior change": {"concepts": "behavior change", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "behavior change"}, "site management": {"concepts": "site management", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "site management"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "mental modeler"}, "social ecology": {"concepts": "social ecology", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "social ecology"}, "watershed management": {"concepts": "watershed management", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "watershed management"}, "hydrology": {"concepts": "hydrology", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "hydrology"}, "hydrologic connectivity": {"concepts": "hydrologic connectivity", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "hydrologic connectivity"}, "intertidal zone": {"concepts": "intertidal zone", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "intertidal zone"}, "coastal ecosystems": {"concepts": "coastal ecosystems", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "coastal ecosystems"}, "saltwater intrusion": {"concepts": "saltwater intrusion", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "saltwater intrusion"}, "management interventions": {"concepts": "management interventions", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "management interventions"}, "easements": {"concepts": "easements", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "easements"}, "watermen": {"concepts": "watermen", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "watermen"}, "environmental management": {"concepts": "environmental management", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "environmental management"}, "coastal resource management": {"concepts": "coastal resource management", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "coastal resource management"}, "resource users": {"concepts": "resource users", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "resource users"}, "northern gulf of mexico": {"concepts": "northern gulf of mexico", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "northern gulf of mexico"}, "dredging": {"concepts": "dredging", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "dredging"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "marine resource management"}, "water quality management": {"concepts": "water quality management", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "water quality management"}, "drainage": {"concepts": "drainage", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "drainage"}, "seed mixes": {"concepts": "seed mixes", "type": "concept", "cluster": "Ecological Restoration", "node_size": 10, "label": "seed mixes"}, "restoration activities": {"concepts": "restoration activities", "type": "concept", "cluster": "Ecological Restoration", "node_size": 10, "label": "restoration activities"}, "planting": {"concepts": "planting", "type": "concept", "cluster": "Ecological Restoration", "node_size": 10, "label": "planting"}, "restoration": {"concepts": "restoration", "type": "concept", "cluster": "Ecological Restoration", "node_size": 10, "label": "restoration"}, "restoration projects": {"concepts": "restoration projects", "type": "concept", "cluster": "Ecological Restoration", "node_size": 10, "label": "restoration projects"}, "restoration planting": {"concepts": "restoration planting", "type": "concept", "cluster": "Ecological Restoration", "node_size": 10, "label": "restoration planting"}, "prescribed burning": {"concepts": "prescribed burning", "type": "concept", "cluster": "Environmental Research Collaboration", "node_size": 10, "label": "prescribed burning"}, "land acquisition": {"concepts": "land acquisition", "type": "concept", "cluster": "Coastal Land Management", "node_size": 10, "label": "land acquisition"}, "tourism operators": {"concepts": "tourism operators", "type": "concept", "cluster": "Coastal Land Management", "node_size": 10, "label": "tourism operators"}, "waterfront homeowners": {"concepts": "waterfront homeowners", "type": "concept", "cluster": "Coastal Land Management", "node_size": 10, "label": "waterfront homeowners"}, "local community": {"concepts": "local community", "type": "concept", "cluster": "Coastal Land Management", "node_size": 10, "label": "local community"}, "fishermen": {"concepts": "fishermen", "type": "concept", "cluster": "Coastal Land Management", "node_size": 10, "label": "fishermen"}, "trees": {"concepts": "trees", "type": "concept", "cluster": "Coastal Land Management", "node_size": 10, "label": "trees"}, "permitting": {"concepts": "permitting", "type": "concept", "cluster": "Coastal Land Management", "node_size": 10, "label": "permitting"}, "monitoring": {"concepts": "monitoring", "type": "concept", "cluster": "Coastal Land Management", "node_size": 10, "label": "monitoring"}, "farmland abandonment": {"concepts": "farmland abandonment", "type": "concept", "cluster": "Coastal Land Management", "node_size": 10, "label": "farmland abandonment"}, "regulatory power": {"concepts": "regulatory power", "type": "concept", "cluster": "Coastal Land Management", "node_size": 10, "label": "regulatory power"}, "private property rights": {"concepts": "private property rights", "type": "concept", "cluster": "Coastal Land Management", "node_size": 10, "label": "private property rights"}, "shorebirds": {"concepts": "shorebirds", "type": "concept", "cluster": "Salt Marsh Birds", "node_size": 10, "label": "shorebirds"}, "storms": {"concepts": "storms", "type": "concept", "cluster": "Coastal Impact Challenges", "node_size": 10, "label": "storms"}, "sea level rise": {"concepts": "sea level rise", "type": "concept", "cluster": "Coastal Impact Challenges", "node_size": 10, "label": "sea level rise"}, "new england": {"concepts": "new england", "type": "concept", "cluster": "Coastal Impact Challenges", "node_size": 10, "label": "new england"}, "chesapeake bay": {"concepts": "chesapeake bay", "type": "concept", "cluster": "Coastal Impact Challenges", "node_size": 10, "label": "chesapeake bay"}, "dredge oil": {"concepts": "dredge oil", "type": "concept", "cluster": "Dredge Oil Production", "node_size": 10, "label": "dredge oil"}, "dredge oil creation": {"concepts": "dredge oil creation", "type": "concept", "cluster": "Dredge Oil Production", "node_size": 10, "label": "dredge oil creation"}, "stembor": {"concepts": "stembor", "type": "concept", "cluster": "Dredge Oil Production", "node_size": 10, "label": "stembor"}, "steven grey": {"concepts": "steven grey", "type": "concept", "cluster": "Dredge Oil Production", "node_size": 10, "label": "steven grey"}, "forest tree mortality": {"concepts": "forest tree mortality", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "forest tree mortality"}, "barrier ponding": {"concepts": "barrier ponding", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "barrier ponding"}, "knowledge capturing": {"concepts": "knowledge capturing", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "knowledge capturing"}, "thin layer deposition": {"concepts": "thin layer deposition", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "thin layer deposition"}, "farmlands": {"concepts": "farmlands", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "farmlands"}, "new jersey coast": {"concepts": "new jersey coast", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "new jersey coast"}, "conservation": {"concepts": "conservation", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "conservation"}, "high elevation": {"concepts": "high elevation", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "high elevation"}, "oyster farmers": {"concepts": "oyster farmers", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "oyster farmers"}, "crabs": {"concepts": "crabs", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "crabs"}, "relationship weights": {"concepts": "relationship weights", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "relationship weights"}, "eutrophication": {"concepts": "eutrophication", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "eutrophication"}, "salinity impact": {"concepts": "salinity impact", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "salinity impact"}, "stressor": {"concepts": "stressor", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "stressor"}, "climate change stressors": {"concepts": "climate change stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "climate change stressors"}, "drowning": {"concepts": "drowning", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "drowning"}, "physiological stressors": {"concepts": "physiological stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "physiological stressors"}, "environmental stressors": {"concepts": "environmental stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "environmental stressors"}, "global change drivers": {"concepts": "global change drivers", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "global change drivers"}, "legacy impacts": {"concepts": "legacy impacts", "type": "concept", "cluster": "Legacy Consequences", "node_size": 10, "label": "legacy impacts"}, "legacy effects": {"concepts": "legacy effects", "type": "concept", "cluster": "Legacy Consequences", "node_size": 10, "label": "legacy effects"}};
        const interClusterEdges = [["Conservation Species", "Marsh Ecosystem Dynamics", {"weight": -1.0, "confidence": 0.9200000000000002, "type": "inter_cluster", "style": "solid"}], ["Conservation Species", "Marsh Habitat Features", {"weight": -0.5, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Conservation Species", "Ecological Restoration", {"weight": 1.0, "confidence": 0.8333333333333334, "type": "inter_cluster", "style": "solid"}], ["Conservation Species", "Salt Marsh Ecology", {"weight": -1.0, "confidence": 0.925, "type": "inter_cluster", "style": "solid"}], ["Biodiversity & Food Webs", "Coastal Impact Challenges", {"weight": -1.0, "confidence": 0.8899999999999999, "type": "inter_cluster", "style": "solid"}], ["Marsh Ecosystem Dynamics", "Conservation Species", {"weight": -1.0, "confidence": 0.9200000000000002, "type": "inter_cluster", "style": "solid"}], ["Marsh Ecosystem Dynamics", "Ecological Restoration", {"weight": 1.0, "confidence": 0.8375, "type": "inter_cluster", "style": "solid"}], ["Marsh Ecosystem Dynamics", "Biodiversity & Food Webs", {"weight": 1.0, "confidence": 0.925, "type": "inter_cluster", "style": "solid"}], ["Marsh Habitat Features", "Salt Marsh Ecology", {"weight": -0.2, "confidence": 0.9400000000000001, "type": "inter_cluster", "style": "solid"}], ["Marsh Habitat Features", "Marsh Ecosystem Dynamics", {"weight": -0.6, "confidence": 0.93, "type": "inter_cluster", "style": "solid"}], ["Marsh Habitat Features", "Conservation Species", {"weight": -1.0, "confidence": 0.9124999999999999, "type": "inter_cluster", "style": "solid"}], ["Marsh Habitat Features", "Coastal Impact Challenges", {"weight": 1.0, "confidence": 0.95, "type": "inter_cluster", "style": "solid"}], ["Coastal Environmental Collaboration", "Coastal Ecosystem Management", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Coastal Ecosystem Management", "Biodiversity & Food Webs", {"weight": 1.0, "confidence": 0.8374999999999999, "type": "inter_cluster", "style": "solid"}], ["Ecological Restoration", "Biodiversity & Food Webs", {"weight": 1.0, "confidence": 0.8333333333333334, "type": "inter_cluster", "style": "solid"}], ["Ecological Restoration", "Marsh Habitat Features", {"weight": -1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}], ["Ecological Restoration", "Coastal Land Management", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Salt Marsh Ecology", "Salt Marsh Birds", {"weight": 1.0, "confidence": 0.9333333333333332, "type": "inter_cluster", "style": "solid"}], ["Salt Marsh Ecology", "Environmental Research Collaboration", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Dredge Oil Production", "Salt Marsh Birds", {"weight": 1.0, "confidence": 0.7625, "type": "inter_cluster", "style": "solid"}], ["Coastal Ecosystem Dynamics", "Environmental Stressors", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Environmental Stressors", "Coastal Impact Challenges", {"weight": 0.8, "confidence": 0.72, "type": "inter_cluster", "style": "solid"}], ["Environmental Stressors", "Marsh Ecosystem Dynamics", {"weight": -1.0, "confidence": 0.9, "type": "inter_cluster", "style": "solid"}], ["Legacy Consequences", "Invasive Species Control", {"weight": 0.6, "confidence": 0.8099999999999999, "type": "inter_cluster", "style": "solid"}], ["Legacy Consequences", "Marsh Habitat Features", {"weight": 1.0, "confidence": 0.825, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Invasive Species Control": [["uplands", {"concepts": "uplands", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "uplands"}], ["tidal creek extension", {"concepts": "tidal creek extension", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "tidal creek extension"}], ["sinuous creek channel", {"concepts": "sinuous creek channel", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "sinuous creek channel"}], ["upland marshes", {"concepts": "upland marshes", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "upland marshes"}], ["upland management", {"concepts": "upland management", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "upland management"}], ["microtidal marshes", {"concepts": "microtidal marshes", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "microtidal marshes"}], ["tidal marshes", {"concepts": "tidal marshes", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "tidal marshes"}], ["intertidal marshes", {"concepts": "intertidal marshes", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "intertidal marshes"}], ["waffle marshes", {"concepts": "waffle marshes", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "waffle marshes"}], ["marsh", {"concepts": "marsh", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "marsh"}], ["coastal bays", {"concepts": "coastal bays", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "coastal bays"}], ["interior ponding", {"concepts": "interior ponding", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "interior ponding"}], ["sparrows", {"concepts": "sparrows", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "sparrows"}], ["salt marsh sparrow", {"concepts": "salt marsh sparrow", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "salt marsh sparrow"}], ["grasses", {"concepts": "grasses", "type": "concept", "cluster": "Invasive Species Control", "node_size": 10, "label": "grasses"}]], "Conservation Species": [["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Conservation Species", "node_size": 10, "label": "invasive species"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Conservation Species", "node_size": 10, "label": "harmful organisms"}], ["ditching", {"concepts": "ditching", "type": "concept", "cluster": "Conservation Species", "node_size": 10, "label": "ditching"}], ["invasive species control", {"concepts": "invasive species control", "type": "concept", "cluster": "Conservation Species", "node_size": 10, "label": "invasive species control"}], ["herbicide", {"concepts": "herbicide", "type": "concept", "cluster": "Conservation Species", "node_size": 10, "label": "herbicide"}], ["phragmites", {"concepts": "phragmites", "type": "concept", "cluster": "Conservation Species", "node_size": 10, "label": "phragmites"}], ["burning phragmites", {"concepts": "burning phragmites", "type": "concept", "cluster": "Conservation Species", "node_size": 10, "label": "burning phragmites"}], ["burning", {"concepts": "burning", "type": "concept", "cluster": "Conservation Species", "node_size": 10, "label": "burning"}]], "Biodiversity & Food Webs": [["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "species of conservation concern"}], ["habitat species", {"concepts": "habitat species", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "habitat species"}], ["native habitat forming species", {"concepts": "native habitat forming species", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "native habitat forming species"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "habitat forming species"}], ["marsh grasses", {"concepts": "marsh grasses", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "marsh grasses"}], ["low marsh species", {"concepts": "low marsh species", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "low marsh species"}], ["endangered species", {"concepts": "endangered species", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "endangered species"}], ["biodiversity preservation", {"concepts": "biodiversity preservation", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "biodiversity preservation"}], ["rare species", {"concepts": "rare species", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "rare species"}], ["population genetic diversity", {"concepts": "population genetic diversity", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "population genetic diversity"}], ["marine biodiversity", {"concepts": "marine biodiversity", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "marine biodiversity"}], ["coastal biodiversity", {"concepts": "coastal biodiversity", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "coastal biodiversity"}], ["species diversity", {"concepts": "species diversity", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "species diversity"}], ["high marsh species", {"concepts": "high marsh species", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "high marsh species"}], ["salt marsh birds", {"concepts": "salt marsh birds", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "salt marsh birds"}], ["tidal marsh loss", {"concepts": "tidal marsh loss", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "tidal marsh loss"}], ["nest flooding", {"concepts": "nest flooding", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "nest flooding"}], ["population genetics", {"concepts": "population genetics", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "population genetics"}], ["adaptive potential", {"concepts": "adaptive potential", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "adaptive potential"}], ["selective force", {"concepts": "selective force", "type": "concept", "cluster": "Biodiversity & Food Webs", "node_size": 10, "label": "selective force"}]], "Marsh Ecosystem Dynamics": [["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "biodiversity"}], ["food web", {"concepts": "food web", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "food web"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "ecosystem services"}], ["species biodiversity", {"concepts": "species biodiversity", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "species biodiversity"}], ["social-ecological systems", {"concepts": "social-ecological systems", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "social-ecological systems"}], ["wetland ecology", {"concepts": "wetland ecology", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "wetland ecology"}], ["community ecology", {"concepts": "community ecology", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "community ecology"}], ["key food web species", {"concepts": "key food web species", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "key food web species"}], ["associated organisms", {"concepts": "associated organisms", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "associated organisms"}], ["interaction webs", {"concepts": "interaction webs", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "interaction webs"}], ["food-web species", {"concepts": "food-web species", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "food-web species"}], ["primary producers", {"concepts": "primary producers", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "primary producers"}], ["food-web", {"concepts": "food-web", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "food-web"}], ["drought", {"concepts": "drought", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "drought"}], ["stress", {"concepts": "stress", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "stress"}], ["stress response", {"concepts": "stress response", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "stress response"}], ["physiological stress", {"concepts": "physiological stress", "type": "concept", "cluster": "Marsh Ecosystem Dynamics", "node_size": 10, "label": "physiological stress"}]], "Marsh Habitat Features": [["runneling", {"concepts": "runneling", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "runneling"}], ["ecosystem engineers", {"concepts": "ecosystem engineers", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "ecosystem engineers"}], ["plant community assembly", {"concepts": "plant community assembly", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "plant community assembly"}], ["ecological disturbance", {"concepts": "ecological disturbance", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "ecological disturbance"}], ["marsh creation", {"concepts": "marsh creation", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "marsh creation"}], ["marsh loss", {"concepts": "marsh loss", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "marsh loss"}], ["ghost forest formation", {"concepts": "ghost forest formation", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "ghost forest formation"}], ["marsh accretion", {"concepts": "marsh accretion", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "marsh accretion"}], ["thatch layer", {"concepts": "thatch layer", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "thatch layer"}], ["disturbance", {"concepts": "disturbance", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "disturbance"}], ["habitat loss", {"concepts": "habitat loss", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "habitat loss"}], ["fires", {"concepts": "fires", "type": "concept", "cluster": "Marsh Habitat Features", "node_size": 10, "label": "fires"}]], "Coastal Environmental Collaboration": [["academics", {"concepts": "academics", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "academics"}], ["sesync", {"concepts": "sesync", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "sesync"}], ["mental modeling", {"concepts": "mental modeling", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "mental modeling"}], ["research institutions", {"concepts": "research institutions", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "research institutions"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "stakeholders"}], ["interdisciplinary collaboration", {"concepts": "interdisciplinary collaboration", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "interdisciplinary collaboration"}], ["community members", {"concepts": "community members", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "community members"}], ["coastal community", {"concepts": "coastal community", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "coastal community"}], ["environmental research", {"concepts": "environmental research", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "environmental research"}], ["seminole site cooperative", {"concepts": "seminole site cooperative", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "seminole site cooperative"}], ["researchers", {"concepts": "researchers", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "researchers"}], ["case studies", {"concepts": "case studies", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "case studies"}], ["shorebird research", {"concepts": "shorebird research", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "shorebird research"}], ["chesapeake bay program", {"concepts": "chesapeake bay program", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "chesapeake bay program"}], ["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "noaa"}], ["institutional research", {"concepts": "institutional research", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "institutional research"}], ["technical experts", {"concepts": "technical experts", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "technical experts"}], ["system dynamics", {"concepts": "system dynamics", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "system dynamics"}], ["smithsonian environmental research center", {"concepts": "smithsonian environmental research center", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "smithsonian environmental research center"}], ["chesapeake", {"concepts": "chesapeake", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "chesapeake"}], ["ponding", {"concepts": "ponding", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "ponding"}], ["regional managers", {"concepts": "regional managers", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "regional managers"}], ["study system", {"concepts": "study system", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "study system"}], ["michigan state", {"concepts": "michigan state", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "michigan state"}], ["epa", {"concepts": "epa", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "epa"}], ["the nature conservancy", {"concepts": "the nature conservancy", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "the nature conservancy"}], ["salish sea", {"concepts": "salish sea", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "salish sea"}], ["management activities", {"concepts": "management activities", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "management activities"}], ["incentive structures", {"concepts": "incentive structures", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "incentive structures"}], ["behavior change", {"concepts": "behavior change", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "behavior change"}], ["site management", {"concepts": "site management", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "site management"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "mental modeler"}], ["social ecology", {"concepts": "social ecology", "type": "concept", "cluster": "Coastal Environmental Collaboration", "node_size": 10, "label": "social ecology"}]], "Coastal Ecosystem Management": [["watershed management", {"concepts": "watershed management", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "watershed management"}], ["hydrology", {"concepts": "hydrology", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "hydrology"}], ["hydrologic connectivity", {"concepts": "hydrologic connectivity", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "hydrologic connectivity"}], ["intertidal zone", {"concepts": "intertidal zone", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "intertidal zone"}], ["coastal ecosystems", {"concepts": "coastal ecosystems", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "coastal ecosystems"}], ["saltwater intrusion", {"concepts": "saltwater intrusion", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "saltwater intrusion"}], ["management interventions", {"concepts": "management interventions", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "management interventions"}], ["easements", {"concepts": "easements", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "easements"}], ["watermen", {"concepts": "watermen", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "watermen"}], ["environmental management", {"concepts": "environmental management", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "environmental management"}], ["coastal resource management", {"concepts": "coastal resource management", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "coastal resource management"}], ["resource users", {"concepts": "resource users", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "resource users"}], ["northern gulf of mexico", {"concepts": "northern gulf of mexico", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "northern gulf of mexico"}], ["dredging", {"concepts": "dredging", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "dredging"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "marine resource management"}], ["water quality management", {"concepts": "water quality management", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "water quality management"}], ["drainage", {"concepts": "drainage", "type": "concept", "cluster": "Coastal Ecosystem Management", "node_size": 10, "label": "drainage"}]], "Ecological Restoration": [["seed mixes", {"concepts": "seed mixes", "type": "concept", "cluster": "Ecological Restoration", "node_size": 10, "label": "seed mixes"}], ["restoration activities", {"concepts": "restoration activities", "type": "concept", "cluster": "Ecological Restoration", "node_size": 10, "label": "restoration activities"}], ["planting", {"concepts": "planting", "type": "concept", "cluster": "Ecological Restoration", "node_size": 10, "label": "planting"}], ["restoration", {"concepts": "restoration", "type": "concept", "cluster": "Ecological Restoration", "node_size": 10, "label": "restoration"}], ["restoration projects", {"concepts": "restoration projects", "type": "concept", "cluster": "Ecological Restoration", "node_size": 10, "label": "restoration projects"}], ["restoration planting", {"concepts": "restoration planting", "type": "concept", "cluster": "Ecological Restoration", "node_size": 10, "label": "restoration planting"}]], "Environmental Research Collaboration": [["prescribed burning", {"concepts": "prescribed burning", "type": "concept", "cluster": "Environmental Research Collaboration", "node_size": 10, "label": "prescribed burning"}]], "Coastal Land Management": [["land acquisition", {"concepts": "land acquisition", "type": "concept", "cluster": "Coastal Land Management", "node_size": 10, "label": "land acquisition"}], ["tourism operators", {"concepts": "tourism operators", "type": "concept", "cluster": "Coastal Land Management", "node_size": 10, "label": "tourism operators"}], ["waterfront homeowners", {"concepts": "waterfront homeowners", "type": "concept", "cluster": "Coastal Land Management", "node_size": 10, "label": "waterfront homeowners"}], ["local community", {"concepts": "local community", "type": "concept", "cluster": "Coastal Land Management", "node_size": 10, "label": "local community"}], ["fishermen", {"concepts": "fishermen", "type": "concept", "cluster": "Coastal Land Management", "node_size": 10, "label": "fishermen"}], ["trees", {"concepts": "trees", "type": "concept", "cluster": "Coastal Land Management", "node_size": 10, "label": "trees"}], ["permitting", {"concepts": "permitting", "type": "concept", "cluster": "Coastal Land Management", "node_size": 10, "label": "permitting"}], ["monitoring", {"concepts": "monitoring", "type": "concept", "cluster": "Coastal Land Management", "node_size": 10, "label": "monitoring"}], ["farmland abandonment", {"concepts": "farmland abandonment", "type": "concept", "cluster": "Coastal Land Management", "node_size": 10, "label": "farmland abandonment"}], ["regulatory power", {"concepts": "regulatory power", "type": "concept", "cluster": "Coastal Land Management", "node_size": 10, "label": "regulatory power"}], ["private property rights", {"concepts": "private property rights", "type": "concept", "cluster": "Coastal Land Management", "node_size": 10, "label": "private property rights"}]], "Salt Marsh Birds": [["shorebirds", {"concepts": "shorebirds", "type": "concept", "cluster": "Salt Marsh Birds", "node_size": 10, "label": "shorebirds"}]], "Coastal Impact Challenges": [["storms", {"concepts": "storms", "type": "concept", "cluster": "Coastal Impact Challenges", "node_size": 10, "label": "storms"}], ["sea level rise", {"concepts": "sea level rise", "type": "concept", "cluster": "Coastal Impact Challenges", "node_size": 10, "label": "sea level rise"}], ["new england", {"concepts": "new england", "type": "concept", "cluster": "Coastal Impact Challenges", "node_size": 10, "label": "new england"}], ["chesapeake bay", {"concepts": "chesapeake bay", "type": "concept", "cluster": "Coastal Impact Challenges", "node_size": 10, "label": "chesapeake bay"}]], "Dredge Oil Production": [["dredge oil", {"concepts": "dredge oil", "type": "concept", "cluster": "Dredge Oil Production", "node_size": 10, "label": "dredge oil"}], ["dredge oil creation", {"concepts": "dredge oil creation", "type": "concept", "cluster": "Dredge Oil Production", "node_size": 10, "label": "dredge oil creation"}], ["stembor", {"concepts": "stembor", "type": "concept", "cluster": "Dredge Oil Production", "node_size": 10, "label": "stembor"}], ["steven grey", {"concepts": "steven grey", "type": "concept", "cluster": "Dredge Oil Production", "node_size": 10, "label": "steven grey"}]], "Coastal Ecosystem Dynamics": [["forest tree mortality", {"concepts": "forest tree mortality", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "forest tree mortality"}], ["barrier ponding", {"concepts": "barrier ponding", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "barrier ponding"}], ["knowledge capturing", {"concepts": "knowledge capturing", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "knowledge capturing"}], ["thin layer deposition", {"concepts": "thin layer deposition", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "thin layer deposition"}], ["farmlands", {"concepts": "farmlands", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "farmlands"}], ["new jersey coast", {"concepts": "new jersey coast", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "new jersey coast"}], ["conservation", {"concepts": "conservation", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "conservation"}], ["high elevation", {"concepts": "high elevation", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "high elevation"}], ["oyster farmers", {"concepts": "oyster farmers", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "oyster farmers"}], ["crabs", {"concepts": "crabs", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "crabs"}], ["relationship weights", {"concepts": "relationship weights", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "relationship weights"}], ["eutrophication", {"concepts": "eutrophication", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "eutrophication"}], ["salinity impact", {"concepts": "salinity impact", "type": "concept", "cluster": "Coastal Ecosystem Dynamics", "node_size": 10, "label": "salinity impact"}]], "Environmental Stressors": [["stressor", {"concepts": "stressor", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "stressor"}], ["climate change stressors", {"concepts": "climate change stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "climate change stressors"}], ["drowning", {"concepts": "drowning", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "drowning"}], ["physiological stressors", {"concepts": "physiological stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "physiological stressors"}], ["environmental stressors", {"concepts": "environmental stressors", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "environmental stressors"}], ["global change drivers", {"concepts": "global change drivers", "type": "concept", "cluster": "Environmental Stressors", "node_size": 10, "label": "global change drivers"}]], "Legacy Consequences": [["legacy impacts", {"concepts": "legacy impacts", "type": "concept", "cluster": "Legacy Consequences", "node_size": 10, "label": "legacy impacts"}], ["legacy effects", {"concepts": "legacy effects", "type": "concept", "cluster": "Legacy Consequences", "node_size": 10, "label": "legacy effects"}]]};
        const clusterEdges = {"Invasive Species Control": [], "Conservation Species": [], "Biodiversity & Food Webs": [], "Marsh Ecosystem Dynamics": [], "Marsh Habitat Features": [], "Coastal Environmental Collaboration": [], "Coastal Ecosystem Management": [], "Ecological Restoration": [], "Environmental Research Collaboration": [], "Coastal Land Management": [], "Salt Marsh Birds": [], "Coastal Impact Challenges": [], "Dredge Oil Production": [], "Coastal Ecosystem Dynamics": [], "Environmental Stressors": [], "Legacy Consequences": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
