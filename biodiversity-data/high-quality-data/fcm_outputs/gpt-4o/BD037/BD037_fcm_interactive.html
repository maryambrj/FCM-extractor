
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Deprivation Effects": {"concepts": "multi-species management, dietary studies, meso-predators, key food-web species", "concept_list": ["multi-species management", "dietary studies", "meso-predators", "key food-web species"], "type": "cluster", "node_size": 27, "label": "Deprivation Effects"}, "Species Conservation": {"concepts": "deprivation, life history work, downstream effects, deprivation conversation", "concept_list": ["deprivation", "life history work", "downstream effects", "deprivation conversation"], "type": "cluster", "node_size": 27, "label": "Species Conservation"}, "Management Strategies": {"concepts": "species of interest, individual species, human-wildlife interactions, stable isotopes, species of conservation concern, species complexes, dna barcoding, species diversity, biodiversity, harmful organisms, species conservation, gamma diversity, human-wildlife conflict, single species standpoint, protected species, single species management, species interactions, species abundance, conservation concern, habitat forming species, single species", "concept_list": ["species of interest", "individual species", "human-wildlife interactions", "stable isotopes", "species of conservation concern", "species complexes", "dna barcoding", "species diversity", "biodiversity", "harmful organisms", "species conservation", "gamma diversity", "human-wildlife conflict", "single species standpoint", "protected species", "single species management", "species interactions", "species abundance", "conservation concern", "habitat forming species", "single species"], "type": "cluster", "node_size": 78, "label": "Management Strategies"}, "Ecological Interactions": {"concepts": "management strategies, stock by stock, stock assessment, resource managers, management decision-making, stock assessment scientists, decision making framework, regional managers, management plans, management interventions", "concept_list": ["management strategies", "stock by stock", "stock assessment", "resource managers", "management decision-making", "stock assessment scientists", "decision making framework", "regional managers", "management plans", "management interventions"], "type": "cluster", "node_size": 45, "label": "Ecological Interactions"}, "Multi-Species Dynamics": {"concepts": "negative interactions, food-web supporting species, life history, shark deprivation, stressors, hammerheads, feedback loop, dolphins, tourism operators, relationships, stomach contents, population segments, sawfish, cascading effects, food-web, australian workshops, trip to australia", "concept_list": ["negative interactions", "food-web supporting species", "life history", "shark deprivation", "stressors", "hammerheads", "feedback loop", "dolphins", "tourism operators", "relationships", "stomach contents", "population segments", "sawfish", "cascading effects", "food-web", "australian workshops", "trip to australia"], "type": "cluster", "node_size": 66, "label": "Multi-Species Dynamics"}, "Fisheries Management": {"concepts": "fisheries ecologist, fishermen, fisheries management, noaa fisheries, commercial fishermen, fishery management, recreational fishing, fishery-independent survey, fisheries, fishing industry, ecosystem-based fishery management, fishery important species", "concept_list": ["fisheries ecologist", "fishermen", "fisheries management", "noaa fisheries", "commercial fishermen", "fishery management", "recreational fishing", "fishery-independent survey", "fisheries", "fishing industry", "ecosystem-based fishery management", "fishery important species"], "type": "cluster", "node_size": 51, "label": "Fisheries Management"}, "Research Techniques": {"concepts": "quantitative fcm, practitioners, sedar, tradeoff, scenario simulations, noaa, mental modeler, acoustic telemetry, techniques, conceptual model, case studies, priority list, policies, scientific findings, quotas, ebfm, chesapeake bay, stakeholders, extension work, sedar report cards, report cards, broader considerations, sedar 77, workshop, data hungry, researchers", "concept_list": ["quantitative fcm", "practitioners", "sedar", "tradeoff", "scenario simulations", "noaa", "mental modeler", "acoustic telemetry", "techniques", "conceptual model", "case studies", "priority list", "policies", "scientific findings", "quotas", "ebfm", "chesapeake bay", "stakeholders", "extension work", "sedar report cards", "report cards", "broader considerations", "sedar 77", "workshop", "data hungry", "researchers"], "type": "cluster", "node_size": 93, "label": "Research Techniques"}, "Marine Species": {"concepts": "shark monitoring, elasmobranchs, marine turtles, sandbar shark, reef fish, sharks, sailor\u2019s sea, living shorelines, oysters, shark species, pelagic shark, white sharks, aquaculture, marine resources, coastal sharks", "concept_list": ["shark monitoring", "elasmobranchs", "marine turtles", "sandbar shark", "reef fish", "sharks", "sailor\u2019s sea", "living shorelines", "oysters", "shark species", "pelagic shark", "white sharks", "aquaculture", "marine resources", "coastal sharks"], "type": "cluster", "node_size": 60, "label": "Marine Species"}, "Geographic Diversity": {"concepts": "northern gulf of mexico, geographic scale diversity, movement migration, regional scale diversity, spatial scales, environmental forcings, basin by basin, satellite telemetry, geographic scale", "concept_list": ["northern gulf of mexico", "geographic scale diversity", "movement migration", "regional scale diversity", "spatial scales", "environmental forcings", "basin by basin", "satellite telemetry", "geographic scale"], "type": "cluster", "node_size": 42, "label": "Geographic Diversity"}, "Trophic Ecology": {"concepts": "ecosystem services, mid trophic level, upper trophic level, upper trophic predators, mid trophic predators, trophic ecology, ecosystem approaches", "concept_list": ["ecosystem services", "mid trophic level", "upper trophic level", "upper trophic predators", "mid trophic predators", "trophic ecology", "ecosystem approaches"], "type": "cluster", "node_size": 36, "label": "Trophic Ecology"}, "Fishing Regulations": {"concepts": "charter fishing, orange areas, overfished, overfishing, harvest moratorium", "concept_list": ["charter fishing", "orange areas", "overfished", "overfishing", "harvest moratorium"], "type": "cluster", "node_size": 30, "label": "Fishing Regulations"}};
        const conceptData = {"multi-species management": {"concepts": "multi-species management", "type": "concept", "cluster": "Deprivation Effects", "node_size": 10, "label": "multi-species management"}, "dietary studies": {"concepts": "dietary studies", "type": "concept", "cluster": "Deprivation Effects", "node_size": 10, "label": "dietary studies"}, "meso-predators": {"concepts": "meso-predators", "type": "concept", "cluster": "Deprivation Effects", "node_size": 10, "label": "meso-predators"}, "key food-web species": {"concepts": "key food-web species", "type": "concept", "cluster": "Deprivation Effects", "node_size": 10, "label": "key food-web species"}, "deprivation": {"concepts": "deprivation", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "deprivation"}, "life history work": {"concepts": "life history work", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "life history work"}, "downstream effects": {"concepts": "downstream effects", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "downstream effects"}, "deprivation conversation": {"concepts": "deprivation conversation", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "deprivation conversation"}, "species of interest": {"concepts": "species of interest", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species of interest"}, "individual species": {"concepts": "individual species", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "individual species"}, "human-wildlife interactions": {"concepts": "human-wildlife interactions", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "human-wildlife interactions"}, "stable isotopes": {"concepts": "stable isotopes", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "stable isotopes"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species of conservation concern"}, "species complexes": {"concepts": "species complexes", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species complexes"}, "dna barcoding": {"concepts": "dna barcoding", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "dna barcoding"}, "species diversity": {"concepts": "species diversity", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species diversity"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "biodiversity"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "harmful organisms"}, "species conservation": {"concepts": "species conservation", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species conservation"}, "gamma diversity": {"concepts": "gamma diversity", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "gamma diversity"}, "human-wildlife conflict": {"concepts": "human-wildlife conflict", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "human-wildlife conflict"}, "single species standpoint": {"concepts": "single species standpoint", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "single species standpoint"}, "protected species": {"concepts": "protected species", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "protected species"}, "single species management": {"concepts": "single species management", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "single species management"}, "species interactions": {"concepts": "species interactions", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species interactions"}, "species abundance": {"concepts": "species abundance", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species abundance"}, "conservation concern": {"concepts": "conservation concern", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "conservation concern"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "habitat forming species"}, "single species": {"concepts": "single species", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "single species"}, "management strategies": {"concepts": "management strategies", "type": "concept", "cluster": "Ecological Interactions", "node_size": 10, "label": "management strategies"}, "stock by stock": {"concepts": "stock by stock", "type": "concept", "cluster": "Ecological Interactions", "node_size": 10, "label": "stock by stock"}, "stock assessment": {"concepts": "stock assessment", "type": "concept", "cluster": "Ecological Interactions", "node_size": 10, "label": "stock assessment"}, "resource managers": {"concepts": "resource managers", "type": "concept", "cluster": "Ecological Interactions", "node_size": 10, "label": "resource managers"}, "management decision-making": {"concepts": "management decision-making", "type": "concept", "cluster": "Ecological Interactions", "node_size": 10, "label": "management decision-making"}, "stock assessment scientists": {"concepts": "stock assessment scientists", "type": "concept", "cluster": "Ecological Interactions", "node_size": 10, "label": "stock assessment scientists"}, "decision making framework": {"concepts": "decision making framework", "type": "concept", "cluster": "Ecological Interactions", "node_size": 10, "label": "decision making framework"}, "regional managers": {"concepts": "regional managers", "type": "concept", "cluster": "Ecological Interactions", "node_size": 10, "label": "regional managers"}, "management plans": {"concepts": "management plans", "type": "concept", "cluster": "Ecological Interactions", "node_size": 10, "label": "management plans"}, "management interventions": {"concepts": "management interventions", "type": "concept", "cluster": "Ecological Interactions", "node_size": 10, "label": "management interventions"}, "negative interactions": {"concepts": "negative interactions", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "negative interactions"}, "food-web supporting species": {"concepts": "food-web supporting species", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "food-web supporting species"}, "life history": {"concepts": "life history", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "life history"}, "shark deprivation": {"concepts": "shark deprivation", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "shark deprivation"}, "stressors": {"concepts": "stressors", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "stressors"}, "hammerheads": {"concepts": "hammerheads", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "hammerheads"}, "feedback loop": {"concepts": "feedback loop", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "feedback loop"}, "dolphins": {"concepts": "dolphins", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "dolphins"}, "tourism operators": {"concepts": "tourism operators", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "tourism operators"}, "relationships": {"concepts": "relationships", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "relationships"}, "stomach contents": {"concepts": "stomach contents", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "stomach contents"}, "population segments": {"concepts": "population segments", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "population segments"}, "sawfish": {"concepts": "sawfish", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "sawfish"}, "cascading effects": {"concepts": "cascading effects", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "cascading effects"}, "food-web": {"concepts": "food-web", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "food-web"}, "australian workshops": {"concepts": "australian workshops", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "australian workshops"}, "trip to australia": {"concepts": "trip to australia", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "trip to australia"}, "fisheries ecologist": {"concepts": "fisheries ecologist", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fisheries ecologist"}, "fishermen": {"concepts": "fishermen", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishermen"}, "fisheries management": {"concepts": "fisheries management", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fisheries management"}, "noaa fisheries": {"concepts": "noaa fisheries", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "noaa fisheries"}, "commercial fishermen": {"concepts": "commercial fishermen", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "commercial fishermen"}, "fishery management": {"concepts": "fishery management", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishery management"}, "recreational fishing": {"concepts": "recreational fishing", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "recreational fishing"}, "fishery-independent survey": {"concepts": "fishery-independent survey", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishery-independent survey"}, "fisheries": {"concepts": "fisheries", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fisheries"}, "fishing industry": {"concepts": "fishing industry", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishing industry"}, "ecosystem-based fishery management": {"concepts": "ecosystem-based fishery management", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "ecosystem-based fishery management"}, "fishery important species": {"concepts": "fishery important species", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishery important species"}, "quantitative fcm": {"concepts": "quantitative fcm", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "quantitative fcm"}, "practitioners": {"concepts": "practitioners", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "practitioners"}, "sedar": {"concepts": "sedar", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "sedar"}, "tradeoff": {"concepts": "tradeoff", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "tradeoff"}, "scenario simulations": {"concepts": "scenario simulations", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "scenario simulations"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "noaa"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "mental modeler"}, "acoustic telemetry": {"concepts": "acoustic telemetry", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "acoustic telemetry"}, "techniques": {"concepts": "techniques", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "techniques"}, "conceptual model": {"concepts": "conceptual model", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "conceptual model"}, "case studies": {"concepts": "case studies", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "case studies"}, "priority list": {"concepts": "priority list", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "priority list"}, "policies": {"concepts": "policies", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "policies"}, "scientific findings": {"concepts": "scientific findings", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "scientific findings"}, "quotas": {"concepts": "quotas", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "quotas"}, "ebfm": {"concepts": "ebfm", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "ebfm"}, "chesapeake bay": {"concepts": "chesapeake bay", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "chesapeake bay"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "stakeholders"}, "extension work": {"concepts": "extension work", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "extension work"}, "sedar report cards": {"concepts": "sedar report cards", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "sedar report cards"}, "report cards": {"concepts": "report cards", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "report cards"}, "broader considerations": {"concepts": "broader considerations", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "broader considerations"}, "sedar 77": {"concepts": "sedar 77", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "sedar 77"}, "workshop": {"concepts": "workshop", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "workshop"}, "data hungry": {"concepts": "data hungry", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "data hungry"}, "researchers": {"concepts": "researchers", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "researchers"}, "shark monitoring": {"concepts": "shark monitoring", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "shark monitoring"}, "elasmobranchs": {"concepts": "elasmobranchs", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "elasmobranchs"}, "marine turtles": {"concepts": "marine turtles", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "marine turtles"}, "sandbar shark": {"concepts": "sandbar shark", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "sandbar shark"}, "reef fish": {"concepts": "reef fish", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "reef fish"}, "sharks": {"concepts": "sharks", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "sharks"}, "sailor\u2019s sea": {"concepts": "sailor\u2019s sea", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "sailor\u2019s sea"}, "living shorelines": {"concepts": "living shorelines", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "living shorelines"}, "oysters": {"concepts": "oysters", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "oysters"}, "shark species": {"concepts": "shark species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "shark species"}, "pelagic shark": {"concepts": "pelagic shark", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "pelagic shark"}, "white sharks": {"concepts": "white sharks", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "white sharks"}, "aquaculture": {"concepts": "aquaculture", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "aquaculture"}, "marine resources": {"concepts": "marine resources", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "marine resources"}, "coastal sharks": {"concepts": "coastal sharks", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "coastal sharks"}, "northern gulf of mexico": {"concepts": "northern gulf of mexico", "type": "concept", "cluster": "Geographic Diversity", "node_size": 10, "label": "northern gulf of mexico"}, "geographic scale diversity": {"concepts": "geographic scale diversity", "type": "concept", "cluster": "Geographic Diversity", "node_size": 10, "label": "geographic scale diversity"}, "movement migration": {"concepts": "movement migration", "type": "concept", "cluster": "Geographic Diversity", "node_size": 10, "label": "movement migration"}, "regional scale diversity": {"concepts": "regional scale diversity", "type": "concept", "cluster": "Geographic Diversity", "node_size": 10, "label": "regional scale diversity"}, "spatial scales": {"concepts": "spatial scales", "type": "concept", "cluster": "Geographic Diversity", "node_size": 10, "label": "spatial scales"}, "environmental forcings": {"concepts": "environmental forcings", "type": "concept", "cluster": "Geographic Diversity", "node_size": 10, "label": "environmental forcings"}, "basin by basin": {"concepts": "basin by basin", "type": "concept", "cluster": "Geographic Diversity", "node_size": 10, "label": "basin by basin"}, "satellite telemetry": {"concepts": "satellite telemetry", "type": "concept", "cluster": "Geographic Diversity", "node_size": 10, "label": "satellite telemetry"}, "geographic scale": {"concepts": "geographic scale", "type": "concept", "cluster": "Geographic Diversity", "node_size": 10, "label": "geographic scale"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Trophic Ecology", "node_size": 10, "label": "ecosystem services"}, "mid trophic level": {"concepts": "mid trophic level", "type": "concept", "cluster": "Trophic Ecology", "node_size": 10, "label": "mid trophic level"}, "upper trophic level": {"concepts": "upper trophic level", "type": "concept", "cluster": "Trophic Ecology", "node_size": 10, "label": "upper trophic level"}, "upper trophic predators": {"concepts": "upper trophic predators", "type": "concept", "cluster": "Trophic Ecology", "node_size": 10, "label": "upper trophic predators"}, "mid trophic predators": {"concepts": "mid trophic predators", "type": "concept", "cluster": "Trophic Ecology", "node_size": 10, "label": "mid trophic predators"}, "trophic ecology": {"concepts": "trophic ecology", "type": "concept", "cluster": "Trophic Ecology", "node_size": 10, "label": "trophic ecology"}, "ecosystem approaches": {"concepts": "ecosystem approaches", "type": "concept", "cluster": "Trophic Ecology", "node_size": 10, "label": "ecosystem approaches"}, "charter fishing": {"concepts": "charter fishing", "type": "concept", "cluster": "Fishing Regulations", "node_size": 10, "label": "charter fishing"}, "orange areas": {"concepts": "orange areas", "type": "concept", "cluster": "Fishing Regulations", "node_size": 10, "label": "orange areas"}, "overfished": {"concepts": "overfished", "type": "concept", "cluster": "Fishing Regulations", "node_size": 10, "label": "overfished"}, "overfishing": {"concepts": "overfishing", "type": "concept", "cluster": "Fishing Regulations", "node_size": 10, "label": "overfishing"}, "harvest moratorium": {"concepts": "harvest moratorium", "type": "concept", "cluster": "Fishing Regulations", "node_size": 10, "label": "harvest moratorium"}};
        const interClusterEdges = [["Deprivation Effects", "Ecological Interactions", {"weight": 0.6, "confidence": 0.47000000000000003, "type": "inter_cluster", "style": "solid"}], ["Deprivation Effects", "Marine Species", {"weight": 0.6666666666666666, "confidence": 0.5499999999999999, "type": "inter_cluster", "style": "solid"}], ["Deprivation Effects", "Management Strategies", {"weight": 0.4, "confidence": 0.33999999999999997, "type": "inter_cluster", "style": "solid"}], ["Deprivation Effects", "Trophic Ecology", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Species Conservation", "Marine Species", {"weight": 0.8, "confidence": 0.58, "type": "inter_cluster", "style": "solid"}], ["Species Conservation", "Trophic Ecology", {"weight": 1.0, "confidence": 0.725, "type": "inter_cluster", "style": "solid"}], ["Management Strategies", "Trophic Ecology", {"weight": 0.75, "confidence": 0.5875, "type": "inter_cluster", "style": "solid"}], ["Management Strategies", "Multi-Species Dynamics", {"weight": 0.5, "confidence": 0.3875, "type": "inter_cluster", "style": "solid"}], ["Management Strategies", "Ecological Interactions", {"weight": 0.4, "confidence": 0.33999999999999997, "type": "inter_cluster", "style": "solid"}], ["Management Strategies", "Marine Species", {"weight": 0.5, "confidence": 0.425, "type": "inter_cluster", "style": "solid"}], ["Management Strategies", "Research Techniques", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Ecological Interactions", "Management Strategies", {"weight": 0.6, "confidence": 0.47000000000000003, "type": "inter_cluster", "style": "solid"}], ["Ecological Interactions", "Geographic Diversity", {"weight": 0.5, "confidence": 0.4125, "type": "inter_cluster", "style": "solid"}], ["Ecological Interactions", "Multi-Species Dynamics", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Ecological Interactions", "Species Conservation", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Multi-Species Dynamics", "Marine Species", {"weight": 0.4, "confidence": 0.57, "type": "inter_cluster", "style": "solid"}], ["Multi-Species Dynamics", "Geographic Diversity", {"weight": 0.2, "confidence": 0.43, "type": "inter_cluster", "style": "solid"}], ["Multi-Species Dynamics", "Fisheries Management", {"weight": 0.3333333333333333, "confidence": 0.2833333333333333, "type": "inter_cluster", "style": "solid"}], ["Multi-Species Dynamics", "Trophic Ecology", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Multi-Species Dynamics", {"weight": 0.8, "confidence": 0.61, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Species Conservation", {"weight": 0.75, "confidence": 0.575, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Deprivation Effects", {"weight": 0.75, "confidence": 0.575, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Management Strategies", {"weight": 0.5, "confidence": 0.425, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Trophic Ecology", {"weight": 1.0, "confidence": 0.85, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Research Techniques", {"weight": 1.0, "confidence": 0.8, "type": "inter_cluster", "style": "solid"}], ["Fisheries Management", "Fishing Regulations", {"weight": -1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Research Techniques", "Deprivation Effects", {"weight": 0.75, "confidence": 0.6125, "type": "inter_cluster", "style": "solid"}], ["Research Techniques", "Ecological Interactions", {"weight": 0.6, "confidence": 0.45999999999999996, "type": "inter_cluster", "style": "solid"}], ["Research Techniques", "Fishing Regulations", {"weight": 0.75, "confidence": 0.5375, "type": "inter_cluster", "style": "solid"}], ["Research Techniques", "Trophic Ecology", {"weight": 0.75, "confidence": 0.5874999999999999, "type": "inter_cluster", "style": "solid"}], ["Marine Species", "Ecological Interactions", {"weight": 0.2, "confidence": 0.76, "type": "inter_cluster", "style": "solid"}], ["Marine Species", "Multi-Species Dynamics", {"weight": 1.0, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Marine Species", "Fishing Regulations", {"weight": 0.4, "confidence": 0.5900000000000001, "type": "inter_cluster", "style": "solid"}], ["Marine Species", "Fisheries Management", {"weight": 0.6, "confidence": 0.47000000000000003, "type": "inter_cluster", "style": "solid"}], ["Geographic Diversity", "Species Conservation", {"weight": 0.6, "confidence": 0.78, "type": "inter_cluster", "style": "solid"}], ["Geographic Diversity", "Ecological Interactions", {"weight": 0.8, "confidence": 0.5900000000000001, "type": "inter_cluster", "style": "solid"}], ["Geographic Diversity", "Trophic Ecology", {"weight": 0.75, "confidence": 0.5875, "type": "inter_cluster", "style": "solid"}], ["Geographic Diversity", "Fisheries Management", {"weight": 0.2, "confidence": 0.47000000000000003, "type": "inter_cluster", "style": "solid"}], ["Geographic Diversity", "Multi-Species Dynamics", {"weight": 0.6, "confidence": 0.45999999999999996, "type": "inter_cluster", "style": "solid"}], ["Geographic Diversity", "Fishing Regulations", {"weight": -0.4, "confidence": 0.29000000000000004, "type": "inter_cluster", "style": "solid"}], ["Trophic Ecology", "Management Strategies", {"weight": 0.25, "confidence": 0.575, "type": "inter_cluster", "style": "solid"}], ["Trophic Ecology", "Marine Species", {"weight": 0.5, "confidence": 0.4125, "type": "inter_cluster", "style": "solid"}], ["Fishing Regulations", "Multi-Species Dynamics", {"weight": 0.6, "confidence": 0.75, "type": "inter_cluster", "style": "solid"}], ["Fishing Regulations", "Management Strategies", {"weight": 0.3333333333333333, "confidence": 0.6999999999999998, "type": "inter_cluster", "style": "solid"}], ["Fishing Regulations", "Fisheries Management", {"weight": 0.2, "confidence": 0.44000000000000006, "type": "inter_cluster", "style": "solid"}], ["Fishing Regulations", "Species Conservation", {"weight": 0.5, "confidence": 0.3875, "type": "inter_cluster", "style": "solid"}], ["Fishing Regulations", "Trophic Ecology", {"weight": -0.3333333333333333, "confidence": 0.2333333333333333, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Deprivation Effects": [["multi-species management", {"concepts": "multi-species management", "type": "concept", "cluster": "Deprivation Effects", "node_size": 10, "label": "multi-species management"}], ["dietary studies", {"concepts": "dietary studies", "type": "concept", "cluster": "Deprivation Effects", "node_size": 10, "label": "dietary studies"}], ["meso-predators", {"concepts": "meso-predators", "type": "concept", "cluster": "Deprivation Effects", "node_size": 10, "label": "meso-predators"}], ["key food-web species", {"concepts": "key food-web species", "type": "concept", "cluster": "Deprivation Effects", "node_size": 10, "label": "key food-web species"}]], "Species Conservation": [["deprivation", {"concepts": "deprivation", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "deprivation"}], ["life history work", {"concepts": "life history work", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "life history work"}], ["downstream effects", {"concepts": "downstream effects", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "downstream effects"}], ["deprivation conversation", {"concepts": "deprivation conversation", "type": "concept", "cluster": "Species Conservation", "node_size": 10, "label": "deprivation conversation"}]], "Management Strategies": [["species of interest", {"concepts": "species of interest", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species of interest"}], ["individual species", {"concepts": "individual species", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "individual species"}], ["human-wildlife interactions", {"concepts": "human-wildlife interactions", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "human-wildlife interactions"}], ["stable isotopes", {"concepts": "stable isotopes", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "stable isotopes"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species of conservation concern"}], ["species complexes", {"concepts": "species complexes", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species complexes"}], ["dna barcoding", {"concepts": "dna barcoding", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "dna barcoding"}], ["species diversity", {"concepts": "species diversity", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species diversity"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "biodiversity"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "harmful organisms"}], ["species conservation", {"concepts": "species conservation", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species conservation"}], ["gamma diversity", {"concepts": "gamma diversity", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "gamma diversity"}], ["human-wildlife conflict", {"concepts": "human-wildlife conflict", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "human-wildlife conflict"}], ["single species standpoint", {"concepts": "single species standpoint", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "single species standpoint"}], ["protected species", {"concepts": "protected species", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "protected species"}], ["single species management", {"concepts": "single species management", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "single species management"}], ["species interactions", {"concepts": "species interactions", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species interactions"}], ["species abundance", {"concepts": "species abundance", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "species abundance"}], ["conservation concern", {"concepts": "conservation concern", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "conservation concern"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "habitat forming species"}], ["single species", {"concepts": "single species", "type": "concept", "cluster": "Management Strategies", "node_size": 10, "label": "single species"}]], "Ecological Interactions": [["management strategies", {"concepts": "management strategies", "type": "concept", "cluster": "Ecological Interactions", "node_size": 10, "label": "management strategies"}], ["stock by stock", {"concepts": "stock by stock", "type": "concept", "cluster": "Ecological Interactions", "node_size": 10, "label": "stock by stock"}], ["stock assessment", {"concepts": "stock assessment", "type": "concept", "cluster": "Ecological Interactions", "node_size": 10, "label": "stock assessment"}], ["resource managers", {"concepts": "resource managers", "type": "concept", "cluster": "Ecological Interactions", "node_size": 10, "label": "resource managers"}], ["management decision-making", {"concepts": "management decision-making", "type": "concept", "cluster": "Ecological Interactions", "node_size": 10, "label": "management decision-making"}], ["stock assessment scientists", {"concepts": "stock assessment scientists", "type": "concept", "cluster": "Ecological Interactions", "node_size": 10, "label": "stock assessment scientists"}], ["decision making framework", {"concepts": "decision making framework", "type": "concept", "cluster": "Ecological Interactions", "node_size": 10, "label": "decision making framework"}], ["regional managers", {"concepts": "regional managers", "type": "concept", "cluster": "Ecological Interactions", "node_size": 10, "label": "regional managers"}], ["management plans", {"concepts": "management plans", "type": "concept", "cluster": "Ecological Interactions", "node_size": 10, "label": "management plans"}], ["management interventions", {"concepts": "management interventions", "type": "concept", "cluster": "Ecological Interactions", "node_size": 10, "label": "management interventions"}]], "Multi-Species Dynamics": [["negative interactions", {"concepts": "negative interactions", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "negative interactions"}], ["food-web supporting species", {"concepts": "food-web supporting species", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "food-web supporting species"}], ["life history", {"concepts": "life history", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "life history"}], ["shark deprivation", {"concepts": "shark deprivation", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "shark deprivation"}], ["stressors", {"concepts": "stressors", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "stressors"}], ["hammerheads", {"concepts": "hammerheads", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "hammerheads"}], ["feedback loop", {"concepts": "feedback loop", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "feedback loop"}], ["dolphins", {"concepts": "dolphins", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "dolphins"}], ["tourism operators", {"concepts": "tourism operators", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "tourism operators"}], ["relationships", {"concepts": "relationships", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "relationships"}], ["stomach contents", {"concepts": "stomach contents", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "stomach contents"}], ["population segments", {"concepts": "population segments", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "population segments"}], ["sawfish", {"concepts": "sawfish", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "sawfish"}], ["cascading effects", {"concepts": "cascading effects", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "cascading effects"}], ["food-web", {"concepts": "food-web", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "food-web"}], ["australian workshops", {"concepts": "australian workshops", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "australian workshops"}], ["trip to australia", {"concepts": "trip to australia", "type": "concept", "cluster": "Multi-Species Dynamics", "node_size": 10, "label": "trip to australia"}]], "Fisheries Management": [["fisheries ecologist", {"concepts": "fisheries ecologist", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fisheries ecologist"}], ["fishermen", {"concepts": "fishermen", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishermen"}], ["fisheries management", {"concepts": "fisheries management", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fisheries management"}], ["noaa fisheries", {"concepts": "noaa fisheries", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "noaa fisheries"}], ["commercial fishermen", {"concepts": "commercial fishermen", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "commercial fishermen"}], ["fishery management", {"concepts": "fishery management", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishery management"}], ["recreational fishing", {"concepts": "recreational fishing", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "recreational fishing"}], ["fishery-independent survey", {"concepts": "fishery-independent survey", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishery-independent survey"}], ["fisheries", {"concepts": "fisheries", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fisheries"}], ["fishing industry", {"concepts": "fishing industry", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishing industry"}], ["ecosystem-based fishery management", {"concepts": "ecosystem-based fishery management", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "ecosystem-based fishery management"}], ["fishery important species", {"concepts": "fishery important species", "type": "concept", "cluster": "Fisheries Management", "node_size": 10, "label": "fishery important species"}]], "Research Techniques": [["quantitative fcm", {"concepts": "quantitative fcm", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "quantitative fcm"}], ["practitioners", {"concepts": "practitioners", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "practitioners"}], ["sedar", {"concepts": "sedar", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "sedar"}], ["tradeoff", {"concepts": "tradeoff", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "tradeoff"}], ["scenario simulations", {"concepts": "scenario simulations", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "scenario simulations"}], ["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "noaa"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "mental modeler"}], ["acoustic telemetry", {"concepts": "acoustic telemetry", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "acoustic telemetry"}], ["techniques", {"concepts": "techniques", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "techniques"}], ["conceptual model", {"concepts": "conceptual model", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "conceptual model"}], ["case studies", {"concepts": "case studies", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "case studies"}], ["priority list", {"concepts": "priority list", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "priority list"}], ["policies", {"concepts": "policies", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "policies"}], ["scientific findings", {"concepts": "scientific findings", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "scientific findings"}], ["quotas", {"concepts": "quotas", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "quotas"}], ["ebfm", {"concepts": "ebfm", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "ebfm"}], ["chesapeake bay", {"concepts": "chesapeake bay", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "chesapeake bay"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "stakeholders"}], ["extension work", {"concepts": "extension work", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "extension work"}], ["sedar report cards", {"concepts": "sedar report cards", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "sedar report cards"}], ["report cards", {"concepts": "report cards", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "report cards"}], ["broader considerations", {"concepts": "broader considerations", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "broader considerations"}], ["sedar 77", {"concepts": "sedar 77", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "sedar 77"}], ["workshop", {"concepts": "workshop", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "workshop"}], ["data hungry", {"concepts": "data hungry", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "data hungry"}], ["researchers", {"concepts": "researchers", "type": "concept", "cluster": "Research Techniques", "node_size": 10, "label": "researchers"}]], "Marine Species": [["shark monitoring", {"concepts": "shark monitoring", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "shark monitoring"}], ["elasmobranchs", {"concepts": "elasmobranchs", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "elasmobranchs"}], ["marine turtles", {"concepts": "marine turtles", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "marine turtles"}], ["sandbar shark", {"concepts": "sandbar shark", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "sandbar shark"}], ["reef fish", {"concepts": "reef fish", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "reef fish"}], ["sharks", {"concepts": "sharks", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "sharks"}], ["sailor\u2019s sea", {"concepts": "sailor\u2019s sea", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "sailor\u2019s sea"}], ["living shorelines", {"concepts": "living shorelines", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "living shorelines"}], ["oysters", {"concepts": "oysters", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "oysters"}], ["shark species", {"concepts": "shark species", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "shark species"}], ["pelagic shark", {"concepts": "pelagic shark", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "pelagic shark"}], ["white sharks", {"concepts": "white sharks", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "white sharks"}], ["aquaculture", {"concepts": "aquaculture", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "aquaculture"}], ["marine resources", {"concepts": "marine resources", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "marine resources"}], ["coastal sharks", {"concepts": "coastal sharks", "type": "concept", "cluster": "Marine Species", "node_size": 10, "label": "coastal sharks"}]], "Geographic Diversity": [["northern gulf of mexico", {"concepts": "northern gulf of mexico", "type": "concept", "cluster": "Geographic Diversity", "node_size": 10, "label": "northern gulf of mexico"}], ["geographic scale diversity", {"concepts": "geographic scale diversity", "type": "concept", "cluster": "Geographic Diversity", "node_size": 10, "label": "geographic scale diversity"}], ["movement migration", {"concepts": "movement migration", "type": "concept", "cluster": "Geographic Diversity", "node_size": 10, "label": "movement migration"}], ["regional scale diversity", {"concepts": "regional scale diversity", "type": "concept", "cluster": "Geographic Diversity", "node_size": 10, "label": "regional scale diversity"}], ["spatial scales", {"concepts": "spatial scales", "type": "concept", "cluster": "Geographic Diversity", "node_size": 10, "label": "spatial scales"}], ["environmental forcings", {"concepts": "environmental forcings", "type": "concept", "cluster": "Geographic Diversity", "node_size": 10, "label": "environmental forcings"}], ["basin by basin", {"concepts": "basin by basin", "type": "concept", "cluster": "Geographic Diversity", "node_size": 10, "label": "basin by basin"}], ["satellite telemetry", {"concepts": "satellite telemetry", "type": "concept", "cluster": "Geographic Diversity", "node_size": 10, "label": "satellite telemetry"}], ["geographic scale", {"concepts": "geographic scale", "type": "concept", "cluster": "Geographic Diversity", "node_size": 10, "label": "geographic scale"}]], "Trophic Ecology": [["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Trophic Ecology", "node_size": 10, "label": "ecosystem services"}], ["mid trophic level", {"concepts": "mid trophic level", "type": "concept", "cluster": "Trophic Ecology", "node_size": 10, "label": "mid trophic level"}], ["upper trophic level", {"concepts": "upper trophic level", "type": "concept", "cluster": "Trophic Ecology", "node_size": 10, "label": "upper trophic level"}], ["upper trophic predators", {"concepts": "upper trophic predators", "type": "concept", "cluster": "Trophic Ecology", "node_size": 10, "label": "upper trophic predators"}], ["mid trophic predators", {"concepts": "mid trophic predators", "type": "concept", "cluster": "Trophic Ecology", "node_size": 10, "label": "mid trophic predators"}], ["trophic ecology", {"concepts": "trophic ecology", "type": "concept", "cluster": "Trophic Ecology", "node_size": 10, "label": "trophic ecology"}], ["ecosystem approaches", {"concepts": "ecosystem approaches", "type": "concept", "cluster": "Trophic Ecology", "node_size": 10, "label": "ecosystem approaches"}]], "Fishing Regulations": [["charter fishing", {"concepts": "charter fishing", "type": "concept", "cluster": "Fishing Regulations", "node_size": 10, "label": "charter fishing"}], ["orange areas", {"concepts": "orange areas", "type": "concept", "cluster": "Fishing Regulations", "node_size": 10, "label": "orange areas"}], ["overfished", {"concepts": "overfished", "type": "concept", "cluster": "Fishing Regulations", "node_size": 10, "label": "overfished"}], ["overfishing", {"concepts": "overfishing", "type": "concept", "cluster": "Fishing Regulations", "node_size": 10, "label": "overfishing"}], ["harvest moratorium", {"concepts": "harvest moratorium", "type": "concept", "cluster": "Fishing Regulations", "node_size": 10, "label": "harvest moratorium"}]]};
        const clusterEdges = {"Deprivation Effects": [], "Species Conservation": [], "Management Strategies": [], "Ecological Interactions": [], "Multi-Species Dynamics": [], "Fisheries Management": [], "Research Techniques": [], "Marine Species": [], "Geographic Diversity": [], "Trophic Ecology": [], "Fishing Regulations": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
