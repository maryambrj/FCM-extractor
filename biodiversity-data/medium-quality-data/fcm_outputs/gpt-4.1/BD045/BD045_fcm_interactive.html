
<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical FCM Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px;
            background: #f5f5f5;
        }
        
        #network { 
            width: 100%; 
            height: 600px; 
            border: 2px solid #ccc; 
            background: white;
            border-radius: 8px;
        }
        
        #controls {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-primary { background: #4A90E2; color: white; }
        .btn-primary:hover { background: #357ABD; }
        
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #545b62; }
        
        #current-view {
            font-weight: bold;
            color: #333;
            margin-left: 10px;
        }
        
        #legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend-item {
            margin: 5px 0;
            display: flex;
            align-items: center;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .legend-line {
            width: 20px;
            height: 2px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <h1>Fuzzy Cognitive Map - Hierarchical View</h1>
    
    <div id="controls">
        <button class="btn btn-secondary" id="back-btn" onclick="showClusterView()" style="display: none;">
            ‚Üê Back to Clusters
        </button>
        <span id="current-view">Cluster Overview</span>
        <div style="float: right;">
            <label>Min Confidence: </label>
            <input type="range" id="confidence-slider" min="0" max="1" step="0.1" value="0.3" 
                   onchange="updateConfidenceFilter(this.value)">
            <span id="confidence-value">0.3</span>
        </div>
    </div>
    
    <div id="network"></div>
    
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            <div class="legend-color" style="background: #4A90E2;"></div>
            <span>Clusters</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #FF9500;"></div>
            <span>Concepts</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #28A745;"></div>
            <span>Positive relationship</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #DC3545;"></div>
            <span>Negative relationship</span>
        </div>
        <div style="margin-top: 10px; font-style: italic; color: #666;">
            Click clusters to explore internal concepts
        </div>
    </div>

    <script>
        // Embedded data
        const clusterData = {"Marine Resource Management": {"concepts": "participation, organizational collaboration, ecosystem functions, climate change, diversity, feedback loop, secondary predators, collaboration, smithsonian, system mapping, conservation, habitat forming species, participants, engagement, social dynamics, species indices, division director, organizational management, megafauna, case studies, pollution, non-charismatic species, ecosystem-based management, psychological perspective, food species, core stressors, network, microplastics, ecosystem based management, harmful organisms, administrative agreements, recruitment, resource users, ecosystem structure, social domains, trophic pyramid, sustainable ecosystem, sustainability, stressors, stakeholder perspectives, interviews, communication, influence, ecosystem services, top predators, chesapeake funders network, trophic level, biodiversity indices, chesapeake bay, workshops, management, policy management, environmental ngos, commercial groups, group decision-making, advocacy, ecosystem management, mental modeler, target species, biodiversity management, food web, ecosystem indicators, connections, councils, recommendations, scenario analysis, project leadership, psychological impact, charismatic species, mangroves, endangered species, stakeholder groups, single species management, research questions, modeling approach, resource management, relationships, manuscript development, protected species, maryland watermen, overharvesting, management decisions, ecosystem service, leadership roles, ecosystem modeling, knowledge sharing, organizational structure, economic value, tradeoffs, chesapeake bay foundation, ecological models, workshop summary, stakeholders, enjoyment, national systematics lab, invasive species, office of science and technology, society, university of south alabama, management agencies, biodiversity, preservation, pure science, climate projects, human consumption, agencies, species of conservation concern, ecosystem resilience, noaa, feedback, gulf of mexico, organizational networks, ecosystem function, resiliency, workshop participation, national spatial scales, habitat destruction, system components, food web supporting species, research dissemination, interview data, problem framing, protected resources", "concept_list": ["participation", "organizational collaboration", "ecosystem functions", "climate change", "diversity", "feedback loop", "secondary predators", "collaboration", "smithsonian", "system mapping", "conservation", "habitat forming species", "participants", "engagement", "social dynamics", "species indices", "division director", "organizational management", "megafauna", "case studies", "pollution", "non-charismatic species", "ecosystem-based management", "psychological perspective", "food species", "core stressors", "network", "microplastics", "ecosystem based management", "harmful organisms", "administrative agreements", "recruitment", "resource users", "ecosystem structure", "social domains", "trophic pyramid", "sustainable ecosystem", "sustainability", "stressors", "stakeholder perspectives", "interviews", "communication", "influence", "ecosystem services", "top predators", "chesapeake funders network", "trophic level", "biodiversity indices", "chesapeake bay", "workshops", "management", "policy management", "environmental ngos", "commercial groups", "group decision-making", "advocacy", "ecosystem management", "mental modeler", "target species", "biodiversity management", "food web", "ecosystem indicators", "connections", "councils", "recommendations", "scenario analysis", "project leadership", "psychological impact", "charismatic species", "mangroves", "endangered species", "stakeholder groups", "single species management", "research questions", "modeling approach", "resource management", "relationships", "manuscript development", "protected species", "maryland watermen", "overharvesting", "management decisions", "ecosystem service", "leadership roles", "ecosystem modeling", "knowledge sharing", "organizational structure", "economic value", "tradeoffs", "chesapeake bay foundation", "ecological models", "workshop summary", "stakeholders", "enjoyment", "national systematics lab", "invasive species", "office of science and technology", "society", "university of south alabama", "management agencies", "biodiversity", "preservation", "pure science", "climate projects", "human consumption", "agencies", "species of conservation concern", "ecosystem resilience", "noaa", "feedback", "gulf of mexico", "organizational networks", "ecosystem function", "resiliency", "workshop participation", "national spatial scales", "habitat destruction", "system components", "food web supporting species", "research dissemination", "interview data", "problem framing", "protected resources"], "type": "cluster", "node_size": 384, "label": "Marine Resource Management"}, "Ecosystem Collaboration": {"concepts": "ocean service, sustainable fisheries, marine resources division, human recreation, salish sea, fisheries management, marine resource management, harmful algal blooms, marine system, fishers, marine ecosystems, fishing groups, recreational groups, marine recreation, corals, water quality, noaa fisheries", "concept_list": ["ocean service", "sustainable fisheries", "marine resources division", "human recreation", "salish sea", "fisheries management", "marine resource management", "harmful algal blooms", "marine system", "fishers", "marine ecosystems", "fishing groups", "recreational groups", "marine recreation", "corals", "water quality", "noaa fisheries"], "type": "cluster", "node_size": 66, "label": "Ecosystem Collaboration"}};
        const conceptData = {"participation": {"concepts": "participation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "participation"}, "organizational collaboration": {"concepts": "organizational collaboration", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "organizational collaboration"}, "ecosystem functions": {"concepts": "ecosystem functions", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem functions"}, "climate change": {"concepts": "climate change", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "climate change"}, "diversity": {"concepts": "diversity", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "diversity"}, "feedback loop": {"concepts": "feedback loop", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "feedback loop"}, "secondary predators": {"concepts": "secondary predators", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "secondary predators"}, "collaboration": {"concepts": "collaboration", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "collaboration"}, "smithsonian": {"concepts": "smithsonian", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "smithsonian"}, "system mapping": {"concepts": "system mapping", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "system mapping"}, "conservation": {"concepts": "conservation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "conservation"}, "habitat forming species": {"concepts": "habitat forming species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "habitat forming species"}, "participants": {"concepts": "participants", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "participants"}, "engagement": {"concepts": "engagement", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "engagement"}, "social dynamics": {"concepts": "social dynamics", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "social dynamics"}, "species indices": {"concepts": "species indices", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species indices"}, "division director": {"concepts": "division director", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "division director"}, "organizational management": {"concepts": "organizational management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "organizational management"}, "megafauna": {"concepts": "megafauna", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "megafauna"}, "case studies": {"concepts": "case studies", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "case studies"}, "pollution": {"concepts": "pollution", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "pollution"}, "non-charismatic species": {"concepts": "non-charismatic species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "non-charismatic species"}, "ecosystem-based management": {"concepts": "ecosystem-based management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem-based management"}, "psychological perspective": {"concepts": "psychological perspective", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "psychological perspective"}, "food species": {"concepts": "food species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "food species"}, "core stressors": {"concepts": "core stressors", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "core stressors"}, "network": {"concepts": "network", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "network"}, "microplastics": {"concepts": "microplastics", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "microplastics"}, "ecosystem based management": {"concepts": "ecosystem based management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem based management"}, "harmful organisms": {"concepts": "harmful organisms", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "harmful organisms"}, "administrative agreements": {"concepts": "administrative agreements", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "administrative agreements"}, "recruitment": {"concepts": "recruitment", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "recruitment"}, "resource users": {"concepts": "resource users", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "resource users"}, "ecosystem structure": {"concepts": "ecosystem structure", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem structure"}, "social domains": {"concepts": "social domains", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "social domains"}, "trophic pyramid": {"concepts": "trophic pyramid", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "trophic pyramid"}, "sustainable ecosystem": {"concepts": "sustainable ecosystem", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "sustainable ecosystem"}, "sustainability": {"concepts": "sustainability", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "sustainability"}, "stressors": {"concepts": "stressors", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "stressors"}, "stakeholder perspectives": {"concepts": "stakeholder perspectives", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "stakeholder perspectives"}, "interviews": {"concepts": "interviews", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "interviews"}, "communication": {"concepts": "communication", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "communication"}, "influence": {"concepts": "influence", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "influence"}, "ecosystem services": {"concepts": "ecosystem services", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem services"}, "top predators": {"concepts": "top predators", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "top predators"}, "chesapeake funders network": {"concepts": "chesapeake funders network", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "chesapeake funders network"}, "trophic level": {"concepts": "trophic level", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "trophic level"}, "biodiversity indices": {"concepts": "biodiversity indices", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "biodiversity indices"}, "chesapeake bay": {"concepts": "chesapeake bay", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "chesapeake bay"}, "workshops": {"concepts": "workshops", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "workshops"}, "management": {"concepts": "management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "management"}, "policy management": {"concepts": "policy management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "policy management"}, "environmental ngos": {"concepts": "environmental ngos", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "environmental ngos"}, "commercial groups": {"concepts": "commercial groups", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "commercial groups"}, "group decision-making": {"concepts": "group decision-making", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "group decision-making"}, "advocacy": {"concepts": "advocacy", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "advocacy"}, "ecosystem management": {"concepts": "ecosystem management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem management"}, "mental modeler": {"concepts": "mental modeler", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "mental modeler"}, "target species": {"concepts": "target species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "target species"}, "biodiversity management": {"concepts": "biodiversity management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "biodiversity management"}, "food web": {"concepts": "food web", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "food web"}, "ecosystem indicators": {"concepts": "ecosystem indicators", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem indicators"}, "connections": {"concepts": "connections", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "connections"}, "councils": {"concepts": "councils", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "councils"}, "recommendations": {"concepts": "recommendations", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "recommendations"}, "scenario analysis": {"concepts": "scenario analysis", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "scenario analysis"}, "project leadership": {"concepts": "project leadership", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "project leadership"}, "psychological impact": {"concepts": "psychological impact", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "psychological impact"}, "charismatic species": {"concepts": "charismatic species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "charismatic species"}, "mangroves": {"concepts": "mangroves", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "mangroves"}, "endangered species": {"concepts": "endangered species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "endangered species"}, "stakeholder groups": {"concepts": "stakeholder groups", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "stakeholder groups"}, "single species management": {"concepts": "single species management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "single species management"}, "research questions": {"concepts": "research questions", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "research questions"}, "modeling approach": {"concepts": "modeling approach", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "modeling approach"}, "resource management": {"concepts": "resource management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "resource management"}, "relationships": {"concepts": "relationships", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "relationships"}, "manuscript development": {"concepts": "manuscript development", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "manuscript development"}, "protected species": {"concepts": "protected species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "protected species"}, "maryland watermen": {"concepts": "maryland watermen", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "maryland watermen"}, "overharvesting": {"concepts": "overharvesting", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "overharvesting"}, "management decisions": {"concepts": "management decisions", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "management decisions"}, "ecosystem service": {"concepts": "ecosystem service", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem service"}, "leadership roles": {"concepts": "leadership roles", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "leadership roles"}, "ecosystem modeling": {"concepts": "ecosystem modeling", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem modeling"}, "knowledge sharing": {"concepts": "knowledge sharing", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "knowledge sharing"}, "organizational structure": {"concepts": "organizational structure", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "organizational structure"}, "economic value": {"concepts": "economic value", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "economic value"}, "tradeoffs": {"concepts": "tradeoffs", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "tradeoffs"}, "chesapeake bay foundation": {"concepts": "chesapeake bay foundation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "chesapeake bay foundation"}, "ecological models": {"concepts": "ecological models", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecological models"}, "workshop summary": {"concepts": "workshop summary", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "workshop summary"}, "stakeholders": {"concepts": "stakeholders", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "stakeholders"}, "enjoyment": {"concepts": "enjoyment", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "enjoyment"}, "national systematics lab": {"concepts": "national systematics lab", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "national systematics lab"}, "invasive species": {"concepts": "invasive species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "invasive species"}, "office of science and technology": {"concepts": "office of science and technology", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "office of science and technology"}, "society": {"concepts": "society", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "society"}, "university of south alabama": {"concepts": "university of south alabama", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "university of south alabama"}, "management agencies": {"concepts": "management agencies", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "management agencies"}, "biodiversity": {"concepts": "biodiversity", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "biodiversity"}, "preservation": {"concepts": "preservation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "preservation"}, "pure science": {"concepts": "pure science", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "pure science"}, "climate projects": {"concepts": "climate projects", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "climate projects"}, "human consumption": {"concepts": "human consumption", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "human consumption"}, "agencies": {"concepts": "agencies", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "agencies"}, "species of conservation concern": {"concepts": "species of conservation concern", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species of conservation concern"}, "ecosystem resilience": {"concepts": "ecosystem resilience", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem resilience"}, "noaa": {"concepts": "noaa", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "noaa"}, "feedback": {"concepts": "feedback", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "feedback"}, "gulf of mexico": {"concepts": "gulf of mexico", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "gulf of mexico"}, "organizational networks": {"concepts": "organizational networks", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "organizational networks"}, "ecosystem function": {"concepts": "ecosystem function", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem function"}, "resiliency": {"concepts": "resiliency", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "resiliency"}, "workshop participation": {"concepts": "workshop participation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "workshop participation"}, "national spatial scales": {"concepts": "national spatial scales", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "national spatial scales"}, "habitat destruction": {"concepts": "habitat destruction", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "habitat destruction"}, "system components": {"concepts": "system components", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "system components"}, "food web supporting species": {"concepts": "food web supporting species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "food web supporting species"}, "research dissemination": {"concepts": "research dissemination", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "research dissemination"}, "interview data": {"concepts": "interview data", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "interview data"}, "problem framing": {"concepts": "problem framing", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "problem framing"}, "protected resources": {"concepts": "protected resources", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "protected resources"}, "ocean service": {"concepts": "ocean service", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "ocean service"}, "sustainable fisheries": {"concepts": "sustainable fisheries", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "sustainable fisheries"}, "marine resources division": {"concepts": "marine resources division", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "marine resources division"}, "human recreation": {"concepts": "human recreation", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "human recreation"}, "salish sea": {"concepts": "salish sea", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "salish sea"}, "fisheries management": {"concepts": "fisheries management", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "fisheries management"}, "marine resource management": {"concepts": "marine resource management", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "marine resource management"}, "harmful algal blooms": {"concepts": "harmful algal blooms", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "harmful algal blooms"}, "marine system": {"concepts": "marine system", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "marine system"}, "fishers": {"concepts": "fishers", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "fishers"}, "marine ecosystems": {"concepts": "marine ecosystems", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "marine ecosystems"}, "fishing groups": {"concepts": "fishing groups", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "fishing groups"}, "recreational groups": {"concepts": "recreational groups", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "recreational groups"}, "marine recreation": {"concepts": "marine recreation", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "marine recreation"}, "corals": {"concepts": "corals", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "corals"}, "water quality": {"concepts": "water quality", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "water quality"}, "noaa fisheries": {"concepts": "noaa fisheries", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "noaa fisheries"}};
        const interClusterEdges = [["Ecosystem Collaboration", "Marine Resource Management", {"weight": 1.0, "confidence": 0.8800000000000001, "type": "inter_cluster", "style": "solid"}]];
        const clusterConcepts = {"Marine Resource Management": [["participation", {"concepts": "participation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "participation"}], ["organizational collaboration", {"concepts": "organizational collaboration", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "organizational collaboration"}], ["ecosystem functions", {"concepts": "ecosystem functions", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem functions"}], ["climate change", {"concepts": "climate change", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "climate change"}], ["diversity", {"concepts": "diversity", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "diversity"}], ["feedback loop", {"concepts": "feedback loop", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "feedback loop"}], ["secondary predators", {"concepts": "secondary predators", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "secondary predators"}], ["collaboration", {"concepts": "collaboration", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "collaboration"}], ["smithsonian", {"concepts": "smithsonian", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "smithsonian"}], ["system mapping", {"concepts": "system mapping", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "system mapping"}], ["conservation", {"concepts": "conservation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "conservation"}], ["habitat forming species", {"concepts": "habitat forming species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "habitat forming species"}], ["participants", {"concepts": "participants", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "participants"}], ["engagement", {"concepts": "engagement", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "engagement"}], ["social dynamics", {"concepts": "social dynamics", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "social dynamics"}], ["species indices", {"concepts": "species indices", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species indices"}], ["division director", {"concepts": "division director", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "division director"}], ["organizational management", {"concepts": "organizational management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "organizational management"}], ["megafauna", {"concepts": "megafauna", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "megafauna"}], ["case studies", {"concepts": "case studies", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "case studies"}], ["pollution", {"concepts": "pollution", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "pollution"}], ["non-charismatic species", {"concepts": "non-charismatic species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "non-charismatic species"}], ["ecosystem-based management", {"concepts": "ecosystem-based management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem-based management"}], ["psychological perspective", {"concepts": "psychological perspective", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "psychological perspective"}], ["food species", {"concepts": "food species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "food species"}], ["core stressors", {"concepts": "core stressors", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "core stressors"}], ["network", {"concepts": "network", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "network"}], ["microplastics", {"concepts": "microplastics", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "microplastics"}], ["ecosystem based management", {"concepts": "ecosystem based management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem based management"}], ["harmful organisms", {"concepts": "harmful organisms", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "harmful organisms"}], ["administrative agreements", {"concepts": "administrative agreements", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "administrative agreements"}], ["recruitment", {"concepts": "recruitment", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "recruitment"}], ["resource users", {"concepts": "resource users", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "resource users"}], ["ecosystem structure", {"concepts": "ecosystem structure", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem structure"}], ["social domains", {"concepts": "social domains", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "social domains"}], ["trophic pyramid", {"concepts": "trophic pyramid", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "trophic pyramid"}], ["sustainable ecosystem", {"concepts": "sustainable ecosystem", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "sustainable ecosystem"}], ["sustainability", {"concepts": "sustainability", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "sustainability"}], ["stressors", {"concepts": "stressors", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "stressors"}], ["stakeholder perspectives", {"concepts": "stakeholder perspectives", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "stakeholder perspectives"}], ["interviews", {"concepts": "interviews", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "interviews"}], ["communication", {"concepts": "communication", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "communication"}], ["influence", {"concepts": "influence", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "influence"}], ["ecosystem services", {"concepts": "ecosystem services", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem services"}], ["top predators", {"concepts": "top predators", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "top predators"}], ["chesapeake funders network", {"concepts": "chesapeake funders network", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "chesapeake funders network"}], ["trophic level", {"concepts": "trophic level", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "trophic level"}], ["biodiversity indices", {"concepts": "biodiversity indices", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "biodiversity indices"}], ["chesapeake bay", {"concepts": "chesapeake bay", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "chesapeake bay"}], ["workshops", {"concepts": "workshops", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "workshops"}], ["management", {"concepts": "management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "management"}], ["policy management", {"concepts": "policy management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "policy management"}], ["environmental ngos", {"concepts": "environmental ngos", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "environmental ngos"}], ["commercial groups", {"concepts": "commercial groups", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "commercial groups"}], ["group decision-making", {"concepts": "group decision-making", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "group decision-making"}], ["advocacy", {"concepts": "advocacy", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "advocacy"}], ["ecosystem management", {"concepts": "ecosystem management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem management"}], ["mental modeler", {"concepts": "mental modeler", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "mental modeler"}], ["target species", {"concepts": "target species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "target species"}], ["biodiversity management", {"concepts": "biodiversity management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "biodiversity management"}], ["food web", {"concepts": "food web", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "food web"}], ["ecosystem indicators", {"concepts": "ecosystem indicators", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem indicators"}], ["connections", {"concepts": "connections", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "connections"}], ["councils", {"concepts": "councils", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "councils"}], ["recommendations", {"concepts": "recommendations", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "recommendations"}], ["scenario analysis", {"concepts": "scenario analysis", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "scenario analysis"}], ["project leadership", {"concepts": "project leadership", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "project leadership"}], ["psychological impact", {"concepts": "psychological impact", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "psychological impact"}], ["charismatic species", {"concepts": "charismatic species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "charismatic species"}], ["mangroves", {"concepts": "mangroves", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "mangroves"}], ["endangered species", {"concepts": "endangered species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "endangered species"}], ["stakeholder groups", {"concepts": "stakeholder groups", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "stakeholder groups"}], ["single species management", {"concepts": "single species management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "single species management"}], ["research questions", {"concepts": "research questions", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "research questions"}], ["modeling approach", {"concepts": "modeling approach", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "modeling approach"}], ["resource management", {"concepts": "resource management", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "resource management"}], ["relationships", {"concepts": "relationships", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "relationships"}], ["manuscript development", {"concepts": "manuscript development", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "manuscript development"}], ["protected species", {"concepts": "protected species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "protected species"}], ["maryland watermen", {"concepts": "maryland watermen", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "maryland watermen"}], ["overharvesting", {"concepts": "overharvesting", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "overharvesting"}], ["management decisions", {"concepts": "management decisions", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "management decisions"}], ["ecosystem service", {"concepts": "ecosystem service", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem service"}], ["leadership roles", {"concepts": "leadership roles", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "leadership roles"}], ["ecosystem modeling", {"concepts": "ecosystem modeling", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem modeling"}], ["knowledge sharing", {"concepts": "knowledge sharing", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "knowledge sharing"}], ["organizational structure", {"concepts": "organizational structure", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "organizational structure"}], ["economic value", {"concepts": "economic value", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "economic value"}], ["tradeoffs", {"concepts": "tradeoffs", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "tradeoffs"}], ["chesapeake bay foundation", {"concepts": "chesapeake bay foundation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "chesapeake bay foundation"}], ["ecological models", {"concepts": "ecological models", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecological models"}], ["workshop summary", {"concepts": "workshop summary", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "workshop summary"}], ["stakeholders", {"concepts": "stakeholders", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "stakeholders"}], ["enjoyment", {"concepts": "enjoyment", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "enjoyment"}], ["national systematics lab", {"concepts": "national systematics lab", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "national systematics lab"}], ["invasive species", {"concepts": "invasive species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "invasive species"}], ["office of science and technology", {"concepts": "office of science and technology", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "office of science and technology"}], ["society", {"concepts": "society", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "society"}], ["university of south alabama", {"concepts": "university of south alabama", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "university of south alabama"}], ["management agencies", {"concepts": "management agencies", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "management agencies"}], ["biodiversity", {"concepts": "biodiversity", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "biodiversity"}], ["preservation", {"concepts": "preservation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "preservation"}], ["pure science", {"concepts": "pure science", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "pure science"}], ["climate projects", {"concepts": "climate projects", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "climate projects"}], ["human consumption", {"concepts": "human consumption", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "human consumption"}], ["agencies", {"concepts": "agencies", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "agencies"}], ["species of conservation concern", {"concepts": "species of conservation concern", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "species of conservation concern"}], ["ecosystem resilience", {"concepts": "ecosystem resilience", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem resilience"}], ["noaa", {"concepts": "noaa", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "noaa"}], ["feedback", {"concepts": "feedback", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "feedback"}], ["gulf of mexico", {"concepts": "gulf of mexico", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "gulf of mexico"}], ["organizational networks", {"concepts": "organizational networks", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "organizational networks"}], ["ecosystem function", {"concepts": "ecosystem function", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "ecosystem function"}], ["resiliency", {"concepts": "resiliency", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "resiliency"}], ["workshop participation", {"concepts": "workshop participation", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "workshop participation"}], ["national spatial scales", {"concepts": "national spatial scales", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "national spatial scales"}], ["habitat destruction", {"concepts": "habitat destruction", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "habitat destruction"}], ["system components", {"concepts": "system components", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "system components"}], ["food web supporting species", {"concepts": "food web supporting species", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "food web supporting species"}], ["research dissemination", {"concepts": "research dissemination", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "research dissemination"}], ["interview data", {"concepts": "interview data", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "interview data"}], ["problem framing", {"concepts": "problem framing", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "problem framing"}], ["protected resources", {"concepts": "protected resources", "type": "concept", "cluster": "Marine Resource Management", "node_size": 10, "label": "protected resources"}]], "Ecosystem Collaboration": [["ocean service", {"concepts": "ocean service", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "ocean service"}], ["sustainable fisheries", {"concepts": "sustainable fisheries", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "sustainable fisheries"}], ["marine resources division", {"concepts": "marine resources division", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "marine resources division"}], ["human recreation", {"concepts": "human recreation", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "human recreation"}], ["salish sea", {"concepts": "salish sea", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "salish sea"}], ["fisheries management", {"concepts": "fisheries management", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "fisheries management"}], ["marine resource management", {"concepts": "marine resource management", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "marine resource management"}], ["harmful algal blooms", {"concepts": "harmful algal blooms", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "harmful algal blooms"}], ["marine system", {"concepts": "marine system", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "marine system"}], ["fishers", {"concepts": "fishers", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "fishers"}], ["marine ecosystems", {"concepts": "marine ecosystems", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "marine ecosystems"}], ["fishing groups", {"concepts": "fishing groups", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "fishing groups"}], ["recreational groups", {"concepts": "recreational groups", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "recreational groups"}], ["marine recreation", {"concepts": "marine recreation", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "marine recreation"}], ["corals", {"concepts": "corals", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "corals"}], ["water quality", {"concepts": "water quality", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "water quality"}], ["noaa fisheries", {"concepts": "noaa fisheries", "type": "concept", "cluster": "Ecosystem Collaboration", "node_size": 10, "label": "noaa fisheries"}]]};
        const clusterEdges = {"Marine Resource Management": [], "Ecosystem Collaboration": []};
        
        let network;
        let currentView = 'clusters';
        let currentCluster = null;
        let minConfidence = 0.3;
        
        // Network options
        const options = {
            nodes: {
                font: { color: 'white', size: 14 },
                borderWidth: 2,
                shadow: true
            },
            edges: {
                arrows: { to: { enabled: true, scaleFactor: 1.2 } },
                shadow: true,
                smooth: { type: 'continuous' }
            },
            physics: {
                stabilization: { iterations: 100 },
                barnesHut: {
                    gravitationalConstant: -8000,
                    springConstant: 0.001,
                    springLength: 200
                }
            },
            interaction: {
                hover: true,
                selectConnectedEdges: false
            }
        };
        
        function initNetwork() {
            const container = document.getElementById('network');
            const data = getClusterViewData();
            network = new vis.Network(container, data, options);
            
            // Handle cluster clicks for drill-down
            network.on("click", function(params) {
                if (params.nodes.length > 0 && currentView === 'clusters') {
                    const clickedNode = params.nodes[0];
                    if (clusterConcepts[clickedNode]) {
                        showClusterDetail(clickedNode);
                    }
                }
            });
        }
        
        function getClusterViewData() {
            const nodes = [];
            const edges = [];
            
            // Add cluster nodes
            Object.entries(clusterData).forEach(([clusterId, data]) => {
                const concepts = data.concepts || [];
                const conceptsStr = Array.isArray(concepts) ? concepts.join(', ') : concepts;
                
                nodes.push({
                    id: clusterId,
                    label: clusterId,
                    title: `Cluster: ${clusterId}\nConcepts: ${conceptsStr}\nClick to explore internal relationships`,
                    color: '#4A90E2',
                    size: 25 + (conceptsStr.split(',').length * 2),
                    font: { color: 'white' }
                });
            });
            
            // Add inter-cluster edges
            interClusterEdges.forEach(([source, target, edgeData]) => {
                const confidence = edgeData.confidence || 1.0;
                const weight = edgeData.weight || 0;
                
                if (confidence >= minConfidence) {
                    edges.push({
                        from: source,
                        to: target,
                        color: weight > 0 ? '#28A745' : '#DC3545',
                        width: Math.abs(weight) * 3 + 1,
                        title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                        dashes: false
                    });
                }
            });
            
            return { nodes: nodes, edges: edges };
        }
        
        function getClusterDetailData(clusterId) {
            const nodes = [];
            const edges = [];
            
            // Add concept nodes for this cluster
            if (clusterConcepts[clusterId]) {
                clusterConcepts[clusterId].forEach(([conceptId, data]) => {
                    nodes.push({
                        id: conceptId,
                        label: conceptId,
                        title: `Concept: ${conceptId}\nFrom cluster: ${clusterId}`,
                        color: '#FF9500',
                        size: 20,
                        font: { color: 'white' }
                    });
                });
            }
            
            // Add intra-cluster edges
            if (clusterEdges[clusterId]) {
                clusterEdges[clusterId].forEach(([source, target, edgeData]) => {
                    const confidence = edgeData.confidence || 1.0;
                    const weight = edgeData.weight || 0;
                    
                    if (confidence >= minConfidence) {
                        edges.push({
                            from: source,
                            to: target,
                            color: weight > 0 ? '#28A745' : '#DC3545',
                            width: Math.abs(weight) * 3 + 1,
                            title: `${source} ‚Üí ${target}\nWeight: ${weight}\nConfidence: ${confidence.toFixed(2)}`,
                            dashes: true
                        });
                    }
                });
            }
            
            return { nodes: nodes, edges: edges };
        }
        
        function showClusterView() {
            currentView = 'clusters';
            currentCluster = null;
            const data = getClusterViewData();
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'none';
            document.getElementById('current-view').textContent = 'Cluster Overview';
        }
        
        function showClusterDetail(clusterId) {
            currentView = 'concepts';
            currentCluster = clusterId;
            const data = getClusterDetailData(clusterId);
            network.setData(data);
            
            document.getElementById('back-btn').style.display = 'inline-block';
            document.getElementById('current-view').textContent = `Inside Cluster: ${clusterId}`;
        }
        
        function updateConfidenceFilter(value) {
            minConfidence = parseFloat(value);
            document.getElementById('confidence-value').textContent = value;
            
            // Refresh current view
            if (currentView === 'clusters') {
                showClusterView();
            } else {
                showClusterDetail(currentCluster);
            }
        }
        
        // Initialize the network when page loads
        window.onload = function() {
            initNetwork();
        };
    </script>
</body>
</html>
